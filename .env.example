# Netra Platform Environment Configuration
# Copy this file to .env and update with your values

# ==============================================================================
# ENVIRONMENT SETTINGS
# ==============================================================================
ENVIRONMENT=development
VERSION=latest

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# PostgreSQL
POSTGRES_USER=netra
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=netra
POSTGRES_PORT=5432
POSTGRES_HOST=postgres

# Database URLs (constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password-here
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# Staging/Production Redis (for multi-environment setups)
REDIS_STAGING_HOST=redis-staging.internal
REDIS_PRODUCTION_HOST=redis-production.internal

# ==============================================================================
# CLICKHOUSE CONFIGURATION
# ==============================================================================
CLICKHOUSE_DB=netra_analytics
CLICKHOUSE_USER=netra
CLICKHOUSE_PASSWORD=your-clickhouse-password-here
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_TCP_PORT=9000

# ==============================================================================
# SERVICE PORTS
# ==============================================================================
BACKEND_PORT=8000
AUTH_PORT=8081
FRONTEND_PORT=3000
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# ==============================================================================
# SECURITY KEYS (MUST BE CHANGED IN PRODUCTION!)
# ==============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=change-this-to-a-random-secret-key-at-least-32-chars
JWT_SECRET_KEY=change-this-to-a-random-jwt-secret-at-least-32-chars
JWT_ALGORITHM=HS256
FERNET_KEY=generate-with-python-cryptography-fernet-generate-key
SERVICE_SECRET=internal-service-communication-secret-change-this

# Token Expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30

# ==============================================================================
# API KEYS (AI PROVIDERS)
# ==============================================================================
ANTHROPIC_API_KEY=your-anthropic-api-key
OPENAI_API_KEY=your-openai-api-key
NETRA_API_KEY=your-netra-api-key
GEMINI_API_KEY=your-gemini-api-key

# ==============================================================================
# OAUTH CONFIGURATION
# ==============================================================================
# Google OAuth
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_OAUTH_CLIENT_ID_DEVELOPMENT=dev-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET_DEVELOPMENT=dev-google-oauth-client-secret
GOOGLE_OAUTH_CLIENT_ID_STAGING=staging-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET_STAGING=staging-google-oauth-client-secret

# GitHub OAuth
GITHUB_OAUTH_CLIENT_ID=your-github-oauth-client-id
GITHUB_OAUTH_CLIENT_SECRET=your-github-oauth-client-secret

# OAuth Settings
ALLOWED_DOMAINS=yourdomain.com,anotherdomain.com

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
# Public URLs (accessible from browser)
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_AUTH_URL=http://localhost:8081
NEXT_PUBLIC_WS_URL=ws://localhost:8000
NEXT_PUBLIC_WEBSOCKET_URL=ws://localhost:8000/ws
NEXT_PUBLIC_ENVIRONMENT=development

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# Analytics
NEXT_PUBLIC_ENABLE_ANALYTICS=false
NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# CDN (Production only)
CDN_URL=https://cdn.netra.io
NEXT_PUBLIC_CDN_URL=https://cdn.netra.io

# ==============================================================================
# PRODUCTION URLS
# ==============================================================================
# Update these for production deployment
PRODUCTION_API_URL=https://api.netra.io
PRODUCTION_AUTH_URL=https://auth.netra.io
PRODUCTION_WS_URL=wss://api.netra.io
PRODUCTION_FRONTEND_URL=https://app.netra.io

# ==============================================================================
# WORKER CONFIGURATION
# ==============================================================================
BACKEND_WORKERS=4
AUTH_WORKERS=2

# ==============================================================================
# MONITORING
# ==============================================================================
# Prometheus & Grafana
ENABLE_METRICS=true
ENABLE_TRACING=false
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-this-grafana-password
GRAFANA_ROOT_URL=https://metrics.netra.io
GRAFANA_PLUGINS=

# ==============================================================================
# RATE LIMITING & SECURITY
# ==============================================================================
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60
MAX_LOGIN_ATTEMPTS=5
LOGIN_COOLDOWN_MINUTES=15
MAX_SESSIONS_PER_USER=5

# Security Headers
SECURE_HEADERS=true
HSTS_MAX_AGE=31536000

# ==============================================================================
# DEVELOPMENT SETTINGS
# ==============================================================================
# Development Auth Bypass (NEVER true in production!)
ALLOW_DEV_AUTH_BYPASS=false
WEBSOCKET_AUTH_BYPASS=false

# Hot Reload (Development only)
WATCHDOG_ENABLE=true
WATCHDOG_USE_POLLING=true
WATCHDOG_POLL_INTERVAL=1

# ==============================================================================
# LOGGING
# ==============================================================================
LOG_LEVEL=info
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# ==============================================================================
# CLOUD PROVIDER SETTINGS (if applicable)
# ==============================================================================
# Google Cloud Platform
GCP_PROJECT_ID=your-gcp-project
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# AWS (if using)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily
BACKUP_DESTINATION=s3://your-backup-bucket/

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_DEBUG_MODE=false
ENABLE_MAINTENANCE_MODE=false