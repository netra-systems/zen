{
  "timestamp": "2025-08-28T13:35:03.960174",
  "containers_analyzed": 1,
  "issues_detected": [],
  "recommended_commands": [],
  "logs": {
    "netra-backend": "=== STDOUT ===\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\nCritical environment variables already set - skipping .env loading\n\n=== STDERR ===\n\u001b[32m2025-08-28 19:42:19.649\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:42:19.649\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:42:19.649\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:42:19.730\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:42:19.730\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\n\u001b[32m2025-08-28 19:42:27.085\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.state_persistence_optimized\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m52\u001b[0m | \u001b[1mOptimized state persistence service initialized\u001b[0m\n\u001b[32m2025-08-28 19:42:30.843\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.health.telemetry\u001b[0m:\u001b[36mregister_service\u001b[0m:\u001b[36m340\u001b[0m | \u001b[1mRegistered telemetry for service: netra-ai-platform\u001b[0m\n\u001b[32m2025-08-28 19:42:31.920\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\n\u001b[32m2025-08-28 19:42:31.921\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_gate.quality_gate_core\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m38\u001b[0m | \u001b[1mQuality Gate Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:42:31.922\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_monitoring.service\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m51\u001b[0m | \u001b[1mQuality Monitoring Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:42:31.922\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/integration/test_agent_database_integration_comprehensive.py'. Reloading...\n\u001b[32m2025-08-28 19:42:37.595\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:42:37.596\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:42:37.596\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/test_data_sub_agent_coordination.py'. Reloading...\n\u001b[32m2025-08-28 19:42:45.535\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:42:45.560\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:42:45.561\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:42:45.565\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:42:50.545\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:42:50.545\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:42:50.545\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:42:50.545\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:42:50.546\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:42:50.631\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:42:50.632\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/test_clickhouse_ssot_compliance.py'. Reloading...\n\u001b[32m2025-08-28 19:42:55.890\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:42:55.890\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:42:55.891\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:43:03.219\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:43:03.240\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:43:03.240\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:43:03.245\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/agents/test_data_sub_agent_consolidated.py'. Reloading...\n\u001b[32m2025-08-28 19:43:07.222\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:43:07.222\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:43:07.223\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:43:15.086\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:43:15.108\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:43:15.108\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:43:15.112\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:43:20.369\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:43:20.369\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:43:20.369\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:43:20.370\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:43:20.370\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:43:20.430\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:43:20.430\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\n\u001b[32m2025-08-28 19:43:26.301\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.state_persistence_optimized\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m52\u001b[0m | \u001b[1mOptimized state persistence service initialized\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/e2e/test_agent_workflow_e2e_comprehensive.py'. Reloading...\n\u001b[32m2025-08-28 19:43:26.399\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:43:26.399\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:43:26.400\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:43:34.011\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:43:34.028\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:43:34.028\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:43:34.031\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:43:38.308\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:43:38.309\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:43:38.309\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:43:38.309\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:43:38.309\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:43:38.365\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:43:38.365\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\n\u001b[32m2025-08-28 19:43:43.227\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.state_persistence_optimized\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m52\u001b[0m | \u001b[1mOptimized state persistence service initialized\u001b[0m\n\u001b[32m2025-08-28 19:43:47.695\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.health.telemetry\u001b[0m:\u001b[36mregister_service\u001b[0m:\u001b[36m340\u001b[0m | \u001b[1mRegistered telemetry for service: netra-ai-platform\u001b[0m\nWARNING:  WatchFiles detected changes in 'scripts/compliance/ssot_checker.py'. Reloading...\n\u001b[32m2025-08-28 19:43:48.965\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:43:48.965\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:43:48.966\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:43:54.866\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:43:54.886\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:43:54.886\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:43:54.890\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:43:59.438\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:43:59.438\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:43:59.438\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:43:59.438\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:43:59.438\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:43:59.505\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:43:59.506\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\n\u001b[32m2025-08-28 19:44:05.575\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.state_persistence_optimized\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m52\u001b[0m | \u001b[1mOptimized state persistence service initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:08.811\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.health.telemetry\u001b[0m:\u001b[36mregister_service\u001b[0m:\u001b[36m340\u001b[0m | \u001b[1mRegistered telemetry for service: netra-ai-platform\u001b[0m\n\u001b[32m2025-08-28 19:44:09.723\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:09.724\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_gate.quality_gate_core\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m38\u001b[0m | \u001b[1mQuality Gate Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:09.725\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_monitoring.service\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m51\u001b[0m | \u001b[1mQuality Monitoring Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:09.725\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:15.658\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted server process [199]\u001b[0m\n\u001b[32m2025-08-28 19:44:15.658\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted server process [199]\u001b[0m\n\u001b[32m2025-08-28 19:44:15.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application startup.\u001b[0m\n\u001b[32m2025-08-28 19:44:15.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application startup.\u001b[0m\n\u001b[32m2025-08-28 19:44:15.697\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.fastapi_auth_middleware\u001b[0m:\u001b[36m_get_jwt_secret_with_validation\u001b[0m:\u001b[36m677\u001b[0m | \u001b[1mJWT secret configured: 32 characters\u001b[0m\n\u001b[32m2025-08-28 19:44:15.697\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.fastapi_auth_middleware\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m76\u001b[0m | \u001b[1mFastAPIAuthMiddleware initialized with 12 excluded paths\u001b[0m\n\u001b[32m2025-08-28 19:44:15.697\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.security_headers_middleware\u001b[0m:\u001b[36m_log_initialization\u001b[0m:\u001b[36m43\u001b[0m | \u001b[1mSecurity headers middleware initialized for development environment\u001b[0m\n\u001b[32m2025-08-28 19:44:15.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.security_response_middleware\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m36\u001b[0m | \u001b[1mSecurityResponseMiddleware initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:15.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORSFixMiddleware initialized with 41 origins for development\u001b[0m\n\u001b[32m2025-08-28 19:44:15.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m952\u001b[0m | \u001b[1mUsing robust startup manager with dependency resolution...\u001b[0m\n\u001b[32m2025-08-28 19:44:15.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m962\u001b[0m | \u001b[1mStartup in progress flags set - health endpoint will report startup in progress\u001b[0m\n\u001b[32m2025-08-28 19:44:15.743\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: database (priority=CRITICAL)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.743\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: redis (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: auth_service (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: websocket (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: clickhouse (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: monitoring (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: background_tasks (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: metrics (priority=LOW)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: tracing (priority=LOW)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: agent_supervisor (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_logging\u001b[0m:\u001b[36m262\u001b[0m | \u001b[1mApplication startup...\u001b[0m\n\u001b[32m2025-08-28 19:44:15.744\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36minitialize_system\u001b[0m:\u001b[36m564\u001b[0m | \u001b[1mStarting robust system initialization...\u001b[0m\n\u001b[32m2025-08-28 19:44:15.745\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarting system initialization\u001b[0m\n\u001b[32m2025-08-28 19:44:15.745\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitialization order: ['database', 'auth_service', 'redis', 'websocket', 'agent_supervisor', 'background_tasks', 'clickhouse', 'monitoring', 'metrics', 'tracing']\u001b[0m\n\u001b[32m2025-08-28 19:44:15.745\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing CRITICAL priority components: ['database']\u001b[0m\n\u001b[32m2025-08-28 19:44:15.745\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing database (attempt 1/3)\u001b[0m\n\u001b[32m2025-08-28 19:44:15.745\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36msetup_multiprocessing\u001b[0m:\u001b[36m108\u001b[0m | \u001b[1mMultiprocessing configured with method: forkserver\u001b[0m\n\u001b[32m2025-08-28 19:44:15.745\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.database_env_service\u001b[0m:\u001b[36mvalidate_database_environment\u001b[0m:\u001b[36m49\u001b[0m | \u001b[1mDatabase environment validation passed for development\u001b[0m\n\u001b[32m2025-08-28 19:44:15.746\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_check_and_run_migrations\u001b[0m:\u001b[36m365\u001b[0m | \u001b[1mChecking database migrations...\u001b[0m\n\u001b[32m2025-08-28 19:44:15.760\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mContext impl PostgresqlImpl.\u001b[0m\n\u001b[32m2025-08-28 19:44:15.761\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWill assume transactional DDL.\u001b[0m\n\u001b[32m2025-08-28 19:44:15.766\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_perform_migration\u001b[0m:\u001b[36m375\u001b[0m | \u001b[1mCurrent revision: add_deleted_at_001\u001b[0m\n\u001b[32m2025-08-28 19:44:16.458\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.migration_utils\u001b[0m:\u001b[36mlog_migration_status\u001b[0m:\u001b[36m199\u001b[0m | \u001b[1mDatabase is up to date\u001b[0m\n\u001b[32m2025-08-28 19:44:16.458\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36msetup_database_connections\u001b[0m:\u001b[36m441\u001b[0m | \u001b[1mSetting up database connections...\u001b[0m\n\u001b[32m2025-08-28 19:44:16.459\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.postgres_core\u001b[0m:\u001b[36minitialize_postgres\u001b[0m:\u001b[36m578\u001b[0m | \u001b[1mInitializing async engine and session factory...\u001b[0m\n\u001b[32m2025-08-28 19:44:16.460\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.postgres_core\u001b[0m:\u001b[36m_create_and_setup_engine\u001b[0m:\u001b[36m514\u001b[0m | \u001b[1mPostgreSQL async engine created with resilient AsyncAdaptedQueuePool connection pooling\u001b[0m\n\u001b[32m2025-08-28 19:44:16.460\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mImporting database models to register tables...\u001b[0m\n\u001b[32m2025-08-28 19:44:16.461\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m59\u001b[0m | \u001b[1mChecking if database tables exist...\u001b[0m\n\u001b[32m2025-08-28 19:44:16.479\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m114\u001b[0m | \u001b[1mAll 26 database tables are present\u001b[0m\n\u001b[32m2025-08-28 19:44:16.482\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36msetup_database_connections\u001b[0m:\u001b[36m485\u001b[0m | \u001b[1mDatabase session factory successfully set on app.state\u001b[0m\n\u001b[32m2025-08-28 19:44:16.483\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_database\u001b[0m:\u001b[36m605\u001b[0m | \u001b[1mDatabase initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:16.483\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized database in 0.74s\u001b[0m\n\u001b[32m2025-08-28 19:44:16.483\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing HIGH priority components: ['auth_service', 'redis', 'websocket', 'agent_supervisor']\u001b[0m\n\u001b[32m2025-08-28 19:44:16.483\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing auth_service (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:44:16.484\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing redis (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:44:16.484\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing websocket (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:44:16.484\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing agent_supervisor (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:44:16.484\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_core_services\u001b[0m:\u001b[36m520\u001b[0m | \u001b[1mLoading key manager...\u001b[0m\n\u001b[32m2025-08-28 19:44:16.485\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_core_services\u001b[0m:\u001b[36m522\u001b[0m | \u001b[1mKey manager loaded.\u001b[0m\n\u001b[32m2025-08-28 19:44:16.485\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_auth_service\u001b[0m:\u001b[36m635\u001b[0m | \u001b[1mAuth service initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:16.511\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_websocket_components\u001b[0m:\u001b[36m729\u001b[0m | \u001b[1mWebSocket components initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:16.511\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_websocket\u001b[0m:\u001b[36m650\u001b[0m | \u001b[1mWebSocket initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.382\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:44:18.382\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:44:18.383\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:44:18.383\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:44:18.383\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:44:18.384\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:44:18.384\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:44:18.384\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_create_agent_supervisor\u001b[0m:\u001b[36m667\u001b[0m | \u001b[1mAgent supervisor created successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.384\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_agent_supervisor\u001b[0m:\u001b[36m728\u001b[0m | \u001b[1mAgent supervisor initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.385\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized auth_service in 1.90s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.385\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized websocket in 1.90s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.385\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized agent_supervisor in 1.90s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.387\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.redis_manager\u001b[0m:\u001b[36m_test_redis_connection\u001b[0m:\u001b[36m114\u001b[0m | \u001b[1mRedis connected successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.387\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_redis\u001b[0m:\u001b[36m620\u001b[0m | \u001b[1mRedis initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.387\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized redis in 1.90s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.388\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing MEDIUM priority components: ['background_tasks', 'clickhouse', 'monitoring']\u001b[0m\n\u001b[32m2025-08-28 19:44:18.388\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing background_tasks (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.388\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing clickhouse (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.388\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing monitoring (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.389\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m662\u001b[0m | \u001b[1mBackground task manager initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:18.389\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRunning comprehensive startup fixes verification...\u001b[0m\n\u001b[32m2025-08-28 19:44:18.389\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplied Redis mode default with fallback capability\u001b[0m\n\u001b[32m2025-08-28 19:44:18.389\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mService discovery disabled for microservice independence\u001b[0m\n\u001b[32m2025-08-28 19:44:18.389\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mDynamic port allocation is configured\u001b[0m\n\u001b[32m2025-08-28 19:44:18.389\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackground task timeout properly configured: 120s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.390\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRedis local fallback is configured\u001b[0m\n\u001b[32m2025-08-28 19:44:18.390\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mDatabase transaction rollback fix is available\u001b[0m\n\u001b[32m2025-08-28 19:44:18.390\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStartup fixes verification complete: 4/5 fixes applied\u001b[0m\n\u001b[32m2025-08-28 19:44:18.390\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m668\u001b[0m | \u001b[1mApplied 4/5 startup fixes\u001b[0m\n\u001b[32m2025-08-28 19:44:18.390\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m672\u001b[0m | \u001b[1mBackground tasks initialization completed successfully\u001b[0m\n/usr/local/lib/python3.11/site-packages/websockets/legacy/server.py:1178: DeprecationWarning: remove second argument of ws_handler\n  warnings.warn(\"remove second argument of ws_handler\", DeprecationWarning)\n\u001b[32m2025-08-28 19:44:18.390\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_clickhouse\u001b[0m:\u001b[36m555\u001b[0m | \u001b[1mSkipping ClickHouse initialization in development environment (optional service - may not be available)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.390\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.database.health_checker\u001b[0m:\u001b[36mstart_monitoring\u001b[0m:\u001b[36m29\u001b[0m | \u001b[1mStarting database connection monitoring\u001b[0m\n\u001b[32m2025-08-28 19:44:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.base.monitoring\u001b[0m:\u001b[36mstart_monitoring\u001b[0m:\u001b[36m318\u001b[0m | \u001b[1mExecution monitoring started\u001b[0m\n\u001b[32m2025-08-28 19:44:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_create_monitoring_task\u001b[0m:\u001b[36m859\u001b[0m | \u001b[1mComprehensive monitoring started\u001b[0m\n\u001b[32m2025-08-28 19:44:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.performance_optimization_manager\u001b[0m:\u001b[36minitialize\u001b[0m:\u001b[36m43\u001b[0m | \u001b[1mPerformance optimization manager initialized\u001b[0m\n\u001b[32m2025-08-28 19:44:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCreated background task 'database_index_optimization' (ID: 2187de41-01d9-47e0-9406-a61de531960a) with 120s timeout\u001b[0m\n\u001b[32m2025-08-28 19:44:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_schedule_background_optimizations\u001b[0m:\u001b[36m224\u001b[0m | \u001b[1mDatabase index optimization scheduled as background task (ID: 2187de41-01d9-47e0-9406-a61de531960a)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_initialize_performance_optimizations\u001b[0m:\u001b[36m194\u001b[0m | \u001b[1mPerformance optimizations initialized successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.394\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized background_tasks in 0.01s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.394\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized clickhouse in 0.01s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.394\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized monitoring in 0.01s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.394\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing LOW priority components: ['metrics', 'tracing']\u001b[0m\n\u001b[32m2025-08-28 19:44:18.395\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing metrics (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.396\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing tracing (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.396\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_metrics\u001b[0m:\u001b[36m684\u001b[0m | \u001b[1mMetrics initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.396\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_tracing\u001b[0m:\u001b[36m696\u001b[0m | \u001b[1mTracing initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.397\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized metrics in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.397\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized tracing in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:44:18.397\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStartup completed in 2.65s: 10/10 successful, 0 degraded, 0 failed\u001b[0m\n\u001b[32m2025-08-28 19:44:18.397\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36minitialize_system\u001b[0m:\u001b[36m570\u001b[0m | \u001b[1mRobust system initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:44:18.398\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m986\u001b[0m | \u001b[1mStartup completion flags set - health endpoint will report healthy\u001b[0m\n\u001b[32m2025-08-28 19:44:18.398\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mlog_startup_complete\u001b[0m:\u001b[36m880\u001b[0m | \u001b[1mSystem Ready (Took 2.70s).\u001b[0m\n\u001b[32m2025-08-28 19:44:18.398\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication startup complete.\u001b[0m\n\u001b[32m2025-08-28 19:44:18.398\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication startup complete.\u001b[0m\n\u001b[32m2025-08-28 19:44:18.401\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m('172.18.0.1', 57854) - \"WebSocket /ws\" [accepted]\u001b[0m\n\u001b[32m2025-08-28 19:44:18.401\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m('172.18.0.1', 57854) - \"WebSocket /ws\" [accepted]\u001b[0m\n\u001b[32m2025-08-28 19:44:18.401\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m121\u001b[0m | \u001b[1mWebSocket accepted with subprotocol: jwt-auth\u001b[0m\n\u001b[32m2025-08-28 19:44:18.431\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_websocket_cors_handler\u001b[0m:\u001b[36m566\u001b[0m | \u001b[1mWebSocket CORS: Detected environment from config: 'development'\u001b[0m\n\u001b[32m2025-08-28 19:44:18.431\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_environment_origins_for_environment\u001b[0m:\u001b[36m441\u001b[0m | \u001b[1mWebSocket CORS configured for environment 'development' with 41 allowed origins\u001b[0m\n\u001b[32m2025-08-28 19:44:18.431\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_environment_origins_for_environment\u001b[0m:\u001b[36m450\u001b[0m | \u001b[1mWebSocket CORS: Running in DEVELOPMENT mode with permissive origins\u001b[0m\n\u001b[32m2025-08-28 19:44:18.431\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_websocket_cors_handler\u001b[0m:\u001b[36m583\u001b[0m | \u001b[1mWebSocket CORS: Creating handler for environment 'development' with 41 origins\u001b[0m\n\u001b[32m2025-08-28 19:44:18.433\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mvalidate_websocket_origin\u001b[0m:\u001b[36m360\u001b[0m | \u001b[1mWebSocket connection allowed from origin: http://localhost:3000 in development environment\u001b[0m\n\u001b[32m2025-08-28 19:44:18.433\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted trace span: websocket_jwt_validation (trace_id: 8d9b941c42b1405e931ecb8e5007783f)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.437\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection open\u001b[0m\n\u001b[32m2025-08-28 19:44:18.437\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection open\u001b[0m\n\u001b[32m2025-08-28 19:44:18.452\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:44:18.456\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 10.25ms | Trace: trace_d8736be836254473\u001b[0m\n\u001b[32m2025-08-28 19:44:18.457\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 10.63ms | Trace: trace_4b305412a849436e\u001b[0m\n\u001b[32m2025-08-28 19:44:18.458\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 11.41ms | Trace: trace_f67227d204fb4623\u001b[0m\n\u001b[32m2025-08-28 19:44:18.459\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:44:18.461\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCompleted trace span: websocket_jwt_validation\u001b[0m\n\u001b[32m2025-08-28 19:44:18.462\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.auth\u001b[0m:\u001b[36mauthenticate_websocket\u001b[0m:\u001b[36m121\u001b[0m | \u001b[1mWebSocket authenticated: dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:44:18.462\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m154\u001b[0m | \u001b[1mWebSocket authenticated for user: dev-temp-7a06feab at 2025-08-28T19:44:18.462186+00:00\u001b[0m\n\u001b[32m2025-08-28 19:44:18.462\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mconnect_user\u001b[0m:\u001b[36m124\u001b[0m | \u001b[1mWebSocket connected: conn_dev-temp-7a06feab_fe6f5eb0 for user dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:44:18.462\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m188\u001b[0m | \u001b[1mWebSocket ready: conn_dev-temp-7a06feab_fe6f5eb0\u001b[0m\n\u001b[32m2025-08-28 19:44:18.462\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m191\u001b[0m | \u001b[1mStarting message handling loop for connection: conn_dev-temp-7a06feab_fe6f5eb0\u001b[0m\n\u001b[32m2025-08-28 19:44:18.463\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m193\u001b[0m | \u001b[1mWebSocket state before loop - client_state: WebSocketState.CONNECTED, application_state: WebSocketState.CONNECTED\u001b[0m\n\u001b[32m2025-08-28 19:44:18.463\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m276\u001b[0m | \u001b[1mEntering message handling loop for connection: conn_dev-temp-7a06feab_fe6f5eb0 (user: dev-temp-7a06feab)\u001b[0m\n\u001b[32m2025-08-28 19:44:18.463\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m279\u001b[0m | \u001b[1mWebSocket state at loop entry - client_state: WebSocketState.CONNECTED, application_state: WebSocketState.CONNECTED\u001b[0m\n\u001b[32m2025-08-28 19:44:18.463\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m285\u001b[0m | \u001b[1mFirst loop iteration for conn_dev-temp-7a06feab_fe6f5eb0, WebSocket is_connected returned True\u001b[0m\n\u001b[32m2025-08-28 19:44:37.707\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 1.68ms | Trace: trace_fcdad765d71a4ff2\u001b[0m\n\u001b[32m2025-08-28 19:44:37.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m127.0.0.1:46906 - \"GET /health HTTP/1.1\" 200\u001b[0m\n\u001b[32m2025-08-28 19:45:07.774\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 1.61ms | Trace: trace_0700ec0375ff4f35\u001b[0m\n\u001b[32m2025-08-28 19:45:07.775\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m127.0.0.1:33302 - \"GET /health HTTP/1.1\" 200\u001b[0m\n\u001b[32m2025-08-28 19:45:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_run_index_optimization_background\u001b[0m:\u001b[36m232\u001b[0m | \u001b[1mStarting background database index optimization...\u001b[0m\n\u001b[32m2025-08-28 19:45:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.database_index_manager\u001b[0m:\u001b[36moptimize_all_databases\u001b[0m:\u001b[36m129\u001b[0m | \u001b[1mStarting database optimization across all databases\u001b[0m\n\u001b[32m2025-08-28 19:45:18.391\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mnetra_backend.app.db.index_optimizer_core\u001b[0m:\u001b[36mlog_engine_unavailable\u001b[0m:\u001b[36m52\u001b[0m | \u001b[33m\u001b[1mAsync engine not available, skipping index creation\u001b[0m\n\u001b[32m2025-08-28 19:45:18.391\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.clickhouse\u001b[0m:\u001b[36m_create_mock_client\u001b[0m:\u001b[36m206\u001b[0m | \u001b[1m[ClickHouse] Using MOCK client for development\u001b[0m\n\u001b[32m2025-08-28 19:45:18.392\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.clickhouse\u001b[0m:\u001b[36m_create_mock_client\u001b[0m:\u001b[36m206\u001b[0m | \u001b[1m[ClickHouse] Using MOCK client for development\u001b[0m\n\u001b[32m2025-08-28 19:45:18.392\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.database_index_manager\u001b[0m:\u001b[36moptimize_all_databases\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mDatabase optimization completed - PostgreSQL: True, ClickHouse: True\u001b[0m\n\u001b[32m2025-08-28 19:45:18.392\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_run_index_optimization_background\u001b[0m:\u001b[36m239\u001b[0m | \u001b[1mBackground database optimization completed successfully: {'postgres': {'indexes_created': {}, 'recommendations': [{'table_name': 'userbase', 'columns': ['email'], 'index_type': 'btree', 'reason': 'Frequent user lookups by email', 'estimated_benefit': 0.0, 'priority': 1}, {'table_name': 'corpus_audit_logs', 'columns': ['timestamp'], 'index_type': 'btree', 'reason': 'Time-based audit queries', 'estimated_benefit': 0.0, 'priority': 1}, {'table_name': 'corpus_audit_logs', 'columns': ['user_id', 'action'], 'index_type': 'btree', 'reason': 'User action filtering', 'estimated_benefit': 0.0, 'priority': 2}, {'table_name': 'secret', 'columns': ['user_id'], 'index_type': 'btree', 'reason': 'User secret lookups', 'estimated_benefit': 0.0, 'priority': 2}, {'table_name': 'agent_states', 'columns': ['session_id'], 'index_type': 'btree', 'reason': 'Session-based state lookups', 'estimated_benefit': 0.0, 'priority': 2}], 'usage_stats': {}}, 'clickhouse': {'table_optimizations': {'netra_content_corpus': False, 'netra_audit_events': False, 'netra_performance_metrics': False, 'netra_agent_logs': False}, 'materialized_views': {'user_daily_activity': False, 'hourly_performance_metrics': False}}, 'recommendations': []}\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:45:23.658\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down\u001b[0m\n\u001b[32m2025-08-28 19:45:23.658\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down\u001b[0m\n\u001b[32m2025-08-28 19:45:23.658\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection closed\u001b[0m\n\u001b[32m2025-08-28 19:45:23.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection closed\u001b[0m\n\u001b[32m2025-08-28 19:45:23.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m362\u001b[0m | \u001b[1mWebSocket disconnect: {'connection_id': 'conn_dev-temp-7a06feab_fe6f5eb0', 'user_id': 'dev-temp-7a06feab', 'disconnect_code': 1012, 'disconnect_reason': 'No reason provided', 'connection_duration': 'Unknown'}\u001b[0m\n\u001b[32m2025-08-28 19:45:23.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m383\u001b[0m | \u001b[1mExiting message handling loop for connection: conn_dev-temp-7a06feab_fe6f5eb0 | Duration: 65.2s | Messages processed: 2 | Errors: 0 | User: dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:45:23.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mMessage handling loop ended for connection: conn_dev-temp-7a06feab_fe6f5eb0\u001b[0m\n\u001b[32m2025-08-28 19:45:23.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.auth\u001b[0m:\u001b[36mcleanup\u001b[0m:\u001b[36m349\u001b[0m | \u001b[1mWebSocket authenticator cleanup completed\u001b[0m\n\u001b[32m2025-08-28 19:45:23.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mdisconnect_user\u001b[0m:\u001b[36m135\u001b[0m | \u001b[1mWebSocket disconnected: conn_dev-temp-7a06feab_fe6f5eb0 (1000: Normal closure)\u001b[0m\n\u001b[32m2025-08-28 19:45:23.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m255\u001b[0m | \u001b[1mWebSocket cleanup completed: conn_dev-temp-7a06feab_fe6f5eb0\u001b[0m\n\u001b[32m2025-08-28 19:45:23.759\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application shutdown.\u001b[0m\n\u001b[32m2025-08-28 19:45:23.759\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application shutdown.\u001b[0m\n\u001b[32m2025-08-28 19:45:23.759\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mshutdown_cleanup\u001b[0m:\u001b[36m20\u001b[0m | \u001b[1mApplication shutdown initiated...\u001b[0m\n\u001b[32m2025-08-28 19:45:23.759\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:45:23.759\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m120\u001b[0m | \u001b[1mShutting down background task manager...\u001b[0m\n\u001b[32m2025-08-28 19:45:23.760\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down BackgroundTaskManager...\u001b[0m\n\u001b[32m2025-08-28 19:45:23.760\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackgroundTaskManager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:45:23.760\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m122\u001b[0m | \u001b[1mBackground task manager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:45:23.760\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mstop_monitoring\u001b[0m:\u001b[36m48\u001b[0m | \u001b[31m\u001b[1mError stopping monitoring and optimizations: 'ExecutionMonitor' object has no attribute 'stop_monitoring'\u001b[0m\n\u001b[32m2025-08-28 19:45:23.860\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down BackgroundTaskManager...\u001b[0m\n\u001b[32m2025-08-28 19:45:23.861\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackgroundTaskManager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:45:23.861\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.base_agent\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m68\u001b[0m | \u001b[1mShutting down Supervisor\u001b[0m\n\u001b[32m2025-08-28 19:45:23.861\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m737\u001b[0m | \u001b[1mShutting down WebSocket manager with 0 connections\u001b[0m\n\u001b[32m2025-08-28 19:45:23.861\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m752\u001b[0m | \u001b[1mWebSocket manager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:45:23.861\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mcleanup_resources\u001b[0m:\u001b[36m101\u001b[0m | \u001b[1mWebSocket manager shutdown completed\u001b[0m\n\u001b[32m2025-08-28 19:45:23.862\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m135\u001b[0m | \u001b[1mApplication shutdown complete.\u001b[0m\n\u001b[32m2025-08-28 19:45:23.862\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication shutdown complete.\u001b[0m\n\u001b[32m2025-08-28 19:45:23.863\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication shutdown complete.\u001b[0m\n\u001b[32m2025-08-28 19:45:23.863\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mFinished server process [199]\u001b[0m\n\u001b[32m2025-08-28 19:45:23.863\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mFinished server process [199]\u001b[0m\n\u001b[32m2025-08-28 19:45:23.864\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:45:30.687\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:45:30.714\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:45:30.714\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:45:30.719\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:45:35.465\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:45:35.465\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:45:35.465\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:45:35.466\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:45:35.466\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:45:35.538\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:45:35.538\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:45:40.001\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:45:40.001\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:45:40.003\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:45:46.334\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:45:46.353\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:45:46.353\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:45:46.357\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:45:50.966\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:45:50.966\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:45:50.966\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:45:50.966\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:45:50.966\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:45:51.043\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:45:51.043\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:45:54.687\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:45:54.687\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:45:54.688\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:46:00.628\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:46:00.648\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:46:00.649\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:46:00.653\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:46:05.073\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:46:05.073\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:46:05.074\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:46:05.074\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:46:05.074\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:46:05.140\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:46:05.141\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:46:08.712\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:46:08.712\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:46:08.713\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:46:15.804\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:46:15.826\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:46:15.827\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:46:15.831\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:46:20.636\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:46:20.636\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:46:20.636\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:46:20.636\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:46:20.636\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:46:20.697\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:46:20.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:46:26.800\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:46:26.801\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:46:26.802\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:46:33.745\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:46:33.771\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:46:33.772\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:46:33.775\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:46:38.600\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:46:38.600\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:46:38.600\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:46:38.601\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:46:38.601\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:46:38.679\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:46:38.679\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:46:45.181\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:46:45.181\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:46:45.182\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:46:52.351\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:46:52.374\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:46:52.374\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:46:52.379\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:46:57.370\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:46:57.371\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:46:57.371\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:46:57.371\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:46:57.371\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:46:57.434\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:46:57.434\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:47:01.888\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:47:01.889\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:47:01.890\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:47:08.792\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:47:08.812\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:47:08.812\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:47:08.816\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:47:13.784\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:47:13.785\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:47:13.785\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:47:13.785\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:47:13.785\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:47:13.870\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:47:13.871\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:47:19.325\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:47:19.325\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:47:19.326\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:47:25.910\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:47:25.929\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:47:25.930\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:47:25.935\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:47:30.913\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:47:30.913\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:47:30.913\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:47:30.913\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:47:30.913\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:47:30.984\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:47:30.984\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\n\u001b[32m2025-08-28 19:47:36.527\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.state_persistence_optimized\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m52\u001b[0m | \u001b[1mOptimized state persistence service initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:39.355\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.health.telemetry\u001b[0m:\u001b[36mregister_service\u001b[0m:\u001b[36m340\u001b[0m | \u001b[1mRegistered telemetry for service: netra-ai-platform\u001b[0m\n\u001b[32m2025-08-28 19:47:40.432\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:40.433\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_gate.quality_gate_core\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m38\u001b[0m | \u001b[1mQuality Gate Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:40.433\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_monitoring.service\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m51\u001b[0m | \u001b[1mQuality Monitoring Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:40.433\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:46.256\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted server process [409]\u001b[0m\n\u001b[32m2025-08-28 19:47:46.257\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted server process [409]\u001b[0m\n\u001b[32m2025-08-28 19:47:46.257\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application startup.\u001b[0m\n\u001b[32m2025-08-28 19:47:46.257\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application startup.\u001b[0m\n\u001b[32m2025-08-28 19:47:46.299\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.fastapi_auth_middleware\u001b[0m:\u001b[36m_get_jwt_secret_with_validation\u001b[0m:\u001b[36m677\u001b[0m | \u001b[1mJWT secret configured: 32 characters\u001b[0m\n\u001b[32m2025-08-28 19:47:46.299\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.fastapi_auth_middleware\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m76\u001b[0m | \u001b[1mFastAPIAuthMiddleware initialized with 12 excluded paths\u001b[0m\n\u001b[32m2025-08-28 19:47:46.300\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.security_headers_middleware\u001b[0m:\u001b[36m_log_initialization\u001b[0m:\u001b[36m43\u001b[0m | \u001b[1mSecurity headers middleware initialized for development environment\u001b[0m\n\u001b[32m2025-08-28 19:47:46.300\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.security_response_middleware\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m36\u001b[0m | \u001b[1mSecurityResponseMiddleware initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:46.300\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORSFixMiddleware initialized with 41 origins for development\u001b[0m\n\u001b[32m2025-08-28 19:47:46.300\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m952\u001b[0m | \u001b[1mUsing robust startup manager with dependency resolution...\u001b[0m\n\u001b[32m2025-08-28 19:47:46.300\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m962\u001b[0m | \u001b[1mStartup in progress flags set - health endpoint will report startup in progress\u001b[0m\n\u001b[32m2025-08-28 19:47:46.345\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: database (priority=CRITICAL)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: redis (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: auth_service (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: websocket (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: clickhouse (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: monitoring (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: background_tasks (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: metrics (priority=LOW)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: tracing (priority=LOW)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.346\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: agent_supervisor (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_logging\u001b[0m:\u001b[36m262\u001b[0m | \u001b[1mApplication startup...\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36minitialize_system\u001b[0m:\u001b[36m564\u001b[0m | \u001b[1mStarting robust system initialization...\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarting system initialization\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitialization order: ['database', 'auth_service', 'redis', 'websocket', 'agent_supervisor', 'background_tasks', 'clickhouse', 'monitoring', 'metrics', 'tracing']\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing CRITICAL priority components: ['database']\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing database (attempt 1/3)\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36msetup_multiprocessing\u001b[0m:\u001b[36m108\u001b[0m | \u001b[1mMultiprocessing configured with method: forkserver\u001b[0m\n\u001b[32m2025-08-28 19:47:46.347\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.database_env_service\u001b[0m:\u001b[36mvalidate_database_environment\u001b[0m:\u001b[36m49\u001b[0m | \u001b[1mDatabase environment validation passed for development\u001b[0m\n\u001b[32m2025-08-28 19:47:46.348\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_check_and_run_migrations\u001b[0m:\u001b[36m365\u001b[0m | \u001b[1mChecking database migrations...\u001b[0m\n\u001b[32m2025-08-28 19:47:46.361\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mContext impl PostgresqlImpl.\u001b[0m\n\u001b[32m2025-08-28 19:47:46.361\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWill assume transactional DDL.\u001b[0m\n\u001b[32m2025-08-28 19:47:46.366\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_perform_migration\u001b[0m:\u001b[36m375\u001b[0m | \u001b[1mCurrent revision: add_deleted_at_001\u001b[0m\n\u001b[32m2025-08-28 19:47:47.093\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.migration_utils\u001b[0m:\u001b[36mlog_migration_status\u001b[0m:\u001b[36m199\u001b[0m | \u001b[1mDatabase is up to date\u001b[0m\n\u001b[32m2025-08-28 19:47:47.094\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36msetup_database_connections\u001b[0m:\u001b[36m441\u001b[0m | \u001b[1mSetting up database connections...\u001b[0m\n\u001b[32m2025-08-28 19:47:47.095\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.postgres_core\u001b[0m:\u001b[36minitialize_postgres\u001b[0m:\u001b[36m578\u001b[0m | \u001b[1mInitializing async engine and session factory...\u001b[0m\n\u001b[32m2025-08-28 19:47:47.096\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.postgres_core\u001b[0m:\u001b[36m_create_and_setup_engine\u001b[0m:\u001b[36m514\u001b[0m | \u001b[1mPostgreSQL async engine created with resilient AsyncAdaptedQueuePool connection pooling\u001b[0m\n\u001b[32m2025-08-28 19:47:47.096\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mImporting database models to register tables...\u001b[0m\n\u001b[32m2025-08-28 19:47:47.097\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m59\u001b[0m | \u001b[1mChecking if database tables exist...\u001b[0m\n\u001b[32m2025-08-28 19:47:47.113\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m114\u001b[0m | \u001b[1mAll 26 database tables are present\u001b[0m\n\u001b[32m2025-08-28 19:47:47.117\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36msetup_database_connections\u001b[0m:\u001b[36m485\u001b[0m | \u001b[1mDatabase session factory successfully set on app.state\u001b[0m\n\u001b[32m2025-08-28 19:47:47.118\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_database\u001b[0m:\u001b[36m605\u001b[0m | \u001b[1mDatabase initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:47.118\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized database in 0.77s\u001b[0m\n\u001b[32m2025-08-28 19:47:47.118\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing HIGH priority components: ['auth_service', 'redis', 'websocket', 'agent_supervisor']\u001b[0m\n\u001b[32m2025-08-28 19:47:47.118\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing auth_service (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:47:47.119\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing redis (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:47:47.119\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing websocket (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:47:47.119\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing agent_supervisor (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:47:47.119\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_core_services\u001b[0m:\u001b[36m520\u001b[0m | \u001b[1mLoading key manager...\u001b[0m\n\u001b[32m2025-08-28 19:47:47.119\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_core_services\u001b[0m:\u001b[36m522\u001b[0m | \u001b[1mKey manager loaded.\u001b[0m\n\u001b[32m2025-08-28 19:47:47.119\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_auth_service\u001b[0m:\u001b[36m635\u001b[0m | \u001b[1mAuth service initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:47.138\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_websocket_components\u001b[0m:\u001b[36m729\u001b[0m | \u001b[1mWebSocket components initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:47.138\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_websocket\u001b[0m:\u001b[36m650\u001b[0m | \u001b[1mWebSocket initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.039\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:47:49.039\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.040\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:47:49.040\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:47:49.040\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:47:49.040\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.041\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:47:49.041\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_create_agent_supervisor\u001b[0m:\u001b[36m667\u001b[0m | \u001b[1mAgent supervisor created successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.041\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_agent_supervisor\u001b[0m:\u001b[36m728\u001b[0m | \u001b[1mAgent supervisor initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.042\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized auth_service in 1.92s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.042\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized websocket in 1.92s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.042\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized agent_supervisor in 1.92s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.044\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.redis_manager\u001b[0m:\u001b[36m_test_redis_connection\u001b[0m:\u001b[36m114\u001b[0m | \u001b[1mRedis connected successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.044\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_redis\u001b[0m:\u001b[36m620\u001b[0m | \u001b[1mRedis initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.044\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized redis in 1.93s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.044\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing MEDIUM priority components: ['background_tasks', 'clickhouse', 'monitoring']\u001b[0m\n\u001b[32m2025-08-28 19:47:49.044\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing background_tasks (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing clickhouse (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing monitoring (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m662\u001b[0m | \u001b[1mBackground task manager initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRunning comprehensive startup fixes verification...\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplied Redis mode default with fallback capability\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mService discovery disabled for microservice independence\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mDynamic port allocation is configured\u001b[0m\n\u001b[32m2025-08-28 19:47:49.045\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackground task timeout properly configured: 120s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.046\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRedis local fallback is configured\u001b[0m\n\u001b[32m2025-08-28 19:47:49.046\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mDatabase transaction rollback fix is available\u001b[0m\n\u001b[32m2025-08-28 19:47:49.046\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStartup fixes verification complete: 4/5 fixes applied\u001b[0m\n\u001b[32m2025-08-28 19:47:49.046\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m668\u001b[0m | \u001b[1mApplied 4/5 startup fixes\u001b[0m\n\u001b[32m2025-08-28 19:47:49.046\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m672\u001b[0m | \u001b[1mBackground tasks initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.046\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_clickhouse\u001b[0m:\u001b[36m555\u001b[0m | \u001b[1mSkipping ClickHouse initialization in development environment (optional service - may not be available)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.046\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.database.health_checker\u001b[0m:\u001b[36mstart_monitoring\u001b[0m:\u001b[36m29\u001b[0m | \u001b[1mStarting database connection monitoring\u001b[0m\n\u001b[32m2025-08-28 19:47:49.047\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.base.monitoring\u001b[0m:\u001b[36mstart_monitoring\u001b[0m:\u001b[36m318\u001b[0m | \u001b[1mExecution monitoring started\u001b[0m\n\u001b[32m2025-08-28 19:47:49.047\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_create_monitoring_task\u001b[0m:\u001b[36m859\u001b[0m | \u001b[1mComprehensive monitoring started\u001b[0m\n\u001b[32m2025-08-28 19:47:49.047\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.performance_optimization_manager\u001b[0m:\u001b[36minitialize\u001b[0m:\u001b[36m43\u001b[0m | \u001b[1mPerformance optimization manager initialized\u001b[0m\n\u001b[32m2025-08-28 19:47:49.047\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCreated background task 'database_index_optimization' (ID: 73fe36b5-dcb4-460f-b6e1-a62e9531a97d) with 120s timeout\u001b[0m\n\u001b[32m2025-08-28 19:47:49.047\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_schedule_background_optimizations\u001b[0m:\u001b[36m224\u001b[0m | \u001b[1mDatabase index optimization scheduled as background task (ID: 73fe36b5-dcb4-460f-b6e1-a62e9531a97d)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.047\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_initialize_performance_optimizations\u001b[0m:\u001b[36m194\u001b[0m | \u001b[1mPerformance optimizations initialized successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.049\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized background_tasks in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.049\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized clickhouse in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.049\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized monitoring in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.050\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing LOW priority components: ['metrics', 'tracing']\u001b[0m\n\u001b[32m2025-08-28 19:47:49.050\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing metrics (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.050\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing tracing (attempt 1/1)\u001b[0m\n/usr/local/lib/python3.11/site-packages/websockets/legacy/server.py:1178: DeprecationWarning: remove second argument of ws_handler\n  warnings.warn(\"remove second argument of ws_handler\", DeprecationWarning)\n\u001b[32m2025-08-28 19:47:49.050\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_metrics\u001b[0m:\u001b[36m684\u001b[0m | \u001b[1mMetrics initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.051\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_tracing\u001b[0m:\u001b[36m696\u001b[0m | \u001b[1mTracing initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.051\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized metrics in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.051\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized tracing in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:47:49.051\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStartup completed in 2.70s: 10/10 successful, 0 degraded, 0 failed\u001b[0m\n\u001b[32m2025-08-28 19:47:49.051\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36minitialize_system\u001b[0m:\u001b[36m570\u001b[0m | \u001b[1mRobust system initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:47:49.051\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m986\u001b[0m | \u001b[1mStartup completion flags set - health endpoint will report healthy\u001b[0m\n\u001b[32m2025-08-28 19:47:49.052\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mlog_startup_complete\u001b[0m:\u001b[36m880\u001b[0m | \u001b[1mSystem Ready (Took 2.75s).\u001b[0m\n\u001b[32m2025-08-28 19:47:49.052\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication startup complete.\u001b[0m\n\u001b[32m2025-08-28 19:47:49.052\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication startup complete.\u001b[0m\n\u001b[32m2025-08-28 19:47:49.059\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m('172.18.0.1', 39828) - \"WebSocket /ws\" [accepted]\u001b[0m\n\u001b[32m2025-08-28 19:47:49.060\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m('172.18.0.1', 39828) - \"WebSocket /ws\" [accepted]\u001b[0m\n\u001b[32m2025-08-28 19:47:49.060\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m121\u001b[0m | \u001b[1mWebSocket accepted with subprotocol: jwt-auth\u001b[0m\n\u001b[32m2025-08-28 19:47:49.084\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_websocket_cors_handler\u001b[0m:\u001b[36m566\u001b[0m | \u001b[1mWebSocket CORS: Detected environment from config: 'development'\u001b[0m\n\u001b[32m2025-08-28 19:47:49.084\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_environment_origins_for_environment\u001b[0m:\u001b[36m441\u001b[0m | \u001b[1mWebSocket CORS configured for environment 'development' with 41 allowed origins\u001b[0m\n\u001b[32m2025-08-28 19:47:49.085\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_environment_origins_for_environment\u001b[0m:\u001b[36m450\u001b[0m | \u001b[1mWebSocket CORS: Running in DEVELOPMENT mode with permissive origins\u001b[0m\n\u001b[32m2025-08-28 19:47:49.085\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_websocket_cors_handler\u001b[0m:\u001b[36m583\u001b[0m | \u001b[1mWebSocket CORS: Creating handler for environment 'development' with 41 origins\u001b[0m\n\u001b[32m2025-08-28 19:47:49.086\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mvalidate_websocket_origin\u001b[0m:\u001b[36m360\u001b[0m | \u001b[1mWebSocket connection allowed from origin: http://localhost:3000 in development environment\u001b[0m\n\u001b[32m2025-08-28 19:47:49.086\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted trace span: websocket_jwt_validation (trace_id: d60cce16cbe94587826f8b940aa29ddf)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.088\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection open\u001b[0m\n\u001b[32m2025-08-28 19:47:49.088\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection open\u001b[0m\n\u001b[32m2025-08-28 19:47:49.099\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:47:49.100\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.100\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:47:49.100\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:47:49.101\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:47:49.101\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.101\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:47:49.108\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:47:49.109\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.109\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:47:49.116\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:47:49.116\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:47:49.117\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.117\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:47:49.119\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36m_register_components\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mMCP Server components registered\u001b[0m\n\u001b[32m2025-08-28 19:47:49.120\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36mset_services\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mMCP Server services configured\u001b[0m\n\u001b[32m2025-08-28 19:47:49.120\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.mcp_service\u001b[0m:\u001b[36m_initialize_session_storage\u001b[0m:\u001b[36m106\u001b[0m | \u001b[1mMCP Service initialized with FastMCP 2\u001b[0m\n\u001b[32m2025-08-28 19:47:49.131\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36m_register_components\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mMCP Server components registered\u001b[0m\n\u001b[32m2025-08-28 19:47:49.131\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36mset_services\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mMCP Server services configured\u001b[0m\n\u001b[32m2025-08-28 19:47:49.132\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.mcp_service\u001b[0m:\u001b[36m_initialize_session_storage\u001b[0m:\u001b[36m106\u001b[0m | \u001b[1mMCP Service initialized with FastMCP 2\u001b[0m\n\u001b[32m2025-08-28 19:47:49.134\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:47:49.135\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.135\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:47:49.135\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:47:49.136\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:47:49.136\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.136\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:47:49.142\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:47:49.143\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.143\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:47:49.143\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:47:49.144\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:47:49.144\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:47:49.145\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:47:49.158\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36m_register_components\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mMCP Server components registered\u001b[0m\n\u001b[32m2025-08-28 19:47:49.158\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36mset_services\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mMCP Server services configured\u001b[0m\n\u001b[32m2025-08-28 19:47:49.158\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.mcp_service\u001b[0m:\u001b[36m_initialize_session_storage\u001b[0m:\u001b[36m106\u001b[0m | \u001b[1mMCP Service initialized with FastMCP 2\u001b[0m\n\u001b[32m2025-08-28 19:47:49.166\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36m_register_components\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mMCP Server components registered\u001b[0m\n\u001b[32m2025-08-28 19:47:49.166\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36mset_services\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mMCP Server services configured\u001b[0m\n\u001b[32m2025-08-28 19:47:49.166\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.mcp_service\u001b[0m:\u001b[36m_initialize_session_storage\u001b[0m:\u001b[36m106\u001b[0m | \u001b[1mMCP Service initialized with FastMCP 2\u001b[0m\n\u001b[32m2025-08-28 19:47:49.172\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.180\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.181\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 84.81ms | Trace: trace_6b555f34de5a496b\u001b[0m\n\u001b[32m2025-08-28 19:47:49.184\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 85.19ms | Trace: trace_7de47b2ebf82408d\u001b[0m\n\u001b[32m2025-08-28 19:47:49.185\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCompleted trace span: websocket_jwt_validation\u001b[0m\n\u001b[32m2025-08-28 19:47:49.185\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.auth\u001b[0m:\u001b[36mauthenticate_websocket\u001b[0m:\u001b[36m121\u001b[0m | \u001b[1mWebSocket authenticated: dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:47:49.185\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m154\u001b[0m | \u001b[1mWebSocket authenticated for user: dev-temp-7a06feab at 2025-08-28T19:47:49.185277+00:00\u001b[0m\n\u001b[32m2025-08-28 19:47:49.185\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mconnect_user\u001b[0m:\u001b[36m124\u001b[0m | \u001b[1mWebSocket connected: conn_dev-temp-7a06feab_3941ffad for user dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:47:49.185\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m188\u001b[0m | \u001b[1mWebSocket ready: conn_dev-temp-7a06feab_3941ffad\u001b[0m\n\u001b[32m2025-08-28 19:47:49.185\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m191\u001b[0m | \u001b[1mStarting message handling loop for connection: conn_dev-temp-7a06feab_3941ffad\u001b[0m\n\u001b[32m2025-08-28 19:47:49.185\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m193\u001b[0m | \u001b[1mWebSocket state before loop - client_state: WebSocketState.CONNECTED, application_state: WebSocketState.CONNECTED\u001b[0m\n\u001b[32m2025-08-28 19:47:49.186\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m276\u001b[0m | \u001b[1mEntering message handling loop for connection: conn_dev-temp-7a06feab_3941ffad (user: dev-temp-7a06feab)\u001b[0m\n\u001b[32m2025-08-28 19:47:49.186\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m279\u001b[0m | \u001b[1mWebSocket state at loop entry - client_state: WebSocketState.CONNECTED, application_state: WebSocketState.CONNECTED\u001b[0m\n\u001b[32m2025-08-28 19:47:49.186\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m285\u001b[0m | \u001b[1mFirst loop iteration for conn_dev-temp-7a06feab_3941ffad, WebSocket is_connected returned True\u001b[0m\n\u001b[32m2025-08-28 19:47:49.186\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 79.50ms | Trace: trace_32a70f9cd81348bb\u001b[0m\n\u001b[32m2025-08-28 19:47:49.187\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.188\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.189\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 80.60ms | Trace: trace_3171f20781fd4dc2\u001b[0m\n\u001b[32m2025-08-28 19:47:49.192\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.193\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.200\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.203\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.211\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.212\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:47:49.651\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mUsing dev user: dev@example.com\u001b[0m\n\u001b[32m2025-08-28 19:47:49.652\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mUsing dev user: dev@example.com\u001b[0m\n\u001b[32m2025-08-28 19:47:49.652\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mUsing dev user: dev@example.com\u001b[0m\n\u001b[32m2025-08-28 19:47:49.653\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mUsing dev user: dev@example.com\u001b[0m\n\u001b[32m2025-08-28 19:47:49.657\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /api/mcp/servers | Status: 200 | Duration: 559.94ms | Trace: trace_ef970130824d4cca\u001b[0m\n\u001b[32m2025-08-28 19:47:49.658\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /api/mcp/servers | Status: 200 | Duration: 570.27ms | Trace: trace_3338ce32c81e4ed3\u001b[0m\n\u001b[32m2025-08-28 19:47:49.658\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /api/mcp/tools | Status: 200 | Duration: 564.28ms | Trace: trace_57dfc953517b4b42\u001b[0m\n\u001b[32m2025-08-28 19:47:49.659\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /api/mcp/tools | Status: 200 | Duration: 561.23ms | Trace: trace_0d95a34526cb44ce\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:48:01.876\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down\u001b[0m\n\u001b[32m2025-08-28 19:48:01.876\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down\u001b[0m\n\u001b[32m2025-08-28 19:48:01.877\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection closed\u001b[0m\n\u001b[32m2025-08-28 19:48:01.877\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection closed\u001b[0m\n\u001b[32m2025-08-28 19:48:01.877\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m362\u001b[0m | \u001b[1mWebSocket disconnect: {'connection_id': 'conn_dev-temp-7a06feab_3941ffad', 'user_id': 'dev-temp-7a06feab', 'disconnect_code': 1012, 'disconnect_reason': 'No reason provided', 'connection_duration': 'Unknown'}\u001b[0m\n\u001b[32m2025-08-28 19:48:01.878\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m383\u001b[0m | \u001b[1mExiting message handling loop for connection: conn_dev-temp-7a06feab_3941ffad | Duration: 12.7s | Messages processed: 0 | Errors: 0 | User: dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:48:01.878\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mMessage handling loop ended for connection: conn_dev-temp-7a06feab_3941ffad\u001b[0m\n\u001b[32m2025-08-28 19:48:01.878\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.auth\u001b[0m:\u001b[36mcleanup\u001b[0m:\u001b[36m349\u001b[0m | \u001b[1mWebSocket authenticator cleanup completed\u001b[0m\n\u001b[32m2025-08-28 19:48:01.878\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mdisconnect_user\u001b[0m:\u001b[36m135\u001b[0m | \u001b[1mWebSocket disconnected: conn_dev-temp-7a06feab_3941ffad (1000: Normal closure)\u001b[0m\n\u001b[32m2025-08-28 19:48:01.878\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m255\u001b[0m | \u001b[1mWebSocket cleanup completed: conn_dev-temp-7a06feab_3941ffad\u001b[0m\n\u001b[32m2025-08-28 19:48:01.977\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application shutdown.\u001b[0m\n\u001b[32m2025-08-28 19:48:01.977\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application shutdown.\u001b[0m\n\u001b[32m2025-08-28 19:48:01.977\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mshutdown_cleanup\u001b[0m:\u001b[36m20\u001b[0m | \u001b[1mApplication shutdown initiated...\u001b[0m\n\u001b[32m2025-08-28 19:48:01.977\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:48:01.977\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m120\u001b[0m | \u001b[1mShutting down background task manager...\u001b[0m\n\u001b[32m2025-08-28 19:48:01.978\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down BackgroundTaskManager...\u001b[0m\n\u001b[32m2025-08-28 19:48:01.978\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCancelling 1 active background tasks\u001b[0m\n\u001b[32m2025-08-28 19:48:02.078\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAll background tasks cancelled\u001b[0m\n\u001b[32m2025-08-28 19:48:02.079\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackgroundTaskManager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:48:02.079\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m122\u001b[0m | \u001b[1mBackground task manager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:48:02.079\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mstop_monitoring\u001b[0m:\u001b[36m48\u001b[0m | \u001b[31m\u001b[1mError stopping monitoring and optimizations: 'ExecutionMonitor' object has no attribute 'stop_monitoring'\u001b[0m\n\u001b[32m2025-08-28 19:48:02.180\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down BackgroundTaskManager...\u001b[0m\n\u001b[32m2025-08-28 19:48:02.180\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackgroundTaskManager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:48:02.180\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.base_agent\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m68\u001b[0m | \u001b[1mShutting down Supervisor\u001b[0m\n\u001b[32m2025-08-28 19:48:02.180\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m737\u001b[0m | \u001b[1mShutting down WebSocket manager with 0 connections\u001b[0m\n\u001b[32m2025-08-28 19:48:02.180\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m752\u001b[0m | \u001b[1mWebSocket manager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:48:02.181\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mcleanup_resources\u001b[0m:\u001b[36m101\u001b[0m | \u001b[1mWebSocket manager shutdown completed\u001b[0m\n\u001b[32m2025-08-28 19:48:02.182\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m135\u001b[0m | \u001b[1mApplication shutdown complete.\u001b[0m\n\u001b[32m2025-08-28 19:48:02.182\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication shutdown complete.\u001b[0m\n\u001b[32m2025-08-28 19:48:02.182\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication shutdown complete.\u001b[0m\n\u001b[32m2025-08-28 19:48:02.182\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mFinished server process [409]\u001b[0m\n\u001b[32m2025-08-28 19:48:02.183\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mFinished server process [409]\u001b[0m\n\u001b[32m2025-08-28 19:48:02.186\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:48:08.113\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:48:08.132\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:48:08.132\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:48:08.138\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:48:12.928\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:48:12.929\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:48:12.929\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:48:12.929\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:48:12.929\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:48:13.005\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:48:13.005\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:48:15.545\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:48:15.545\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:48:15.547\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:48:21.902\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:48:21.919\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:48:21.919\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:48:21.923\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:48:25.898\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:48:25.898\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:48:25.898\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:48:25.898\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:48:25.898\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:48:25.982\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:48:25.983\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:48:28.965\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36m_signal_handler\u001b[0m:\u001b[36m45\u001b[0m | \u001b[1mReceived signal 15, cleaning up multiprocessing resources...\u001b[0m\n\u001b[32m2025-08-28 19:48:28.965\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:48:28.966\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:48:34.778\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_get_postgres_url\u001b[0m:\u001b[36m184\u001b[0m | \u001b[1mUsing PostgreSQL URL from development configuration\u001b[0m\n\u001b[32m2025-08-28 19:48:34.800\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mGoogle Cloud Secret Manager not available: cannot import name 'secretmanager' from 'google.cloud' (unknown location)\u001b[0m\n\u001b[32m2025-08-28 19:48:34.801\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.database\u001b[0m:\u001b[36m_populate_redis_config\u001b[0m:\u001b[36m138\u001b[0m | \u001b[1mRedis Configuration (development/URL/No SSL): redis://redis:6379/0, Pool: 10, DB: 0\u001b[0m\n\u001b[32m2025-08-28 19:48:34.806\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.configuration.secrets\u001b[0m:\u001b[36mpopulate_secrets\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mPopulated secrets for development\u001b[0m\n\u001b[32m2025-08-28 19:48:39.288\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS Configuration for development:\u001b[0m\n\u001b[32m2025-08-28 19:48:39.288\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Origins count: 41\u001b[0m\n\u001b[32m2025-08-28 19:48:39.288\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  Allow credentials: True\u001b[0m\n\u001b[32m2025-08-28 19:48:39.288\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m  First 3 origins: ['http://localhost:3000', 'http://localhost:3001', 'http://localhost:3002']\u001b[0m\n\u001b[32m2025-08-28 19:48:39.288\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORS middleware configured for environment: development\u001b[0m\n\u001b[32m2025-08-28 19:48:39.345\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAuthentication middleware configured with WebSocket exclusions\u001b[0m\n\u001b[32m2025-08-28 19:48:39.345\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSession middleware config: same_site=lax, https_only=False, environment=development\u001b[0m\n\u001b[32m2025-08-28 19:48:46.162\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.state_persistence_optimized\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m52\u001b[0m | \u001b[1mOptimized state persistence service initialized\u001b[0m\n\u001b[32m2025-08-28 19:48:50.110\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.health.telemetry\u001b[0m:\u001b[36mregister_service\u001b[0m:\u001b[36m340\u001b[0m | \u001b[1mRegistered telemetry for service: netra-ai-platform\u001b[0m\n\u001b[32m2025-08-28 19:48:51.263\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\n\u001b[32m2025-08-28 19:48:51.264\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_gate.quality_gate_core\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m38\u001b[0m | \u001b[1mQuality Gate Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:48:51.264\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.quality_monitoring.service\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m51\u001b[0m | \u001b[1mQuality Monitoring Service initialized\u001b[0m\n\u001b[32m2025-08-28 19:48:51.264\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.fallback_response.response_generator\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m30\u001b[0m | \u001b[1mResponse Generator initialized\u001b[0m\n\u001b[32m2025-08-28 19:48:57.502\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted server process [493]\u001b[0m\n\u001b[32m2025-08-28 19:48:57.502\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted server process [493]\u001b[0m\n\u001b[32m2025-08-28 19:48:57.502\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application startup.\u001b[0m\n\u001b[32m2025-08-28 19:48:57.502\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWaiting for application startup.\u001b[0m\n\u001b[32m2025-08-28 19:48:57.569\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.fastapi_auth_middleware\u001b[0m:\u001b[36m_get_jwt_secret_with_validation\u001b[0m:\u001b[36m677\u001b[0m | \u001b[1mJWT secret configured: 32 characters\u001b[0m\n\u001b[32m2025-08-28 19:48:57.569\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.fastapi_auth_middleware\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m76\u001b[0m | \u001b[1mFastAPIAuthMiddleware initialized with 12 excluded paths\u001b[0m\n\u001b[32m2025-08-28 19:48:57.569\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.security_headers_middleware\u001b[0m:\u001b[36m_log_initialization\u001b[0m:\u001b[36m43\u001b[0m | \u001b[1mSecurity headers middleware initialized for development environment\u001b[0m\n\u001b[32m2025-08-28 19:48:57.570\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.middleware.security_response_middleware\u001b[0m:\u001b[36m__init__\u001b[0m:\u001b[36m36\u001b[0m | \u001b[1mSecurityResponseMiddleware initialized\u001b[0m\n\u001b[32m2025-08-28 19:48:57.570\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCORSFixMiddleware initialized with 41 origins for development\u001b[0m\n\u001b[32m2025-08-28 19:48:57.570\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m952\u001b[0m | \u001b[1mUsing robust startup manager with dependency resolution...\u001b[0m\n\u001b[32m2025-08-28 19:48:57.570\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m962\u001b[0m | \u001b[1mStartup in progress flags set - health endpoint will report startup in progress\u001b[0m\n\u001b[32m2025-08-28 19:48:57.625\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: database (priority=CRITICAL)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.625\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: redis (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.625\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: auth_service (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.625\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: websocket (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.625\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: clickhouse (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.625\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: monitoring (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: background_tasks (priority=MEDIUM)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: metrics (priority=LOW)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: tracing (priority=LOW)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRegistered startup component: agent_supervisor (priority=HIGH)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_logging\u001b[0m:\u001b[36m262\u001b[0m | \u001b[1mApplication startup...\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36minitialize_system\u001b[0m:\u001b[36m564\u001b[0m | \u001b[1mStarting robust system initialization...\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarting system initialization\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitialization order: ['database', 'auth_service', 'redis', 'websocket', 'agent_supervisor', 'background_tasks', 'clickhouse', 'monitoring', 'metrics', 'tracing']\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing CRITICAL priority components: ['database']\u001b[0m\n\u001b[32m2025-08-28 19:48:57.626\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing database (attempt 1/3)\u001b[0m\n\u001b[32m2025-08-28 19:48:57.627\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36msetup_multiprocessing\u001b[0m:\u001b[36m108\u001b[0m | \u001b[1mMultiprocessing configured with method: forkserver\u001b[0m\n\u001b[32m2025-08-28 19:48:57.627\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.database_env_service\u001b[0m:\u001b[36mvalidate_database_environment\u001b[0m:\u001b[36m49\u001b[0m | \u001b[1mDatabase environment validation passed for development\u001b[0m\n\u001b[32m2025-08-28 19:48:57.627\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_check_and_run_migrations\u001b[0m:\u001b[36m365\u001b[0m | \u001b[1mChecking database migrations...\u001b[0m\n\u001b[32m2025-08-28 19:48:57.640\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mContext impl PostgresqlImpl.\u001b[0m\n\u001b[32m2025-08-28 19:48:57.641\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mWill assume transactional DDL.\u001b[0m\n\u001b[32m2025-08-28 19:48:57.645\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_perform_migration\u001b[0m:\u001b[36m375\u001b[0m | \u001b[1mCurrent revision: add_deleted_at_001\u001b[0m\n\u001b[32m2025-08-28 19:48:58.598\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.migration_utils\u001b[0m:\u001b[36mlog_migration_status\u001b[0m:\u001b[36m199\u001b[0m | \u001b[1mDatabase is up to date\u001b[0m\n\u001b[32m2025-08-28 19:48:58.599\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36msetup_database_connections\u001b[0m:\u001b[36m441\u001b[0m | \u001b[1mSetting up database connections...\u001b[0m\n\u001b[32m2025-08-28 19:48:58.599\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.postgres_core\u001b[0m:\u001b[36minitialize_postgres\u001b[0m:\u001b[36m578\u001b[0m | \u001b[1mInitializing async engine and session factory...\u001b[0m\n\u001b[32m2025-08-28 19:48:58.600\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.db.postgres_core\u001b[0m:\u001b[36m_create_and_setup_engine\u001b[0m:\u001b[36m514\u001b[0m | \u001b[1mPostgreSQL async engine created with resilient AsyncAdaptedQueuePool connection pooling\u001b[0m\n\u001b[32m2025-08-28 19:48:58.601\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mImporting database models to register tables...\u001b[0m\n\u001b[32m2025-08-28 19:48:58.601\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m59\u001b[0m | \u001b[1mChecking if database tables exist...\u001b[0m\n\u001b[32m2025-08-28 19:48:58.615\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_ensure_database_tables_exist\u001b[0m:\u001b[36m114\u001b[0m | \u001b[1mAll 26 database tables are present\u001b[0m\n\u001b[32m2025-08-28 19:48:58.618\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36msetup_database_connections\u001b[0m:\u001b[36m485\u001b[0m | \u001b[1mDatabase session factory successfully set on app.state\u001b[0m\n\u001b[32m2025-08-28 19:48:58.618\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_database\u001b[0m:\u001b[36m605\u001b[0m | \u001b[1mDatabase initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:48:58.618\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized database in 0.99s\u001b[0m\n\u001b[32m2025-08-28 19:48:58.618\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing HIGH priority components: ['auth_service', 'redis', 'websocket', 'agent_supervisor']\u001b[0m\n\u001b[32m2025-08-28 19:48:58.619\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing auth_service (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:48:58.619\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing redis (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:48:58.619\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing websocket (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:48:58.619\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing agent_supervisor (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:48:58.619\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_core_services\u001b[0m:\u001b[36m520\u001b[0m | \u001b[1mLoading key manager...\u001b[0m\n\u001b[32m2025-08-28 19:48:58.619\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_core_services\u001b[0m:\u001b[36m522\u001b[0m | \u001b[1mKey manager loaded.\u001b[0m\n\u001b[32m2025-08-28 19:48:58.619\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_auth_service\u001b[0m:\u001b[36m635\u001b[0m | \u001b[1mAuth service initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:48:58.653\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_websocket_components\u001b[0m:\u001b[36m729\u001b[0m | \u001b[1mWebSocket components initialized\u001b[0m\n\u001b[32m2025-08-28 19:48:58.654\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_websocket\u001b[0m:\u001b[36m650\u001b[0m | \u001b[1mWebSocket initialization completed successfully\u001b[0m\nWARNING:  WatchFiles detected changes in 'netra_backend/tests/unit/agents/data_sub_agent/test_clickhouse_client.py'. Reloading...\n\u001b[32m2025-08-28 19:49:00.697\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:49:00.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:49:00.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:49:00.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:49:00.698\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:49:00.699\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:49:00.699\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:49:00.699\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_create_agent_supervisor\u001b[0m:\u001b[36m667\u001b[0m | \u001b[1mAgent supervisor created successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.699\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_agent_supervisor\u001b[0m:\u001b[36m728\u001b[0m | \u001b[1mAgent supervisor initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.700\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized auth_service in 2.08s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.700\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized websocket in 2.08s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.700\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized agent_supervisor in 2.08s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.701\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.redis_manager\u001b[0m:\u001b[36m_test_redis_connection\u001b[0m:\u001b[36m114\u001b[0m | \u001b[1mRedis connected successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.701\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_redis\u001b[0m:\u001b[36m620\u001b[0m | \u001b[1mRedis initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.702\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized redis in 2.08s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.702\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing MEDIUM priority components: ['background_tasks', 'clickhouse', 'monitoring']\u001b[0m\n\u001b[32m2025-08-28 19:49:00.702\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing background_tasks (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.702\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing clickhouse (attempt 1/2)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.702\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing monitoring (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.703\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m662\u001b[0m | \u001b[1mBackground task manager initialized\u001b[0m\n\u001b[32m2025-08-28 19:49:00.703\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRunning comprehensive startup fixes verification...\u001b[0m\n\u001b[32m2025-08-28 19:49:00.703\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplied Redis mode default with fallback capability\u001b[0m\n\u001b[32m2025-08-28 19:49:00.703\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mService discovery disabled for microservice independence\u001b[0m\n\u001b[32m2025-08-28 19:49:00.703\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mDynamic port allocation is configured\u001b[0m\n\u001b[32m2025-08-28 19:49:00.703\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackground task timeout properly configured: 120s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mRedis local fallback is configured\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mDatabase transaction rollback fix is available\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStartup fixes verification complete: 4/5 fixes applied\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m668\u001b[0m | \u001b[1mApplied 4/5 startup fixes\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_background_tasks\u001b[0m:\u001b[36m672\u001b[0m | \u001b[1mBackground tasks initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36minitialize_clickhouse\u001b[0m:\u001b[36m555\u001b[0m | \u001b[1mSkipping ClickHouse initialization in development environment (optional service - may not be available)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.database.health_checker\u001b[0m:\u001b[36mstart_monitoring\u001b[0m:\u001b[36m29\u001b[0m | \u001b[1mStarting database connection monitoring\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.base.monitoring\u001b[0m:\u001b[36mstart_monitoring\u001b[0m:\u001b[36m318\u001b[0m | \u001b[1mExecution monitoring started\u001b[0m\n\u001b[32m2025-08-28 19:49:00.704\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_create_monitoring_task\u001b[0m:\u001b[36m859\u001b[0m | \u001b[1mComprehensive monitoring started\u001b[0m\n\u001b[32m2025-08-28 19:49:00.705\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.performance_optimization_manager\u001b[0m:\u001b[36minitialize\u001b[0m:\u001b[36m43\u001b[0m | \u001b[1mPerformance optimization manager initialized\u001b[0m\n\u001b[32m2025-08-28 19:49:00.705\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCreated background task 'database_index_optimization' (ID: 646bad33-5302-4b03-b2f8-a38fcac47bbe) with 120s timeout\u001b[0m\n\u001b[32m2025-08-28 19:49:00.705\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_schedule_background_optimizations\u001b[0m:\u001b[36m224\u001b[0m | \u001b[1mDatabase index optimization scheduled as background task (ID: 646bad33-5302-4b03-b2f8-a38fcac47bbe)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.705\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36m_initialize_performance_optimizations\u001b[0m:\u001b[36m194\u001b[0m | \u001b[1mPerformance optimizations initialized successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.707\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized background_tasks in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.707\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized clickhouse in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.707\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized monitoring in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.708\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing LOW priority components: ['metrics', 'tracing']\u001b[0m\n\u001b[32m2025-08-28 19:49:00.708\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing metrics (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.708\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mInitializing tracing (attempt 1/1)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.708\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_metrics\u001b[0m:\u001b[36m684\u001b[0m | \u001b[1mMetrics initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.708\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36m_initialize_tracing\u001b[0m:\u001b[36m696\u001b[0m | \u001b[1mTracing initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.708\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized metrics in 0.00s\u001b[0m\n\u001b[32m2025-08-28 19:49:00.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mSuccessfully initialized tracing in 0.00s\u001b[0m\n/usr/local/lib/python3.11/site-packages/websockets/legacy/server.py:1178: DeprecationWarning: remove second argument of ws_handler\n  warnings.warn(\"remove second argument of ws_handler\", DeprecationWarning)\n\u001b[32m2025-08-28 19:49:00.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStartup completed in 3.08s: 10/10 successful, 0 degraded, 0 failed\u001b[0m\n\u001b[32m2025-08-28 19:49:00.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.startup_manager\u001b[0m:\u001b[36minitialize_system\u001b[0m:\u001b[36m570\u001b[0m | \u001b[1mRobust system initialization completed successfully\u001b[0m\n\u001b[32m2025-08-28 19:49:00.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mrun_complete_startup\u001b[0m:\u001b[36m986\u001b[0m | \u001b[1mStartup completion flags set - health endpoint will report healthy\u001b[0m\n\u001b[32m2025-08-28 19:49:00.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.startup_module\u001b[0m:\u001b[36mlog_startup_complete\u001b[0m:\u001b[36m880\u001b[0m | \u001b[1mSystem Ready (Took 3.14s).\u001b[0m\n\u001b[32m2025-08-28 19:49:00.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication startup complete.\u001b[0m\n\u001b[32m2025-08-28 19:49:00.709\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mApplication startup complete.\u001b[0m\n\u001b[32m2025-08-28 19:49:00.715\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mshutdown_cleanup\u001b[0m:\u001b[36m20\u001b[0m | \u001b[1mApplication shutdown initiated...\u001b[0m\n\u001b[32m2025-08-28 19:49:00.715\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.utils.multiprocessing_cleanup\u001b[0m:\u001b[36mcleanup_all\u001b[0m:\u001b[36m90\u001b[0m | \u001b[1mMultiprocessing resources cleaned up\u001b[0m\n\u001b[32m2025-08-28 19:49:00.716\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m120\u001b[0m | \u001b[1mShutting down background task manager...\u001b[0m\n\u001b[32m2025-08-28 19:49:00.716\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down BackgroundTaskManager...\u001b[0m\n\u001b[32m2025-08-28 19:49:00.716\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCancelling 1 active background tasks\u001b[0m\n\u001b[32m2025-08-28 19:49:00.718\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[31m\u001b[1mException in ASGI application\n\u001b[0m\n\u001b[33m\u001b[1mTraceback (most recent call last):\u001b[0m\n  File \"<string>\", line 1, in <module>\n  File \"/usr/local/lib/python3.11/multiprocessing/spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n  File \"/usr/local/lib/python3.11/multiprocessing/spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n  File \"/usr/local/lib/python3.11/multiprocessing/process.py\", line 314, in _bootstrap\n    self.run()\n  File \"/usr/local/lib/python3.11/multiprocessing/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py\", line 76, in subprocess_started\n    target(sockets=sockets)\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/server.py\", line 61, in run\n    return asyncio.run(self.serve(sockets=sockets))\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 189, in run\n    with Runner(debug=debug) as runner:\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n    self.close()\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 71, in close\n    _cancel_all_tasks(loop)\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 201, in _cancel_all_tasks\n    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))\n> File \"/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 426, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 84, in __call__\n    return await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.11/site-packages/fastapi/applications.py\", line 1106, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/usr/local/lib/python3.11/site-packages/starlette/applications.py\", line 122, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"\u001b[32m/app/netra_backend/app/middleware/\u001b[0m\u001b[32m\u001b[1mcors_fix_middleware.py\u001b[0m\", line \u001b[33m66\u001b[0m, in \u001b[35mdispatch\u001b[0m\n    \u001b[1mresponse\u001b[0m \u001b[35m\u001b[1m=\u001b[0m \u001b[35m\u001b[1mawait\u001b[0m \u001b[1mcall_next\u001b[0m\u001b[1m(\u001b[0m\u001b[1mrequest\u001b[0m\u001b[1m)\u001b[0m\n  File \"/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n  File \"/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py\", line 96, in receive\n    await checkpoint()\n  File \"/usr/local/lib/python3.11/site-packages/anyio/lowlevel.py\", line 33, in checkpoint\n    await get_asynclib().checkpoint()\n  File \"/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 447, in checkpoint\n    await sleep(0)\n  File \"/usr/local/lib/python3.11/asyncio/tasks.py\", line 640, in sleep\n    await __sleep0()\n  File \"/usr/local/lib/python3.11/asyncio/tasks.py\", line 634, in __sleep0\n    yield\n\u001b[31m\u001b[1masyncio.exceptions.CancelledError\u001b[0m\n\u001b[32m2025-08-28 19:49:00.737\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[31m\u001b[1mException in ASGI application\n\u001b[0m\n\u001b[33m\u001b[1mTraceback (most recent call last):\u001b[0m\n  File \"<string>\", line 1, in <module>\n  File \"/usr/local/lib/python3.11/multiprocessing/spawn.py\", line 122, in spawn_main\n    exitcode = _main(fd, parent_sentinel)\n  File \"/usr/local/lib/python3.11/multiprocessing/spawn.py\", line 135, in _main\n    return self._bootstrap(parent_sentinel)\n  File \"/usr/local/lib/python3.11/multiprocessing/process.py\", line 314, in _bootstrap\n    self.run()\n  File \"/usr/local/lib/python3.11/multiprocessing/process.py\", line 108, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py\", line 76, in subprocess_started\n    target(sockets=sockets)\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/server.py\", line 61, in run\n    return asyncio.run(self.serve(sockets=sockets))\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 189, in run\n    with Runner(debug=debug) as runner:\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n    self.close()\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 71, in close\n    _cancel_all_tasks(loop)\n  File \"/usr/local/lib/python3.11/asyncio/runners.py\", line 201, in _cancel_all_tasks\n    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))\n> File \"/usr/local/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py\", line 426, in run_asgi\n    result = await app(  # type: ignore[func-returns-value]\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py\", line 84, in __call__\n    return await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.11/site-packages/fastapi/applications.py\", line 1106, in __call__\n    await super().__call__(scope, receive, send)\n  File \"/usr/local/lib/python3.11/site-packages/starlette/applications.py\", line 122, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"\u001b[32m/app/netra_backend/app/middleware/\u001b[0m\u001b[32m\u001b[1mcors_fix_middleware.py\u001b[0m\", line \u001b[33m66\u001b[0m, in \u001b[35mdispatch\u001b[0m\n    \u001b[1mresponse\u001b[0m \u001b[35m\u001b[1m=\u001b[0m \u001b[35m\u001b[1mawait\u001b[0m \u001b[1mcall_next\u001b[0m\u001b[1m(\u001b[0m\u001b[1mrequest\u001b[0m\u001b[1m)\u001b[0m\n  File \"/usr/local/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n  File \"/usr/local/lib/python3.11/site-packages/anyio/streams/memory.py\", line 96, in receive\n    await checkpoint()\n  File \"/usr/local/lib/python3.11/site-packages/anyio/lowlevel.py\", line 33, in checkpoint\n    await get_asynclib().checkpoint()\n  File \"/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 447, in checkpoint\n    await sleep(0)\n  File \"/usr/local/lib/python3.11/asyncio/tasks.py\", line 640, in sleep\n    await __sleep0()\n  File \"/usr/local/lib/python3.11/asyncio/tasks.py\", line 634, in __sleep0\n    yield\n\u001b[31m\u001b[1masyncio.exceptions.CancelledError\u001b[0m\n\u001b[32m2025-08-28 19:49:00.738\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m('172.18.0.1', 53684) - \"WebSocket /ws\" [accepted]\u001b[0m\n\u001b[32m2025-08-28 19:49:00.738\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m('172.18.0.1', 53684) - \"WebSocket /ws\" [accepted]\u001b[0m\n\u001b[32m2025-08-28 19:49:00.738\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m121\u001b[0m | \u001b[1mWebSocket accepted with subprotocol: jwt-auth\u001b[0m\n\u001b[32m2025-08-28 19:49:00.769\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_websocket_cors_handler\u001b[0m:\u001b[36m566\u001b[0m | \u001b[1mWebSocket CORS: Detected environment from config: 'development'\u001b[0m\n\u001b[32m2025-08-28 19:49:00.770\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_environment_origins_for_environment\u001b[0m:\u001b[36m441\u001b[0m | \u001b[1mWebSocket CORS configured for environment 'development' with 41 allowed origins\u001b[0m\n\u001b[32m2025-08-28 19:49:00.770\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_environment_origins_for_environment\u001b[0m:\u001b[36m450\u001b[0m | \u001b[1mWebSocket CORS: Running in DEVELOPMENT mode with permissive origins\u001b[0m\n\u001b[32m2025-08-28 19:49:00.770\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mget_websocket_cors_handler\u001b[0m:\u001b[36m583\u001b[0m | \u001b[1mWebSocket CORS: Creating handler for environment 'development' with 41 origins\u001b[0m\n\u001b[32m2025-08-28 19:49:00.771\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.websocket_cors\u001b[0m:\u001b[36mvalidate_websocket_origin\u001b[0m:\u001b[36m360\u001b[0m | \u001b[1mWebSocket connection allowed from origin: http://localhost:3000 in development environment\u001b[0m\n\u001b[32m2025-08-28 19:49:00.772\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mStarted trace span: websocket_jwt_validation (trace_id: b3ea37b9429c49ce80d6dafaa0bcb236)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.773\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection open\u001b[0m\n\u001b[32m2025-08-28 19:49:00.773\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection open\u001b[0m\n\u001b[32m2025-08-28 19:49:00.789\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:49:00.791\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:49:00.792\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:49:00.792\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:49:00.792\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:49:00.793\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:49:00.796\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 14.92ms | Trace: trace_d1d1a94e35b8453d\u001b[0m\n\u001b[32m2025-08-28 19:49:00.797\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:49:00.797\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:49:00.809\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:49:00.809\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /health | Status: 200 | Duration: 24.70ms | Trace: trace_9eb5d7b703f24202\u001b[0m\n\u001b[32m2025-08-28 19:49:00.810\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mCompleted trace span: websocket_jwt_validation\u001b[0m\n\u001b[32m2025-08-28 19:49:00.810\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.auth\u001b[0m:\u001b[36mauthenticate_websocket\u001b[0m:\u001b[36m121\u001b[0m | \u001b[1mWebSocket authenticated: dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:49:00.810\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m154\u001b[0m | \u001b[1mWebSocket authenticated for user: dev-temp-7a06feab at 2025-08-28T19:49:00.810903+00:00\u001b[0m\n\u001b[32m2025-08-28 19:49:00.811\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mconnect_user\u001b[0m:\u001b[36m124\u001b[0m | \u001b[1mWebSocket connected: conn_dev-temp-7a06feab_dd8ea0a9 for user dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:49:00.811\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: triage\u001b[0m\n\u001b[32m2025-08-28 19:49:00.812\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: data\u001b[0m\n\u001b[32m2025-08-28 19:49:00.812\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: optimization\u001b[0m\n\u001b[32m2025-08-28 19:49:00.813\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: actions\u001b[0m\n\u001b[32m2025-08-28 19:49:00.813\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: reporting\u001b[0m\n\u001b[32m2025-08-28 19:49:00.813\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: synthetic_data\u001b[0m\n\u001b[32m2025-08-28 19:49:00.814\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.supervisor.agent_registry\u001b[0m:\u001b[36mregister\u001b[0m:\u001b[36m80\u001b[0m | \u001b[1mRegistered agent: corpus_admin\u001b[0m\n\u001b[32m2025-08-28 19:49:00.834\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36m_register_components\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mMCP Server components registered\u001b[0m\n\u001b[32m2025-08-28 19:49:00.834\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36mset_services\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mMCP Server services configured\u001b[0m\n\u001b[32m2025-08-28 19:49:00.834\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.mcp_service\u001b[0m:\u001b[36m_initialize_session_storage\u001b[0m:\u001b[36m106\u001b[0m | \u001b[1mMCP Service initialized with FastMCP 2\u001b[0m\n\u001b[32m2025-08-28 19:49:00.834\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m188\u001b[0m | \u001b[1mWebSocket ready: conn_dev-temp-7a06feab_dd8ea0a9\u001b[0m\n\u001b[32m2025-08-28 19:49:00.835\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m191\u001b[0m | \u001b[1mStarting message handling loop for connection: conn_dev-temp-7a06feab_dd8ea0a9\u001b[0m\n\u001b[32m2025-08-28 19:49:00.835\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m193\u001b[0m | \u001b[1mWebSocket state before loop - client_state: WebSocketState.CONNECTED, application_state: WebSocketState.CONNECTED\u001b[0m\n\u001b[32m2025-08-28 19:49:00.835\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m276\u001b[0m | \u001b[1mEntering message handling loop for connection: conn_dev-temp-7a06feab_dd8ea0a9 (user: dev-temp-7a06feab)\u001b[0m\n\u001b[32m2025-08-28 19:49:00.835\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m279\u001b[0m | \u001b[1mWebSocket state at loop entry - client_state: WebSocketState.CONNECTED, application_state: WebSocketState.CONNECTED\u001b[0m\n\u001b[32m2025-08-28 19:49:00.835\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m285\u001b[0m | \u001b[1mFirst loop iteration for conn_dev-temp-7a06feab_dd8ea0a9, WebSocket is_connected returned True\u001b[0m\n\u001b[32m2025-08-28 19:49:00.837\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36m_register_components\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mMCP Server components registered\u001b[0m\n\u001b[32m2025-08-28 19:49:00.837\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.netra_mcp.modules.netra_mcp_core\u001b[0m:\u001b[36mset_services\u001b[0m:\u001b[36m56\u001b[0m | \u001b[1mMCP Server services configured\u001b[0m\n\u001b[32m2025-08-28 19:49:00.837\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.services.mcp_service\u001b[0m:\u001b[36m_initialize_session_storage\u001b[0m:\u001b[36m106\u001b[0m | \u001b[1mMCP Service initialized with FastMCP 2\u001b[0m\n\u001b[32m2025-08-28 19:49:00.838\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mAll background tasks cancelled\u001b[0m\n\u001b[32m2025-08-28 19:49:00.838\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackgroundTaskManager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:49:00.838\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m122\u001b[0m | \u001b[1mBackground task manager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:49:00.839\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mstop_monitoring\u001b[0m:\u001b[36m48\u001b[0m | \u001b[31m\u001b[1mError stopping monitoring and optimizations: 'ExecutionMonitor' object has no attribute 'stop_monitoring'\u001b[0m\n\u001b[32m2025-08-28 19:49:00.853\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1m127.0.0.1:36126 - \"GET /health HTTP/1.1\" 200\u001b[0m\n\u001b[32m2025-08-28 19:49:00.856\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:49:00.858\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/check-blacklist \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:49:00.861\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:49:00.862\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mHTTP Request: POST http://auth:8081/auth/validate \"HTTP/1.1 200 OK\"\u001b[0m\n\u001b[32m2025-08-28 19:49:01.157\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mShutting down BackgroundTaskManager...\u001b[0m\n\u001b[32m2025-08-28 19:49:01.157\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mBackgroundTaskManager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:49:01.157\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.agents.base_agent\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m68\u001b[0m | \u001b[1mShutting down Supervisor\u001b[0m\n\u001b[32m2025-08-28 19:49:01.158\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mUsing dev user: dev@example.com\u001b[0m\n\u001b[32m2025-08-28 19:49:01.160\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m737\u001b[0m | \u001b[1mShutting down WebSocket manager with 1 connections\u001b[0m\n\u001b[32m2025-08-28 19:49:01.161\u001b[0m | \u001b[33m\u001b[1mWARNING \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[33m\u001b[1mUsing dev user: dev@example.com\u001b[0m\n\u001b[32m2025-08-28 19:49:01.163\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /api/mcp/tools | Status: 200 | Duration: 378.40ms | Trace: trace_ecc68a234c954da3\u001b[0m\n\u001b[32m2025-08-28 19:49:01.165\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36m_cleanup_connection\u001b[0m:\u001b[36m220\u001b[0m | \u001b[1mWebSocket closed for connection conn_dev-temp-7a06feab_dd8ea0a9: 1001 - Server shutdown\u001b[0m\n/usr/local/lib/python3.11/site-packages/websockets/exceptions.py:125: DeprecationWarning: ConnectionClosed.code is deprecated; use Protocol.close_code or ConnectionClosed.rcvd.code\n  warnings.warn(  # deprecated in 13.1 - 2024-09-21\n\u001b[32m2025-08-28 19:49:01.166\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection closed\u001b[0m\n\u001b[32m2025-08-28 19:49:01.166\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[1mconnection closed\u001b[0m\n\u001b[32m2025-08-28 19:49:01.167\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.manager\u001b[0m:\u001b[36mshutdown\u001b[0m:\u001b[36m752\u001b[0m | \u001b[1mWebSocket manager shutdown complete\u001b[0m\n\u001b[32m2025-08-28 19:49:01.167\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m362\u001b[0m | \u001b[1mWebSocket disconnect: {'connection_id': 'conn_dev-temp-7a06feab_dd8ea0a9', 'user_id': 'dev-temp-7a06feab', 'disconnect_code': 1001, 'disconnect_reason': 'No reason provided', 'connection_duration': 'Unknown'}\u001b[0m\n\u001b[32m2025-08-28 19:49:01.167\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36m_handle_websocket_messages\u001b[0m:\u001b[36m383\u001b[0m | \u001b[1mExiting message handling loop for connection: conn_dev-temp-7a06feab_dd8ea0a9 | Duration: 0.3s | Messages processed: 0 | Errors: 0 | User: dev-temp-7a06feab\u001b[0m\n\u001b[32m2025-08-28 19:49:01.167\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m198\u001b[0m | \u001b[1mMessage handling loop ended for connection: conn_dev-temp-7a06feab_dd8ea0a9\u001b[0m\n\u001b[32m2025-08-28 19:49:01.167\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.websocket_core.auth\u001b[0m:\u001b[36mcleanup\u001b[0m:\u001b[36m349\u001b[0m | \u001b[1mWebSocket authenticator cleanup completed\u001b[0m\n\u001b[32m2025-08-28 19:49:01.168\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.core.request_context\u001b[0m:\u001b[36mlog_request_details\u001b[0m:\u001b[36m69\u001b[0m | \u001b[1mRequest: GET /api/mcp/servers | Status: 200 | Duration: 385.68ms | Trace: trace_50638373a6074fe5\u001b[0m\n\u001b[32m2025-08-28 19:49:01.168\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mcleanup_resources\u001b[0m:\u001b[36m101\u001b[0m | \u001b[1mWebSocket manager shutdown completed\u001b[0m\n\u001b[32m2025-08-28 19:49:01.168\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.routes.websocket\u001b[0m:\u001b[36mwebsocket_endpoint\u001b[0m:\u001b[36m255\u001b[0m | \u001b[1mWebSocket cleanup completed: conn_dev-temp-7a06feab_dd8ea0a9\u001b[0m\n\u001b[32m2025-08-28 19:49:01.170\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36mnetra_backend.app.shutdown\u001b[0m:\u001b[36mrun_complete_shutdown\u001b[0m:\u001b[36m135\u001b[0m | \u001b[1mApplication shutdown complete.\u001b[0m\n\u001b[32m2025-08-28 19:49:01.171\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[31m\u001b[1mTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/starlette/routing.py\", line 686, in lifespan\n    await receive()\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/lifespan/on.py\", line 137, in receive\n    return await self.receive_queue.get()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/asyncio/queues.py\", line 158, in get\n    await getter\nasyncio.exceptions.CancelledError\n\u001b[0m\n\u001b[32m2025-08-28 19:49:01.171\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[31m\u001b[1mTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/starlette/routing.py\", line 686, in lifespan\n    await receive()\n  File \"/usr/local/lib/python3.11/site-packages/uvicorn/lifespan/on.py\", line 137, in receive\n    return await self.receive_queue.get()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/asyncio/queues.py\", line 158, in get\n    await getter\nasyncio.exceptions.CancelledError\n\u001b[0m\n\u001b[32m2025-08-28 19:49:01.173\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[31m\u001b[1man error occurred during closing of asynchronous generator <async_generator object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.body_stream at 0x780bf8c73040>\nasyncgen: <async_generator object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.body_stream at 0x780bf8c73040>\u001b[0m\n\u001b[31m\u001b[1mRuntimeError\u001b[0m:\u001b[1m aclose(): asynchronous generator is already running\u001b[0m\n\u001b[32m2025-08-28 19:49:01.173\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[31m\u001b[1man error occurred during closing of asynchronous generator <async_generator object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.body_stream at 0x780bf8c72c40>\nasyncgen: <async_generator object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.body_stream at 0x780bf8c72c40>\u001b[0m\n\u001b[31m\u001b[1mRuntimeError\u001b[0m:\u001b[1m aclose(): asynchronous generator is already running\u001b[0m\n\u001b[32m2025-08-28 19:49:01.173\u001b[0m | \u001b[31m\u001b[1mERROR   \u001b[0m | \u001b[36mlogging\u001b[0m:\u001b[36mhandle\u001b[0m:\u001b[36m978\u001b[0m | \u001b[31m\u001b[1man error occurred during closing of asynchronous generator <async_generator object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.body_stream at 0x780bf8c72f40>\nasyncgen: <async_generator object BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.body_stream at 0x780bf8c72f40>\u001b[0m\n\u001b[31m\u001b[1mRuntimeError\u001b[0m:\u001b[1m aclose(): asynchronous generator is already running\u001b[0m\n\n"
  }
}