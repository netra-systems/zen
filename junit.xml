<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="28" failures="83" skipped="1" tests="267" time="108.384" timestamp="2025-09-07T21:04:59.183219-07:00" hostname="Anthony"><testcase classname="" name="tests.test_auth_real_services_comprehensive" time="0.000"><skipped message="collection skipped">('C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\test_auth_real_services_comprehensive.py', 51, 'Skipped: Test framework functions have been removed')</skipped></testcase><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_auth_config_provides_critical_business_configuration" time="0.410" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_auth_config_adapts_to_environment_specific_business_needs" time="0.003" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_oauth_configuration_enables_user_onboarding_business_value" time="0.004" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_security_configuration_protects_business_assets" time="0.002" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_session_configuration_balances_security_and_usability" time="0.003" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_database_configuration_supports_business_scalability" time="0.005" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_redis_configuration_enables_session_management_business_value" time="0.003" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_cors_configuration_enables_frontend_integration_business_value" time="0.003" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_configuration_logging_masks_secrets_for_security" time="0.010" /><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_unified_auth_interface_provides_business_authentication_capabilities" time="0.006"><failure message="AssertionError: assert False&#10; +  where False = hasattr(&lt;auth_service.auth_core.unified_auth_interface.UnifiedAuthInterface object at 0x000001D89CC76900&gt;, 'authenticate_user')">auth_service\tests\unit\test_auth_service_core_business_value.py:282: in test_unified_auth_interface_provides_business_authentication_capabilities
    assert hasattr(auth_interface, 'authenticate_user')
E   AssertionError: assert False
E    +  where False = hasattr(&lt;auth_service.auth_core.unified_auth_interface.UnifiedAuthInterface object at 0x000001D89CC76900&gt;, 'authenticate_user')</failure></testcase><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_auth_interface_token_creation_supports_business_workflows" time="0.012"><failure message="TypeError: UnifiedAuthInterface.create_access_token() missing 1 required positional argument: 'email'">auth_service\tests\unit\test_auth_service_core_business_value.py:313: in test_auth_interface_token_creation_supports_business_workflows
    access_token = auth_interface.create_access_token(user_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: UnifiedAuthInterface.create_access_token() missing 1 required positional argument: 'email'</failure></testcase><testcase classname="tests.unit.test_auth_service_core_business_value.TestAuthServiceCoreBusinessValue" name="test_token_validation_protects_business_operations" time="0.006"><failure message="TypeError: UnifiedAuthInterface.create_access_token() missing 1 required positional argument: 'email'">auth_service\tests\unit\test_auth_service_core_business_value.py:344: in test_token_validation_protects_business_operations
    valid_token = auth_interface.create_access_token(user_data)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: UnifiedAuthInterface.create_access_token() missing 1 required positional argument: 'email'</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionInitialization" name="test_database_connection_initialization" time="2.935"><failure message="RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed">auth_service\auth_core\database\connection.py:67: in initialize
    await asyncio.wait_for(
..\..\..\..\miniconda3\Lib\asyncio\tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
auth_service\auth_core\database\connection.py:140: in _validate_initial_connection
    async with self.engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:177: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:175: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\auth_core\database\connection.py:87: in initialize
    raise RuntimeError(f"Database connection failed: {e}") from e
E   RuntimeError: Database connection failed: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_connection_comprehensive.py:48: in test_database_connection_initialization
    await db_conn.initialize()
auth_service\auth_core\database\connection.py:126: in initialize
    raise RuntimeError(f"Auth database initialization failed: {e}") from e
E   RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionInitialization" name="test_database_connection_idempotent_initialization" time="2.278"><failure message="RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed">auth_service\auth_core\database\connection.py:67: in initialize
    await asyncio.wait_for(
..\..\..\..\miniconda3\Lib\asyncio\tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
auth_service\auth_core\database\connection.py:140: in _validate_initial_connection
    async with self.engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:177: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:175: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\auth_core\database\connection.py:87: in initialize
    raise RuntimeError(f"Database connection failed: {e}") from e
E   RuntimeError: Database connection failed: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_connection_comprehensive.py:65: in test_database_connection_idempotent_initialization
    await db_conn.initialize()
auth_service\auth_core\database\connection.py:126: in initialize
    raise RuntimeError(f"Auth database initialization failed: {e}") from e
E   RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionInitialization" name="test_database_connection_environment_detection" time="0.006" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionInitialization" name="test_database_connection_test_mode" time="0.099" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionInitialization" name="test_database_connection_timeout_handling" time="2.283"><failure message="RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed">auth_service\auth_core\database\connection.py:67: in initialize
    await asyncio.wait_for(
..\..\..\..\miniconda3\Lib\asyncio\tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
auth_service\auth_core\database\connection.py:140: in _validate_initial_connection
    async with self.engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:177: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:175: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\auth_core\database\connection.py:87: in initialize
    raise RuntimeError(f"Database connection failed: {e}") from e
E   RuntimeError: Database connection failed: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_connection_comprehensive.py:119: in test_database_connection_timeout_handling
    await db_conn.initialize(timeout=5.0)
auth_service\auth_core\database\connection.py:126: in initialize
    raise RuntimeError(f"Auth database initialization failed: {e}") from e
E   RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionInitialization" name="test_database_connection_initialization_failure" time="0.007"><failure message="AttributeError: &lt;module 'auth_service.auth_core.database.connection' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection.py'&gt; does not have the attribute 'AuthConfig'">auth_service\tests\unit\test_database_connection_comprehensive.py:127: in test_database_connection_initialization_failure
    with patch('auth_service.auth_core.database.connection.AuthConfig') as mock_config:
..\..\..\..\miniconda3\Lib\unittest\mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\unittest\mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'auth_service.auth_core.database.connection' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection.py'&gt; does not have the attribute 'AuthConfig'</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionSessionManagement" name="test_get_session_context_manager" time="0.012" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionSessionManagement" name="test_session_transaction_commit" time="0.053" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionSessionManagement" name="test_session_transaction_rollback" time="0.033" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionSessionManagement" name="test_session_isolation" time="0.021"><failure message="sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: SELECT COUNT(*) FROM auth_users WHERE email = 'session_isolation_test@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_connection_comprehensive.py:218: in test_session_isolation
    result = await session2.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: SELECT COUNT(*) FROM auth_users WHERE email = 'session_isolation_test@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionSessionManagement" name="test_session_concurrent_access" time="0.030"><failure message="sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: INSERT INTO auth_users (id, email, full_name, hashed_password, auth_provider, provider_user_id, is_active, is_verified, created_at, updated_at, last_login_at, failed_login_attempts, locked_until) VALUES (?, ?, ?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, ?, ?, ?) RETURNING created_at, updated_at]&#10;[parameters: ('45658575-b5f1-4cb3-a5f9-d0ee973afe0c', 'concurrent_test_3@example.com', None, None, 'local', None, 1, 0, None, 0, None)]&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_connection_comprehensive.py:249: in test_session_concurrent_access
    user_ids = await asyncio.gather(
auth_service\tests\unit\test_database_connection_comprehensive.py:245: in create_user
    await session.commit()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:1014: in commit
    await greenlet_spawn(self.sync_session.commit)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:203: in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2032: in commit
    trans.commit(_to_root=True)
&lt;string&gt;:2: in commit
    ???
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state_changes.py:137: in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:1313: in commit
    self._prepare_impl()
&lt;string&gt;:2: in _prepare_impl
    ???
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\state_changes.py:137: in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:1288: in _prepare_impl
    self.session.flush()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:4345: in flush
    self._flush(objects)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:4480: in _flush
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:4441: in _flush
    flush_context.execute()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\unitofwork.py:466: in execute
    rec.execute(self)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\unitofwork.py:642: in execute
    util.preloaded.orm_persistence.save_obj(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\persistence.py:93: in save_obj
    _emit_insert_statements(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\persistence.py:1233: in _emit_insert_statements
    result = connection.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: INSERT INTO auth_users (id, email, full_name, hashed_password, auth_provider, provider_user_id, is_active, is_verified, created_at, updated_at, last_login_at, failed_login_attempts, locked_until) VALUES (?, ?, ?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, ?, ?, ?) RETURNING created_at, updated_at]
E   [parameters: ('45658575-b5f1-4cb3-a5f9-d0ee973afe0c', 'concurrent_test_3@example.com', None, None, 'local', None, 1, 0, None, 0, None)]
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionSessionManagement" name="test_get_db_session_dependency" time="0.013" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionPoolingAndPerformance" name="test_connection_pooling_multiple_sessions" time="0.036" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionPoolingAndPerformance" name="test_connection_reuse" time="0.023" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionPoolingAndPerformance" name="test_session_cleanup_on_error" time="0.012" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionHealthAndMonitoring" name="test_test_connection" time="0.014" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionHealthAndMonitoring" name="test_test_connection_with_timeout" time="0.014" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionHealthAndMonitoring" name="test_is_ready" time="0.014" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionHealthAndMonitoring" name="test_is_ready_with_timeout" time="0.012" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionHealthAndMonitoring" name="test_get_status" time="0.007"><failure message="AttributeError: type object 'AuthDatabaseManager' has no attribute 'is_cloud_sql_environment'">auth_service\tests\unit\test_database_connection_comprehensive.py:408: in test_get_status
    status = auth_db.get_status()
             ^^^^^^^^^^^^^^^^^^^^
auth_service\auth_core\database\connection.py:398: in get_status
    "is_cloud_sql": AuthDatabaseManager.is_cloud_sql_environment(),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'AuthDatabaseManager' has no attribute 'is_cloud_sql_environment'</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionHealthAndMonitoring" name="test_get_connection_health" time="0.019"><failure message="AssertionError: assert 'failed' == 'passed'&#10;  &#10;  - passed&#10;  + failed">auth_service\tests\unit\test_database_connection_comprehensive.py:433: in test_get_connection_health
    assert health["connectivity_test"] == "passed"
E   AssertionError: assert 'failed' == 'passed'
E     
E     - passed
E     + failed</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionHealthAndMonitoring" name="test_get_connection_health_uninitialized" time="0.027" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_mock_engine_handling" time="0.010" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_connection_validation_with_mock" time="0.006" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_cleanup_partial_initialization" time="0.008" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_close_with_timeout" time="0.007" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_close_already_closed" time="0.005" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_close_with_dispose_error" time="0.007" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_session_error_handling_edge_cases" time="0.011" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_test_connection_failure" time="0.018"><failure message="pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;coroutine object AsyncMockMixin._execute_mock_call at 0x000001D89D09E740&gt;&#10;Enable tracemalloc to get traceback where the object was allocated.&#10;See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.">..\..\..\..\miniconda3\Lib\warnings.py:555: in _warn_unawaited_coroutine
    warn(msg, category=RuntimeWarning, stacklevel=2, source=coro)
E   RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited

The above exception was the direct cause of the following exception:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:344: in from_call
    result: TResult | None = func()
                             ^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:246: in &lt;lambda&gt;
    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_hooks.py:512: in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_manager.py:120: in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\logging.py:850: in pytest_runtest_call
    yield
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:53: in run_old_style_hookwrapper
    return result.get_result()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:38: in run_old_style_hookwrapper
    res = yield
          ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\capture.py:900: in pytest_runtest_call
    return (yield)
            ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:53: in run_old_style_hookwrapper
    return result.get_result()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:38: in run_old_style_hookwrapper
    res = yield
          ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:53: in run_old_style_hookwrapper
    return result.get_result()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:38: in run_old_style_hookwrapper
    res = yield
          ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\skipping.py:263: in pytest_runtest_call
    return (yield)
            ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:158: in pytest_runtest_call
    collect_unraisable(item.config)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:79: in collect_unraisable
    raise errors[0]
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:67: in collect_unraisable
    warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
E   pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;coroutine object AsyncMockMixin._execute_mock_call at 0x000001D89D09E740&gt;
E   Enable tracemalloc to get traceback where the object was allocated.
E   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_test_connection_timeout" time="0.009"><failure message="pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;coroutine object AsyncMockMixin._execute_mock_call at 0x000001D89CFEDA40&gt;&#10;Enable tracemalloc to get traceback where the object was allocated.&#10;See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.">..\..\..\..\miniconda3\Lib\warnings.py:555: in _warn_unawaited_coroutine
    warn(msg, category=RuntimeWarning, stacklevel=2, source=coro)
E   RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited

The above exception was the direct cause of the following exception:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:344: in from_call
    result: TResult | None = func()
                             ^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:246: in &lt;lambda&gt;
    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_hooks.py:512: in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_manager.py:120: in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\logging.py:850: in pytest_runtest_call
    yield
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:53: in run_old_style_hookwrapper
    return result.get_result()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:38: in run_old_style_hookwrapper
    res = yield
          ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\capture.py:900: in pytest_runtest_call
    return (yield)
            ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:53: in run_old_style_hookwrapper
    return result.get_result()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:38: in run_old_style_hookwrapper
    res = yield
          ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:53: in run_old_style_hookwrapper
    return result.get_result()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_callers.py:38: in run_old_style_hookwrapper
    res = yield
          ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\skipping.py:263: in pytest_runtest_call
    return (yield)
            ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:158: in pytest_runtest_call
    collect_unraisable(item.config)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:79: in collect_unraisable
    raise errors[0]
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:67: in collect_unraisable
    warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
E   pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;coroutine object AsyncMockMixin._execute_mock_call at 0x000001D89CFEDA40&gt;
E   Enable tracemalloc to get traceback where the object was allocated.
E   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionErrorHandling" name="test_is_ready_timeout" time="0.007" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionTableManagement" name="test_create_tables_idempotent" time="2.716"><failure message="RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed">auth_service\auth_core\database\connection.py:67: in initialize
    await asyncio.wait_for(
..\..\..\..\miniconda3\Lib\asyncio\tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
auth_service\auth_core\database\connection.py:140: in _validate_initial_connection
    async with self.engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:177: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:175: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\auth_core\database\connection.py:87: in initialize
    raise RuntimeError(f"Database connection failed: {e}") from e
E   RuntimeError: Database connection failed: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_connection_comprehensive.py:606: in test_create_tables_idempotent
    await db_conn.initialize()
auth_service\auth_core\database\connection.py:126: in initialize
    raise RuntimeError(f"Auth database initialization failed: {e}") from e
E   RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionTableManagement" name="test_create_tables_with_mock_engine" time="0.016" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionTableManagement" name="test_table_existence_check" time="2.311"><failure message="RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed">auth_service\auth_core\database\connection.py:67: in initialize
    await asyncio.wait_for(
..\..\..\..\miniconda3\Lib\asyncio\tasks.py:520: in wait_for
    return await fut
           ^^^^^^^^^
auth_service\auth_core\database\connection.py:140: in _validate_initial_connection
    async with self.engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:177: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:175: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\auth_core\database\connection.py:87: in initialize
    raise RuntimeError(f"Database connection failed: {e}") from e
E   RuntimeError: Database connection failed: [Errno 11001] getaddrinfo failed

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_connection_comprehensive.py:631: in test_table_existence_check
    await db_conn.initialize()
auth_service\auth_core\database\connection.py:126: in initialize
    raise RuntimeError(f"Auth database initialization failed: {e}") from e
E   RuntimeError: Auth database initialization failed: Database connection failed: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionCompatibilityAliases" name="test_compatibility_aliases" time="0.001" /><testcase classname="tests.unit.test_database_connection_comprehensive.TestAuthDatabaseConnectionCompatibilityAliases" name="test_global_auth_db_instance" time="0.010" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestAuthDatabaseConfig" name="test_auth_database_config_constants" time="0.001" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestAuthDatabaseConfig" name="test_auth_database_config_values_reasonable" time="0.001" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestGetSettings" name="test_get_settings_with_auth_config" time="0.002"><failure message="AttributeError: &lt;module 'auth_service.auth_core.database.connection_events' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection_events.py'&gt; does not have the attribute 'AuthConfig'">auth_service\tests\unit\test_database_connection_events_comprehensive.py:80: in test_get_settings_with_auth_config
    with patch('auth_service.auth_core.database.connection_events.AuthConfig') as mock_config:
..\..\..\..\miniconda3\Lib\unittest\mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\unittest\mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'auth_service.auth_core.database.connection_events' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection_events.py'&gt; does not have the attribute 'AuthConfig'</failure></testcase><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestGetSettings" name="test_get_settings_with_partial_auth_config" time="0.002"><failure message="AttributeError: &lt;module 'auth_service.auth_core.database.connection_events' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection_events.py'&gt; does not have the attribute 'AuthConfig'">auth_service\tests\unit\test_database_connection_events_comprehensive.py:95: in test_get_settings_with_partial_auth_config
    with patch('auth_service.auth_core.database.connection_events.AuthConfig') as mock_config:
..\..\..\..\miniconda3\Lib\unittest\mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\unittest\mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'auth_service.auth_core.database.connection_events' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection_events.py'&gt; does not have the attribute 'AuthConfig'</failure></testcase><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestGetSettings" name="test_get_settings_import_error" time="0.002"><failure message="AttributeError: &lt;module 'auth_service.auth_core.database.connection_events' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection_events.py'&gt; does not have the attribute 'AuthConfig'">auth_service\tests\unit\test_database_connection_events_comprehensive.py:111: in test_get_settings_import_error
    with patch('auth_service.auth_core.database.connection_events.AuthConfig', side_effect=ImportError):
..\..\..\..\miniconda3\Lib\unittest\mock.py:1458: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\unittest\mock.py:1431: in get_original
    raise AttributeError(
E   AttributeError: &lt;module 'auth_service.auth_core.database.connection_events' from 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\connection_events.py'&gt; does not have the attribute 'AuthConfig'</failure></testcase><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestGetSettings" name="test_get_settings_module_level_initialization" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestTimeoutConfiguration" name="test_execute_auth_timeout_statements" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestTimeoutConfiguration" name="test_close_cursor_safely_success" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestTimeoutConfiguration" name="test_close_cursor_safely_error" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestTimeoutConfiguration" name="test_configure_auth_connection_timeouts_success" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestTimeoutConfiguration" name="test_configure_auth_connection_timeouts_error" time="0.004" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestConnectionPIDHandling" name="test_set_auth_connection_pid_with_backend_pid" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestConnectionPIDHandling" name="test_set_auth_connection_pid_no_backend_pid" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestConnectionPIDHandling" name="test_set_auth_connection_pid_error" time="0.007" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestPoolMonitoring" name="test_monitor_auth_pool_usage_no_pool" time="0.001" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestPoolMonitoring" name="test_monitor_auth_pool_usage_normal_usage" time="0.003" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestPoolMonitoring" name="test_monitor_auth_pool_usage_high_usage" time="0.003"><failure message="AssertionError: Expected 'warning' to have been called.">..\..\..\..\miniconda3\Lib\unittest\mock.py:913: in assert_called
    raise AssertionError(msg)
E   AssertionError: Expected 'warning' to have been called.

During handling of the above exception, another exception occurred:
auth_service\tests\unit\test_database_connection_events_comprehensive.py:276: in test_monitor_auth_pool_usage_high_usage
    mock_logger.warning.assert_called()
E   AssertionError: Expected 'warning' to have been called.</failure></testcase><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestPoolMonitoring" name="test_monitor_auth_pool_usage_missing_methods" time="0.001" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestPoolMonitoring" name="test_monitor_auth_pool_usage_error" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestConnectionLogging" name="test_log_auth_connection_established_with_settings" time="0.004" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestConnectionLogging" name="test_log_auth_connection_established_no_settings" time="0.003" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestConnectionLogging" name="test_log_auth_checkout_if_enabled_enabled" time="0.004" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestConnectionLogging" name="test_log_auth_checkout_if_enabled_disabled" time="0.008" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEngineEventSetup" name="test_setup_auth_async_engine_events_success" time="0.009" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEngineEventSetup" name="test_setup_auth_async_engine_events_none_engine" time="0.009" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEngineEventSetup" name="test_setup_auth_async_engine_events_error" time="0.004" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEventHandlersIntegration" name="test_connect_event_handler_postgresql" time="0.017" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEventHandlersIntegration" name="test_connect_event_handler_sqlite" time="0.004" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEventHandlersIntegration" name="test_checkout_event_handler" time="0.005" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestRealEngineIntegration" name="test_setup_events_on_real_engine" time="2.713"><failure message="socket.gaierror: [Errno 11001] getaddrinfo failed">auth_service\tests\unit\test_database_connection_events_comprehensive.py:520: in test_setup_events_on_real_engine
    async with engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:306: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestRealEngineIntegration" name="test_events_trigger_on_real_connections" time="2.282"><failure message="socket.gaierror: [Errno 11001] getaddrinfo failed">auth_service\tests\unit\test_database_connection_events_comprehensive.py:538: in test_events_trigger_on_real_connections
    async with engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:306: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestRealEngineIntegration" name="test_multiple_connections_with_events" time="2.285"><failure message="socket.gaierror: [Errno 11001] getaddrinfo failed">auth_service\tests\unit\test_database_connection_events_comprehensive.py:559: in test_multiple_connections_with_events
    async with engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:306: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEventHandlerEdgeCases" name="test_pool_events_setup" time="0.003" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEventHandlerEdgeCases" name="test_connection_info_logging" time="0.003" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEventHandlerEdgeCases" name="test_event_handler_exception_handling" time="0.002" /><testcase classname="tests.unit.test_database_connection_events_comprehensive.TestEventHandlerEdgeCases" name="test_module_exports" time="0.001" /><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEngineCreation" name="test_create_async_engine" time="2.275"><failure message="socket.gaierror: [Errno 11001] getaddrinfo failed">auth_service\tests\unit\test_database_manager_comprehensive.py:45: in test_create_async_engine
    async with engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:306: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEngineCreation" name="test_create_async_engine_with_kwargs" time="0.007"><failure message="TypeError: sqlalchemy.ext.asyncio.engine.create_async_engine() got multiple values for keyword argument 'echo'">auth_service\tests\unit\test_database_manager_comprehensive.py:56: in test_create_async_engine_with_kwargs
    engine = AuthDatabaseManager.create_async_engine(
auth_service\auth_core\database\database_manager.py:31: in create_async_engine
    return create_async_engine(
E   TypeError: sqlalchemy.ext.asyncio.engine.create_async_engine() got multiple values for keyword argument 'echo'</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEngineCreation" name="test_create_async_engine_no_url_error" time="0.009" /><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEngineCreation" name="test_create_async_engine_empty_url_error" time="0.006" /><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerURLConstruction" name="test_get_database_url_normal_mode" time="0.003"><failure message="AssertionError: assert False&#10; +  where False = &lt;built-in method startswith of str object at 0x000001D89E8B2560&gt;(('postgresql://', 'postgres://'))&#10; +    where &lt;built-in method startswith of str object at 0x000001D89E8B2560&gt; = 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev'.startswith">auth_service\tests\unit\test_database_manager_comprehensive.py:98: in test_get_database_url_normal_mode
    assert url.startswith(("postgresql://", "postgres://"))
E   AssertionError: assert False
E    +  where False = &lt;built-in method startswith of str object at 0x000001D89E8B2560&gt;(('postgresql://', 'postgres://'))
E    +    where &lt;built-in method startswith of str object at 0x000001D89E8B2560&gt; = 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev'.startswith</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerURLConstruction" name="test_get_database_url_fast_test_mode" time="0.003" /><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerURLConstruction" name="test_get_database_url_environment_variables" time="0.006"><failure message="AssertionError: assert 'postgresql+a...:5432/test_db' == 'postgresql:/...:5432/test_db'&#10;  &#10;  - postgresql://test_user:test_pass@localhost:5432/test_db&#10;  + postgresql+asyncpg://test_user:test_pass@localhost:5432/test_db&#10;  ?           ++++++++">auth_service\tests\unit\test_database_manager_comprehensive.py:141: in test_get_database_url_environment_variables
    assert url == "postgresql://test_user:test_pass@localhost:5432/test_db"
E   AssertionError: assert 'postgresql+a...:5432/test_db' == 'postgresql:/...:5432/test_db'
E     
E     - postgresql://test_user:test_pass@localhost:5432/test_db
E     + postgresql+asyncpg://test_user:test_pass@localhost:5432/test_db
E     ?           ++++++++</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerURLConstruction" name="test_get_database_url_validation_failure" time="0.007"><failure message="Failed: DID NOT RAISE &lt;class 'ValueError'&gt;">auth_service\tests\unit\test_database_manager_comprehensive.py:164: in test_get_database_url_validation_failure
    with pytest.raises(ValueError, match="Database configuration error"):
E   Failed: DID NOT RAISE &lt;class 'ValueError'&gt;</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerURLConstruction" name="test_get_database_url_no_url_generated" time="0.022"><failure message="Failed: DID NOT RAISE &lt;class 'ValueError'&gt;">auth_service\tests\unit\test_database_manager_comprehensive.py:183: in test_get_database_url_no_url_generated
    with pytest.raises(ValueError, match="DatabaseURLBuilder failed to generate URL"):
E   Failed: DID NOT RAISE &lt;class 'ValueError'&gt;</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEnvironmentHandling" name="test_environment_detection_development" time="0.006"><failure message="TypeError: 'NoneType' object is not subscriptable">auth_service\tests\unit\test_database_manager_comprehensive.py:208: in test_environment_detection_development
    call_args = mock_builder_class.call_args[0][0]
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'NoneType' object is not subscriptable</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEnvironmentHandling" name="test_environment_detection_staging" time="0.008"><failure message="ValueError: Database configuration error in staging environment: Missing required variables for staging: POSTGRES_HOST, POSTGRES_USER, POSTGRES_DB, POSTGRES_PASSWORD. DatabaseURLBuilder must be able to construct a valid URL. Check your environment variables.">auth_service\tests\unit\test_database_manager_comprehensive.py:226: in test_environment_detection_staging
    url = AuthDatabaseManager.get_database_url()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
auth_service\auth_core\database\database_manager.py:72: in get_database_url
    raise ValueError(
E   ValueError: Database configuration error in staging environment: Missing required variables for staging: POSTGRES_HOST, POSTGRES_USER, POSTGRES_DB, POSTGRES_PASSWORD. DatabaseURLBuilder must be able to construct a valid URL. Check your environment variables.</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEnvironmentHandling" name="test_environment_detection_production" time="0.004"><failure message="ValueError: Database configuration error in production environment: Missing required variables for production: POSTGRES_HOST, POSTGRES_USER, POSTGRES_DB, POSTGRES_PASSWORD. DatabaseURLBuilder must be able to construct a valid URL. Check your environment variables.">auth_service\tests\unit\test_database_manager_comprehensive.py:247: in test_environment_detection_production
    url = AuthDatabaseManager.get_database_url()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
auth_service\auth_core\database\database_manager.py:72: in get_database_url
    raise ValueError(
E   ValueError: Database configuration error in production environment: Missing required variables for production: POSTGRES_HOST, POSTGRES_USER, POSTGRES_DB, POSTGRES_PASSWORD. DatabaseURLBuilder must be able to construct a valid URL. Check your environment variables.</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerEnvironmentHandling" name="test_environment_detection_default" time="0.004"><failure message="TypeError: 'NoneType' object is not subscriptable">auth_service\tests\unit\test_database_manager_comprehensive.py:271: in test_environment_detection_default
    call_args = mock_builder_class.call_args[0][0]
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'NoneType' object is not subscriptable</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerIntegrationWithSharedComponents" name="test_integration_with_database_url_builder" time="0.005" /><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerIntegrationWithSharedComponents" name="test_integration_with_isolated_environment" time="0.004" /><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerIntegrationWithSharedComponents" name="test_url_masking_for_logging" time="0.007"><failure message="AssertionError: expected call not found.&#10;Expected: mask_url_for_logging('postgresql://user:password@host:5432/db')&#10;  Actual: mask_url_for_logging('sqlite+aiosqlite:///:memory:')&#10;&#10;pytest introspection follows:&#10;&#10;Args:&#10;assert ('sqlite+aios...///:memory:',) == ('postgresql:...ost:5432/db',)&#10;  &#10;  At index 0 diff: 'sqlite+aiosqlite:///:memory:' != 'postgresql://user:password@host:5432/db'&#10;  &#10;  Full diff:&#10;    (&#10;  -     'postgresql://user:password@host:5432/db',&#10;  +     'sqlite+aiosqlite:///:memory:',&#10;    )">..\..\..\..\miniconda3\Lib\unittest\mock.py:944: in assert_called_with
    raise AssertionError(_error_message()) from cause
E   AssertionError: expected call not found.
E   Expected: mask_url_for_logging('postgresql://user:password@host:5432/db')
E     Actual: mask_url_for_logging('sqlite+aiosqlite:///:memory:')

During handling of the above exception, another exception occurred:
..\..\..\..\miniconda3\Lib\unittest\mock.py:956: in assert_called_once_with
    return self.assert_called_with(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: expected call not found.
E   Expected: mask_url_for_logging('postgresql://user:password@host:5432/db')
E     Actual: mask_url_for_logging('sqlite+aiosqlite:///:memory:')
E   
E   pytest introspection follows:
E   
E   Args:
E   assert ('sqlite+aios...///:memory:',) == ('postgresql:...ost:5432/db',)
E     
E     At index 0 diff: 'sqlite+aiosqlite:///:memory:' != 'postgresql://user:password@host:5432/db'
E     
E     Full diff:
E       (
E     -     'postgresql://user:password@host:5432/db',
E     +     'sqlite+aiosqlite:///:memory:',
E       )

During handling of the above exception, another exception occurred:
auth_service\tests\unit\test_database_manager_comprehensive.py:352: in test_url_masking_for_logging
    mock_mask.assert_called_once_with("postgresql://user:password@host:5432/db")
E   AssertionError: expected call not found.
E   Expected: mask_url_for_logging('postgresql://user:password@host:5432/db')
E     Actual: mask_url_for_logging('sqlite+aiosqlite:///:memory:')
E   
E   pytest introspection follows:
E   
E   Args:
E   assert ('sqlite+aios...///:memory:',) == ('postgresql:...ost:5432/db',)
E     
E     At index 0 diff: 'sqlite+aiosqlite:///:memory:' != 'postgresql://user:password@host:5432/db'
E     
E     Full diff:
E       (
E     -     'postgresql://user:password@host:5432/db',
E     +     'sqlite+aiosqlite:///:memory:',
E       )</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerErrorHandlingAndEdgeCases" name="test_missing_environment_variables" time="0.003"><failure message="AttributeError: 'NoneType' object has no attribute 'lower'">auth_service\tests\unit\test_database_manager_comprehensive.py:371: in test_missing_environment_variables
    AuthDatabaseManager.get_database_url()
auth_service\auth_core\database\database_manager.py:44: in get_database_url
    fast_test_mode = env.get("AUTH_FAST_TEST_MODE", "false").lower() == "true"
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'lower'</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerErrorHandlingAndEdgeCases" name="test_invalid_environment_values" time="0.004"><failure message="Failed: DID NOT RAISE &lt;class 'ValueError'&gt;">auth_service\tests\unit\test_database_manager_comprehensive.py:391: in test_invalid_environment_values
    with pytest.raises(ValueError, match="Database configuration error"):
E   Failed: DID NOT RAISE &lt;class 'ValueError'&gt;</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerErrorHandlingAndEdgeCases" name="test_database_url_builder_exception" time="0.006"><failure message="Failed: DID NOT RAISE &lt;class 'Exception'&gt;">auth_service\tests\unit\test_database_manager_comprehensive.py:406: in test_database_url_builder_exception
    with pytest.raises(Exception, match="Builder initialization failed"):
E   Failed: DID NOT RAISE &lt;class 'Exception'&gt;</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerErrorHandlingAndEdgeCases" name="test_fast_test_mode_variations" time="0.011"><failure message="AssertionError: assert 'sqlite+aiosqlite:///:memory:' == 'postgresql://test'&#10;  &#10;  - postgresql://test&#10;  + sqlite+aiosqlite:///:memory:">auth_service\tests\unit\test_database_manager_comprehensive.py:444: in test_fast_test_mode_variations
    assert url == "postgresql://test"
E   AssertionError: assert 'sqlite+aiosqlite:///:memory:' == 'postgresql://test'
E     
E     - postgresql://test
E     + sqlite+aiosqlite:///:memory:</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerRealWorldScenarios" name="test_engine_creation_full_flow" time="2.286"><failure message="socket.gaierror: [Errno 11001] getaddrinfo failed">auth_service\tests\unit\test_database_manager_comprehensive.py:463: in test_engine_creation_full_flow
    async with engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:306: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerRealWorldScenarios" name="test_multiple_engine_creation" time="2.287"><failure message="socket.gaierror: [Errno 11001] getaddrinfo failed">auth_service\tests\unit\test_database_manager_comprehensive.py:484: in test_multiple_engine_creation
    async with engine.connect() as conn:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\base.py:121: in __aenter__
    return await self.start(is_ctxmanager=True)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\engine.py:274: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3277: in connect
    return self._connection_cls(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:143: in __init__
    self._dbapi_connection = engine.raw_connection()
                             ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:3301: in raw_connection
    return self.pool.connect()
           ^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:447: in connect
    return _ConnectionFairy._checkout(self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:1264: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:711: in checkout
    rec = pool._do_get()
          ^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\impl.py:306: in _do_get
    return self._create_connection()
           ^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:388: in _create_connection
    return _ConnectionRecord(self)
           ^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:673: in __init__
    self.__connect()
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:899: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\langhelpers.py:224: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\pool\base.py:895: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\create.py:661: in connect
    return dialect.connect(*cargs, **cparams)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:629: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:964: in connect
    await_only(creator_fn(*arg, **kw)),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connection.py:2421: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1075: in _connect
    raise last_error or exceptions.TargetServerAttributeNotMatched(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:1049: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:886: in _connect_addr
    return await __connect_addr(params, True, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:931: in __connect_addr
    tr, pr = await connector
             ^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\asyncpg\connect_utils.py:802: in _create_ssl_connection
    tr, pr = await loop.create_connection(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1080: in create_connection
    infos = await self._ensure_resolved(
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:1456: in _ensure_resolved
    return await loop.getaddrinfo(host, port, family=family, type=type,
..\..\..\..\miniconda3\Lib\asyncio\base_events.py:901: in getaddrinfo
    return await self.run_in_executor(
..\..\..\..\miniconda3\Lib\concurrent\futures\thread.py:58: in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\socket.py:964: in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   socket.gaierror: [Errno 11001] getaddrinfo failed</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerRealWorldScenarios" name="test_engine_with_custom_configuration" time="0.007"><failure message="TypeError: sqlalchemy.ext.asyncio.engine.create_async_engine() got multiple values for keyword argument 'echo'">auth_service\tests\unit\test_database_manager_comprehensive.py:498: in test_engine_with_custom_configuration
    engine = AuthDatabaseManager.create_async_engine(
auth_service\auth_core\database\database_manager.py:31: in create_async_engine
    return create_async_engine(
E   TypeError: sqlalchemy.ext.asyncio.engine.create_async_engine() got multiple values for keyword argument 'echo'</failure></testcase><testcase classname="tests.unit.test_database_manager_comprehensive.TestAuthDatabaseManagerRealWorldScenarios" name="test_environment_specific_url_construction" time="0.005"><failure message="AssertionError: assert 'postgresql+a...432/netra_dev' == 'postgresql://development_url'&#10;  &#10;  - postgresql://development_url&#10;  + postgresql+asyncpg://postgres:postgres@localhost:5432/netra_dev">auth_service\tests\unit\test_database_manager_comprehensive.py:537: in test_environment_specific_url_construction
    assert url == f"postgresql://{env}_url"
E   AssertionError: assert 'postgresql+a...432/netra_dev' == 'postgresql://development_url'
E     
E     - postgresql://development_url
E     + postgresql+asyncpg://postgres:postgres@localhost:5432/netra_dev</failure></testcase><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_auth_user_model_supports_comprehensive_user_management" time="0.004"><failure message="AssertionError: Failed attempts tracking required for security&#10;assert None == 0&#10; +  where None = &lt;auth_service.auth_core.database.models.AuthUser object at 0x000001D89D017350&gt;.failed_login_attempts">auth_service\tests\unit\test_database_models_business_value.py:62: in test_auth_user_model_supports_comprehensive_user_management
    assert user.failed_login_attempts == 0, "Failed attempts tracking required for security"
E   AssertionError: Failed attempts tracking required for security
E   assert None == 0
E    +  where None = &lt;auth_service.auth_core.database.models.AuthUser object at 0x000001D89D017350&gt;.failed_login_attempts</failure></testcase><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_auth_user_model_supports_oauth_business_integration" time="0.002" /><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_auth_session_model_enables_secure_session_management" time="0.004" /><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_auth_audit_log_model_supports_security_compliance" time="0.003" /><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_password_reset_token_model_enables_secure_password_recovery" time="0.005" /><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_database_models_support_data_integrity_for_business_operations" time="0.003"><failure message="AssertionError: Users should be active by default for business operations&#10;assert None is True&#10; +  where None = &lt;auth_service.auth_core.database.models.AuthUser object at 0x000001D89E6786B0&gt;.is_active">auth_service\tests\unit\test_database_models_business_value.py:261: in test_database_models_support_data_integrity_for_business_operations
    assert new_user.is_active is True, "Users should be active by default for business operations"
E   AssertionError: Users should be active by default for business operations
E   assert None is True
E    +  where None = &lt;auth_service.auth_core.database.models.AuthUser object at 0x000001D89E6786B0&gt;.is_active</failure></testcase><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_database_models_support_time_zone_aware_operations" time="0.004" /><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_database_models_support_business_query_patterns" time="0.003" /><testcase classname="tests.unit.test_database_models_business_value.TestDatabaseModelsBusinessValue" name="test_database_models_handle_json_metadata_for_business_flexibility" time="0.003" /><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthUserModel" name="test_auth_user_model_creation" time="0.010"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:37: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'test_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthUserModel" name="test_auth_user_model_defaults" time="0.011"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:37: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'test_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthUserModel" name="test_auth_user_email_uniqueness" time="0.009"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:37: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'test_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthUserModel" name="test_auth_user_oauth_fields" time="0.007"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:37: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'test_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthUserModel" name="test_auth_user_security_fields" time="0.009"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:37: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'test_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthUserModel" name="test_auth_user_timestamps" time="0.010"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:37: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'test_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthUserModel" name="test_auth_user_json_provider_data" time="0.012"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:37: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'test_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'test_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthSessionModel" name="test_auth_session_model_creation" time="0.011"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions&#10;[SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_sessions

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:238: in setup_method
    await session.execute(text("DELETE FROM auth_sessions WHERE device_id LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions
E   [SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthSessionModel" name="test_auth_session_model_defaults" time="0.011"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions&#10;[SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_sessions

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:238: in setup_method
    await session.execute(text("DELETE FROM auth_sessions WHERE device_id LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions
E   [SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthSessionModel" name="test_auth_session_revocation" time="0.011"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions&#10;[SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_sessions

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:238: in setup_method
    await session.execute(text("DELETE FROM auth_sessions WHERE device_id LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions
E   [SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthSessionModel" name="test_auth_session_multiple_per_user" time="0.008"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions&#10;[SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_sessions

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:238: in setup_method
    await session.execute(text("DELETE FROM auth_sessions WHERE device_id LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_sessions
E   [SQL: DELETE FROM auth_sessions WHERE device_id LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthAuditLogModel" name="test_auth_audit_log_model_creation" time="0.009"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs&#10;[SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_audit_logs

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:366: in setup_method
    await session.execute(text("DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs
E   [SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthAuditLogModel" name="test_auth_audit_log_failure_case" time="0.010"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs&#10;[SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_audit_logs

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:366: in setup_method
    await session.execute(text("DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs
E   [SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthAuditLogModel" name="test_auth_audit_log_without_user" time="0.010"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs&#10;[SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_audit_logs

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:366: in setup_method
    await session.execute(text("DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs
E   [SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestAuthAuditLogModel" name="test_auth_audit_log_json_metadata" time="0.007"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs&#10;[SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_audit_logs

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:366: in setup_method
    await session.execute(text("DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs
E   [SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'test_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestPasswordResetTokenModel" name="test_password_reset_token_creation" time="0.009"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens&#10;[SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: password_reset_tokens

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:492: in setup_method
    await session.execute(text("DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens
E   [SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestPasswordResetTokenModel" name="test_password_reset_token_defaults" time="0.008"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens&#10;[SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: password_reset_tokens

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:492: in setup_method
    await session.execute(text("DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens
E   [SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestPasswordResetTokenModel" name="test_password_reset_token_usage" time="0.008"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens&#10;[SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: password_reset_tokens

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:492: in setup_method
    await session.execute(text("DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens
E   [SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestPasswordResetTokenModel" name="test_password_reset_token_uniqueness" time="0.007"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens&#10;[SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: password_reset_tokens

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:492: in setup_method
    await session.execute(text("DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: password_reset_tokens
E   [SQL: DELETE FROM password_reset_tokens WHERE email LIKE 'reset_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestDatabaseModelIntegration" name="test_user_session_audit_integration" time="0.006"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs&#10;[SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_audit_logs

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:616: in setup_method
    await session.execute(text("DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs
E   [SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestDatabaseModelIntegration" name="test_user_password_reset_integration" time="0.008"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs&#10;[SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_audit_logs

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:616: in setup_method
    await session.execute(text("DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs
E   [SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestDatabaseModelIntegration" name="test_model_cascade_behavior" time="0.008"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs&#10;[SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_audit_logs

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:616: in setup_method
    await session.execute(text("DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_audit_logs
E   [SQL: DELETE FROM auth_audit_logs WHERE event_type LIKE 'integration_%']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestDatabaseModelConstraintsAndEdgeCases" name="test_email_case_sensitivity" time="0.008"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:746: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestDatabaseModelConstraintsAndEdgeCases" name="test_long_text_fields" time="0.009"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:746: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestDatabaseModelConstraintsAndEdgeCases" name="test_null_handling" time="0.009"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:746: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_models_comprehensive.TestDatabaseModelConstraintsAndEdgeCases" name="test_timezone_handling" time="0.009"><error message="failed on setup with &quot;sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users&#10;[SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']&#10;(Background on this error at: https://sqlalche.me/e/20/e3q8)&quot;">..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlite3.OperationalError: no such table: auth_users

The above exception was the direct cause of the following exception:
auth_service\tests\unit\test_database_models_comprehensive.py:746: in setup_method
    await session.execute(text("DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com'"))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\ext\asyncio\session.py:463: in execute
    result = await greenlet_spawn(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:201: in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2365: in execute
    return self._execute_internal(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\orm\session.py:2260: in _execute_internal
    result = conn.execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1419: in execute
    return meth(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\sql\elements.py:526: in _execute_on_connection
    return connection._execute_clauseelement(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1641: in _execute_clauseelement
    ret = self._execute_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1846: in _execute_context
    return self._exec_single_context(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1986: in _exec_single_context
    self._handle_dbapi_exception(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:2355: in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\base.py:1967: in _exec_single_context
    self.dialect.do_execute(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\engine\default.py:951: in do_execute
    cursor.execute(statement, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:177: in execute
    self._adapt_connection._handle_exception(error)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:337: in _handle_exception
    raise error
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\dialects\sqlite\aiosqlite.py:159: in execute
    self.await_(_cursor.execute(operation, parameters))
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:132: in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\sqlalchemy\util\_concurrency_py3k.py:196: in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:48: in execute
    await self._execute(self._cursor.execute, sql, parameters)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\cursor.py:40: in _execute
    return await self._conn._execute(fn, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:133: in _execute
    return await future
           ^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\aiosqlite\core.py:106: in run
    result = function()
             ^^^^^^^^^^
E   sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: auth_users
E   [SQL: DELETE FROM auth_users WHERE email LIKE 'edge_%@example.com']
E   (Background on this error at: https://sqlalche.me/e/20/e3q8)</error></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_empty_url" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_none_url" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_invalid_scheme" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_postgresql_scheme" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_postgres_scheme" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_cloud_sql_url" time="0.017" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_cloud_sql_url_with_ssl_params" time="0.002"><failure message="AssertionError: assert 'SSL parameters will be automatically removed' in ['SSL parameters will be automatically removed for Cloud SQL Unix sockets']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:94: in test_validate_cloud_sql_url_with_ssl_params
    assert "SSL parameters will be automatically removed" in result["recommendations"]
E   AssertionError: assert 'SSL parameters will be automatically removed' in ['SSL parameters will be automatically removed for Cloud SQL Unix sockets']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_tcp_url_with_sslmode" time="0.002"><failure message="AssertionError: assert 'sslmode will be converted to ssl' in ['sslmode will be converted to ssl for asyncpg compatibility']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:105: in test_validate_tcp_url_with_sslmode
    assert "sslmode will be converted to ssl" in result["recommendations"]
E   AssertionError: assert 'sslmode will be converted to ssl' in ['sslmode will be converted to ssl for asyncpg compatibility']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_tcp_url_with_ssl_param" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_tcp_url_no_ssl" time="0.002"><failure message="AssertionError: assert 'No SSL parameters specified' in ['No SSL parameters specified for TCP connection']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:126: in test_validate_tcp_url_no_ssl
    assert "No SSL parameters specified" in result["warnings"]
E   AssertionError: assert 'No SSL parameters specified' in ['No SSL parameters specified for TCP connection']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_localhost_warning" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_no_port_warning" time="0.002"><failure message="AssertionError: assert 'Port not specified' in ['No SSL parameters specified for TCP connection', 'Port not specified, will use default']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:146: in test_validate_no_port_warning
    assert "Port not specified" in result["warnings"]
E   AssertionError: assert 'Port not specified' in ['No SSL parameters specified for TCP connection', 'Port not specified, will use default']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_no_hostname" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_malformed_cloud_sql_path" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorURLFormat" name="test_validate_cloud_sql_missing_db_name" time="0.002"><failure message="AssertionError: assert 'Database name not specified' in []">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:175: in test_validate_cloud_sql_missing_db_name
    assert "Database name not specified" in result["warnings"]
E   AssertionError: assert 'Database name not specified' in []</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_no_username" time="0.008" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_no_password" time="0.003" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_problematic_username_pattern" time="0.001"><failure message="assert &quot;Invalid username pattern 'user_pr-4'&quot; in [&quot;Invalid username pattern 'user_pr-4' - this will cause authentication failures&quot;, 'Using insecure default password']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:209: in test_validate_credentials_problematic_username_pattern
    assert "Invalid username pattern 'user_pr-4'" in result["credential_issues"]
E   assert "Invalid username pattern 'user_pr-4'" in ["Invalid username pattern 'user_pr-4' - this will cause authentication failures", 'Using insecure default password']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_pr_pattern_username" time="0.002"><failure message="assert 'appears to be misconfigured PR-specific user' in [&quot;Invalid username pattern 'user_pr-123' - appears to be misconfigured PR-specific user&quot;, 'Using insecure default password']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:219: in test_validate_credentials_pr_pattern_username
    assert "appears to be misconfigured PR-specific user" in result["credential_issues"]
E   assert 'appears to be misconfigured PR-specific user' in ["Invalid username pattern 'user_pr-123' - appears to be misconfigured PR-specific user", 'Using insecure default password']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_postgres_username" time="0.002"><failure message="assert &quot;Username 'postgres' is acceptable for Cloud SQL&quot; in [&quot;Username 'postgres' is acceptable for Cloud SQL but ensure password is secure&quot;]">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:229: in test_validate_credentials_postgres_username
    assert "Username 'postgres' is acceptable for Cloud SQL" in result["recommendations"]
E   assert "Username 'postgres' is acceptable for Cloud SQL" in ["Username 'postgres' is acceptable for Cloud SQL but ensure password is secure"]</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_root_username" time="0.002"><failure message="assert False is True">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:237: in test_validate_credentials_root_username
    assert result["valid"] is True
E   assert False is True</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_insecure_password" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_short_password" time="0.002"><failure message="AssertionError: assert 'Use password with at least 8 characters' in ['Use password with at least 8 characters for security']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:259: in test_validate_credentials_short_password
    assert "Use password with at least 8 characters" in result["recommendations"]
E   AssertionError: assert 'Use password with at least 8 characters' in ['Use password with at least 8 characters for security']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_numeric_password" time="0.001"><failure message="AssertionError: assert 'Password contains only numbers' in ['Using insecure default password']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:268: in test_validate_credentials_numeric_password
    assert "Password contains only numbers" in result["credential_issues"]
E   AssertionError: assert 'Password contains only numbers' in ['Using insecure default password']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_test_password" time="0.002"><failure message="AssertionError: assert 'appears to be a test/development password' in ['Password appears to be a test/development password']">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:278: in test_validate_credentials_test_password
    assert "appears to be a test/development password" in result["credential_issues"]
E   AssertionError: assert 'appears to be a test/development password' in ['Password appears to be a test/development password']</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_placeholder_password" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_variable_placeholder" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_staging_specific_checks" time="0.002"><failure message="assert 'Username appears to be development-specific' in ['Username appears to be development-specific in staging environment', &quot;Password contains 'dev' which may indicate development credentials&quot;]">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:306: in test_validate_credentials_staging_specific_checks
    assert "Username appears to be development-specific" in result["warnings"]
E   assert 'Username appears to be development-specific' in ['Username appears to be development-specific in staging environment', "Password contains 'dev' which may indicate development credentials"]</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_secure_example" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorCredentials" name="test_validate_credentials_parsing_error" time="0.001"><failure message="KeyError: 'error'">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:327: in test_validate_credentials_parsing_error
    assert "Credential validation failed" in result["error"]
                                             ^^^^^^^^^^^^^^^
E   KeyError: 'error'</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorSSLCompatibility" name="test_ssl_compatibility_cloud_sql_with_ssl_params" time="0.005" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorSSLCompatibility" name="test_ssl_compatibility_cloud_sql_ssl_not_removed" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorSSLCompatibility" name="test_ssl_compatibility_tcp_sslmode_conversion" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorSSLCompatibility" name="test_ssl_compatibility_tcp_sslmode_not_converted" time="0.005"><failure message="ModuleNotFoundError: No module named 'str'">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:369: in test_ssl_compatibility_tcp_sslmode_not_converted
    with patch('str.replace', return_value=tcp_url):
..\..\..\..\miniconda3\Lib\unittest\mock.py:1442: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\miniconda3\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&lt;frozen importlib._bootstrap&gt;:1387: in _gcd_import
    ???
&lt;frozen importlib._bootstrap&gt;:1360: in _find_and_load
    ???
&lt;frozen importlib._bootstrap&gt;:1324: in _find_and_load_unlocked
    ???
E   ModuleNotFoundError: No module named 'str'</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorSSLCompatibility" name="test_ssl_compatibility_tcp_with_ssl_param" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorSSLCompatibility" name="test_ssl_compatibility_error_handling" time="0.002"><failure message="assert True is False">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:391: in test_ssl_compatibility_error_handling
    assert result["valid"] is False
E   assert True is False</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_with_url" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_without_url" time="0.005"><failure message="AssertionError: assert 'postgresql:/...5432/env_d...' == 'postgresql:/...t:5432/env_db'&#10;  &#10;  - postgresql://env_user:env_pass@env_host:5432/env_db&#10;  ?                                                   ^&#10;  + postgresql://env_user:env_pass@env_host:5432/env_d...&#10;  ?                                                   ^^^">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:429: in test_pre_deployment_validation_without_url
    assert report["database_url"] == "postgresql://env_user:env_pass@env_host:5432/env_db"
E   AssertionError: assert 'postgresql:/...5432/env_d...' == 'postgresql:/...t:5432/env_db'
E     
E     - postgresql://env_user:env_pass@env_host:5432/env_db
E     ?                                                   ^
E     + postgresql://env_user:env_pass@env_host:5432/env_d...
E     ?                                                   ^^^</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_url_format_failure" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_credential_failure" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_ssl_failure" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_warnings_only" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_success" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorPreDeployment" name="test_pre_deployment_validation_long_url_truncation" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorReporting" name="test_print_validation_report_passed" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorReporting" name="test_print_validation_report_failed" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorReporting" name="test_print_validation_report_warning" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorReporting" name="test_print_validation_report_unknown_status" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestValidateStagingDeploymentFunction" name="test_validate_staging_deployment_success" time="0.002"><failure message="AssertionError: assert 'Validation passed' in 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: PASS PASSED\nDatabase URL: postgresql://secure_url\n\n==================================================\n'&#10; +  where 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: PASS PASSED\nDatabase URL: postgresql://secure_url\n\n==================================================\n' = CaptureResult(out='Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: PASS PASSED\nDatabase URL: postgresql://secure_url\n\n==================================================\n', err='').out">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:598: in test_validate_staging_deployment_success
    assert "Validation passed" in captured.out
E   AssertionError: assert 'Validation passed' in 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: PASS PASSED\nDatabase URL: postgresql://secure_url\n\n==================================================\n'
E    +  where 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: PASS PASSED\nDatabase URL: postgresql://secure_url\n\n==================================================\n' = CaptureResult(out='Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: PASS PASSED\nDatabase URL: postgresql://secure_url\n\n==================================================\n', err='').out</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestValidateStagingDeploymentFunction" name="test_validate_staging_deployment_warning" time="0.003"><failure message="AssertionError: assert 'Validation passed' in 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: WARN WARNING\nDatabase URL: postgresql://localhost_url\n\nWarnings (1):\n  ! Using localhost\n\n==================================================\n'&#10; +  where 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: WARN WARNING\nDatabase URL: postgresql://localhost_url\n\nWarnings (1):\n  ! Using localhost\n\n==================================================\n' = CaptureResult(out='Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: WARN WARNING\nDatabase URL: postgresql://localhost_url\n\nWarnings (1):\n  ! Using localhost\n\n==================================================\n', err='').out">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:616: in test_validate_staging_deployment_warning
    assert "Validation passed" in captured.out
E   AssertionError: assert 'Validation passed' in 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: WARN WARNING\nDatabase URL: postgresql://localhost_url\n\nWarnings (1):\n  ! Using localhost\n\n==================================================\n'
E    +  where 'Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: WARN WARNING\nDatabase URL: postgresql://localhost_url\n\nWarnings (1):\n  ! Using localhost\n\n==================================================\n' = CaptureResult(out='Validating Auth Service for Staging Deployment...\n\nAuth Service Staging Validation Report\n==================================================\nOverall Status: WARN WARNING\nDatabase URL: postgresql://localhost_url\n\nWarnings (1):\n  ! Using localhost\n\n==================================================\n', err='').out</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestValidateStagingDeploymentFunction" name="test_validate_staging_deployment_failure" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorEdgeCases" name="test_url_format_validation_exception" time="0.002"><failure message="AssertionError: assert 'URL parsing failed: Parse error' in 'Invalid scheme: '">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:646: in test_url_format_validation_exception
    assert "URL parsing failed: Parse error" in result["error"]
E   AssertionError: assert 'URL parsing failed: Parse error' in 'Invalid scheme: '</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorEdgeCases" name="test_credential_validation_exception" time="0.002"><failure message="KeyError: 'error'">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:655: in test_credential_validation_exception
    assert "Credential validation failed: Parse error" in result["error"]
                                                          ^^^^^^^^^^^^^^^
E   KeyError: 'error'</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorEdgeCases" name="test_cloud_sql_database_name_extraction_edge_cases" time="0.002"><failure message="AssertionError: assert 'Database name not specified' in []">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:668: in test_cloud_sql_database_name_extraction_edge_cases
    assert "Database name not specified" in result2["warnings"]
E   AssertionError: assert 'Database name not specified' in []</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorEdgeCases" name="test_regex_patterns_comprehensive" time="0.002" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorEdgeCases" name="test_environment_specific_validation_branches" time="0.001" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestStagingDatabaseValidatorEdgeCases" name="test_password_security_checks_comprehensive" time="0.003" /><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestMainModuleBehavior" name="test_main_module_success" time="0.003"><failure message="  File &quot;&lt;string&gt;&quot;, line 3&#10;    success = validate_staging_deployment()&#10;IndentationError: unexpected indent">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:743: in test_main_module_success
    exec(open('auth_service/auth_core/database/staging_validation.py').read().split('if __name__ == "__main__":')[1])
E     File "&lt;string&gt;", line 3
E       success = validate_staging_deployment()
E   IndentationError: unexpected indent</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestMainModuleBehavior" name="test_main_module_success" time="0.000"><error message="failed on teardown with &quot;pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;_io.FileIO name='auth_service/auth_core/database/staging_validation.py' mode='rb' closefd=True&gt;&#10;Enable tracemalloc to get traceback where the object was allocated.&#10;See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.&quot;">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:743: in test_main_module_success
    exec(open('auth_service/auth_core/database/staging_validation.py').read().split('if __name__ == "__main__":')[1])
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   ResourceWarning: unclosed file &lt;_io.TextIOWrapper name='auth_service/auth_core/database/staging_validation.py' mode='r' encoding='utf-8'&gt;

The above exception was the direct cause of the following exception:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:344: in from_call
    result: TResult | None = func()
                             ^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:246: in &lt;lambda&gt;
    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_hooks.py:512: in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_manager.py:120: in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\logging.py:858: in pytest_runtest_teardown
    yield
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\capture.py:905: in pytest_runtest_teardown
    return (yield)
            ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:163: in pytest_runtest_teardown
    collect_unraisable(item.config)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:79: in collect_unraisable
    raise errors[0]
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:67: in collect_unraisable
    warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
E   pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;_io.FileIO name='auth_service/auth_core/database/staging_validation.py' mode='rb' closefd=True&gt;
E   Enable tracemalloc to get traceback where the object was allocated.
E   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.</error></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestMainModuleBehavior" name="test_main_module_failure" time="0.003"><failure message="  File &quot;&lt;string&gt;&quot;, line 3&#10;    success = validate_staging_deployment()&#10;IndentationError: unexpected indent">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:756: in test_main_module_failure
    exec(open('auth_service/auth_core/database/staging_validation.py').read().split('if __name__ == "__main__":')[1])
E     File "&lt;string&gt;", line 3
E       success = validate_staging_deployment()
E   IndentationError: unexpected indent</failure></testcase><testcase classname="tests.unit.test_database_staging_validation_comprehensive.TestMainModuleBehavior" name="test_main_module_failure" time="0.000"><error message="failed on teardown with &quot;pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;_io.FileIO name='auth_service/auth_core/database/staging_validation.py' mode='rb' closefd=True&gt;&#10;Enable tracemalloc to get traceback where the object was allocated.&#10;See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.&quot;">auth_service\tests\unit\test_database_staging_validation_comprehensive.py:756: in test_main_module_failure
    exec(open('auth_service/auth_core/database/staging_validation.py').read().split('if __name__ == "__main__":')[1])
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   ResourceWarning: unclosed file &lt;_io.TextIOWrapper name='auth_service/auth_core/database/staging_validation.py' mode='r' encoding='utf-8'&gt;

The above exception was the direct cause of the following exception:
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:344: in from_call
    result: TResult | None = func()
                             ^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\runner.py:246: in &lt;lambda&gt;
    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_hooks.py:512: in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\pluggy\_manager.py:120: in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\logging.py:858: in pytest_runtest_teardown
    yield
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\capture.py:905: in pytest_runtest_teardown
    return (yield)
            ^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:163: in pytest_runtest_teardown
    collect_unraisable(item.config)
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:79: in collect_unraisable
    raise errors[0]
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\_pytest\unraisableexception.py:67: in collect_unraisable
    warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
E   pytest.PytestUnraisableExceptionWarning: Exception ignored in: &lt;_io.FileIO name='auth_service/auth_core/database/staging_validation.py' mode='rb' closefd=True&gt;
E   Enable tracemalloc to get traceback where the object was allocated.
E   See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.</error></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_jwt_handler_enforces_production_security_standards" time="0.004" /><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_jwt_handler_fails_fast_with_insufficient_production_security" time="0.005"><failure message="Failed: DID NOT RAISE &lt;class 'ValueError'&gt;">auth_service\tests\unit\test_jwt_security_business_value.py:70: in test_jwt_handler_fails_fast_with_insufficient_production_security
    with pytest.raises(ValueError) as exc_info:
E   Failed: DID NOT RAISE &lt;class 'ValueError'&gt;</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_access_token_creation_supports_business_authorization_flows" time="0.006"><failure message="jwt.exceptions.InvalidAudienceError: Invalid audience">auth_service\tests\unit\test_jwt_security_business_value.py:102: in test_access_token_creation_supports_business_authorization_flows
    decoded = jwt.decode(access_token, jwt_handler.secret, algorithms=[jwt_handler.algorithm])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:222: in decode
    decoded = self.decode_complete(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:167: in decode_complete
    self._validate_claims(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:268: in _validate_claims
    self._validate_aud(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:377: in _validate_aud
    raise InvalidAudienceError("Invalid audience")
E   jwt.exceptions.InvalidAudienceError: Invalid audience</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_refresh_token_creation_enables_secure_session_management" time="0.005"><failure message="jwt.exceptions.InvalidAudienceError: Invalid audience">auth_service\tests\unit\test_jwt_security_business_value.py:138: in test_refresh_token_creation_enables_secure_session_management
    decoded = jwt.decode(refresh_token, jwt_handler.secret, algorithms=[jwt_handler.algorithm])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:222: in decode
    decoded = self.decode_complete(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:167: in decode_complete
    self._validate_claims(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:268: in _validate_claims
    self._validate_aud(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:377: in _validate_aud
    raise InvalidAudienceError("Invalid audience")
E   jwt.exceptions.InvalidAudienceError: Invalid audience</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_service_token_creation_enables_secure_microservice_communication" time="0.005"><failure message="jwt.exceptions.InvalidAudienceError: Invalid audience">auth_service\tests\unit\test_jwt_security_business_value.py:173: in test_service_token_creation_enables_secure_microservice_communication
    decoded = jwt.decode(service_token, jwt_handler.secret, algorithms=[jwt_handler.algorithm])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:222: in decode
    decoded = self.decode_complete(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:167: in decode_complete
    self._validate_claims(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:268: in _validate_claims
    self._validate_aud(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:377: in _validate_aud
    raise InvalidAudienceError("Invalid audience")
E   jwt.exceptions.InvalidAudienceError: Invalid audience</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_token_validation_protects_business_operations_from_tampering" time="0.006"><failure message="AssertionError: Expired tokens must be rejected for security&#10;assert {'aud': 'netra-platform', 'email': 'user@company.com', 'env': 'test', 'exp': 1757304695, ...} is None">auth_service\tests\unit\test_jwt_security_business_value.py:216: in test_token_validation_protects_business_operations_from_tampering
    assert expired_result is None, "Expired tokens must be rejected for security"
E   AssertionError: Expired tokens must be rejected for security
E   assert {'aud': 'netra-platform', 'email': 'user@company.com', 'env': 'test', 'exp': 1757304695, ...} is None</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_token_blacklist_prevents_unauthorized_access_after_logout" time="0.006"><failure message="AttributeError: 'JWTHandler' object has no attribute 'blacklist_user_tokens'. Did you mean: 'blacklist_token'?">auth_service\tests\unit\test_jwt_security_business_value.py:254: in test_token_blacklist_prevents_unauthorized_access_after_logout
    jwt_handler.blacklist_user_tokens(user_id)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'JWTHandler' object has no attribute 'blacklist_user_tokens'. Did you mean: 'blacklist_token'?</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_jwt_cache_improves_business_performance_while_maintaining_security" time="0.006"><failure message="AssertionError: Cached validation should work&#10;assert None is not None">auth_service\tests\unit\test_jwt_security_business_value.py:287: in test_jwt_cache_improves_business_performance_while_maintaining_security
    assert result1 is not None, "Cached validation should work"
E   AssertionError: Cached validation should work
E   assert None is not None</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_jwt_security_headers_and_claims_follow_business_standards" time="0.005"><failure message="jwt.exceptions.InvalidAudienceError: Invalid audience">auth_service\tests\unit\test_jwt_security_business_value.py:307: in test_jwt_security_headers_and_claims_follow_business_standards
    payload = jwt.decode(token, jwt_handler.secret, algorithms=[jwt_handler.algorithm])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:222: in decode
    decoded = self.decode_complete(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:167: in decode_complete
    self._validate_claims(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:268: in _validate_claims
    self._validate_aud(
..\..\..\..\AppData\Roaming\Python\Python312\site-packages\jwt\api_jwt.py:377: in _validate_aud
    raise InvalidAudienceError("Invalid audience")
E   jwt.exceptions.InvalidAudienceError: Invalid audience</failure></testcase><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_jwt_error_handling_prevents_information_disclosure" time="0.010" /><testcase classname="tests.unit.test_jwt_security_business_value.TestJWTSecurityBusinessValue" name="test_jwt_performance_meets_business_latency_requirements" time="0.035" /><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_manager_provides_business_ready_providers" time="0.006" /><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_google_oauth_provider_supports_business_authentication_flow" time="0.006" /><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_authorization_url_enables_user_acquisition" time="0.006"><failure message="AssertionError: Must use proper OAuth endpoint&#10;assert 'oauth2/v2/auth' in 'https://accounts.google.com/o/oauth2/auth?client_id=staging-client.apps.googleusercontent.com&amp;redirect_uri=https%3A%2F%2Fauth.staging.netrasystems.ai%2Fauth%2Fcallback&amp;scope=openid+email+profile&amp;response_type=code&amp;state=secure-state-token-123&amp;access_type=offline&amp;prompt=consent'">auth_service\tests\unit\test_oauth_provider_business_value.py:102: in test_oauth_authorization_url_enables_user_acquisition
    assert "oauth2/v2/auth" in auth_url, "Must use proper OAuth endpoint"
E   AssertionError: Must use proper OAuth endpoint
E   assert 'oauth2/v2/auth' in 'https://accounts.google.com/o/oauth2/auth?client_id=staging-client.apps.googleusercontent.com&amp;redirect_uri=https%3A%2F%2Fauth.staging.netrasystems.ai%2Fauth%2Fcallback&amp;scope=openid+email+profile&amp;response_type=code&amp;state=secure-state-token-123&amp;access_type=offline&amp;prompt=consent'</failure></testcase><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_provider_handles_business_environment_configurations" time="0.007" /><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_configuration_validation_protects_business_operations" time="0.006" /><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_provider_graceful_degradation_in_development" time="0.006" /><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_provider_self_check_validates_business_readiness" time="0.006"><failure message="AssertionError: OAuth must be healthy for user acquisition&#10;assert False is True&#10; +  where False = &lt;built-in method get of dict object at 0x000001D89FB1B2C0&gt;('is_healthy')&#10; +    where &lt;built-in method get of dict object at 0x000001D89FB1B2C0&gt; = {'checks_failed': ['configuration_validation: OAuth client ID appears too short (38 chars)'], 'checks_passed': [], 'environment': 'production', 'error': 'OAuth client ID appears too short (38 chars)', ...}.get">auth_service\tests\unit\test_oauth_provider_business_value.py:208: in test_oauth_provider_self_check_validates_business_readiness
    assert self_check.get("is_healthy") is True, "OAuth must be healthy for user acquisition"
E   AssertionError: OAuth must be healthy for user acquisition
E   assert False is True
E    +  where False = &lt;built-in method get of dict object at 0x000001D89FB1B2C0&gt;('is_healthy')
E    +    where &lt;built-in method get of dict object at 0x000001D89FB1B2C0&gt; = {'checks_failed': ['configuration_validation: OAuth client ID appears too short (38 chars)'], 'checks_passed': [], 'environment': 'production', 'error': 'OAuth client ID appears too short (38 chars)', ...}.get</failure></testcase><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_token_exchange_supports_user_authentication_business_flow" time="0.005"><failure message="AttributeError: 'GoogleOAuthProvider' object has no attribute 'exchange_code_for_token'. Did you mean: 'exchange_code_for_user_info'?">auth_service\tests\unit\test_oauth_provider_business_value.py:243: in test_oauth_token_exchange_supports_user_authentication_business_flow
    token_data = google_provider.exchange_code_for_token(oauth_code)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'GoogleOAuthProvider' object has no attribute 'exchange_code_for_token'. Did you mean: 'exchange_code_for_user_info'?</failure></testcase><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_user_info_retrieval_enables_user_profile_creation" time="0.005"><failure message="AttributeError: 'GoogleOAuthProvider' object has no attribute 'get_user_info'">auth_service\tests\unit\test_oauth_provider_business_value.py:286: in test_oauth_user_info_retrieval_enables_user_profile_creation
    user_info = google_provider.get_user_info(access_token)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'GoogleOAuthProvider' object has no attribute 'get_user_info'</failure></testcase><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_error_handling_protects_business_continuity" time="0.006"><failure message="NameError: name 'requests' is not defined">auth_service\tests\unit\test_oauth_provider_business_value.py:317: in test_oauth_error_handling_protects_business_continuity
    mock_post.side_effect = requests.exceptions.RequestException("Network error")
                            ^^^^^^^^
E   NameError: name 'requests' is not defined</failure></testcase><testcase classname="tests.unit.test_oauth_provider_business_value.TestOAuthProviderBusinessValue" name="test_oauth_manager_status_monitoring_supports_business_operations" time="0.006"><failure message="AssertionError: Provider identification required&#10;assert None == 'google'&#10; +  where None = &lt;built-in method get of dict object at 0x000001D89F581500&gt;('provider_name')&#10; +    where &lt;built-in method get of dict object at 0x000001D89F581500&gt; = {'available': True, 'config_status': {'client_id_configured': True, 'client_secret_configured': True, 'environment': 'production', 'is_configured': True, ...}, 'configured': True, 'provider': 'google'}.get">auth_service\tests\unit\test_oauth_provider_business_value.py:363: in test_oauth_manager_status_monitoring_supports_business_operations
    assert google_status.get("provider_name") == "google", "Provider identification required"
E   AssertionError: Provider identification required
E   assert None == 'google'
E    +  where None = &lt;built-in method get of dict object at 0x000001D89F581500&gt;('provider_name')
E    +    where &lt;built-in method get of dict object at 0x000001D89F581500&gt; = {'available': True, 'config_status': {'client_id_configured': True, 'client_secret_configured': True, 'environment': 'production', 'is_configured': True, ...}, 'configured': True, 'provider': 'google'}.get</failure></testcase><testcase classname="tests.unit.test_refresh_endpoint.TestRefreshEndpointUnit" name="test_refresh_with_valid_token_in_body" time="0.098" /><testcase classname="tests.unit.test_refresh_endpoint.TestRefreshEndpointUnit" name="test_refresh_with_camelcase_field" time="0.059" /><testcase classname="tests.unit.test_refresh_endpoint.TestRefreshEndpointUnit" name="test_refresh_with_token_field" time="0.056" /><testcase classname="tests.unit.test_refresh_endpoint.TestRefreshEndpointUnit" name="test_refresh_missing_token_field" time="0.065" /><testcase classname="tests.unit.test_refresh_endpoint.TestRefreshEndpointUnit" name="test_refresh_with_invalid_json" time="0.048" /><testcase classname="tests.unit.test_refresh_endpoint.TestRefreshEndpointUnit" name="test_refresh_with_invalid_token" time="0.048" /><testcase classname="tests.unit.test_refresh_endpoint.TestRefreshEndpointUnit" name="test_refresh_with_service_error" time="0.052" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestAuthSecretLoaderCore" name="test_auth_secret_loader_class_exists" time="0.001" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestAuthSecretLoaderCore" name="test_all_methods_are_static" time="0.001" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestJWTSecretLoading" name="test_get_jwt_secret_with_central_validator_success" time="0.002" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestJWTSecretLoading" name="test_get_jwt_secret_central_validator_failure" time="0.005" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestJWTSecretLoading" name="test_get_jwt_secret_no_central_validator_available" time="0.001" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestJWTSecretLoading" name="test_get_jwt_secret_validator_instantiation_error" time="0.003" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestOAuthCredentialLoading" name="test_get_google_client_id_success_with_environment_logging" time="0.004" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestOAuthCredentialLoading" name="test_get_google_client_id_validation_failure" time="0.003" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestOAuthCredentialLoading" name="test_get_google_client_secret_success_with_environment_logging" time="0.004" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestOAuthCredentialLoading" name="test_get_google_client_secret_validation_failure" time="0.004" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestOAuthCredentialLoading" name="test_oauth_methods_fail_without_central_validator" time="0.001" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestDatabaseUrlConstruction" name="test_get_database_url_from_postgres_variables_development" time="0.005" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestDatabaseUrlConstruction" name="test_get_database_url_from_postgres_variables_staging_with_ssl" time="0.004" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestDatabaseUrlConstruction" name="test_get_database_url_cloud_sql_configuration" time="0.005" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestDatabaseUrlConstruction" name="test_get_database_url_missing_required_variables" time="0.004"><failure message="AssertionError: assert ('postgresql+a...433/netra_dev' == ''&#10;  &#10;  + postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev or 'test' in 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev')&#10; +  where 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev' = &lt;built-in method lower of str object at 0x000001D89EBADF40&gt;()&#10; +    where &lt;built-in method lower of str object at 0x000001D89EBADF40&gt; = 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev'.lower">auth_service\tests\unit\test_secret_loader_comprehensive.py:351: in test_get_database_url_missing_required_variables
    assert result == "" or "test" in result.lower()
E   AssertionError: assert ('postgresql+a...433/netra_dev' == ''
E     
E     + postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev or 'test' in 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev')
E    +  where 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev' = &lt;built-in method lower of str object at 0x000001D89EBADF40&gt;()
E    +    where &lt;built-in method lower of str object at 0x000001D89EBADF40&gt; = 'postgresql+asyncpg://netra:netra123@dev-postgres:5433/netra_dev'.lower</failure></testcase><testcase classname="tests.unit.test_secret_loader_comprehensive.TestDatabaseUrlConstruction" name="test_get_database_url_secret_manager_fallback_staging" time="0.003" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestE2EBypassKey" name="test_get_e2e_oauth_simulation_key_staging_environment_variable" time="0.002" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestE2EBypassKey" name="test_get_e2e_oauth_simulation_key_staging_secret_manager" time="0.003" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestE2EBypassKey" name="test_get_e2e_oauth_simulation_key_non_staging_environment_denied" time="0.006" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestE2EBypassKey" name="test_get_e2e_oauth_simulation_key_staging_not_configured" time="0.004" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretManagerIntegration" name="test_load_from_secret_manager_success" time="0.006" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretManagerIntegration" name="test_load_from_secret_manager_no_gcp_project" time="0.003" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretManagerIntegration" name="test_load_from_secret_manager_import_error" time="1.782" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretManagerIntegration" name="test_load_from_secret_manager_access_error" time="0.002" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretManagerIntegration" name="test_load_from_secret_manager_configuration_error" time="0.001" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderErrorHandling" name="test_all_methods_handle_environment_access_errors" time="0.002"><failure message="Failed: DID NOT RAISE &lt;class 'Exception'&gt;">auth_service\tests\unit\test_secret_loader_comprehensive.py:552: in test_all_methods_handle_environment_access_errors
    with pytest.raises(Exception):
E   Failed: DID NOT RAISE &lt;class 'Exception'&gt;</failure></testcase><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderErrorHandling" name="test_secret_loading_with_invalid_central_validator_response" time="0.002" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderErrorHandling" name="test_oauth_credential_loading_with_unicode_handling" time="0.003" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderConfiguration" name="test_database_url_construction_respects_environment_precedence" time="0.004" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderConfiguration" name="test_secret_loader_methods_maintain_service_independence" time="0.002" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderBusinessValue" name="test_jwt_secret_loading_prevents_authentication_failures" time="0.002" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderBusinessValue" name="test_oauth_credentials_support_multi_environment_isolation" time="0.010" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderBusinessValue" name="test_database_url_construction_supports_multiple_deployment_patterns" time="0.011" /><testcase classname="tests.unit.test_secret_loader_comprehensive.TestSecretLoaderBusinessValue" name="test_e2e_bypass_key_enables_staging_testing_while_maintaining_security" time="0.005" /></testsuite></testsuites>