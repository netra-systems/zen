# Staging Environment Configuration for Auth Service
# This file contains the proper configuration to fix critical staging issues

# Environment
ENVIRONMENT=staging

# Database Configuration (Cloud SQL)
POSTGRES_HOST=/cloudsql/netra-staging:us-central1:staging-shared-postgres
POSTGRES_PORT=5432
POSTGRES_DB=netra_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=qNdlZRHu(Mlc#)6K8LHm-lYi[7sc}25K

# Alternative: Single database URL (if individual vars not preferred)
# DATABASE_URL=postgresql://postgres:qNdlZRHu%28Mlc%23%296K8LHm-lYi%5B7sc%7D25K@/postgres?host=/cloudsql/netra-staging:us-central1:staging-shared-postgres

# Service Configuration
SERVICE_ID=auth-staging-$(date +%Y%m%d-%H%M%S)
SERVICE_SECRET=staging_service_secret_2024_secure_32chars_min

# JWT Configuration
JWT_SECRET_KEY=staging_jwt_secret_key_must_be_at_least_32_characters_long
JWT_ALGORITHM=HS256
JWT_ACCESS_EXPIRY_MINUTES=15
JWT_REFRESH_EXPIRY_DAYS=7
JWT_SERVICE_EXPIRY_MINUTES=60

# OAuth Configuration
GOOGLE_CLIENT_ID=your-staging-google-client-id
GOOGLE_CLIENT_SECRET=your-staging-google-client-secret
OAUTH_HMAC_SECRET=oauth_hmac_secret_for_staging_at_least_32_chars

# URLs
FRONTEND_URL=https://app.staging.netrasystems.ai
AUTH_SERVICE_URL=https://auth.staging.netrasystems.ai

# Redis Configuration (staging should use Redis for session management)
REDIS_URL=redis://staging-redis-instance:6379
REDIS_DISABLED=false

# Session Configuration
SESSION_TTL_HOURS=24

# Deployment Configuration
PORT=8080
SHUTDOWN_TIMEOUT_SECONDS=10
SECURE_HEADERS_ENABLED=true

# Logging Configuration
LOG_ASYNC_CHECKOUT=false

# Disable secrets loading for staging (uses environment variables directly)
DISABLE_SECRETS_LOADING=true

# Test mode flags (should be false in staging)
AUTH_FAST_TEST_MODE=false
USE_MEMORY_DB=false