# Staging Environment Configuration
# This file defines environment variables for staging deployments

# Environment Setting
ENVIRONMENT=staging

# Database Configuration - FIXED: Use staging database instead of dev database
POSTGRES_HOST=/cloudsql/netra-staging:us-central1:staging-shared-postgres
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=will-be-set-by-secrets

# Redis Configuration  
REDIS_URL=redis://staging-redis.netrasystems.ai:6379/0
REDIS_REQUIRED=true
REDIS_FALLBACK_ENABLED=false

# ClickHouse Configuration (if needed for staging)
CLICKHOUSE_URL=clickhouse://default:@staging-clickhouse.netrasystems.ai:8443/default?secure=1
CLICKHOUSE_HOST=staging-clickhouse.netrasystems.ai
CLICKHOUSE_PORT=8443
CLICKHOUSE_USERNAME=default
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DB=default
CLICKHOUSE_SECURE=true
CLICKHOUSE_TIMEOUT=30

# Service Configuration
SERVER_PORT=8080
LOG_LEVEL=INFO

# Authentication Configuration (staging defaults)
JWT_SECRET_KEY=staging-jwt-secret-key-should-be-replaced-in-deployment
JWT_SECRET=staging-jwt-secret-key-should-be-replaced-in-deployment
FERNET_KEY=staging-fernet-key-should-be-replaced-in-deployment

# JWT Configuration - Consistent across all services
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ACCESS_EXPIRY_MINUTES=15
JWT_REFRESH_EXPIRY_DAYS=7
JWT_SERVICE_EXPIRY_MINUTES=60

# Feature Flags for Staging
SKIP_MIGRATION_ON_STARTUP=false
ENABLE_STARTUP_CHECKS=true
STARTUP_CHECK_TIMEOUT=30

# API Configuration for Staging
API_BASE_URL=https://api.staging.netrasystems.ai
WS_BASE_URL=wss://api.staging.netrasystems.ai/ws
FRONTEND_URL=https://app.staging.netrasystems.ai

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://app.staging.netrasystems.ai,https://api.staging.netrasystems.ai

# Health Check Configuration
HEALTH_CHECK_GRACE_PERIOD=60
HEALTH_CHECK_MAX_RETRIES=5