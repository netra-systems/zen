# Netra Backend Requirements - Modernized and Audited
# Report Date: 2025-09-01

# --- Core Web Framework ---
# FastAPI is the core web framework. Upgraded to a version compatible with Pydantic v2 and modern Starlette.
fastapi>=0.116.1
# Starlette is the underlying ASGI framework for FastAPI. Version is managed by FastAPI's dependencies.
starlette>=0.47.3
# Uvicorn is the high-performance ASGI server. The [standard] extra includes uvloop and httptools for performance.
uvicorn[standard]>=0.35.0
# Gunicorn is the production-grade process manager for Uvicorn workers.
gunicorn>=23.0.0
# ItsDangerous is used for signing data (e.g., for secure tokens/cookies).
itsdangerous>=2.2.0

# --- Data Validation ---
# Pydantic is used for data validation and settings management. V2 is a major upgrade with a Rust core.
pydantic>=2.11.7
# Required for email validation within Pydantic models.
email-validator>=2.3.0
# Handles multipart/form-data parsing. Updated to patch critical DoS vulnerabilities.
python-multipart>=0.0.20

# --- Database (PostgreSQL with SQLAlchemy) ---
# SQLAlchemy is the core ORM. Version 2.0+ uses a modern, explicit API.
sqlalchemy>=2.0.43
# SQLModel provides a seamless layer over SQLAlchemy and Pydantic.
sqlmodel>=0.0.24
# High-performance asyncio driver for PostgreSQL, compatible with SQLAlchemy 2.0 async support.
asyncpg>=0.30.0
# Alembic is the database migration tool for SQLAlchemy.
alembic>=1.16.4
# Google Cloud SQL Connector for secure, IAM-based connections. The [asyncpg] extra is for async support.
cloud-sql-python-connector[asyncpg]>=1.18.4
# Synchronous PostgreSQL driver, often used for scripts or legacy code.
psycopg2-binary>=2.9.10

# --- In-Memory Cache ---
# Redis client for Python.
redis>=6.4.0

# --- Analytics Database ---
# ClickHouse driver for Python.
clickhouse-connect>=0.8.18
# CRITICAL: clickhouse-driver is used by the codebase (different from clickhouse-connect)
clickhouse-driver>=0.2.9
# LZ4 is a dependency for ClickHouse for fast compression.
lz4>=4.4.4

# --- Authentication & Security ---
# PyJWT is the standard for handling JSON Web Tokens. Replaces the unmaintained python-jose.
PyJWT[cryptography]>=2.10.1
# Argon2 is a modern, secure password hashing algorithm.
argon2-cffi>=25.1.0
# Bcrypt is another widely-used password hashing algorithm.
bcrypt>=4.3.0
# Cryptography provides low-level cryptographic primitives. Essential to keep updated.
cryptography>=45.0.6

# --- HTTP & WebSockets ---
# Modern async HTTP client, used by FastAPI's TestClient and many SDKs.
httpx>=0.28.1
# Another powerful async HTTP client/server library.
aiohttp>=3.12.15
# Library for building WebSocket clients and servers.
websockets>=15.0.1

# --- Environment & Configuration ---
# Manages environment variables from.env files.
python-dotenv>=1.1.1

# --- Logging & Monitoring ---
# A modern, easy-to-use logging library.
loguru>=0.7.3
# Client library for instrumenting code for Prometheus monitoring.
prometheus-client>=0.22.1

# --- AI/ML Libraries ---
# LangChain has been modularized. Core contains base abstractions.
langchain-core>=0.3.75
# Community-contributed LangChain integrations.
langchain-community>=0.3.28
# OpenAI's official Python SDK. V1.x is a major rewrite from v0.x.
openai>=1.101.0
# Anthropic's official Python SDK.
anthropic>=0.64.0
# The new, unified Google GenAI SDK, replacing the deprecated google-generativeai.
google-genai>=1.32.0
# LangChain Google GenAI integration for structured output support
langchain-google-genai>=2.1.10
# FastMCP enables Model Context Protocol (MCP) integration for tool use and context sharing
fastmcp==2.11.3

# --- Google Cloud Services ---
# Google Cloud Secret Manager for secure secret management
google-cloud-secret-manager>=2.20.0

# --- Utilities ---
# General-purpose retrying library.
tenacity>=9.1.2
# Caching library with TTL (Time-To-Live) support for memory leak prevention
cachetools==5.5.0
# High-performance runtime type-checker.
beartype>=0.21.0
# Powerful extensions for Python's standard datetime module.
python-dateutil>=2.9.0.post0
# YAML parser and emitter for Python.
pyyaml>=6.0.2
# Core libraries for data analysis and manipulation.
pandas>=2.3.2
numpy>=2.3.2
rich>=14.1.0
Faker>=37.6.0

# --- Performance Monitoring ---
# Cross-platform library for process and system monitoring.
psutil>=7.0.0
# Docker API client for container resource monitoring and management
docker>=7.1.0

# --- Distributed Tracing & Observability ---
# OpenTelemetry for distributed tracing with OTLP export
opentelemetry-api==1.24.0
opentelemetry-sdk==1.24.0
opentelemetry-instrumentation-fastapi==0.45b0
opentelemetry-instrumentation-requests==0.45b0
opentelemetry-instrumentation-sqlalchemy==0.45b0
opentelemetry-instrumentation-redis==0.45b0
opentelemetry-exporter-otlp==1.24.0
opentelemetry-exporter-jaeger==1.21.0

# --- Testing ---
# The standard testing framework for Python.
pytest>=8.4.1
# Pytest plugin for testing asyncio code.
pytest-asyncio>=1.1.0
# Pytest plugin for adding timeouts to tests
pytest-timeout>=2.1.0