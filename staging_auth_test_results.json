{
  "timestamp": "2025-08-26T04:30:00Z",
  "service_url": "https://netra-auth-service-pnovr5vsba-uc.a.run.app",
  "overall_success": true,
  "results": [
    {
      "test": "Health Check - Ready",
      "success": true,
      "details": "Service ready: ready (DB: connected)",
      "response_data": {
        "status": "ready",
        "service": "auth-service",
        "version": "1.0.0",
        "timestamp": "2025-08-28T06:22:02.280379+00:00",
        "environment": "staging",
        "database_status": "connected"
      }
    },
    {
      "test": "Service Metadata",
      "success": true,
      "details": "Service metadata correct: auth-service v1.0.0 in staging",
      "response_data": {
        "status": "ready",
        "service": "auth-service",
        "version": "1.0.0",
        "timestamp": "2025-08-28T06:22:02.386883+00:00",
        "environment": "staging",
        "database_status": "connected"
      }
    },
    {
      "test": "Database Connectivity",
      "success": true,
      "details": "Database is connected and ready",
      "response_data": {
        "database_status": "connected"
      }
    },
    {
      "test": "OAuth Flow Initiation",
      "success": true,
      "details": "Correct redirect to Google OAuth with proper callback URL",
      "response_data": {
        "redirect_uri": "https://auth.staging.netrasystems.ai/auth/callback",
        "location": "https://accounts.google.com/o/oauth2/v2/auth?client_id=84056009371-k0p7b9imaeh1p7a0vioiosjvsfn6pfrl.apps.googleusercontent.com&redirect_uri=https://auth.staging.netrasystems.ai/auth/callback&response_type=code&scope=openid%20email%20profile&state=xz4nXrcdc5J9wIJs1XtoiI9rGNw8hRLQDdmXA6itYXw&return_url=https://staging.netra.ai/dashboard"
      }
    },
    {
      "test": "Token Validation - Invalid Token",
      "success": true,
      "details": "Correctly rejected invalid token (status: 401)",
      "response_data": {
        "status_code": 401,
        "response": "{\"detail\":\"Invalid token\"}"
      }
    },
    {
      "test": "Token Validation - Malformed Request",
      "success": true,
      "details": "Correctly rejected malformed request",
      "response_data": {
        "status_code": 422
      }
    },
    {
      "test": "CORS Configuration - https://app.staging.netrasystems.ai",
      "success": true,
      "details": "CORS properly configured for https://app.staging.netrasystems.ai",
      "response_data": {
        "allowed_origin": "https://app.staging.netrasystems.ai"
      }
    },
    {
      "test": "CORS Configuration - https://auth.staging.netrasystems.ai",
      "success": true,
      "details": "CORS properly configured for https://auth.staging.netrasystems.ai",
      "response_data": {
        "allowed_origin": "https://auth.staging.netrasystems.ai"
      }
    },
    {
      "test": "CORS Configuration - https://api.staging.netrasystems.ai",
      "success": true,
      "details": "CORS properly configured for https://api.staging.netrasystems.ai",
      "response_data": {
        "allowed_origin": "https://api.staging.netrasystems.ai"
      }
    },
    {
      "test": "Security Headers",
      "success": true,
      "details": "All security headers present and correct",
      "response_data": {
        "X-Content-Type-Options": "nosniff",
        "X-Frame-Options": "DENY",
        "X-XSS-Protection": "1; mode=block"
      }
    }
  ]
}