<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netra Apex - AI Performance Optimization</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7fa;
            color: #1a202c;
        }
        .container {
            max-width: 800px;
            margin: 1rem auto;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        .header {
            text-align: center;
            padding: 1.5rem 1.5rem 1rem;
            background: #1f2937;
            color: #fff;
        }
        .header h1 {
            font-weight: 800;
            font-size: 1.75rem;
        }
        .header p {
            color: #a0aec0;
            max-width: 550px; /* Wider for new text */
            margin: 0.5rem auto 0;
            font-size: 0.9rem;
        }
        .controls-section {
            padding: 1.5rem;
            background: #f9fafb;
            border-bottom: 1px solid #e5e7eb;
        }
        .workload-btn {
            background: #e5e7eb;
            color: #374151;
            border: 1px solid #d1d5db;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            flex: 1;
        }
        .workload-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #2563eb;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            transform: translateY(-2px);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            padding: 1.5rem;
            text-align: center;
        }
        .stat-card {
            background: #f9fafb;
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }
        .stat-label {
            font-size: 0.9rem;
            font-weight: 500;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            line-height: 1.2;
        }
        .visualization-section {
            padding: 1.5rem;
            text-align: center;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        .budget-tank {
            width: 100%;
            max-width: 400px;
            height: 200px;
            background: #e5e7eb;
            border-radius: 10px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            border: 4px solid #d1d5db;
        }
        .budget-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            transition: height 0.5s ease-out, background 0.5s ease;
        }
        .budget-fill.draining {
            background: linear-gradient(to top, #f87171, #ef4444);
        }
        .budget-fill.saving {
            background: linear-gradient(to top, #22c55e, #4ade80);
        }
        .leak-effect {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(239, 68, 68, 0.5) 0%, rgba(239, 68, 68, 0) 60%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .leak-effect.active {
            opacity: 1;
        }
        .action-controls {
            margin-top: 1.5rem;
        }
        .switch-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            background: #e5e7eb;
            padding: 0.5rem;
            border-radius: 9999px;
            width: fit-content;
            margin: 0 auto;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .switch input { display: none; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ef4444;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px; width: 26px;
            left: 4px; bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #22c55e;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .action-text {
            margin-top: 1rem;
            font-weight: 500;
        }
        #icp-text-container {
            position: relative;
            height: 30px;
            margin-top: 1rem;
            font-weight: 500;
        }
        #icp-text {
            position: absolute;
            width: 100%;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, color 0.5s ease-in-out;
        }
        #icp-text.active {
            opacity: 1;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <!-- 2. Softer, more professional wording -->
            <h1>Unlock Your AI's Full Potential</h1>
            <!-- 3. Mention the quality latency throughput cost thing too -->
            <p>Unoptimized configurations can lead to unnecessary costs and limit performance. See how Netra Apex helps you balance cost, latency, quality, and throughput.</p>
        </div>

        <div class="controls-section">
            <h2 class="text-lg font-bold text-center mb-4">Step 1: Select Your Monthly AI Spend</h2>
            <div id="workload-buttons" class="flex justify-center gap-4">
                <button class="workload-btn" data-budget="25000">
                    <i class="fas fa-user mr-2"></i>Small Team
                </button>
                <button class="workload-btn active" data-budget="100000">
                    <i class="fas fa-users mr-2"></i>Startup
                </button>
                <button class="workload-btn" data-budget="500000">
                    <i class="fas fa-building mr-2"></i>Enterprise
                </button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Monthly AI Spend</div>
                <div id="budget-value" class="stat-value text-gray-800">$100,000</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Identified Inefficiency</div>
                <div id="wasted-value" class="stat-value text-red-500">$0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Value Generated</div>
                <div id="savings-value" class="stat-value text-green-500">$0</div>
            </div>
        </div>

        <div class="visualization-section">
            <h2 class="text-lg font-bold text-center mb-1">Step 2: Control Your Performance</h2>
            <div class="budget-tank">
                <div id="budget-fill" class="budget-fill draining" style="height: 100%;"></div>
                <div id="leak-effect" class="leak-effect active"></div>
            </div>
            
            <div id="icp-text-container">
                <div id="icp-text"></div>
            </div>

            <div class="action-controls">
                <div class="switch-container">
                    <!-- 2. Softer wording for toggle -->
                    <span id="switch-label-off" class="font-bold text-red-600">UNOPTIMIZED</span>
                    <label class="switch">
                        <input type="checkbox" id="apex-toggle">
                        <span class="slider"></span>
                    </label>
                    <span id="switch-label-on" class="font-bold text-gray-400">OPTIMIZED</span>
                </div>
                <p id="action-text" class="action-text text-red-600">Your configuration is unoptimized. Activate Netra Apex to improve performance.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- CONFIGURATION ---
            const WASTE_PERCENTAGE = 0.35;
            const APEX_COST_PERCENTAGE = 0.05;
            const TICK_INTERVAL = 100;
            const ANIMATION_DURATION = 5000;

            // --- 1. Inverted ICP Text ---
            const positiveKeywords = [
                "Balancing cost, quality, latency & throughput...",
                "Optimizing mixed-model usage...",
                "Right-sizing models for tasks...",
                "Enabling prefix caching...",
                "Auto-trimming context...",
                "Reducing agent workflow latency..."
            ];
            const negativeKeywords = [
                "High RAG workload costs...",
                "Unpredictable model latency...",
                "Agent workflow bottlenecks...",
                "Suboptimal model selection...",
                "Redundant token processing...",
                "Excessive context length..."
            ];

            // --- DOM ELEMENTS ---
            const workloadButtons = document.querySelectorAll('.workload-btn');
            const budgetValueEl = document.getElementById('budget-value');
            const wastedValueEl = document.getElementById('wasted-value');
            const savingsValueEl = document.getElementById('savings-value');
            const budgetFillEl = document.getElementById('budget-fill');
            const leakEffectEl = document.getElementById('leak-effect');
            const apexToggle = document.getElementById('apex-toggle');
            const switchLabelOff = document.getElementById('switch-label-off');
            const switchLabelOn = document.getElementById('switch-label-on');
            const actionText = document.getElementById('action-text');
            const icpTextEl = document.getElementById('icp-text');

            // --- STATE ---
            let state = {
                baseBudget: 100000,
                currentBudget: 100000,
                wastedSpend: 0,
                netSavings: 0,
                isApexActive: false,
                gameInterval: null,
                icpInterval: null,
            };

            // --- UTILITY FUNCTIONS ---
            const formatCurrency = (value) => new Intl.NumberFormat('en-US', {
                style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0
            }).format(value);

            // --- CORE LOGIC ---
            function updateGame() {
                const totalTicks = ANIMATION_DURATION / TICK_INTERVAL;
                const potentialWaste = state.baseBudget * WASTE_PERCENTAGE;
                const apexCost = state.baseBudget * APEX_COST_PERCENTAGE;

                if (state.isApexActive) { // OPTIMIZED
                    const savingsPerTick = (potentialWaste - apexCost) / totalTicks;
                    const budgetIncreasePerTick = potentialWaste / totalTicks;
                    state.netSavings += savingsPerTick;
                    state.currentBudget += budgetIncreasePerTick;

                    if (state.currentBudget >= state.baseBudget) {
                        state.currentBudget = state.baseBudget;
                        state.netSavings = potentialWaste - apexCost;
                        clearInterval(state.gameInterval);
                    }
                } else { // UNOptimized
                    const wastePerTick = potentialWaste / totalTicks;
                    state.wastedSpend += wastePerTick;
                    state.currentBudget -= wastePerTick;

                    if (state.wastedSpend >= potentialWaste) {
                        state.wastedSpend = potentialWaste;
                        state.currentBudget = state.baseBudget - potentialWaste;
                        clearInterval(state.gameInterval);
                    }
                }
                updateUI();
            }
            
            // --- UI UPDATE ---
            function updateUI() {
                budgetValueEl.textContent = formatCurrency(state.baseBudget);
                wastedValueEl.textContent = formatCurrency(Math.max(0, state.wastedSpend));
                savingsValueEl.textContent = formatCurrency(Math.max(0, state.netSavings));
                
                const budgetPercentage = Math.max(0, (state.currentBudget / state.baseBudget) * 100);
                budgetFillEl.style.height = `${budgetPercentage}%`;

                if (state.isApexActive) {
                    budgetFillEl.classList.remove('draining');
                    budgetFillEl.classList.add('saving');
                    leakEffectEl.classList.remove('active');
                    actionText.textContent = "Netra Apex is balancing cost and performance to generate value.";
                    actionText.className = 'action-text text-green-600 font-semibold';
                    switchLabelOn.classList.remove('text-gray-400');
                    switchLabelOn.classList.add('text-green-600');
                    switchLabelOff.classList.add('text-gray-400');
                    switchLabelOff.classList.remove('text-red-600');
                } else {
                    budgetFillEl.classList.remove('saving');
                    budgetFillEl.classList.add('draining');
                    leakEffectEl.classList.add('active');
                    actionText.textContent = "Your configuration is unoptimized. Activate Netra Apex to improve performance.";
                    actionText.className = 'action-text text-red-600 font-semibold';
                    switchLabelOn.classList.add('text-gray-400');
                    switchLabelOn.classList.remove('text-green-600');
                    switchLabelOff.classList.remove('text-gray-400');
                    switchLabelOff.classList.add('text-red-600');
                }
            }

            // --- 1. ICP Text Animation Logic (Updated) ---
            function cycleIcpText() {
                if (state.icpInterval) clearInterval(state.icpInterval);
                
                const keywords = state.isApexActive ? positiveKeywords : negativeKeywords;
                const textColor = state.isApexActive ? 'text-green-700' : 'text-orange-600';
                icpTextEl.className = `absolute w-full opacity-0 transition-opacity duration-500 ${textColor}`;

                let icpIndex = 0;

                const showNextKeyword = () => {
                    icpTextEl.classList.remove('active');
                    setTimeout(() => {
                        icpIndex = (icpIndex + 1) % keywords.length;
                        icpTextEl.textContent = keywords[icpIndex];
                        icpTextEl.classList.add('active');
                    }, 500);
                };
                
                icpTextEl.textContent = keywords[icpIndex];
                icpTextEl.classList.add('active');

                state.icpInterval = setInterval(showNextKeyword, 3000);
            }

            // --- EVENT HANDLERS ---
            function handleWorkloadChange(event) {
                const newBudget = parseInt(event.target.dataset.budget, 10);
                workloadButtons.forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
                resetState(newBudget);
            }

            function handleToggleChange() {
                state.isApexActive = apexToggle.checked;
                resetState(state.baseBudget);
            }

            // --- INITIALIZATION ---
            function resetState(newBudget) {
                if (state.gameInterval) clearInterval(state.gameInterval);
                
                state.baseBudget = newBudget;
                state.wastedSpend = 0;
                state.netSavings = 0;

                if (state.isApexActive) {
                    state.currentBudget = state.baseBudget * (1 - WASTE_PERCENTAGE);
                } else {
                    state.currentBudget = newBudget;
                }
                
                updateUI();
                cycleIcpText(); // Call this to update keywords and colors
                state.gameInterval = setInterval(updateGame, TICK_INTERVAL);
            }

            function init() {
                workloadButtons.forEach(button => button.addEventListener('click', handleWorkloadChange));
                apexToggle.addEventListener('change', handleToggleChange);
                resetState(100000);
            }

            init();
        });
    </script>
</body>
</html>
