
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_1_complete_agent_lifecycle_request_to_completion PASSED [  0%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_2_websocket_real_time_streaming PASSED [  0%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_3_supervisor_orchestration_logic PASSED [  0%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_4_tool_dispatcher_integration PASSED [  0%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_5_state_persistence_and_recovery PASSED [  0%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_6_error_handling_and_recovery PASSED [  0%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_7_authentication_and_authorization PASSED [  1%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_8_multi_agent_collaboration PASSED [  1%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_9_concurrent_request_handling PASSED [  1%]
app\tests\agents\test_agent_e2e_critical.py::TestAgentE2ECritical::test_10_performance_and_timeout_handling PASSED [  1%]
app\tests\agents\test_subagent_workflow.py::test_subagent_workflow_end_to_end PASSED [  1%]
app\tests\agents\test_supervisor_advanced.py::test_supervisor_error_handling PASSED [  1%]
app\tests\agents\test_supervisor_advanced.py::test_supervisor_state_management PASSED [  2%]
app\tests\agents\test_supervisor_advanced.py::test_supervisor_concurrent_requests PASSED [  2%]
app\tests\agents\test_supervisor_agent.py::test_supervisor_runs_sub_agents_in_order PASSED [  2%]
app\tests\agents\test_supervisor_orchestration.py::TestSupervisorOrchestration::test_supervisor_agent_selection PASSED [  2%]
app\tests\agents\test_supervisor_orchestration.py::TestSupervisorOrchestration::test_multi_agent_coordination PASSED [  2%]
app\tests\agents\test_supervisor_orchestration.py::TestSupervisorOrchestration::test_error_handling_in_orchestration PASSED [  2%]
app\tests\core\test_config_manager.py::TestSecretManager::test_initialization PASSED [  3%]
app\tests\core\test_config_manager.py::TestSecretManager::test_load_from_environment PASSED [  3%]
app\tests\core\test_config_manager.py::TestSecretManager::test_secret_manager_client_creation_success PASSED [  3%]
app\tests\core\test_config_manager.py::TestSecretManager::test_secret_manager_client_creation_failure PASSED [  3%]
app\tests\core\test_config_manager.py::TestSecretManager::test_load_from_secret_manager_success PASSED [  3%]
app\tests\core\test_config_manager.py::TestSecretManager::test_load_secrets_fallback_to_env PASSED [  3%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_initialization PASSED [  4%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_validate_valid_config 
-------------------------------- live log call --------------------------------
LLM configuration warnings: LLM 'default' is missing API key, LLM 'analysis' is missing API key, LLM 'triage' is missing API key, LLM 'data' is missing API key, LLM 'optimizations_core' is missing API key, LLM 'actions_to_meet_goals' is missing API key, LLM 'reporting' is missing API key
PASSED                                                                   [  4%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_validate_database_config_missing_url 
-------------------------------- live log call --------------------------------
Configuration validation failed: Database configuration errors: Database URL is not configured
PASSED                                                                   [  4%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_validate_database_config_invalid_url 
-------------------------------- live log call --------------------------------
Configuration validation failed: Database configuration errors: Database URL must be a PostgreSQL connection string
PASSED                                                                   [  4%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_validate_auth_config_missing_jwt_secret 
-------------------------------- live log call --------------------------------
Configuration validation failed: Authentication configuration errors: JWT secret key is not configured
PASSED                                                                   [  4%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_validate_auth_config_production_dev_secret 
-------------------------------- live log call --------------------------------
Configuration validation failed: Authentication configuration errors: Development JWT secret key cannot be used in production, OAuth client ID is not configured, OAuth client secret is not configured
PASSED                                                                   [  4%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_get_validation_report_success 
-------------------------------- live log call --------------------------------
LLM configuration warnings: LLM 'default' is missing API key, LLM 'analysis' is missing API key, LLM 'triage' is missing API key, LLM 'data' is missing API key, LLM 'optimizations_core' is missing API key, LLM 'actions_to_meet_goals' is missing API key, LLM 'reporting' is missing API key
PASSED                                                                   [  5%]
app\tests\core\test_config_manager.py::TestConfigValidator::test_get_validation_report_failure 
-------------------------------- live log call --------------------------------
Configuration validation failed: Database configuration errors: Database URL is not configured
PASSED                                                                   [  5%]
app\tests\core\test_config_manager.py::TestConfigManager::test_initialization PASSED [  5%]
app\tests\core\test_config_manager.py::TestConfigManager::test_get_environment_development PASSED [  5%]
app\tests\core\test_config_manager.py::TestConfigManager::test_get_environment_testing PASSED [  5%]
app\tests\core\test_config_manager.py::TestConfigManager::test_get_environment_production PASSED [  5%]
app\tests\core\test_config_manager.py::TestConfigManager::test_create_base_config_development PASSED [  6%]
app\tests\core\test_config_manager.py::TestConfigManager::test_create_base_config_unknown_defaults_to_dev PASSED [  6%]
app\tests\core\test_config_manager.py::TestConfigManager::test_load_configuration_success PASSED [  6%]
app\tests\core\test_config_manager.py::TestConfigManager::test_load_configuration_validation_failure 
-------------------------------- live log call --------------------------------
Configuration loading failed: Validation failed
PASSED                                                                   [  6%]
app\tests\core\test_config_manager.py::TestConfigManager::test_get_config_caching PASSED [  6%]
app\tests\core\test_config_manager.py::TestConfigManager::test_reload_config PASSED [  6%]
app\tests\core\test_config_manager.py::TestConfigurationFunctions::test_get_config PASSED [  7%]
app\tests\core\test_config_manager.py::TestConfigurationFunctions::test_reload_config PASSED [  7%]
app\tests\core\test_config_manager.py::TestConfigurationIntegration::test_full_configuration_flow PASSED [  7%]
app\tests\core\test_config_manager.py::TestConfigurationIntegration::test_testing_configuration PASSED [  7%]
app\tests\core\test_config_manager.py::TestConfigurationIntegration::test_configuration_error_handling 
-------------------------------- live log call --------------------------------
Configuration loading failed: Test error
PASSED                                                                   [  7%]
app\tests\core\test_error_handling.py::TestErrorCodes::test_error_code_values PASSED [  7%]
app\tests\core\test_error_handling.py::TestErrorCodes::test_error_severity_values PASSED [  8%]
app\tests\core\test_error_handling.py::TestErrorDetails::test_error_details_creation PASSED [  8%]
app\tests\core\test_error_handling.py::TestErrorDetails::test_error_details_with_context PASSED [  8%]
app\tests\core\test_error_handling.py::TestErrorDetails::test_error_details_serialization PASSED [  8%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_netra_exception_basic PASSED [  8%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_netra_exception_with_code PASSED [  8%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_netra_exception_to_dict PASSED [  9%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_configuration_error PASSED [  9%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_validation_error_with_errors PASSED [  9%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_authentication_error PASSED [  9%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_authorization_error PASSED [  9%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_token_expired_error PASSED [  9%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_database_error PASSED [  9%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_record_not_found_error PASSED [ 10%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_service_error PASSED [ 10%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_llm_request_error PASSED [ 10%]
app\tests\core\test_error_handling.py::TestNetraExceptions::test_websocket_error PASSED [ 10%]
app\tests\core\test_error_handling.py::TestErrorHandler::test_handle_netra_exception 
-------------------------------- live log call --------------------------------
Medium severity error: VALIDATION_ERROR: Invalid input
PASSED                                                                   [ 10%]
app\tests\core\test_error_handling.py::TestErrorHandler::test_handle_pydantic_validation_error 
-------------------------------- live log call --------------------------------
Validation error: ['field1: field required', 'field2: invalid format']
PASSED                                                                   [ 10%]
app\tests\core\test_error_handling.py::TestErrorHandler::test_handle_sqlalchemy_integrity_error 
-------------------------------- live log call --------------------------------
Database integrity error: (builtins.str) orig
[SQL: statement]
[parameters: 'params']
(Background on this error at: https://sqlalche.me/e/20/gkpj)
PASSED                                                                   [ 11%]
app\tests\core\test_error_handling.py::TestErrorHandler::test_handle_http_exception 
-------------------------------- live log call --------------------------------
HTTP exception 404: Not found
PASSED                                                                   [ 11%]
app\tests\core\test_error_handling.py::TestErrorHandler::test_handle_unknown_exception 
-------------------------------- live log call --------------------------------
Unhandled exception: Unknown error
NoneType: None
PASSED                                                                   [ 11%]
app\tests\core\test_error_handling.py::TestErrorHandler::test_get_http_status_code_mapping PASSED [ 11%]
app\tests\core\test_error_handling.py::TestErrorContext::test_trace_id_context PASSED [ 11%]
app\tests\core\test_error_handling.py::TestErrorContext::test_request_id_context PASSED [ 11%]
app\tests\core\test_error_handling.py::TestErrorContext::test_user_id_context PASSED [ 12%]
app\tests\core\test_error_handling.py::TestErrorContext::test_custom_context PASSED [ 12%]
app\tests\core\test_error_handling.py::TestErrorContext::test_get_all_context PASSED [ 12%]
app\tests\core\test_error_handling.py::TestErrorContext::test_clear_context PASSED [ 12%]
app\tests\core\test_error_handling.py::TestErrorContext::test_error_context_manager PASSED [ 12%]
app\tests\core\test_error_handling.py::TestErrorContext::test_get_enriched_error_context PASSED [ 12%]
app\tests\core\test_error_handling.py::TestErrorHandlerFunctions::test_handle_exception_function 
-------------------------------- live log call --------------------------------
Medium severity error: VALIDATION_ERROR: Test error
PASSED                                                                   [ 13%]
app\tests\core\test_error_handling.py::TestErrorHandlerFunctions::test_get_http_status_code_function PASSED [ 13%]
app\tests\core\test_error_handling.py::TestErrorHandlerFunctions::test_netra_exception_handler 
-------------------------------- live log call --------------------------------
High severity error: AUTH_FAILED: Auth failed
NoneType: None
PASSED                                                                   [ 13%]
app\tests\core\test_error_handling.py::TestErrorHandlerFunctions::test_validation_exception_handler 
-------------------------------- live log call --------------------------------
Validation error: ['field: required']
PASSED                                                                   [ 13%]
app\tests\core\test_error_handling.py::TestErrorHandlerFunctions::test_http_exception_handler 
-------------------------------- live log call --------------------------------
HTTP exception 404: Not found
PASSED                                                                   [ 13%]
app\tests\core\test_error_handling.py::TestErrorHandlerFunctions::test_general_exception_handler 
-------------------------------- live log call --------------------------------
Unhandled exception: Unknown error
NoneType: None
PASSED                                                                   [ 13%]
app\tests\core\test_error_handling.py::TestErrorResponseModel::test_error_response_creation PASSED [ 14%]
app\tests\core\test_error_handling.py::TestErrorResponseModel::test_error_response_with_details PASSED [ 14%]
app\tests\core\test_error_handling.py::TestErrorResponseModel::test_error_response_serialization PASSED [ 14%]
app\tests\core\test_service_interfaces.py::TestBaseServiceMixin::test_initialization PASSED [ 14%]
app\tests\core\test_service_interfaces.py::TestBaseServiceMixin::test_update_metrics_success PASSED [ 14%]
app\tests\core\test_service_interfaces.py::TestBaseServiceMixin::test_update_metrics_failure PASSED [ 14%]
app\tests\core\test_service_interfaces.py::TestBaseServiceMixin::test_update_metrics_average_calculation PASSED [ 15%]
app\tests\core\test_service_interfaces.py::TestBaseServiceMixin::test_create_background_task PASSED [ 15%]
app\tests\core\test_service_interfaces.py::TestBaseServiceMixin::test_cancel_background_tasks PASSED [ 15%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_initialization PASSED [ 15%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_initialize_success PASSED [ 15%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_initialize_failure PASSED [ 15%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_initialize_idempotent PASSED [ 16%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_shutdown PASSED [ 16%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_health_check_healthy PASSED [ 16%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_health_check_with_dependencies PASSED [ 16%]
app\tests\core\test_service_interfaces.py::TestBaseService::test_health_check_exception PASSED [ 16%]
app\tests\core\test_service_interfaces.py::TestDatabaseService::test_initialization PASSED [ 16%]
app\tests\core\test_service_interfaces.py::TestDatabaseService::test_set_session_factory PASSED [ 17%]
app\tests\core\test_service_interfaces.py::TestDatabaseService::test_get_db_session_no_factory PASSED [ 17%]
app\tests\core\test_service_interfaces.py::TestDatabaseService::test_get_db_session_success PASSED [ 17%]
app\tests\core\test_service_interfaces.py::TestDatabaseService::test_get_db_session_exception PASSED [ 17%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_create_entity PASSED [ 17%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_get_by_id_found PASSED [ 17%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_get_by_id_not_found PASSED [ 18%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_update_entity_success PASSED [ 18%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_update_entity_not_found PASSED [ 18%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_delete_entity_success PASSED [ 18%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_delete_entity_not_found PASSED [ 18%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_exists_true PASSED [ 18%]
app\tests\core\test_service_interfaces.py::TestCRUDService::test_exists_false PASSED [ 18%]
app\tests\core\test_service_interfaces.py::TestAsyncTaskService::test_initialization PASSED [ 19%]
app\tests\core\test_service_interfaces.py::TestAsyncTaskService::test_start_background_tasks PASSED [ 19%]
app\tests\core\test_service_interfaces.py::TestAsyncTaskService::test_start_background_tasks_idempotent PASSED [ 19%]
app\tests\core\test_service_interfaces.py::TestAsyncTaskService::test_stop_background_tasks PASSED [ 19%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_initialization PASSED [ 19%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_register_service PASSED [ 19%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_get_service_not_found PASSED [ 20%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_get_all_services PASSED [ 20%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_initialize_all PASSED [ 20%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_shutdown_all PASSED [ 20%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_health_check_all PASSED [ 20%]
app\tests\core\test_service_interfaces.py::TestServiceRegistry::test_health_check_all_with_exception PASSED [ 20%]
app\tests\core\test_service_interfaces.py::TestServiceModels::test_service_health_creation PASSED [ 21%]
app\tests\core\test_service_interfaces.py::TestServiceModels::test_service_metrics_creation PASSED [ 21%]
app\tests\core\test_service_interfaces.py::TestGlobalServiceRegistry::test_global_registry_exists PASSED [ 21%]
app\tests\core\test_service_interfaces.py::TestGlobalServiceRegistry::test_global_registry_operations PASSED [ 21%]
app\tests\integration\test_critical_integration.py::TestCriticalIntegration::test_1_full_agent_workflow_with_database_and_websocket ERROR [ 21%]
app\tests\integration\test_critical_integration.py::TestCriticalIntegration::test_2_websocket_authentication_and_message_flow FAILED [ 21%]
app\tests\integration\test_critical_integration.py::TestCriticalIntegration::test_3_database_state_persistence_and_recovery ERROR [ 22%]
app\tests\routes\test_apex_optimizer_agent_route.py::test_apex_optimizer_agent[I need to reduce costs but keep quality the same. For feature X, I can accept a latency of 500ms. For feature Y, I need to maintain the current latency of 200ms.] PASSED [ 22%]
app\tests\routes\test_auth_flow.py::test_login_redirect_in_production 