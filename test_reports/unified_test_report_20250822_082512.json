{
  "timestamp": "20250822_082512",
  "level": "critical",
  "environment": "local",
  "services": {
    "backend": {
      "success": false,
      "duration": 14.154434442520142,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=session, asyncio_default_test_loop_scope=function\ncollected 59 items / 1 error\n\n=================================== ERRORS ====================================\n______ ERROR collecting tests/agents/test_data_sub_agent_integration.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\test_data_sub_agent_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\agents\\test_data_sub_agent_integration.py:19: in <module>\n    from netra_backend.tests.agents.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegration' from 'netra_backend.tests.agents.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\agents\\helpers\\shared_test_types.py)\n============================== warnings summary ===============================\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\napp\\agents\\base\\monitoring.py:68\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\monitoring.py:68: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    \"system_start_time\": datetime.utcnow(),\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR tests/agents/test_data_sub_agent_integration.py\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n======================== 5 warnings, 1 error in 2.98s =========================\n",
      "errors": "--- Logging error in Loguru Handler #2 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=10, microseconds=579400), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=55148, name='MainProcess'), 'thread': (id=15620, name='MainThread'), 'time': datetime(2025, 8, 22, 8, 24, 37, 112265, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n"
    },
    "auth": {
      "success": false,
      "duration": 3.8021411895751953,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollected 0 items / 1 error\n\n=================================== ERRORS ====================================\n________ ERROR collecting tests/integration/test_auth_oauth_errors.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\integration\\test_auth_oauth_errors.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Users\\antho\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_auth_oauth_errors.py:38: in <module>\n    from main import app\nE   ModuleNotFoundError: No module named 'main'\n============================== warnings summary ===============================\nauth_core\\database\\models.py:11\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\database\\models.py:11: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)\n    Base = declarative_base()\n\ntests\\config\\test_env.py:16\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_env.py:16: PytestCollectionWarning: cannot collect test class 'TestEnvironment' because it has a __init__ constructor (from: tests/base/test_base.py)\n    class TestEnvironment:\n\ntests\\config\\test_settings.py:85\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_settings.py:85: PytestCollectionWarning: cannot collect test class 'TestSettings' because it has a __init__ constructor (from: tests/base/test_base.py)\n    @dataclass\n\ntests\\config\\test_env.py:16\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_env.py:16: PytestCollectionWarning: cannot collect test class 'TestEnvironment' because it has a __init__ constructor (from: tests/config/test_env.py)\n    class TestEnvironment:\n\ntests\\config\\test_settings.py:85\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\config\\test_settings.py:85: PytestCollectionWarning: cannot collect test class 'TestSettings' because it has a __init__ constructor (from: tests/config/test_settings.py)\n    @dataclass\n\ntests\\database\\test_config.py:20\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\database\\test_config.py:20: PytestCollectionWarning: cannot collect test class 'TestDatabaseConfig' because it has a __init__ constructor (from: tests/database/test_config.py)\n    class TestDatabaseConfig:\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR tests/integration/test_auth_oauth_errors.py\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n======================== 6 warnings, 1 error in 1.10s =========================\n",
      "errors": ""
    },
    "frontend": {
      "success": false,
      "duration": 4.690136671066284,
      "output": "",
      "errors": "PASS Critical Path Tests __tests__/system/startup-environment.test.tsx\n  Frontend Startup - Environment\n    Environment Validation\n      \u221a should validate required environment variables (4 ms)\n      \u221a should handle missing environment variables gracefully\n      \u221a should validate environment variable formats (1 ms)\n    Configuration Loading\n      \u221a should load application configuration\n      \u221a should handle configuration validation (1 ms)\n      \u221a should provide configuration defaults\n    Dependency Loading\n      \u221a should load required React dependencies (1 ms)\n      \u221a should handle missing dependencies gracefully (3 ms)\n      \u221a should verify critical dependency versions (1 ms)\n      \u221a should load testing utilities\n    Environment Security\n      \u221a should not expose sensitive environment variables\n      \u221a should validate public environment variables (19 ms)\n\nFAIL Critical Path Tests __tests__/critical/start-button/comprehensive.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-helpers' from '__tests__/critical/start-button/comprehensive.test.tsx'\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m   setupCriticalTests\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   cleanupCriticalTests\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m   renderButtonWithProps\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m   visibilityTestCases\u001b[33m,\u001b[39m\n     \u001b[90m 27 |\u001b[39m   viewportConfigs\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m   setupViewport\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/critical/start-button/comprehensive.test.tsx:25:22)\n\nFAIL Critical Path Tests __tests__/startup/type-exports.test.tsx\n  Type Export Validation\n    WebSocket Type Exports\n      \u00d7 should export all required WebSocket payload types (29 ms)\n      \u221a should export all WebSocket utility functions (3 ms)\n    Registry Re-exports\n      \u00d7 should re-export all WebSocket types from registry (114 ms)\n      \u221a should re-export all enum types (1 ms)\n      \u221a should re-export all base types (1 ms)\n    Import Chain Validation\n      \u221a should import WebSocket types through services without errors (77 ms)\n      \u221a should import types through providers without errors (3 ms)\n    Circular Dependency Check\n      \u221a should not have circular dependencies in type modules (3 ms)\n    Type Safety Validation\n      \u221a should have proper TypeScript types for all exports\n      \u00d7 should validate enum values correctly (2 ms)\n  Auth Service Type Validation\n    \u00d7 should have proper auth config types (1 ms)\n    \u221a should handle auth service fetch errors gracefully (2 ms)\n\n  \u25cf Type Export Validation \u203a WebSocket Type Exports \u203a should export all required WebSocket payload types\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m       \n     \u001b[90m 42 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m exportName \u001b[36mof\u001b[39m requiredExports) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m         expect(websocketModule[exportName])\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m         expect(websocketModule[exportName])\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m       }\n     \u001b[90m 46 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/startup/type-exports.test.tsx:43:45)\n\n  \u25cf Type Export Validation \u203a Registry Re-exports \u203a should re-export all WebSocket types from registry\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m       \n     \u001b[90m 88 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mconst\u001b[39m exportName \u001b[36mof\u001b[39m requiredReExports) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         expect(registryModule[exportName])\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m         expect(registryModule[exportName])\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m       }\n     \u001b[90m 92 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/startup/type-exports.test.tsx:89:44)\n\n  \u25cf Type Export Validation \u203a Type Safety Validation \u203a should validate enum values correctly\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 185 |\u001b[39m       \n     \u001b[90m 186 |\u001b[39m       \u001b[90m// Valid enum value\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 187 |\u001b[39m       expect(isValidWebSocketMessageType(\u001b[32m'AGENT_STARTED'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 188 |\u001b[39m       \n     \u001b[90m 189 |\u001b[39m       \u001b[90m// Invalid enum value\u001b[39m\n     \u001b[90m 190 |\u001b[39m       expect(isValidWebSocketMessageType(\u001b[32m'INVALID_TYPE'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/startup/type-exports.test.tsx:187:60)\n\n  \u25cf Auth Service Type Validation \u203a should have proper auth config types\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m   it(\u001b[32m'should have proper auth config types'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 197 |\u001b[39m     \u001b[36mconst\u001b[39m authModule \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[36mimport\u001b[39m(\u001b[32m'@/auth/service'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m     expect(authModule\u001b[33m.\u001b[39m\u001b[33mAuthService\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m   \n     \u001b[90m 201 |\u001b[39m   it(\u001b[32m'should handle auth service fetch errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeDefined (__tests__/startup/type-exports.test.tsx:198:36)\n\nTest Suites: 2 failed, 1 passed, 3 of 14 total\nTests:       4 failed, 20 passed, 24 total\nSnapshots:   0 total\nTime:        3.115 s, estimated 32 s\nRan all test suites.\n"
    },
    "dev_launcher": {
      "success": false,
      "duration": 26.00798010826111,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1, timeout-2.4.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollected 23 items / 4 deselected / 19 selected\n\ntests\\test_system_startup.py ...                                         [ 15%]\ntests\\e2e\\test_dev_launcher_real_startup.py F\n\n================================== FAILURES ===================================\n_____ TestDevLauncherRealStartup.test_real_dev_launcher_startup_sequence ______\ntests\\e2e\\test_dev_launcher_real_startup.py:182: in test_real_dev_launcher_startup_sequence\n    assert startup_success, \"Dev launcher failed to start services\"\nE   AssertionError: Dev launcher failed to start services\nE   assert False\n---------------------------- Captured stderr setup ----------------------------\n2025-08-22 08:25:02.987 | INFO     | logging:handle:1028 | Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\n2025-08-22 08:25:02.989 | INFO     | logging:handle:1028 | Loaded existing service configuration\n----------------------------- Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:350 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:515 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== STARTING REAL DEV LAUNCHER STARTUP TEST ===\\n\\U0001f50d DISCOVER | POSTGRESQL: sqlite+aiosqlite:///:memory:\\n\\U0001f50d DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n\\U0001f50d DISCOVER | REDIS: redis://localhost:6379/0\\n\\U0001f50d WEBSOCKET | Discovered endpoint: backend_ws -> ws://localhost:8000/ws\\n\\u274c auth service NOT bound to port 8001\\n\\u274c backend service NOT bound to port 8000\\n\\u274c frontend service NOT bound to port 3000\n---------------------------- Captured stderr call -----------------------------\n2025-08-22 08:25:06.045 | INFO     | logging:handle:1028 | HealthMonitor initialized (check_interval: 30s)\n2025-08-22 08:25:06.046 | INFO     | logging:handle:1028 | Windows process verification enabled\n2025-08-22 08:25:06.047 | INFO     | logging:handle:1028 | ProcessManager initialized for win32\n2025-08-22 08:25:06.047 | INFO     | logging:handle:1028 | Enhanced Windows process tree management enabled\n2025-08-22 08:25:06.058 | INFO     | logging:handle:1028 | Discovered 3 database connections\n2025-08-22 08:25:06.059 | INFO     | logging:handle:1028 | Discovered 1 WebSocket endpoints\n2025-08-22 08:25:06.060 | INFO     | logging:handle:1028 | Signal handlers registered for graceful shutdown\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:78 Discovered 1 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\n=========================== short test summary info ===========================\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_real_dev_launcher_startup_sequence\n!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\n============ 1 failed, 3 passed, 4 deselected, 1 warning in 21.97s ============\n",
      "errors": ""
    }
  },
  "overall_success": false,
  "total_duration": 48.65469241142273
}