{
  "runs": [
    {
      "timestamp": "2025-08-17T11:55:05.836371",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 4.459982872009277,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 3.68s\n================================================================================\n\n2025-08-17 11:55:04.545 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:55:04.545 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:55:04.546 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:55:04.547 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:55:04.547 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:55:04.547 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:55:04.547 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:55:04.549 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:55:04.549 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:55:04.549 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:55:04.549 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:55:04.549 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:55:04.550 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:55:04.550 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:55:04.550 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:55:04.550 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:55:04.568 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:55:04.568 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:55:04.568 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:55:04.586 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:55:04.769 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:55:04.989 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:69: in <module>\n    from app.core.app_factory import create_app\napp\\core\\app_factory.py:9: in <module>\n    from app.core.lifespan_manager import lifespan\napp\\core\\lifespan_manager.py:8: in <module>\n    from app.startup_module import run_complete_startup\napp\\startup_module.py:29: in <module>\n    from app.monitoring.performance_monitor import performance_monitor\nE   ModuleNotFoundError: No module named 'app.monitoring.performance_monitor'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=1, microseconds=807824), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=56824, name='MainProcess'), 'thread': (id=29768, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 55, 5, 381779, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755456901.367546,
          "end_time": 1755456905.8341086
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:55:21.787710",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 5.0720374584198,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 4.28s\n================================================================================\n\n2025-08-17 11:55:19.607 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:55:19.607 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:55:19.607 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:55:19.607 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:55:19.607 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:55:19.615 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:55:19.615 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:55:19.615 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:55:19.615 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:55:19.615 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:55:19.615 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:55:19.615 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:55:19.615 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:55:19.617 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:55:19.628 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:55:19.628 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:55:19.628 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:55:19.646 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:55:19.774 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:55:19.868 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:55:20.410 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:55:20.463 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:55:20.577 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:55:20.608 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:188: in _import_route_modules\n    basic_modules = _import_basic_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:107: in _import_basic_route_modules\n    route_imports = _import_core_routes()\n                    ^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:113: in _import_core_routes\n    from app.routes import (supply, generation, admin, references, health,\napp\\routes\\demo.py:7: in <module>\n    from app.services.demo_service import DemoService, get_demo_service\napp\\services\\demo_service.py:6: in <module>\n    from app.services.demo import (\napp\\services\\demo\\__init__.py:3: in <module>\n    from .demo_service import DemoService, get_demo_service\napp\\services\\demo\\demo_service.py:6: in <module>\n    from app.services.agent_service import AgentService\napp\\services\\agent_service.py:8: in <module>\n    from .agent_service_core import AgentService\napp\\services\\agent_service_core.py:13: in <module>\n    from app.agents.supervisor_consolidated import SupervisorAgent as Supervisor\napp\\agents\\supervisor_consolidated.py:28: in <module>\n    from app.agents.supervisor.execution_context import PipelineStep\napp\\agents\\supervisor\\__init__.py:5: in <module>\n    from .agent_registry import AgentRegistry\napp\\agents\\supervisor\\agent_registry.py:18: in <module>\n    from app.agents.synthetic_data_sub_agent import SyntheticDataSubAgent\napp\\agents\\synthetic_data_sub_agent.py:23: in <module>\n    from app.agents.synthetic_data_generator import (\napp\\agents\\synthetic_data_generator.py:18: in <module>\n    from app.agents.synthetic_data_mock_generators import SyntheticDataMockGenerators\nE   ModuleNotFoundError: No module named 'app.agents.synthetic_data_mock_generators'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=2, microseconds=438103), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=54148, name='MainProcess'), 'thread': (id=30704, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 55, 21, 284161, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755456916.7050376,
          "end_time": 1755456921.7877104
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:55:28.615396",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 5.1074254512786865,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 4.23s\n================================================================================\n\n2025-08-17 11:55:26.399 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:55:26.399 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:55:26.399 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:55:26.399 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:55:26.399 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:55:26.399 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:55:26.399 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:55:26.399 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:55:26.401 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:55:26.401 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:55:26.401 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:55:26.401 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:55:26.401 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:55:26.401 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:55:26.401 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:55:26.401 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:55:26.401 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:55:26.443 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:55:26.443 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:55:26.443 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:55:26.472 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:55:26.619 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:55:26.729 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:55:27.255 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:55:27.287 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:55:27.385 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:55:27.414 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:188: in _import_route_modules\n    basic_modules = _import_basic_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:107: in _import_basic_route_modules\n    route_imports = _import_core_routes()\n                    ^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:113: in _import_core_routes\n    from app.routes import (supply, generation, admin, references, health,\napp\\routes\\demo.py:7: in <module>\n    from app.services.demo_service import DemoService, get_demo_service\napp\\services\\demo_service.py:6: in <module>\n    from app.services.demo import (\napp\\services\\demo\\__init__.py:3: in <module>\n    from .demo_service import DemoService, get_demo_service\napp\\services\\demo\\demo_service.py:6: in <module>\n    from app.services.agent_service import AgentService\napp\\services\\agent_service.py:8: in <module>\n    from .agent_service_core import AgentService\napp\\services\\agent_service_core.py:13: in <module>\n    from app.agents.supervisor_consolidated import SupervisorAgent as Supervisor\napp\\agents\\supervisor_consolidated.py:28: in <module>\n    from app.agents.supervisor.execution_context import PipelineStep\napp\\agents\\supervisor\\__init__.py:5: in <module>\n    from .agent_registry import AgentRegistry\napp\\agents\\supervisor\\agent_registry.py:18: in <module>\n    from app.agents.synthetic_data_sub_agent import SyntheticDataSubAgent\napp\\agents\\synthetic_data_sub_agent.py:23: in <module>\n    from app.agents.synthetic_data_generator import (\napp\\agents\\synthetic_data_generator.py:18: in <module>\n    from app.agents.synthetic_data_mock_generators import SyntheticDataMockGenerators\nE   ModuleNotFoundError: No module named 'app.agents.synthetic_data_mock_generators'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=2, microseconds=541417), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=30228, name='MainProcess'), 'thread': (id=53208, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 55, 28, 94939, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755456923.4782972,
          "end_time": 1755456928.5978398
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:55:54.440449",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 6.311538457870483,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 5.26s\n================================================================================\n\n2025-08-17 11:55:51.791 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:55:51.791 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:55:51.791 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:55:51.791 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:55:51.791 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:55:51.799 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:55:51.799 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:55:51.799 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:55:51.799 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:55:51.799 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:55:51.799 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:55:51.799 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:55:51.799 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:55:51.799 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:55:51.812 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:55:51.812 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:55:51.812 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:55:51.831 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:55:52.002 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:55:52.132 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:55:52.677 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:55:52.718 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:55:52.834 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:55:52.865 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:188: in _import_route_modules\n    basic_modules = _import_basic_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:107: in _import_basic_route_modules\n    route_imports = _import_core_routes()\n                    ^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:113: in _import_core_routes\n    from app.routes import (supply, generation, admin, references, health,\napp\\routes\\demo.py:7: in <module>\n    from app.services.demo_service import DemoService, get_demo_service\napp\\services\\demo_service.py:6: in <module>\n    from app.services.demo import (\napp\\services\\demo\\__init__.py:3: in <module>\n    from .demo_service import DemoService, get_demo_service\napp\\services\\demo\\demo_service.py:6: in <module>\n    from app.services.agent_service import AgentService\napp\\services\\agent_service.py:8: in <module>\n    from .agent_service_core import AgentService\napp\\services\\agent_service_core.py:13: in <module>\n    from app.agents.supervisor_consolidated import SupervisorAgent as Supervisor\napp\\agents\\supervisor_consolidated.py:28: in <module>\n    from app.agents.supervisor.execution_context import PipelineStep\napp\\agents\\supervisor\\__init__.py:5: in <module>\n    from .agent_registry import AgentRegistry\napp\\agents\\supervisor\\agent_registry.py:18: in <module>\n    from app.agents.synthetic_data_sub_agent import SyntheticDataSubAgent\napp\\agents\\synthetic_data_sub_agent.py:23: in <module>\n    from app.agents.synthetic_data_generator import (\napp\\agents\\synthetic_data_generator.py:18: in <module>\n    from app.agents.synthetic_data_mock_generators import SyntheticDataMockGenerators\nE   ModuleNotFoundError: No module named 'app.agents.synthetic_data_mock_generators'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=2, microseconds=949225), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=38172, name='MainProcess'), 'thread': (id=55856, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 55, 53, 694826, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755456948.1146877,
          "end_time": 1755456954.4301984
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:56:44.787529",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 6.028893709182739,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 5.18s\n================================================================================\n\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:56:42.204 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:56:42.204 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:56:42.214 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:56:42.214 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:56:42.214 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:56:42.235 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:56:42.235 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:56:42.235 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:56:42.246 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:56:42.401 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:56:42.532 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:56:43.136 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:56:43.188 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:56:43.291 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:56:43.339 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-17 11:56:43.801 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-17 11:56:43.832 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-17 11:56:43.832 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-17 11:56:43.832 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:189: in _import_route_modules\n    named_routers = _import_named_routers()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:137: in _import_named_routers\n    auth_routers = _import_auth_routers()\n                   ^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:144: in _import_auth_routers\n    from app.routes.auth import router as auth_router\napp\\routes\\auth\\__init__.py:2: in <module>\n    from app.routes.auth.auth import router\napp\\routes\\auth\\auth.py:5: in <module>\n    from ..auth_routes.router import router\napp\\routes\\auth_routes\\router.py:15: in <module>\n    from .callback_processor import handle_callback_request\napp\\routes\\auth_routes\\callback_processor.py:7: in <module>\n    from app.clients.auth_client import auth_client, oauth_client\nE   ImportError: cannot import name 'oauth_client' from 'app.clients.auth_client' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\clients\\auth_client.py)\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=3, microseconds=33547), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=42256, name='MainProcess'), 'thread': (id=13724, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 56, 44, 244914, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755456998.748208,
          "end_time": 1755457004.7771018
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:56:51.566753",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 5.881673574447632,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 5.05s\n================================================================================\n\n2025-08-17 11:56:48.839 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:56:48.839 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:56:48.839 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:56:48.839 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:56:48.849 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:56:48.849 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:56:48.849 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:56:48.849 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:56:48.849 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:56:48.849 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:56:48.849 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:56:48.849 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:56:48.849 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:56:48.849 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:56:48.870 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:56:48.870 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:56:48.870 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:56:48.881 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:56:49.046 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:56:49.171 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:56:49.819 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:56:49.882 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:56:50.007 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:56:50.049 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-17 11:56:50.573 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-17 11:56:50.609 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-17 11:56:50.609 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-17 11:56:50.609 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:189: in _import_route_modules\n    named_routers = _import_named_routers()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:137: in _import_named_routers\n    auth_routers = _import_auth_routers()\n                   ^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:144: in _import_auth_routers\n    from app.routes.auth import router as auth_router\napp\\routes\\auth\\__init__.py:2: in <module>\n    from app.routes.auth.auth import router\napp\\routes\\auth\\auth.py:5: in <module>\n    from ..auth_routes.router import router\napp\\routes\\auth_routes\\router.py:15: in <module>\n    from .callback_processor import handle_callback_request\napp\\routes\\auth_routes\\callback_processor.py:7: in <module>\n    from app.clients.auth_client import auth_client, oauth_client\nE   ImportError: cannot import name 'oauth_client' from 'app.clients.auth_client' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\clients\\auth_client.py)\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=3, microseconds=96009), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=39288, name='MainProcess'), 'thread': (id=51840, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 56, 51, 64756, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755457005.679558,
          "end_time": 1755457011.5667534
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:57:09.820197",
      "level": "unit",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 10.028264045715332,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 8.90s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-17 11:57:04.460 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:57:04.462 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:57:04.462 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:57:04.463 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:57:04.463 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:57:04.463 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:57:04.464 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:57:04.464 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:57:04.464 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:57:04.464 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:57:04.464 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:57:04.465 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:57:04.465 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:57:04.466 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:57:04.466 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:57:04.466 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:57:04.468 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:57:04.468 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:57:04.468 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:57:04.469 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:57:04.469 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:57:04.469 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:57:04.471 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:57:04.471 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:57:04.472 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:57:04.510 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:57:04.510 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:57:04.511 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:57:04.563 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:57:04.940 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:57:05.216 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:57:06.552 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:57:06.628 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:57:06.878 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:57:06.966 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-17 11:57:07.977 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-17 11:57:08.106 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-17 11:57:08.106 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-17 11:57:08.106 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:189: in _import_route_modules\n    named_routers = _import_named_routers()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:137: in _import_named_routers\n    auth_routers = _import_auth_routers()\n                   ^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:144: in _import_auth_routers\n    from app.routes.auth import router as auth_router\napp\\routes\\auth\\__init__.py:2: in <module>\n    from app.routes.auth.auth import router\napp\\routes\\auth\\auth.py:5: in <module>\n    from ..auth_routes.router import router\napp\\routes\\auth_routes\\router.py:15: in <module>\n    from .callback_processor import handle_callback_request\napp\\routes\\auth_routes\\callback_processor.py:7: in <module>\n    from app.clients.auth_client import auth_client, oauth_client\nE   ImportError: cannot import name 'oauth_client' from 'app.clients.auth_client' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\clients\\auth_client.py)\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=6, microseconds=469596), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=36748, name='MainProcess'), 'thread': (id=16800, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 57, 8, 527548, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "failed",
          "duration": 0.4472355842590332,
          "exit_code": 15,
          "output": "\n'hooks' is not recognized as an internal or external command,\noperable program or batch file.\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 0,
            "test_files": 0,
            "status": "unknown"
          },
          "coverage": null,
          "test_details": []
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755457019.3215153,
          "end_time": 1755457029.8066406
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:57:37.190367",
      "level": "unit",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 7.9200522899627686,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 7.04s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-17 11:57:33.266 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:57:33.267 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:57:33.267 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:57:33.267 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:57:33.267 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:57:33.267 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:57:33.268 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:57:33.268 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:57:33.268 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:57:33.268 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:57:33.300 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:57:33.300 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:57:33.300 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:57:33.342 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:57:33.591 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:57:33.793 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:57:34.799 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:57:34.860 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:57:35.082 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:57:35.149 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-17 11:57:35.921 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-17 11:57:36.003 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-17 11:57:36.003 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-17 11:57:36.003 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:190: in _import_route_modules\n    factory_routers = _import_factory_routers()\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:165: in _import_factory_routers\n    status_routers = _import_factory_status_routers()\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:172: in _import_factory_status_routers\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status\\router.py:9: in <module>\n    from .report_routes import (\napp\\routes\\factory_status\\report_routes.py:9: in <module>\n    from .business_logic import get_cached_reports, get_latest_report_id, generate_new_report\napp\\routes\\factory_status\\business_logic.py:5: in <module>\n    from app.services.factory_status.report_builder import ReportBuilder, FactoryStatusReport\napp\\services\\factory_status\\report_builder.py:12: in <module>\n    from app.services.factory_status.git_commit_parser import GitCommitParser\napp\\services\\factory_status\\git_commit_parser.py:14: in <module>\n    from app.services.factory_status.mock_data_generator import MockDataGenerator\nE   ModuleNotFoundError: No module named 'app.services.factory_status.mock_data_generator'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=4, microseconds=783171), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=54668, name='MainProcess'), 'thread': (id=1444, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 57, 36, 428686, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "failed",
          "duration": 0.2635359764099121,
          "exit_code": 15,
          "output": "\n'hooks' is not recognized as an internal or external command,\noperable program or batch file.\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 0,
            "test_files": 0,
            "status": "unknown"
          },
          "coverage": null,
          "test_details": []
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755457048.9970882,
          "end_time": 1755457057.1851132
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:58:12.265030",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 7.768934488296509,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 6.77s\n================================================================================\n\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:58:09.147 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:58:09.147 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:58:09.147 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:58:09.147 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:58:09.183 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:58:09.183 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:58:09.183 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:58:09.201 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:58:09.410 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:58:09.611 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:58:10.452 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:58:10.515 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:58:10.640 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:58:10.689 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-17 11:58:11.205 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-17 11:58:11.226 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-17 11:58:11.226 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-17 11:58:11.226 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:190: in _import_route_modules\n    factory_routers = _import_factory_routers()\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:165: in _import_factory_routers\n    status_routers = _import_factory_status_routers()\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:172: in _import_factory_status_routers\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status\\router.py:9: in <module>\n    from .report_routes import (\napp\\routes\\factory_status\\report_routes.py:9: in <module>\n    from .business_logic import get_cached_reports, get_latest_report_id, generate_new_report\napp\\routes\\factory_status\\business_logic.py:5: in <module>\n    from app.services.factory_status.report_builder import ReportBuilder, FactoryStatusReport\napp\\services\\factory_status\\report_builder.py:12: in <module>\n    from app.services.factory_status.git_commit_parser import GitCommitParser\napp\\services\\factory_status\\git_commit_parser.py:14: in <module>\n    from app.services.factory_status.mock_data_generator import MockDataGenerator\nE   ModuleNotFoundError: No module named 'app.services.factory_status.mock_data_generator'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=3, microseconds=901193), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=26456, name='MainProcess'), 'thread': (id=25960, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 58, 11, 730932, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755457084.4856763,
          "end_time": 1755457092.2612746
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-17T11:58:41.411779",
      "level": "smoke",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 6.336523771286011,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: smoke\n  Parallel: disabled\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/routes/test_health_route.py app/tests/core/test_error_handling.py::TestNetraExceptions::test_configuration_error app/tests/core/test_config_manager.py::TestConfigManager::test_initialization app/tests/services/test_security_service.py::test_encrypt_and_decrypt tests/test_system_startup.py::TestSystemStartup::test_configuration_loading -v -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings -m not real_services -p test_framework.pytest_bad_test_plugin --test-component backend\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 5.41s\n================================================================================\n\n2025-08-17 11:58:38.665 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-17 11:58:38.666 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-17 11:58:38.666 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-17 11:58:38.666 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-17 11:58:38.666 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-17 11:58:38.667 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-17 11:58:38.667 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-17 11:58:38.667 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-17 11:58:38.667 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-17 11:58:38.667 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-17 11:58:38.667 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-17 11:58:38.668 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-17 11:58:38.668 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-17 11:58:38.668 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 12 env vars\n2025-08-17 11:58:38.668 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-17 11:58:38.668 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-17 11:58:38.670 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 8 secrets from environment variables\n2025-08-17 11:58:38.670 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: jwt-secret-key, fernet-key\n2025-08-17 11:58:38.671 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 8 secrets loaded\n2025-08-17 11:58:38.671 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 8 secrets\n2025-08-17 11:58:38.672 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 8 secrets (from 8 loaded)\n2025-08-17 11:58:38.672 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 2 (jwt-secret-key, fernet-key)\n2025-08-17 11:58:38.672 | WARNING  | app.core.unified_logging:_emit_log:117 | Critical secrets not found in loaded secrets: 1 (gemini-api-key)\n2025-08-17 11:58:38.673 | WARNING  | app.core.unified_logging:_emit_log:117 | LLM configuration warnings: Gemini API key is not configured (required for all LLM operations)\n2025-08-17 11:58:38.673 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-17 11:58:38.692 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-17 11:58:38.695 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-17 11:58:38.695 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-17 11:58:38.710 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-17 11:58:38.855 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-17 11:58:38.972 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-17 11:58:39.555 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-17 11:58:39.608 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-17 11:58:39.741 | INFO     | logging:handle:1028 | Session middleware config: same_site=lax, https_only=False, environment=development\n2025-08-17 11:58:39.794 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-17 11:58:40.338 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-17 11:58:40.365 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-17 11:58:40.365 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-17 11:58:40.365 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:71: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:277: in create_app\n    _configure_app_routes(app)\napp\\core\\app_factory.py:290: in _configure_app_routes\n    register_api_routes(app)\napp\\core\\app_factory.py:95: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:100: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:190: in _import_route_modules\n    factory_routers = _import_factory_routers()\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:165: in _import_factory_routers\n    status_routers = _import_factory_status_routers()\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:172: in _import_factory_status_routers\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status\\router.py:9: in <module>\n    from .report_routes import (\napp\\routes\\factory_status\\report_routes.py:9: in <module>\n    from .business_logic import get_cached_reports, get_latest_report_id, generate_new_report\napp\\routes\\factory_status\\business_logic.py:5: in <module>\n    from app.services.factory_status.report_builder import ReportBuilder, FactoryStatusReport\napp\\services\\factory_status\\report_builder.py:12: in <module>\n    from app.services.factory_status.git_commit_parser import GitCommitParser\napp\\services\\factory_status\\git_commit_parser.py:14: in <module>\n    from app.services.factory_status.mock_data_generator import MockDataGenerator\nE   ModuleNotFoundError: No module named 'app.services.factory_status.mock_data_generator'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=3, microseconds=173420), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=51936, name='MainProcess'), 'thread': (id=30668, name='MainThread'), 'time': datetime(2025, 8, 17, 11, 58, 40, 797861, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "import_errors": 2,
            "status": "import_error",
            "test_files": 4
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755457115.066803,
          "end_time": 1755457121.4073424
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    }
  ],
  "flaky_tests": {},
  "failure_patterns": {},
  "performance_trends": []
}