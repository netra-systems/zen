{
  "timestamp": "2025-08-12T13:44:20.457931",
  "level": "unit",
  "metrics": {
    "total_tests": 343,
    "passed": 19,
    "failed": 324,
    "coverage": null
  },
  "results": {
    "backend": {
      "status": "failed",
      "duration": 4.977769613265991,
      "exit_code": 4,
      "output": "================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: development\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings\n================================================================================\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 4.34s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-12 13:43:15.833 | ERROR    | app.core.unified_logging:_log:313 | Configuration validation failed: Database configuration errors: Database URL must be a PostgreSQL connection string\n2025-08-12 13:43:15.833 | ERROR    | app.core.unified_logging:_log:313 | Configuration loading failed: Database configuration errors: Database URL must be a PostgreSQL connection string\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:51: in <module>\n    from app.main import app\napp\\main.py:26: in <module>\n    from app.routes.websockets import router as websockets_router\napp\\routes\\websockets.py:4: in <module>\n    from app.db.postgres import get_async_db\napp\\db\\postgres.py:7: in <module>\n    from app.config import settings\napp\\config.py:350: in <module>\n    settings = get_config()\n               ^^^^^^^^^^^^\napp\\config.py:343: in get_config\n    return _config_manager.get_config()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\config.py:33: in get_config\n    self._config = self._load_configuration()\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^\napp\\config.py:61: in _load_configuration\n    raise ConfigurationError(f\"Failed to load configuration: {e}\")\nE   app.config.ConfigurationError: Failed to load configuration: Database configuration errors: Database URL must be a PostgreSQL connection string\n",
      "test_counts": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0,
        "test_files": 0
      },
      "coverage": null
    },
    "frontend": {
      "status": "failed",
      "duration": 63.65628099441528,
      "exit_code": 1,
      "output": "\n> netra-frontend-apex-v1@0.1.0 test\n> jest __tests__/unit components/**/*.test.tsx hooks/**/*.test.ts\n\n  Invalid testPattern __tests__/unit|components/**/*.test.tsx|hooks/**/*.test.ts supplied. Running all tests instead.\n  Invalid testPattern __tests__/unit|components/**/*.test.tsx|hooks/**/*.test.ts supplied. Running all tests instead.\n================================================================================\nNETRA AI PLATFORM - FRONTEND TEST RUNNER\n================================================================================\n\n================================================================================\nRunning Jest Tests\n--------------------------------------------------------------------------------\nRunning: npm run test -- __tests__/unit components/**/*.test.tsx hooks/**/*.test.ts\n--------------------------------------------------------------------------------\n\n================================================================================\n[FAIL] CHECKS FAILED with exit code 1\n================================================================================\n\nFAIL __tests__/components/AgentStatusPanel.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expected corresponding JSX closing tag for <WebSocketProvider>\n         ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\components\\AgentStatusPanel.test.tsx\u001b[0m:715:1]\n     \u001b[2m712\u001b[0m |       rerender(\n     \u001b[2m713\u001b[0m |         <WebSocketProvider>\n     \u001b[2m714\u001b[0m |           <TestWrapper />\n     \u001b[2m715\u001b[0m |         </TestProviders>\n         : \u001b[35;1m          ^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m716\u001b[0m |       );\n     \u001b[2m717\u001b[0m |       \n     \u001b[2m717\u001b[0m |       expect(renderSpy).toHaveBeenCalledTimes(2); // Would be optimized with React.memo\n         `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/hooks/additionalHooks.test.tsx\n  \u25cf Console\n\n    console.log\n      Demo WebSocket connected\n\n      at Object.log [as onopen] (hooks/useDemoWebSocket.ts:59:17)\n\n    console.log\n      Demo WebSocket connected\n\n      at Object.log [as onopen] (hooks/useDemoWebSocket.ts:59:17)\n\n    console.log\n      Demo WebSocket disconnected\n\n      at Object.log [as onclose] (hooks/useDemoWebSocket.ts:89:17)\n\n    console.log\n      Attempting to reconnect in 3000ms...\n\n      at Object.log [as onclose] (hooks/useDemoWebSocket.ts:98:19)\n\n  \u25cf test_useDemoWebSocket_connection \u203a should handle message queuing when disconnected\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: \"{\\\"type\\\":\\\"demo\\\",\\\"content\\\":\\\"Test message\\\"}\"\n\n    \u001b[0m \u001b[90m  96 |\u001b[39m     \n     \u001b[90m  97 |\u001b[39m     \u001b[90m// Should not send yet since not connected\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  98 |\u001b[39m     expect(mockWebSocketInstance\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  99 |\u001b[39m     \n     \u001b[90m 100 |\u001b[39m     \u001b[90m// Now simulate connection established\u001b[39m\n     \u001b[90m 101 |\u001b[39m     act(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/hooks/additionalHooks.test.tsx:98:44)\n\nFAIL __tests__/hooks/useWebSocket.test.tsx\n  \u25cf useWebSocket \u203a should return WebSocket context values\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  -  0\n    + Received  + 11\n\n      Object {\n    +   \"connect\": [Function mockConstructor],\n    +   \"connectionState\": \"connected\",\n    +   \"disconnect\": [Function mockConstructor],\n    +   \"error\": null,\n    +   \"isConnected\": true,\n    +   \"lastMessage\": null,\n    +   \"messageQueue\": Array [],\n        \"messages\": Array [],\n    +   \"reconnectAttempts\": 0,\n        \"sendMessage\": [Function mockConstructor],\n        \"status\": \"OPEN\",\n    +   \"subscribe\": [Function mockConstructor],\n    +   \"unsubscribe\": [Function mockConstructor],\n    +   \"ws\": null,\n      }\n\n    \u001b[0m \u001b[90m 48 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 49 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 50 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoEqual(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 51 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoBe(mockSendMessage)\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'OPEN'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 53 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/hooks/useWebSocket.test.tsx:50:28)\n\n  \u25cf useWebSocket \u203a should throw error when used outside of provider\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useWebSocketContext must be used within a WebSocketProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m     expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 65 |\u001b[39m       renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m     })\u001b[33m.\u001b[39mtoThrow(\u001b[32m'useWebSocketContext must be used within a WebSocketProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m   it(\u001b[32m'should call sendMessage when invoked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/hooks/useWebSocket.test.tsx:66:8)\n\n  \u25cf useWebSocket \u203a should call sendMessage when invoked\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage(message)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(message)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocket.test.tsx:77:29)\n\n  \u25cf useWebSocket \u203a should reflect connection state changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 94 |\u001b[39m     rerender()\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 96 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 97 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 98 |\u001b[39m\n     \u001b[90m 99 |\u001b[39m   it(\u001b[32m'should handle closing states'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:96:35)\n\n  \u25cf useWebSocket \u203a should handle closing states\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSING\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 110 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 111 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSING'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 112 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m   it(\u001b[32m'should handle connecting state'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:111:35)\n\n  \u25cf useWebSocket \u203a should handle connecting state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CONNECTING\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CONNECTING'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m   it(\u001b[32m'should handle messages array'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:126:35)\n\n  \u25cf useWebSocket \u203a should handle messages array\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 142 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 143 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 144 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 145 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'message1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/hooks/useWebSocket.test.tsx:144:37)\n\n  \u25cf useWebSocket \u203a should handle all WebSocket states\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CONNECTING\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 157 |\u001b[39m       \n     \u001b[90m 158 |\u001b[39m       \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 159 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(state)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 160 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 161 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/hooks/useWebSocket.test.tsx:159:37)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/hooks/useWebSocket.test.tsx:152:12)\n\n  \u25cf useWebSocket \u203a should accumulate messages over time\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 1\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 174 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 175 |\u001b[39m     rerender()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 176 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 177 |\u001b[39m     \n     \u001b[90m 178 |\u001b[39m     \u001b[90m// Add second message\u001b[39m\n     \u001b[90m 179 |\u001b[39m     (useWebSocketContext \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\u001b[0m\n\n      at Object.toHaveLength (__tests__/hooks/useWebSocket.test.tsx:176:37)\n\nFAIL __tests__/auth/service.test.ts\n  \u25cf Console\n\n    console.error\n      Error: Not implemented: navigation (except hash changes)\n          at Reflect.set (<anonymous>)\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\service.test.ts:52:25) {\n        type: 'not implemented'\n      }\n\n    \u001b[0m \u001b[90m 50 |\u001b[39m\n     \u001b[90m 51 |\u001b[39m \u001b[90m// Mock location with a getter/setter approach\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 52 |\u001b[39m (window \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mlocation \u001b[33m=\u001b[39m {\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 53 |\u001b[39m   href\u001b[33m:\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 54 |\u001b[39m   assign\u001b[33m:\u001b[39m mockAssign\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m   replace\u001b[33m:\u001b[39m mockReplace\u001b[33m,\u001b[39m\u001b[0m\n\n      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)\n      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)\n      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)\n      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)\n      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)\n      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)\n      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)\n      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)\n          at Reflect.set (<anonymous>)\n      at Window.set location [as location] (node_modules/jsdom/lib/jsdom/browser/Window.js:424:15)\n      at Object.<anonymous> (__tests__/auth/service.test.ts:52:25)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.error\n      Error: Not implemented: navigation (except hash changes)\n          at AuthService.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\auth\\service.ts:73:25)\n          at Object.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\service.test.ts:279:19)\n          at new Promise (<anonymous>) {\n        type: 'not implemented'\n      }\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)\n      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)\n      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)\n      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)\n      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)\n      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)\n      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)\n      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)\n      at AuthService.handleLogin (auth/service.ts:73:25)\n      at Object.handleLogin (__tests__/auth/service.test.ts:279:19)\n\n    console.error\n      Error: Not implemented: navigation (except hash changes)\n          at AuthService.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\auth\\service.ts:73:25)\n          at Object.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\service.test.ts:287:19)\n          at new Promise (<anonymous>) {\n        type: 'not implemented'\n      }\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)\n      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)\n      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)\n      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)\n      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)\n      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)\n      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)\n      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)\n      at AuthService.handleLogin (auth/service.ts:73:25)\n      at Object.handleLogin (__tests__/auth/service.test.ts:287:19)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.log\n      Dev login successful\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:30:17)\n\n  \u25cf AuthService \u203a handleLogin \u203a should redirect to login endpoint\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 283 |\u001b[39m\n     \u001b[90m 284 |\u001b[39m     it(\u001b[32m'should handle login with development mode config'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:281:36)\n\n  \u25cf AuthService \u203a handleLogin \u203a should handle login with development mode config\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 287 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 288 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 289 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(devConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 290 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:289:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should perform logout successfully and redirect\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m\n     \u001b[90m 314 |\u001b[39m     it(\u001b[32m'should handle logout failure and still redirect'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:311:14)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout failure and still redirect\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Logout failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:323:14)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout network error and still redirect\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Error during logout:'\u001b[39m\u001b[33m,\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m\n     \u001b[90m 339 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 340 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:337:14)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout without token\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 355 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 356 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 357 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 358 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 359 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:357:14)\n\n  \u25cf AuthService \u203a Edge Cases \u203a should handle concurrent login/logout operations\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 448 |\u001b[39m\n     \u001b[90m 449 |\u001b[39m       \u001b[90m// Verify operations completed\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 450 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 451 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 452 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:450:14)\n\nFAIL __tests__/hooks/useWebSocketLifecycle.test.tsx\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should initialize WebSocket connection on mount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m\n     \u001b[90m 89 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m       \n     \u001b[90m 93 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:90:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should setup connection with token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"token=test-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m\n     \u001b[90m 101 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'token=test-token-123'\u001b[39m)\n     \u001b[90m 104 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:102:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should cleanup WebSocket connection on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 111 |\u001b[39m       unmount()\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 113 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n     \u001b[90m 116 |\u001b[39m     it(\u001b[32m'should handle rapid mount/unmount cycles'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:113:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should handle rapid mount/unmount cycles\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 5\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 127 |\u001b[39m\n     \u001b[90m 128 |\u001b[39m       \u001b[90m// Should handle cleanup gracefully without errors\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 129 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 130 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 131 |\u001b[39m\n     \u001b[90m 132 |\u001b[39m     it(\u001b[32m'should preserve connection across component re-renders'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocketLifecycle.test.tsx:129:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should preserve connection across component re-renders\n\n    expect(received).toBe(expected) // Object.is equality\n\n    If it should pass with deep equality, replace \"toBe\" with \"toStrictEqual\"\n\n    Expected: []\n    Received: serializes to the same string\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       expect(renderCount)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(initialStatus)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoBe(initialMessages)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m       \n     \u001b[90m 149 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 150 |\u001b[39m         \u001b[90m// Should only connect once\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:147:39)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Connection State Management \u203a should track connection status\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 159 |\u001b[39m\n     \u001b[90m 160 |\u001b[39m       \u001b[90m// Initially closed\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 161 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:161:37)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should send messages through webSocketService\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 219 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(testMessage)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\n     \u001b[90m 223 |\u001b[39m     it(\u001b[32m'should accumulate received messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:220:48)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should accumulate received messages\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 228 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 230 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 231 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 232 |\u001b[39m\n     \u001b[90m 233 |\u001b[39m       \u001b[90m// Simulate receiving a message\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:230:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Error Handling and Edge Cases \u203a should handle missing token gracefully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \u001b[90m// But should still provide context\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:278:37)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Error Handling and Edge Cases \u203a should handle config fetch failure\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Failed to fetch config and connect to WebSocket\", Any<Error>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 288 |\u001b[39m\n     \u001b[90m 289 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 290 |\u001b[39m         expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 291 |\u001b[39m           \u001b[32m'Failed to fetch config and connect to WebSocket'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 292 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\n     \u001b[90m 293 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:290:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/auth/context.test.tsx\n  \u25cf Console\n\n    console.log\n      Development mode detected. Has logged out: false\n\n      at log (auth/context.tsx:65:17)\n\n    console.log\n      Attempting auto dev login...\n\n      at log (auth/context.tsx:69:19)\n\n    console.log\n      Development mode detected. Has logged out: false\n\n      at log (auth/context.tsx:65:17)\n\n    console.log\n      Attempting auto dev login...\n\n      at log (auth/context.tsx:69:19)\n\n    console.error\n      Failed to fetch auth config: Error: Network error\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\context.test.tsx:296:66)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at runNextTicks (node:internal/process/task_queues:65:5)\n          at listOnTimeout (node:internal/timers:569:9)\n          at processTimers (node:internal/timers:543:7)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n          at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (auth/context.tsx:83:15)\n\n    console.log\n      Development mode detected. Has logged out: false\n\n      at log (auth/context.tsx:65:17)\n\n    console.log\n      Attempting auto dev login...\n\n      at log (auth/context.tsx:69:19)\n\n    console.error\n      Failed to fetch auth config: Error: Network error\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\context.test.tsx:368:66)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n          at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (auth/context.tsx:83:15)\n\n  \u25cf AuthContext \u203a Login Functionality \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 289 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 290 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 291 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 292 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 294 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:291:46)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8000/auth/callback\", \"dev_login\": \"http://localhost:8000/auth/dev-login\", \"login\": \"http://localhost:8000/auth/login\", \"logout\": \"http://localhost:8000/auth/logout\"}}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 336 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 337 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 338 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 339 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 340 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 341 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/context.test.tsx:338:40)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 362 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m       expect(authService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 366 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:363:44)\n\n  \u25cf AuthContext \u203a Sync with Auth Store \u203a should sync logout with Zustand store\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 526 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 527 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 528 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 529 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 530 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 531 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:528:36)\n\nPASS __tests__/hooks/useAgent.test.tsx\nPASS __tests__/components/chat/ExamplePrompts.test.tsx\nFAIL __tests__/components/ChatSidebar.test.tsx\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should render thread list when threads are available\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display thread metadata correctly\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show empty state when no threads exist\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display loading state while fetching threads\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show error state when thread loading fails\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should group threads by date\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should sort threads by last activity\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should truncate long thread titles and messages\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show thread status indicators\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should switch to selected thread\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should highlight active thread correctly\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should support keyboard navigation\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should show thread preview on hover\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should handle rapid thread switching\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should persist navigation state across page reloads\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should create new thread\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should show thread creation dialog\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should rename existing thread\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should delete thread with confirmation\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should archive and unarchive threads\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should handle bulk thread operations\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should export thread data\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should provide search functionality\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter threads based on search query\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should clear search results\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by thread status\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by date range\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should support advanced search with filters\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should show search suggestions\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle thread switching failures\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should retry failed operations\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle network disconnection gracefully\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should virtualize large thread lists\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should debounce search input\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should cleanup listeners on unmount\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support screen reader announcements\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support high contrast mode\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should provide keyboard shortcuts info\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\nPASS __tests__/components/ui/select.test.tsx\nPASS __tests__/components/ThinkingIndicator.test.tsx\nPASS __tests__/components/ChatWindow.test.tsx\nPASS __tests__/components/SubAgentStatus.test.tsx\nPASS __tests__/auth/components.test.tsx\nPASS __tests__/components/chat/ChatHeader.test.tsx\nPASS __tests__/components/chat/MessageItem.test.tsx\nPASS __tests__/components/chat/PersistentResponseCard.test.tsx\nPASS __tests__/store/unified-chat.test.ts\n  \u25cf Console\n\n    console.log\n      [UnifiedChat] WebSocket Event: agent_started {\n        payload: {\n          agent_name: 'Supervisor Agent',\n          timestamp: 1755031406154,\n          run_id: 'run-456'\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: tool_executing {\n        payload: {\n          tool_name: 'cost_optimizer',\n          agent_name: 'Test Agent',\n          timestamp: 1755031406165\n        },\n        currentFastLayer: {\n          agentName: 'Test Agent',\n          activeTools: [],\n          timestamp: 1755031406165,\n          runId: 'test-run'\n        },\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: agent_thinking {\n        payload: {\n          thought: 'Analyzing workload patterns...',\n          agent_name: 'Analysis Agent',\n          step_number: 2,\n          total_steps: 5\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: partial_result {\n        payload: {\n          content: 'Initial analysis shows',\n          agent_name: 'Analysis Agent',\n          is_complete: false\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: partial_result {\n        payload: {\n          content: ' potential optimizations',\n          agent_name: 'Analysis Agent',\n          is_complete: false\n        },\n        currentFastLayer: null,\n        currentMediumLayer: {\n          thought: '',\n          partialContent: 'Initial analysis shows',\n          stepNumber: 0,\n          totalSteps: 0,\n          agentName: 'Analysis Agent'\n        },\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: agent_completed {\n        payload: {\n          agent_name: 'Optimization Agent',\n          duration_ms: 3000,\n          result: { optimizations: [Array] },\n          metrics: { tokens: 500 }\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: final_report {\n        payload: {\n          report: { summary: 'Complete analysis' },\n          total_duration_ms: 10000,\n          agent_metrics: [],\n          recommendations: [ [Object] ],\n          action_plan: [ [Object] ]\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: error {\n        payload: {\n          error_message: 'Connection timeout',\n          error_code: 'TIMEOUT',\n          agent_name: 'Network Agent',\n          recoverable: false\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\nPASS __tests__/hooks/useChatWebSocket.test.ts\nPASS __tests__/store/chatStore.test.ts\nPASS __tests__/components/AppWithLayout.test.tsx\nPASS __tests__/hooks/useKeyboardShortcuts.test.tsx\nPASS __tests__/components/TestLoginComponent.tsx\nPASS __tests__/components/chat/layers/FastLayer.test.tsx\nPASS __tests__/services/messageService.test.ts\nPASS __tests__/hooks/useError.test.ts\nFAIL __tests__/utils/test-utils.tsx\n  \u25cf Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/index.js:1052:18)\n      at node_modules/@jest/core/build/index.js:1122:165\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n\nFAIL __tests__/test-utils/providers.tsx\n  \u25cf Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/index.js:1052:18)\n      at node_modules/@jest/core/build/index.js:1122:165\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n\nFAIL __tests__/components/FinalReportView.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/charts/PerformanceChart mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 12 |\u001b[39m   \u001b[33mCardTitle\u001b[39m\u001b[33m:\u001b[39m ({ children }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33mh3\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"card-title\"\u001b[39m\u001b[33m>\u001b[39m{children}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mh3\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 13 |\u001b[39m }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 14 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/charts/PerformanceChart'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \u001b[33mPerformanceChart\u001b[39m\u001b[33m:\u001b[39m ({ data\u001b[33m,\u001b[39m type }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 16 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"performance-chart\"\u001b[39m data\u001b[33m-\u001b[39mchart\u001b[33m-\u001b[39mtype\u001b[33m=\u001b[39m{type}\u001b[33m>\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[33mChart\u001b[39m\u001b[33m:\u001b[39m {\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(data)}\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/components/FinalReportView.test.tsx:14:6)\n\nFAIL __tests__/components/UIComponents.test.tsx\n  \u25cf Console\n\n    console.error\n      Failed to fetch auth config: FetchError {\n        message: 'invalid json response body at  reason: Unexpected end of JSON input',\n        type: 'invalid-json'\n      }\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (auth/context.tsx:83:15)\n\n    console.error\n      An update to AuthProvider inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (auth/context.tsx:85:7)\n\n    console.error\n      Failed to fetch auth config: FetchError {\n        message: 'invalid json response body at  reason: Unexpected end of JSON input',\n        type: 'invalid-json'\n      }\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (auth/context.tsx:83:15)\n\n    console.error\n      An update to AuthProvider inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (auth/context.tsx:85:7)\n\n    console.error\n      Failed to fetch auth config: FetchError {\n        message: 'invalid json response body at  reason: Unexpected end of JSON input',\n        type: 'invalid-json'\n      }\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (auth/context.tsx:83:15)\n\n    console.error\n      An update to AuthProvider inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (auth/context.tsx:85:7)\n\n  \u25cf test_ErrorFallback_recovery \u203a should display error boundary correctly\n\n    TestingLibraryElementError: Unable to find an element with the text: /Something went wrong/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 18 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Something went wrong/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Test error/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Try again/i\u001b[39m }))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/UIComponents.test.tsx:19:19)\n\n  \u25cf test_ErrorFallback_recovery \u203a should handle recovery actions\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"button\" and name `/Try again/i`\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 30 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 32 |\u001b[39m     \u001b[36mconst\u001b[39m retryButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Try again/i\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 33 |\u001b[39m     fireEvent\u001b[33m.\u001b[39mclick(retryButton)\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \n     \u001b[90m 35 |\u001b[39m     expect(resetErrorBoundary)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/UIComponents.test.tsx:32:32)\n\n  \u25cf test_ErrorFallback_recovery \u203a should display stack trace in development mode\n\n    TestingLibraryElementError: Unable to find an element with the text: /test.js:10:5/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/test.js:10:5/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m     \n     \u001b[90m 53 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNODE_ENV\u001b[39m \u001b[33m=\u001b[39m originalEnv\u001b[33m;\u001b[39m\n     \u001b[90m 54 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/UIComponents.test.tsx:51:19)\n\n  \u25cf test_Header_navigation \u203a should render header components correctly\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m describe(\u001b[32m'test_Header_navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m   it(\u001b[32m'should render header components correctly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     render(withRouter(\u001b[33m<\u001b[39m\u001b[33mHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     \n     \u001b[90m 62 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'banner'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByAltText(\u001b[35m/Netra/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:60:22)\n\n  \u25cf test_Header_navigation \u203a should handle navigation interactions\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m   it(\u001b[32m'should handle navigation interactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 67 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     \n     \u001b[90m 71 |\u001b[39m     \u001b[36mconst\u001b[39m homeLink \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Home/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:68:11)\n\n  \u25cf test_Header_navigation \u203a should show responsive menu on mobile\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 82 |\u001b[39m     \n     \u001b[90m 83 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 84 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 85 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 86 |\u001b[39m     \n     \u001b[90m 87 |\u001b[39m     \u001b[36mconst\u001b[39m menuButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Menu/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:84:11)\n\n  \u25cf test_NavLinks_routing \u203a should render navigation links correctly\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m  97 |\u001b[39m   it(\u001b[32m'should render navigation links correctly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m  98 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  99 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mNavLinks\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 100 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n     \u001b[90m 102 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Dashboard/i\u001b[39m }))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:99:11)\n\n  \u25cf test_NavLinks_routing \u203a should highlight active route\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 109 |\u001b[39m     \n     \u001b[90m 110 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 111 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mNavLinks\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 112 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m     \n     \u001b[90m 114 |\u001b[39m     \u001b[36mconst\u001b[39m chatLink \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Chat/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:111:11)\n\n  \u25cf test_NavLinks_routing \u203a should handle navigation correctly\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 120 |\u001b[39m     \n     \u001b[90m 121 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 122 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mNavLinks\u001b[39m onNavigate\u001b[33m=\u001b[39m{mockNavigate} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 123 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     \n     \u001b[90m 125 |\u001b[39m     \u001b[36mconst\u001b[39m settingsLink \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Settings/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:122:11)\n\nFAIL __tests__/services/webSocketService.test.ts\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection success\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m\n     \u001b[90m 59 |\u001b[39m     it(\u001b[32m'should handle connection success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockResolvedValueOnce(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mgetConnectionState\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'connected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:60:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection errors\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 76 |\u001b[39m     it(\u001b[32m'should handle connection errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 77 |\u001b[39m       \u001b[36mconst\u001b[39m connectionError \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection failed'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 78 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockRejectedValueOnce(connectionError)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 79 |\u001b[39m\n     \u001b[90m 80 |\u001b[39m       \u001b[36mawait\u001b[39m expect(webSocketService\u001b[33m.\u001b[39mconnect(\u001b[32m'ws://localhost:8000/ws'\u001b[39m))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Connection failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:78:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should disconnect WebSocket properly\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 82 |\u001b[39m\n     \u001b[90m 83 |\u001b[39m     it(\u001b[32m'should disconnect WebSocket properly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 84 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 87 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:84:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle multiple connection attempts gracefully\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 90 |\u001b[39m\n     \u001b[90m 91 |\u001b[39m     it(\u001b[32m'should handle multiple connection attempts gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 92 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 93 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m.\u001b[39mmockReturnValueOnce(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 94 |\u001b[39m\n     \u001b[90m 95 |\u001b[39m       \u001b[90m// First connection\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:92:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection state transitions\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 106 |\u001b[39m       \n     \u001b[90m 107 |\u001b[39m       states\u001b[33m.\u001b[39mforEach(state \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 108 |\u001b[39m         mockWebSocketManager\u001b[33m.\u001b[39mgetConnectionState\u001b[33m.\u001b[39mmockReturnValue(state)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 109 |\u001b[39m         expect(webSocketService\u001b[33m.\u001b[39mgetConnectionState())\u001b[33m.\u001b[39mtoBe(state)\u001b[33m;\u001b[39m\n     \u001b[90m 110 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at mockWebSocketManager (__tests__/services/webSocketService.test.ts:108:9)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/services/webSocketService.test.ts:107:14)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send messages when connected\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should queue messages when disconnected\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send queued messages after reconnection\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle message receiving with proper parsing\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle malformed message data gracefully\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should support message filtering by type\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle binary message data\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should validate message format before sending\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should add message IDs for tracking\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should attempt reconnection with exponential backoff\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 255 |\u001b[39m   describe(\u001b[32m'Reconnection Logic and Exponential Backoff'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 256 |\u001b[39m     it(\u001b[32m'should attempt reconnection with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 257 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 258 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mgetReconnectAttempts\u001b[33m.\u001b[39mmockReturnValue(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 259 |\u001b[39m\n     \u001b[90m 260 |\u001b[39m       \u001b[90m// Enable auto-reconnect\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:257:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should implement exponential backoff with jitter\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m\n     \u001b[90m 279 |\u001b[39m     it(\u001b[32m'should implement exponential backoff with jitter'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:280:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should stop reconnection after max attempts\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 310 |\u001b[39m\n     \u001b[90m 311 |\u001b[39m     it(\u001b[32m'should stop reconnection after max attempts'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 312 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 313 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetMaxReconnectAttempts(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 315 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:312:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should reset reconnect attempts after successful connection\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 327 |\u001b[39m\n     \u001b[90m 328 |\u001b[39m     it(\u001b[32m'should reset reconnect attempts after successful connection'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 329 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 330 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 331 |\u001b[39m\n     \u001b[90m 332 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:329:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should allow manual reconnection\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 345 |\u001b[39m\n     \u001b[90m 346 |\u001b[39m     it(\u001b[32m'should allow manual reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 347 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 348 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mreconnect\u001b[33m.\u001b[39mmockResolvedValueOnce(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m\n     \u001b[90m 350 |\u001b[39m       \u001b[36mawait\u001b[39m webSocketService\u001b[33m.\u001b[39mreconnect()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:347:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should handle rapid connection state changes\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 354 |\u001b[39m\n     \u001b[90m 355 |\u001b[39m     it(\u001b[32m'should handle rapid connection state changes'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 356 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 357 |\u001b[39m       \u001b[36mconst\u001b[39m stateChanges\u001b[33m:\u001b[39m string[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 358 |\u001b[39m\n     \u001b[90m 359 |\u001b[39m       webSocketService\u001b[33m.\u001b[39monConnectionChange((state) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:356:33)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should disable auto-reconnect when explicitly disconnected\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 372 |\u001b[39m\n     \u001b[90m 373 |\u001b[39m     it(\u001b[32m'should disable auto-reconnect when explicitly disconnected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 374 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 375 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m\n     \u001b[90m 377 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:374:24)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should respect network status for reconnection attempts\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 387 |\u001b[39m\n     \u001b[90m 388 |\u001b[39m     it(\u001b[32m'should respect network status for reconnection attempts'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 389 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 390 |\u001b[39m       \n     \u001b[90m 391 |\u001b[39m       \u001b[90m// Mock navigator.onLine\u001b[39m\n     \u001b[90m 392 |\u001b[39m       \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(navigator\u001b[33m,\u001b[39m \u001b[32m'onLine'\u001b[39m\u001b[33m,\u001b[39m {\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:389:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle WebSocket errors gracefully\n\n    TypeError: _webSocketService.webSocketService.onError is not a function\n\n    \u001b[0m \u001b[90m 417 |\u001b[39m     it(\u001b[32m'should handle WebSocket errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 418 |\u001b[39m       \u001b[36mconst\u001b[39m onError \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 419 |\u001b[39m       webSocketService\u001b[33m.\u001b[39monError(onError)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 420 |\u001b[39m\n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 422 |\u001b[39m       \u001b[36mconst\u001b[39m error \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'WebSocket error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.onError (__tests__/services/webSocketService.test.ts:419:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should categorize different error types\n\n    TypeError: _webSocketService.webSocketService.onError is not a function\n\n    \u001b[0m \u001b[90m 428 |\u001b[39m     it(\u001b[32m'should categorize different error types'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 429 |\u001b[39m       \u001b[36mconst\u001b[39m onError \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 430 |\u001b[39m       webSocketService\u001b[33m.\u001b[39monError(onError)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 431 |\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 433 |\u001b[39m\u001b[0m\n\n      at Object.onError (__tests__/services/webSocketService.test.ts:430:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should implement circuit breaker pattern for failing connections\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 452 |\u001b[39m\n     \u001b[90m 453 |\u001b[39m     it(\u001b[32m'should implement circuit breaker pattern for failing connections'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 454 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 455 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 456 |\u001b[39m\n     \u001b[90m 457 |\u001b[39m       \u001b[90m// Fail rapidly 5 times within short period\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:454:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle message sending errors\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 472 |\u001b[39m\n     \u001b[90m 473 |\u001b[39m     it(\u001b[32m'should handle message sending errors'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 474 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 475 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 476 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Send failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 477 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:474:7)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should recover from temporary network issues\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 487 |\u001b[39m\n     \u001b[90m 488 |\u001b[39m     it(\u001b[32m'should recover from temporary network issues'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 489 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 490 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 491 |\u001b[39m\n     \u001b[90m 492 |\u001b[39m       \u001b[90m// Simulate network interruption\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:489:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle server shutdown gracefully\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 504 |\u001b[39m\n     \u001b[90m 505 |\u001b[39m     it(\u001b[32m'should handle server shutdown gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 506 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 507 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 508 |\u001b[39m\n     \u001b[90m 509 |\u001b[39m       \u001b[90m// Simulate clean server shutdown\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:506:7)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle unexpected disconnections\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 514 |\u001b[39m\n     \u001b[90m 515 |\u001b[39m     it(\u001b[32m'should handle unexpected disconnections'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 516 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 517 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 518 |\u001b[39m       \n     \u001b[90m 519 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:516:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should maintain error logs for debugging\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 528 |\u001b[39m\n     \u001b[90m 529 |\u001b[39m     it(\u001b[32m'should maintain error logs for debugging'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 530 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 531 |\u001b[39m       \n     \u001b[90m 532 |\u001b[39m       \u001b[36mconst\u001b[39m errors \u001b[33m=\u001b[39m [\n     \u001b[90m 533 |\u001b[39m         \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection timeout'\u001b[39m)\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:530:28)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should manage message queue size to prevent memory leaks\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 549 |\u001b[39m   describe(\u001b[32m'Performance and Resource Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 550 |\u001b[39m     it(\u001b[32m'should manage message queue size to prevent memory leaks'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 551 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 552 |\u001b[39m\n     \u001b[90m 553 |\u001b[39m       \u001b[90m// Send many messages while disconnected\u001b[39m\n     \u001b[90m 554 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:551:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should clean up resources on disconnect\n\n    Property `cleanup` does not exist in the provided object\n\n    \u001b[0m \u001b[90m 561 |\u001b[39m\n     \u001b[90m 562 |\u001b[39m     it(\u001b[32m'should clean up resources on disconnect'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 563 |\u001b[39m       \u001b[36mconst\u001b[39m cleanup \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mspyOn(webSocketService\u001b[33m,\u001b[39m \u001b[32m'cleanup'\u001b[39m \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 564 |\u001b[39m       \n     \u001b[90m 565 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 566 |\u001b[39m\u001b[0m\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:593:13)\n      at Object.spyOn (__tests__/services/webSocketService.test.ts:563:28)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should throttle reconnection attempts under high frequency\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 570 |\u001b[39m\n     \u001b[90m 571 |\u001b[39m     it(\u001b[32m'should throttle reconnection attempts under high frequency'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 572 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 573 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 574 |\u001b[39m\n     \u001b[90m 575 |\u001b[39m       \u001b[90m// Rapid fire connection attempts\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:572:24)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should implement heartbeat mechanism\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 583 |\u001b[39m\n     \u001b[90m 584 |\u001b[39m     it(\u001b[32m'should implement heartbeat mechanism'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 585 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 586 |\u001b[39m       \n     \u001b[90m 587 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mstartHeartbeat(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 30 second heartbeat\u001b[39m\n     \u001b[90m 588 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:585:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should detect stale connections with heartbeat\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 596 |\u001b[39m\n     \u001b[90m 597 |\u001b[39m     it(\u001b[32m'should detect stale connections with heartbeat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 598 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 599 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mstartHeartbeat(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 600 |\u001b[39m\n     \u001b[90m 601 |\u001b[39m       \u001b[36mconst\u001b[39m messageHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetMessageHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:598:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should optimize message batching for high throughput\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 613 |\u001b[39m\n     \u001b[90m 614 |\u001b[39m     it(\u001b[32m'should optimize message batching for high throughput'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 615 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 616 |\u001b[39m       webSocketService\u001b[33m.\u001b[39menableMessageBatching(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 617 |\u001b[39m\n     \u001b[90m 618 |\u001b[39m       \u001b[90m// Send multiple messages rapidly\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:615:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should handle memory pressure gracefully\n\n    TypeError: _webSocketService.webSocketService.handleMemoryPressure is not a function\n\n    \u001b[0m \u001b[90m 637 |\u001b[39m       \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(performance\u001b[33m,\u001b[39m \u001b[32m'memory'\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m memoryInfo })\u001b[33m;\u001b[39m\n     \u001b[90m 638 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 639 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mhandleMemoryPressure()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 640 |\u001b[39m\n     \u001b[90m 641 |\u001b[39m       \u001b[90m// Should clean up non-essential data\u001b[39m\n     \u001b[90m 642 |\u001b[39m       expect(webSocketService\u001b[33m.\u001b[39mgetQueueSize())\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.handleMemoryPressure (__tests__/services/webSocketService.test.ts:639:24)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should validate WebSocket URL format\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 655 |\u001b[39m\n     \u001b[90m 656 |\u001b[39m       invalidUrls\u001b[33m.\u001b[39mforEach(url \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 657 |\u001b[39m         expect(() \u001b[33m=>\u001b[39m webSocketService\u001b[33m.\u001b[39mconnect(url))\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 658 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 659 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 660 |\u001b[39m\u001b[0m\n\n      at toThrow (__tests__/services/webSocketService.test.ts:657:53)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/services/webSocketService.test.ts:656:19)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should sanitize message data before sending\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 660 |\u001b[39m\n     \u001b[90m 661 |\u001b[39m     it(\u001b[32m'should sanitize message data before sending'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 662 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 663 |\u001b[39m\n     \u001b[90m 664 |\u001b[39m       \u001b[36mconst\u001b[39m maliciousMessage \u001b[33m=\u001b[39m {\n     \u001b[90m 665 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:662:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should handle authentication token refresh\n\n    TypeError: _webSocketService.webSocketService.setTokenRefreshCallback is not a function\n\n    \u001b[0m \u001b[90m 683 |\u001b[39m     it(\u001b[32m'should handle authentication token refresh'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 684 |\u001b[39m       \u001b[36mconst\u001b[39m tokenRefreshCallback \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue(\u001b[32m'new_token_123'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 685 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetTokenRefreshCallback(tokenRefreshCallback)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 686 |\u001b[39m\n     \u001b[90m 687 |\u001b[39m       \u001b[90m// Simulate authentication error\u001b[39m\n     \u001b[90m 688 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.setTokenRefreshCallback (__tests__/services/webSocketService.test.ts:685:24)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should prevent message injection attacks\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 696 |\u001b[39m\n     \u001b[90m 697 |\u001b[39m     it(\u001b[32m'should prevent message injection attacks'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 698 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 699 |\u001b[39m\n     \u001b[90m 700 |\u001b[39m       \u001b[36mconst\u001b[39m injectionAttempt \u001b[33m=\u001b[39m {\n     \u001b[90m 701 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:698:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should implement rate limiting for message sending\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 716 |\u001b[39m\n     \u001b[90m 717 |\u001b[39m     it(\u001b[32m'should implement rate limiting for message sending'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 718 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 719 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetRateLimit(\u001b[35m5\u001b[39m\u001b[33m,\u001b[39m \u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 5 messages per second\u001b[39m\n     \u001b[90m 720 |\u001b[39m\n     \u001b[90m 721 |\u001b[39m       \u001b[90m// Send messages rapidly\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:718:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should validate message size limits\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 729 |\u001b[39m\n     \u001b[90m 730 |\u001b[39m     it(\u001b[32m'should validate message size limits'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 731 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 732 |\u001b[39m\n     \u001b[90m 733 |\u001b[39m       \u001b[36mconst\u001b[39m largeMessage \u001b[33m=\u001b[39m {\n     \u001b[90m 734 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:731:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should handle SSL/TLS connection upgrades\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 745 |\u001b[39m     it(\u001b[32m'should handle SSL/TLS connection upgrades'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 746 |\u001b[39m       \u001b[36mconst\u001b[39m httpsUrl \u001b[33m=\u001b[39m \u001b[32m'wss://secure.example.com/ws'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 747 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockResolvedValueOnce(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 748 |\u001b[39m\n     \u001b[90m 749 |\u001b[39m       \u001b[36mawait\u001b[39m webSocketService\u001b[33m.\u001b[39mconnect(httpsUrl)\u001b[33m;\u001b[39m\n     \u001b[90m 750 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:747:7)\n\nFAIL __tests__/chat/chatUIUXComprehensive.test.tsx\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a User Authentication Flow \u203a 1. Should successfully authenticate user and initialize chat interface\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    \u001b[0m \u001b[90m 136 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 138 |\u001b[39m       render(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 139 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 140 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 141 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10915:13)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:138:13)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a User Authentication Flow \u203a 2. Should handle unauthenticated state\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    \u001b[0m \u001b[90m 156 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 158 |\u001b[39m       render(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 159 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 160 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 161 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10915:13)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:158:13)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a User Authentication Flow \u203a 3. Should render main chat components\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    \u001b[0m \u001b[90m 176 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 177 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 178 |\u001b[39m       render(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 179 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 180 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 181 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10915:13)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:178:13)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 4. Should create a new thread when starting a conversation\n\n    TypeError: Cannot destructure property 'setUser' of '_authStore.useAuthStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m   describe(\u001b[32m'Thread Creation and Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 194 |\u001b[39m     test(\u001b[32m'4. Should create a new thread when starting a conversation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m       \u001b[36mconst\u001b[39m { setUser } \u001b[33m=\u001b[39m useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m       setUser({ id\u001b[33m:\u001b[39m \u001b[32m'user-123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 197 |\u001b[39m       \n     \u001b[90m 198 |\u001b[39m       render(\u001b[0m\n\n      at Object.setUser (__tests__/chat/chatUIUXComprehensive.test.tsx:195:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 5. Should display thread list in sidebar with correct information\n\n    TypeError: Cannot destructure property 'setThreads' of '_threadStore.useThreadStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 220 |\u001b[39m       ]\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 222 |\u001b[39m       \u001b[36mconst\u001b[39m { setThreads } \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 223 |\u001b[39m       setThreads(mockThreads)\u001b[33m;\u001b[39m\n     \u001b[90m 224 |\u001b[39m       \n     \u001b[90m 225 |\u001b[39m       render(\u001b[0m\n\n      at Object.setThreads (__tests__/chat/chatUIUXComprehensive.test.tsx:222:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 6. Should switch between threads and load corresponding messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 244 |\u001b[39m       \n     \u001b[90m 245 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 247 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m threads\u001b[33m=\u001b[39m{mockThreads} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 248 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 249 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:246:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 7. Should delete a thread and update the UI accordingly\n\n    TypeError: Cannot destructure property 'setThreads' of '_threadStore.useThreadStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 264 |\u001b[39m       ]\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 266 |\u001b[39m       \u001b[36mconst\u001b[39m { setThreads } \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 267 |\u001b[39m       setThreads(mockThreads)\u001b[33m;\u001b[39m\n     \u001b[90m 268 |\u001b[39m       \n     \u001b[90m 269 |\u001b[39m       render(\u001b[0m\n\n      at Object.setThreads (__tests__/chat/chatUIUXComprehensive.test.tsx:266:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 8. Should send a message and display it in the message list\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m     test(\u001b[32m'8. Should send a message and display it in the message list'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 293 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 296 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 297 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:294:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 9. Should receive and display agent response messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 310 |\u001b[39m     test(\u001b[32m'9. Should receive and display agent response messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 311 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 312 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 313 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 314 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 315 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:312:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 10. Should handle message streaming with partial updates\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 333 |\u001b[39m     test(\u001b[32m'10. Should handle message streaming with partial updates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 334 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 335 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 336 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 337 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 338 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:335:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 11. Should display thinking indicator during agent processing\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 369 |\u001b[39m     test(\u001b[32m'11. Should display thinking indicator during agent processing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 370 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 371 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 372 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 373 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 374 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:371:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 12. Should establish WebSocket connection on component mount\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 407 |\u001b[39m     test(\u001b[32m'12. Should establish WebSocket connection on component mount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 408 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 409 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 410 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 411 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 412 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:409:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 13. Should handle WebSocket reconnection after disconnection\n\n    ReferenceError: renderHook is not defined\n\n    \u001b[0m \u001b[90m 420 |\u001b[39m\n     \u001b[90m 421 |\u001b[39m     test(\u001b[32m'13. Should handle WebSocket reconnection after disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 422 |\u001b[39m       \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 423 |\u001b[39m         wrapper\u001b[33m:\u001b[39m \u001b[33mWebSocketProvider\u001b[39m\n     \u001b[90m 424 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 425 |\u001b[39m       \u001b[0m\n\n      at Object.renderHook (__tests__/chat/chatUIUXComprehensive.test.tsx:422:26)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 14. Should display connection status indicator correctly\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 441 |\u001b[39m     test(\u001b[32m'14. Should display connection status indicator correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 442 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 443 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 444 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 445 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 446 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:443:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 15. Should queue messages when disconnected and send on reconnection\n\n    ReferenceError: renderHook is not defined\n\n    \u001b[0m \u001b[90m 462 |\u001b[39m\n     \u001b[90m 463 |\u001b[39m     test(\u001b[32m'15. Should queue messages when disconnected and send on reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 464 |\u001b[39m       \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useChatWebSocket()\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 465 |\u001b[39m         wrapper\u001b[33m:\u001b[39m \u001b[33mWebSocketProvider\u001b[39m\n     \u001b[90m 466 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 467 |\u001b[39m       \u001b[0m\n\n      at Object.renderHook (__tests__/chat/chatUIUXComprehensive.test.tsx:464:26)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 16. Should integrate MessageInput with MessageList correctly\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 493 |\u001b[39m     test(\u001b[32m'16. Should integrate MessageInput with MessageList correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 494 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 495 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 496 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 497 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 498 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:495:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 17. Should update ChatHeader based on current thread\n\n    TypeError: Cannot destructure property 'setCurrentThread' of '_threadStore.useThreadStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 512 |\u001b[39m\n     \u001b[90m 513 |\u001b[39m     test(\u001b[32m'17. Should update ChatHeader based on current thread'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 514 |\u001b[39m       \u001b[36mconst\u001b[39m { setCurrentThread } \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 515 |\u001b[39m       \n     \u001b[90m 516 |\u001b[39m       render(\n     \u001b[90m 517 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.setCurrentThread (__tests__/chat/chatUIUXComprehensive.test.tsx:514:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 18. Should coordinate ThreadSidebar with MainChat area\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 536 |\u001b[39m     test(\u001b[32m'18. Should coordinate ThreadSidebar with MainChat area'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 537 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 538 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 539 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m style\u001b[33m=\u001b[39m{{ display\u001b[33m:\u001b[39m \u001b[32m'flex'\u001b[39m }}\u001b[33m>\u001b[39m\n     \u001b[90m 540 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 541 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:538:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 19. Should sync message actions across components\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 563 |\u001b[39m       \n     \u001b[90m 564 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 565 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 566 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m messages\u001b[33m=\u001b[39m{[mockMessage]} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 567 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 568 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:565:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 20. Should display error message when message sending fails\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 589 |\u001b[39m       \n     \u001b[90m 590 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 591 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 592 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 593 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 594 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:591:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 21. Should handle thread loading errors gracefully\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 611 |\u001b[39m       \n     \u001b[90m 612 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 613 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 614 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m onError\u001b[33m=\u001b[39m{(e) \u001b[33m=>\u001b[39m {\n     \u001b[90m 615 |\u001b[39m             expect(e\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Failed to load threads'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 616 |\u001b[39m           }} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:613:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 22. Should show rate limit error and disable input temporarily\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 631 |\u001b[39m     test(\u001b[32m'22. Should show rate limit error and disable input temporarily'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 632 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 633 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 634 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 635 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 636 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:633:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 23. Should handle WebSocket errors with retry mechanism\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 664 |\u001b[39m       \n     \u001b[90m 665 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 666 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m onError\u001b[33m=\u001b[39m{onError}\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 667 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 668 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 669 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:666:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 24. Should persist chat state across component remounts\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 687 |\u001b[39m     test(\u001b[32m'24. Should persist chat state across component remounts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 688 |\u001b[39m       \u001b[36mconst\u001b[39m { rerender } \u001b[33m=\u001b[39m render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 689 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 690 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 691 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 692 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:689:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 25. Should sync auth state across all components\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 721 |\u001b[39m     test(\u001b[32m'25. Should sync auth state across all components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 722 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 723 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 724 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 725 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 726 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:723:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 26. Should handle optimistic updates for better UX\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m     test(\u001b[32m'26. Should handle optimistic updates for better UX'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 747 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 750 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 751 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:748:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 27. Should rollback optimistic updates on failure\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 781 |\u001b[39m     test(\u001b[32m'27. Should rollback optimistic updates on failure'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 782 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 783 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 784 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 785 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 786 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:783:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Advanced UI Features \u203a 28. Should support markdown rendering in messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 826 |\u001b[39m       \n     \u001b[90m 827 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 828 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 829 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m messages\u001b[33m=\u001b[39m{[markdownMessage]} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 830 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 831 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:828:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Advanced UI Features \u203a 29. Should handle file attachments in messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 841 |\u001b[39m     test(\u001b[32m'29. Should handle file attachments in messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 842 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 843 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 844 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 845 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 846 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:843:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Advanced UI Features \u203a 30. Should implement keyboard shortcuts for common actions\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 869 |\u001b[39m     test(\u001b[32m'30. Should implement keyboard shortcuts for common actions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 870 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 871 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 872 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 873 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 874 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:871:10)\n\nFAIL __tests__/components/ChatHistory.test.tsx (5.31 s)\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load initial message history on mount\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"thread-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n          \u001b[36m/>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 94 |\u001b[39m       \n     \u001b[90m 95 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 96 |\u001b[39m         expect(mockChatStore\u001b[33m.\u001b[39mloadMessageHistory)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'thread-123'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 97 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 98 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 99 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/components/ChatHistory.test.tsx:96:50)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display loading state during initial load\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"history-loading\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 108 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 109 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 110 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'history-loading'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 111 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/loading message history/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:110:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display message history once loaded\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-history-list\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-history-list'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Hello, how can I help you?'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'I need help with optimization'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 142 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:139:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load more history when scrolled to top\n\n    TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))\n\n    \u001b[0m \u001b[90m 156 |\u001b[39m       \n     \u001b[90m 157 |\u001b[39m       \u001b[90m// Mock intersection observer triggering for load more\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 158 |\u001b[39m       \u001b[36mconst\u001b[39m [intersectionCallback] \u001b[33m=\u001b[39m mockIntersectionObserver\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 159 |\u001b[39m       intersectionCallback([{ isIntersecting\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }])\u001b[33m;\u001b[39m\n     \u001b[90m 160 |\u001b[39m       \n     \u001b[90m 161 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockIntersectionObserver (__tests__/components/ChatHistory.test.tsx:158:38)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show \"Load More\" button when more history available\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 177 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 178 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 179 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 180 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/load more messages/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 182 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:179:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle \"Load More\" button click\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       \u001b[36mconst\u001b[39m loadMoreBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(loadMoreBtn)\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m       \n     \u001b[90m 199 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39mloadMoreHistory)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:196:34)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should hide \"Load More\" when no more history available\n\n    TestingLibraryElementError: Unable to find an element with the text: /no more messages/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 214 |\u001b[39m       \n     \u001b[90m 215 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'load-more-btn'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 216 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/no more messages/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 217 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m\n     \u001b[90m 219 |\u001b[39m     it(\u001b[32m'should show loading state for pagination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:216:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show loading state for pagination\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"pagination-loading\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 231 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 233 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'pagination-loading'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 234 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/loading more messages/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 235 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 236 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:233:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should preserve scroll position when loading more history\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 257 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 258 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 259 |\u001b[39m       \u001b[36mconst\u001b[39m loadMoreBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 260 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(loadMoreBtn)\u001b[33m;\u001b[39m\n     \u001b[90m 261 |\u001b[39m       \n     \u001b[90m 262 |\u001b[39m       \u001b[90m// Simulate new messages loaded\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:259:34)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle thread switching\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"thread-123\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 280 |\u001b[39m       \u001b[36mconst\u001b[39m { rerender } \u001b[33m=\u001b[39m renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 282 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39mloadMessageHistory)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'thread-123'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 283 |\u001b[39m       \n     \u001b[90m 284 |\u001b[39m       \u001b[90m// Switch to different thread\u001b[39m\n     \u001b[90m 285 |\u001b[39m       rerender(\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/components/ChatHistory.test.tsx:282:48)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should batch load requests to prevent excessive API calls\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 304 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 305 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 306 |\u001b[39m       \u001b[36mconst\u001b[39m loadMoreBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 307 |\u001b[39m       \n     \u001b[90m 308 |\u001b[39m       \u001b[90m// Rapidly click load more multiple times\u001b[39m\n     \u001b[90m 309 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(loadMoreBtn)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:306:34)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should display messages in chronological order\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"/^message-item-/\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 350 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 351 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 352 |\u001b[39m       \u001b[36mconst\u001b[39m messageItems \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/^message-item-/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 353 |\u001b[39m       expect(messageItems)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m       \n     \u001b[90m 355 |\u001b[39m       \u001b[90m// Should be in chronological order\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15\n      at Object.getAllByTestId (__tests__/components/ChatHistory.test.tsx:352:35)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should format timestamps correctly\n\n    TestingLibraryElementError: Unable to find an element with the text: /3:30 PM/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 377 |\u001b[39m       \n     \u001b[90m 378 |\u001b[39m       \u001b[90m// Should display formatted timestamp\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 379 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/3:30 PM/\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 380 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Jan 1, 2024/\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 381 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 382 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:379:21)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should group messages by date\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"date-separator-2024-01-01\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 407 |\u001b[39m       \n     \u001b[90m 408 |\u001b[39m       \u001b[90m// Should have date separators\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 409 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'date-separator-2024-01-01'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 410 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'date-separator-2024-01-02'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 412 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:409:21)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should highlight search results\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"highlighted-text\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 430 |\u001b[39m       \n     \u001b[90m 431 |\u001b[39m       \u001b[90m// Should highlight search term\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m highlightedText \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'highlighted-text'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 433 |\u001b[39m       expect(highlightedText)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 434 |\u001b[39m       expect(highlightedText)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-yellow-200'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:432:38)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should show message metadata on hover\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 457 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 458 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 459 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 460 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m       \n     \u001b[90m 462 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:459:34)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should render markdown content correctly\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"heading\"\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 485 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 486 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 487 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'heading'\u001b[39m\u001b[33m,\u001b[39m { level\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m }))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Heading'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 488 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'code-block'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'print(\"hello\")'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 489 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 490 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/ChatHistory.test.tsx:487:21)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should handle empty message content gracefully\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"empty-message-placeholder\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 506 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 507 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 508 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'empty-message-placeholder'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 509 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/message content unavailable/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 510 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 511 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:508:21)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should provide search functionality\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-search-input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 515 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 516 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 517 |\u001b[39m       \u001b[36mconst\u001b[39m searchInput \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-search-input'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 518 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(searchInput\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 519 |\u001b[39m       \n     \u001b[90m 520 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39msearchMessages)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:517:34)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should display search results\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"search-results\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 540 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 541 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 542 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'search-results'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 543 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/1 result found/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 544 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'This message contains optimization tips'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 545 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:542:21)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should clear search results\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"clear-search-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 559 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 561 |\u001b[39m       \u001b[36mconst\u001b[39m clearButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'clear-search-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 562 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(clearButton)\u001b[33m;\u001b[39m\n     \u001b[90m 563 |\u001b[39m       \n     \u001b[90m 564 |\u001b[39m       expect(searchResultsStore\u001b[33m.\u001b[39mclearSearch)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:561:34)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by message type\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-type-filter\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 581 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 582 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 583 |\u001b[39m       \u001b[36mconst\u001b[39m filterSelect \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-type-filter'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 584 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(filterSelect)\u001b[33m;\u001b[39m\n     \u001b[90m 585 |\u001b[39m       \n     \u001b[90m 586 |\u001b[39m       \u001b[36mconst\u001b[39m userOnlyOption \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'User messages only'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:583:35)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by date range\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"date-range-filter\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 618 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 619 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 620 |\u001b[39m       \u001b[36mconst\u001b[39m dateFilter \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'date-range-filter'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 621 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(dateFilter)\u001b[33m;\u001b[39m\n     \u001b[90m 622 |\u001b[39m       \n     \u001b[90m 623 |\u001b[39m       \u001b[36mconst\u001b[39m lastWeekOption \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Last week'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:620:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should debounce search input\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-search-input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 634 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 635 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 636 |\u001b[39m       \u001b[36mconst\u001b[39m searchInput \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-search-input'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 637 |\u001b[39m       \n     \u001b[90m 638 |\u001b[39m       \u001b[90m// Type rapidly\u001b[39m\n     \u001b[90m 639 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(searchInput\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:636:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow deleting messages\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 672 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 673 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 674 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 675 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 676 |\u001b[39m       \n     \u001b[90m 677 |\u001b[39m       \u001b[36mconst\u001b[39m deleteBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'delete-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:674:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow copying message content\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 710 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 711 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 712 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 713 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 714 |\u001b[39m       \n     \u001b[90m 715 |\u001b[39m       \u001b[36mconst\u001b[39m copyBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'copy-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:712:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow regenerating assistant messages\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 738 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 739 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 740 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 741 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 742 |\u001b[39m       \n     \u001b[90m 743 |\u001b[39m       \u001b[36mconst\u001b[39m regenerateBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'regenerate-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:740:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should show message edit functionality\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 766 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 767 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 768 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 769 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 770 |\u001b[39m       \n     \u001b[90m 771 |\u001b[39m       \u001b[36mconst\u001b[39m editBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'edit-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:768:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should handle bulk message operations\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"select-all-messages\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 806 |\u001b[39m       \n     \u001b[90m 807 |\u001b[39m       \u001b[90m// Select multiple messages\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 808 |\u001b[39m       \u001b[36mconst\u001b[39m selectAll \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'select-all-messages'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 809 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(selectAll)\u001b[33m;\u001b[39m\n     \u001b[90m 810 |\u001b[39m       \n     \u001b[90m 811 |\u001b[39m       \u001b[90m// Should show bulk actions\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:808:32)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should display error state when history loading fails\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"history-error\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 833 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 834 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 835 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'history-error'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 836 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/failed to load message history/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 837 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-history-btn'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 838 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:835:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should allow retrying failed history loads\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"retry-history-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 848 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 849 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 850 |\u001b[39m       \u001b[36mconst\u001b[39m retryBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-history-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 851 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(retryBtn)\u001b[33m;\u001b[39m\n     \u001b[90m 852 |\u001b[39m       \n     \u001b[90m 853 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39mretryLoadHistory)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:850:31)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TestingLibraryElementError: Unable to find an element with the text: Loaded message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 868 |\u001b[39m       \n     \u001b[90m 869 |\u001b[39m       \u001b[90m// Should show both loaded messages and partial error\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 870 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Loaded message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 871 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'partial-error-warning'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 872 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/some messages could not be loaded/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 873 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:870:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle offline state gracefully\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"offline-message\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 884 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 885 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 886 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'offline-message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 887 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/offline mode/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 888 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/message history unavailable/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 889 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:886:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should show cached messages when offline\n\n    TestingLibraryElementError: Unable to find an element with the text: Cached message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 902 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 903 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 904 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Cached message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 905 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'cached-message-indicator'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 906 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/cached data/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 907 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:904:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle malformed message data\n\n    TestingLibraryElementError: Unable to find an element with the text: Valid message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 923 |\u001b[39m       \n     \u001b[90m 924 |\u001b[39m       \u001b[90m// Should only show valid message\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 925 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Valid message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 926 |\u001b[39m       \n     \u001b[90m 927 |\u001b[39m       \u001b[90m// Should show warning about invalid data\u001b[39m\n     \u001b[90m 928 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'data-validation-warning'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:925:21)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should virtualize long message lists for performance\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"virtualized-message-list\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 949 |\u001b[39m       \n     \u001b[90m 950 |\u001b[39m       \u001b[90m// Should render virtualized list\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 951 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'virtualized-message-list'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 952 |\u001b[39m       \n     \u001b[90m 953 |\u001b[39m       \u001b[90m// Should not render all 1000 messages in DOM\u001b[39m\n     \u001b[90m 954 |\u001b[39m       \u001b[36mconst\u001b[39m renderedMessages \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/^message-item-/\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:951:21)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should cleanup observers on unmount\n\n    Cannot use spyOn on a primitive value; undefined given\n\n    \u001b[0m \u001b[90m 959 |\u001b[39m       \u001b[36mconst\u001b[39m { unmount } \u001b[33m=\u001b[39m renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 960 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 961 |\u001b[39m       \u001b[36mconst\u001b[39m disconnectSpy \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mspyOn(mockIntersectionObserver\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39minstances[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'disconnect'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 962 |\u001b[39m       \n     \u001b[90m 963 |\u001b[39m       unmount()\u001b[33m;\u001b[39m\n     \u001b[90m 964 |\u001b[39m       \u001b[0m\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:583:13)\n      at Object.spyOn (__tests__/components/ChatHistory.test.tsx:961:34)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should optimize re-renders with message memoization\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 981 |\u001b[39m       \n     \u001b[90m 982 |\u001b[39m       rerender(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 983 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 984 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 985 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 986 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/components/ChatHistory.test.tsx:983:10)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"region\" and name `/message history/i`\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1005 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1006 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1007 |\u001b[39m       \u001b[36mconst\u001b[39m historyRegion \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'region'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/message history/i\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1008 |\u001b[39m       expect(historyRegion)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 1009 |\u001b[39m       \n     \u001b[90m 1010 |\u001b[39m       \u001b[36mconst\u001b[39m messageList \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'log'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/conversation history/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/ChatHistory.test.tsx:1007:36)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should support keyboard navigation\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1025 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1026 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1027 |\u001b[39m       \u001b[36mconst\u001b[39m firstMessage \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1028 |\u001b[39m       firstMessage\u001b[33m.\u001b[39mfocus()\u001b[33m;\u001b[39m\n     \u001b[90m 1029 |\u001b[39m       \n     \u001b[90m 1030 |\u001b[39m       \u001b[90m// Navigate with arrow keys\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:1027:35)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should announce dynamic content changes\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"status\"\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1039 |\u001b[39m       \u001b[36mconst\u001b[39m { rerender } \u001b[33m=\u001b[39m renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1040 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1041 |\u001b[39m       \u001b[36mconst\u001b[39m liveRegion \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'status'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1042 |\u001b[39m       expect(liveRegion)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 1043 |\u001b[39m       \n     \u001b[90m 1044 |\u001b[39m       \u001b[90m// Add new message to history\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/ChatHistory.test.tsx:1041:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should provide meaningful alt text for message actions\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1081 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1082 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1083 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1084 |\u001b[39m       \u001b[36mconst\u001b[39m deleteBtn \u001b[33m=\u001b[39m within(messageItem)\u001b[33m.\u001b[39mgetByLabelText(\u001b[35m/delete this message/i\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1085 |\u001b[39m       \u001b[36mconst\u001b[39m editBtn \u001b[33m=\u001b[39m within(messageItem)\u001b[33m.\u001b[39mgetByLabelText(\u001b[35m/edit this message/i\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1086 |\u001b[39m       \u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:1083:34)\n\nFAIL __tests__/unified-chat-v5.test.tsx\n  \u25cf Console\n\n    console.error\n      An update to ChatSidebar inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setThreads (components/chat/ChatSidebar.tsx:40:7)\n\n    console.error\n      An update to ChatSidebar inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setThreads (components/chat/ChatSidebar.tsx:40:7)\n\n  \u25cf Unified Chat UI v5 - Regression Tests \u203a New Features Tests \u203a OverflowPanel should support keyboard shortcut\n\n    TestingLibraryElementError: Unable to find an element with the text: Developer Console. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-gray-200 shadow-2xl z-50 h-[400px] transition-[height] duration-300\"\u001b[39m\n          \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 0; transform: translateY(100px);\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50/50\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-4\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h3\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-semibold text-gray-900\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mDebug Panel\u001b[0m\n              \u001b[36m</h3>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex space-x-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 bg-emerald-100 text-emerald-700 shadow-sm\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-terminal w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M12 19h8\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"m4 17 6-6-6-6\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mEvents\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-clock w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M12 6v6l4 2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<circle\u001b[39m\n                        \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mTimeline\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-database w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<ellipse\u001b[39m\n                        \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mcy\u001b[39m=\u001b[32m\"5\"\u001b[39m\n                        \u001b[33mrx\u001b[39m=\u001b[32m\"9\"\u001b[39m\n                        \u001b[33mry\u001b[39m=\u001b[32m\"3\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M3 5V19A9 3 0 0 0 21 19V5\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M3 12A9 3 0 0 0 21 12\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mState\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-activity w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mMetrics\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-circle-alert w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<circle\u001b[39m\n                        \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<line\u001b[39m\n                        \u001b[33mx1\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mx2\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33my1\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                        \u001b[33my2\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<line\u001b[39m\n                        \u001b[33mx1\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mx2\u001b[39m=\u001b[32m\"12.01\"\u001b[39m\n                        \u001b[33my1\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                        \u001b[33my2\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mErrors\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-2.5 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"pl-8 pr-3 py-1.5 text-xs bg-white border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"p-1.5 text-gray-600 hover:bg-gray-100 rounded-md transition-colors\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"Export Debug Data\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-download w-4 h-4\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 15V3\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m7 10 5 5 5-5\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"p-1.5 text-gray-600 hover:bg-gray-100 rounded-md transition-colors\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-maximize2 lucide-maximize-2 w-4 h-4\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M15 3h6v6\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 3-7 7\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m3 21 7-7\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M9 21H3v-6\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"p-1.5 text-gray-600 hover:bg-gray-100 rounded-md transition-colors\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-x w-4 h-4\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M18 6 6 18\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m6 6 12 12\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-hidden\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"h-full overflow-y-auto p-4\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col items-center justify-center h-full text-gray-400\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-terminal w-12 h-12 mb-2 opacity-50\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 19h8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m4 17 6-6-6-6\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<p\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNo events captured\u001b[0m\n                \u001b[36m</p>\u001b[39m\n                \u001b[36m<p\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs mt-1\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mEvents will appear here as they occur\u001b[0m\n                \u001b[36m</p>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \n     \u001b[90m 122 |\u001b[39m       \u001b[90m// Check that developer console header is present\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Developer Console'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m       \n     \u001b[90m 125 |\u001b[39m       \u001b[90m// Check for tabs\u001b[39m\n     \u001b[90m 126 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'WebSocket Events'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/unified-chat-v5.test.tsx:123:21)\n\n  \u25cf Unified Chat UI v5 - Regression Tests \u203a Modern UI Patterns \u203a should use glassmorphic design patterns\n\n    expect(received).toBeInTheDocument()\n\n    received value must be an HTMLElement or an SVGElement.\n    Received has value: null\n\n    \u001b[0m \u001b[90m 174 |\u001b[39m       \u001b[90m// Check for glassmorphic classes\u001b[39m\n     \u001b[90m 175 |\u001b[39m       \u001b[36mconst\u001b[39m backdropBlur \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mquerySelector(\u001b[32m'[class*=\"backdrop-blur\"]'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 176 |\u001b[39m       expect(backdropBlur)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 177 |\u001b[39m       \n     \u001b[90m 178 |\u001b[39m       \u001b[90m// Check for proper transparency\u001b[39m\n     \u001b[90m 179 |\u001b[39m       \u001b[36mconst\u001b[39m transparentBg \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mquerySelector(\u001b[32m'[class*=\"bg-white/95\"]'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:2240:22)\n      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:2241:6)\n      at Object.toBeInTheDocument (__tests__/unified-chat-v5.test.tsx:176:28)\n\nFAIL __tests__/integration/advanced-integration.test.tsx (5.966 s)\n  \u25cf Console\n\n    console.error\n      An update to AsyncValidationComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setIsValidating (__tests__/integration/advanced-integration.test.tsx:237:11)\n      at validateEmail (__tests__/integration/advanced-integration.test.tsx:255:24)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 29. WebSocket Resilience Integration \u203a should handle WebSocket message buffering during reconnection\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 buffered\n    Received:\n      0 buffered\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html\u001b[39m\n      \u001b[33mdata-theme\u001b[39m=\u001b[32m\"dark\"\u001b[39m\n      \u001b[33mdir\u001b[39m=\u001b[32m\"rtl\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mDisconnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"buffer-size\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m buffered\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 1603 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1604 |\u001b[39m         expect(messageBuffer)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1605 |\u001b[39m         expect(getByTestId(\u001b[32m'buffer-size'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1 buffered'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1606 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 1607 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1608 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/advanced-integration.test.tsx:1605:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/system/startup.test.tsx (8.908 s)\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should establish WebSocket connection on startup\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/config\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 186 |\u001b[39m       \u001b[90m// Wait for the async config fetch and connection\u001b[39m\n     \u001b[90m 187 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m         expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 189 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/config'\u001b[39m)\n     \u001b[90m 190 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 191 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/system/startup.test.tsx:188:23)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should handle WebSocket heartbeat\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 225 |\u001b[39m       \u001b[90m// Wait for WebSocket connection\u001b[39m\n     \u001b[90m 226 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 227 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 228 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \n     \u001b[90m 230 |\u001b[39m       \u001b[90m// Get the WebSocket instance\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/system/startup.test.tsx:227:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should reconnect on connection loss\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m       \u001b[90m// Wait for initial connection\u001b[39m\n     \u001b[90m 280 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 283 |\u001b[39m       \n     \u001b[90m 284 |\u001b[39m       \u001b[90m// Get the WebSocket instance and simulate connection loss\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/system/startup.test.tsx:281:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a Performance Monitoring \u203a should measure startup performance\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 437 |\u001b[39m\n     \u001b[90m 438 |\u001b[39m   describe(\u001b[32m'Performance Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 439 |\u001b[39m     it(\u001b[32m'should measure startup performance'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 440 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 441 |\u001b[39m       \n     \u001b[90m 442 |\u001b[39m       \u001b[90m// Simulate startup operations\u001b[39m\u001b[0m\n\n      at it (__tests__/system/startup.test.tsx:439:5)\n      at describe (__tests__/system/startup.test.tsx:438:3)\n      at Object.describe (__tests__/system/startup.test.tsx:32:1)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/imports/external-imports.test.tsx (9.708 s)\n  \u25cf Console\n\n    console.log\n      @radix-ui/react-popover not installed\n\n      at Object.log (__tests__/imports/external-imports.test.tsx:117:17)\n\n    console.log\n      remark-gfm not installed\n\n      at Object.log (__tests__/imports/external-imports.test.tsx:216:17)\n\n    console.log\n      ESLint config packages not available (dev dependencies)\n\n      at Object.log (__tests__/imports/external-imports.test.tsx:323:17)\n\n    console.log\n      Optional dependencies not installed: [\n        'Optional dependency @tanstack/react-query not installed',\n        'Optional dependency react-query not installed',\n        'Optional dependency @emotion/react not installed',\n        'Optional dependency @emotion/styled not installed'\n      ]\n\n      at Object.log (__tests__/imports/external-imports.test.tsx:379:17)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:272:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:272:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:272:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:158:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:283:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:161:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:283:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a TypeScript type imports \u203a should import TypeScript type packages\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Cannot find module '@types/react' from '__tests__/imports/external-imports.test.tsx'\"\n\n        \u001b[0m \u001b[90m 301 |\u001b[39m     it(\u001b[32m'should import TypeScript type packages'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 302 |\u001b[39m       \u001b[90m// These are type-only packages, so we just check they don't throw\u001b[39m\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 303 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 304 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react-dom'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 305 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/node'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 306 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at require (__tests__/imports/external-imports.test.tsx:303:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:303:49)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:303:49)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/imports/internal-imports.test.tsx (10.197 s)\n  \u25cf Console\n\n    console.log\n      Demo components not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:62:17)\n\n    console.log\n      Some additional stores not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:119:17)\n\n    console.log\n      Some additional services not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:154:17)\n\n    console.log\n      Some utility modules not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:183:17)\n\n    console.log\n      Type file agent.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:211:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file auth.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:211:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file thread.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:211:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file message.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:211:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file websocket.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:211:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Some app pages not found (may use different structure)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:233:17)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Service imports \u203a should import API services\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m       \n     \u001b[90m 162 |\u001b[39m       \u001b[36mconst\u001b[39m threadService \u001b[33m=\u001b[39m require(\u001b[32m'@/services/threadService'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m       expect(threadService\u001b[33m.\u001b[39mthreadService)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \n     \u001b[90m 165 |\u001b[39m       \u001b[36mconst\u001b[39m messageService \u001b[33m=\u001b[39m require(\u001b[32m'@/services/messageService'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m       expect(messageService\u001b[33m.\u001b[39mmessageService)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/internal-imports.test.tsx:163:43)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Critical Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 43 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 44 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 45 |\u001b[39m describe(\u001b[32m'Critical Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m     process\u001b[33m.\u001b[39menv \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mprocess\u001b[33m.\u001b[39menv\u001b[33m,\u001b[39m \u001b[33m...\u001b[39mmockEnv }\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/critical-integration.test.tsx:48:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/critical-integration.test.tsx:75:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. WebSocket Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should integrate WebSocket with authentication state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m\n     \u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:81:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reconnect WebSocket when authentication changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m login \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Agent Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 148 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate agent state with WebSocket messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync agent reports with chat messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 196 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m     it(\u001b[32m'should sync agent reports with chat messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 199 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m         \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m useChatStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mmessages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:197:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. Authentication Flow Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 237 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 240 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 241 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:238:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete OAuth flow and establish WebSocket\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 237 |\u001b[39m\n     \u001b[90m 238 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 239 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 240 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 241 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 242 |\u001b[39m         user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'oauth-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'oauth@example.com'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:239:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:238:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist authentication across page refreshes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 266 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 267 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m     it(\u001b[32m'should persist authentication across page refreshes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 269 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'persist-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'persist@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 270 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'persist-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 271 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:268:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:238:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Thread Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 290 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 292 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 293 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 295 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should create thread and sync with messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 291 |\u001b[39m\n     \u001b[90m 292 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 293 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 295 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 296 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'New Thread'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:293:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch threads and load messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m     it(\u001b[32m'should switch threads and load messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m       \u001b[36mconst\u001b[39m thread1Messages \u001b[33m=\u001b[39m [\n     \u001b[90m 339 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m thread_id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Thread 1 message'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\n     \u001b[90m 340 |\u001b[39m       ]\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:337:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Real-time Message Streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 370 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 371 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 372 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 373 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 374 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 375 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should stream agent responses to chat\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 371 |\u001b[39m\n     \u001b[90m 372 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 373 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 374 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 375 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:373:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle message interruption gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     it(\u001b[32m'should handle message interruption gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 426 |\u001b[39m         \u001b[36mconst\u001b[39m { isProcessing\u001b[33m,\u001b[39m sendMessage\u001b[33m,\u001b[39m stopProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:424:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Error Recovery Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 468 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 469 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 470 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 471 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 472 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 473 |\u001b[39m         \u001b[36mconst\u001b[39m { status\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from WebSocket disconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 469 |\u001b[39m\n     \u001b[90m 470 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 471 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 472 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 473 |\u001b[39m         \u001b[36mconst\u001b[39m { status\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m         \u001b[36mconst\u001b[39m isConnected \u001b[33m=\u001b[39m status \u001b[33m===\u001b[39m \u001b[32m'OPEN'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:471:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should retry failed API calls with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 510 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 511 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 512 |\u001b[39m     it(\u001b[32m'should retry failed API calls with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 513 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 514 |\u001b[39m       \n     \u001b[90m 515 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:512:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle session expiration gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 545 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 546 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 547 |\u001b[39m     it(\u001b[32m'should handle session expiration gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 548 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 549 |\u001b[39m         \u001b[36mconst\u001b[39m logout \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogout)\u001b[33m;\u001b[39m\n     \u001b[90m 550 |\u001b[39m         \u001b[36mconst\u001b[39m isAuthenticated \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39misAuthenticated)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:547:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. State Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 586 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 589 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 590 |\u001b[39m         threads\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:587:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync local state with server state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 586 |\u001b[39m\n     \u001b[90m 587 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 588 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 589 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 590 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 591 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m\u001b[33m,\u001b[39m created_at\u001b[33m:\u001b[39m \u001b[32m'2024-01-01'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:588:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:587:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle concurrent state updates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 614 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 615 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 616 |\u001b[39m     it(\u001b[32m'should handle concurrent state updates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 617 |\u001b[39m       \u001b[36mconst\u001b[39m updates \u001b[33m=\u001b[39m [\n     \u001b[90m 618 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'thread_created'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m } }\u001b[33m,\u001b[39m\n     \u001b[90m 619 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'message_sent'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Message 1'\u001b[39m } }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:616:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:587:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. File Upload Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 655 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 656 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 657 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 658 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 659 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:657:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload file and process with agent\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 656 |\u001b[39m\n     \u001b[90m 657 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 658 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 659 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 661 |\u001b[39m       formData\u001b[33m.\u001b[39mappend(\u001b[32m'file'\u001b[39m\u001b[33m,\u001b[39m file)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:658:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:657:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track upload progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 684 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 685 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 686 |\u001b[39m     it(\u001b[32m'should track upload progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 687 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'x'\u001b[39m\u001b[33m.\u001b[39mrepeat(\u001b[35m1000000\u001b[39m)]\u001b[33m,\u001b[39m \u001b[32m'large.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 688 |\u001b[39m       \u001b[36mlet\u001b[39m progress \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 689 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:686:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:657:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Optimization Recommendations Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 710 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 711 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 712 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 713 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 714 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 715 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should process optimization request end-to-end\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 711 |\u001b[39m\n     \u001b[90m 712 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 713 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 714 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 715 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 716 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:713:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should apply optimization and track results\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 757 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 758 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 759 |\u001b[39m     it(\u001b[32m'should apply optimization and track results'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 760 |\u001b[39m       \u001b[36mconst\u001b[39m recommendation \u001b[33m=\u001b[39m {\n     \u001b[90m 761 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'rec-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 762 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'cost'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:759:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. Multi-Agent Coordination\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 788 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 789 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 790 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 791 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 792 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate multiple sub-agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 789 |\u001b[39m\n     \u001b[90m 790 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 791 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 792 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 794 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:791:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle agent pipeline failures\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 853 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 854 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 855 |\u001b[39m     it(\u001b[32m'should handle agent pipeline failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 856 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 857 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m error } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 858 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:855:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Performance Monitoring Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 892 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 894 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 895 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track and report performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 893 |\u001b[39m\n     \u001b[90m 894 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 895 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\n     \u001b[90m 898 |\u001b[39m         api_response_time\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:895:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should detect and report performance degradation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 939 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 940 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 941 |\u001b[39m     it(\u001b[32m'should detect and report performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 942 |\u001b[39m       \u001b[36mconst\u001b[39m performanceThresholds \u001b[33m=\u001b[39m {\n     \u001b[90m 943 |\u001b[39m         api_latency\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 944 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:941:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Data Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 962 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 963 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 964 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 965 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 966 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 967 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:964:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and reuse API responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 963 |\u001b[39m\n     \u001b[90m 964 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 965 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 966 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 967 |\u001b[39m       \n     \u001b[90m 968 |\u001b[39m       \u001b[36mconst\u001b[39m cachedFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (url\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:965:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:964:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should invalidate cache on mutations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 992 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 993 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 994 |\u001b[39m     it(\u001b[32m'should invalidate cache on mutations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 995 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 996 |\u001b[39m       cache\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'/api/threads'\u001b[39m\u001b[33m,\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Old Thread'\u001b[39m }])\u001b[33m;\u001b[39m\n     \u001b[90m 997 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:994:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:964:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Notification System Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1020 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1021 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1022 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1023 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1024 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1025 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should show notifications for important events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1021 |\u001b[39m\n     \u001b[90m 1022 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1023 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1024 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1025 |\u001b[39m       \n     \u001b[90m 1026 |\u001b[39m       \u001b[36mconst\u001b[39m notify \u001b[33m=\u001b[39m (type\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m message\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1023:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue notifications when offline\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1073 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1074 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1075 |\u001b[39m     it(\u001b[32m'should queue notifications when offline'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1076 |\u001b[39m       \u001b[36mconst\u001b[39m notificationQueue \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1077 |\u001b[39m       \n     \u001b[90m 1078 |\u001b[39m       \u001b[36mconst\u001b[39m queueNotification \u001b[33m=\u001b[39m (notification\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1075:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Keyboard Shortcuts Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1100 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1101 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1102 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1103 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1104 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1105 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1102:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle global keyboard shortcuts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1101 |\u001b[39m\n     \u001b[90m 1102 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1103 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1104 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1105 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 1106 |\u001b[39m         [\u001b[32m'cmd+enter'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sendMessage'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1103:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1102:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should prevent shortcut conflicts in input fields\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1136 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1138 |\u001b[39m     it(\u001b[32m'should prevent shortcut conflicts in input fields'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1139 |\u001b[39m       \u001b[36mlet\u001b[39m actionTriggered \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1140 |\u001b[39m       \n     \u001b[90m 1141 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1138:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1102:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Accessibility Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1168 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1169 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1170 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1171 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1172 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1173 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1170:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain focus management during navigation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1169 |\u001b[39m\n     \u001b[90m 1170 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1171 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1172 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1173 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1174 |\u001b[39m         \u001b[36mconst\u001b[39m chatRef \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museRef\u001b[33m<\u001b[39m\u001b[33mHTMLDivElement\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1171:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1170:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should announce dynamic content updates to screen readers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1206 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1207 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1208 |\u001b[39m     it(\u001b[32m'should announce dynamic content updates to screen readers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1209 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1210 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1211 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1208:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1170:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Advanced Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 39 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m   \n     \u001b[90m 43 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/advanced-integration.test.tsx:43:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/advanced-integration.test.tsx:59:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Theme and Preferences Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 66 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 67 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:64:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync theme preferences across components\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m\n     \u001b[90m 64 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 67 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 68 |\u001b[39m         setTheme\u001b[33m:\u001b[39m (theme\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {}\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:65:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:64:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist user preferences across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 119 |\u001b[39m     it(\u001b[32m'should persist user preferences across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 120 |\u001b[39m       \u001b[36mconst\u001b[39m preferences \u001b[33m=\u001b[39m {\n     \u001b[90m 121 |\u001b[39m         notifications\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 122 |\u001b[39m         autoSave\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:119:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:64:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. Complex Form Validation Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 142 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 143 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 144 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 145 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 146 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 147 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:144:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate multi-step forms with dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 143 |\u001b[39m\n     \u001b[90m 144 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 145 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 146 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 147 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 148 |\u001b[39m         \u001b[36mconst\u001b[39m [formData\u001b[33m,\u001b[39m setFormData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:145:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:144:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle async validation with debouncing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 226 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 227 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 228 |\u001b[39m     it(\u001b[32m'should handle async validation with debouncing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \u001b[36mlet\u001b[39m validationCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \n     \u001b[90m 231 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAsyncValidationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:228:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:144:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Collaborative Features Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 296 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 297 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:294:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync cursor positions in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 293 |\u001b[39m\n     \u001b[90m 294 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 295 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 296 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 297 |\u001b[39m       \n     \u001b[90m 298 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:295:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:294:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle presence and activity status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 355 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 356 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 357 |\u001b[39m     it(\u001b[32m'should handle presence and activity status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 358 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mPresenceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 359 |\u001b[39m         \u001b[36mconst\u001b[39m [activeUsers\u001b[33m,\u001b[39m setActiveUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m         \u001b[36mconst\u001b[39m [typingUsers\u001b[33m,\u001b[39m setTypingUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:357:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:294:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Offline Mode Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 417 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 418 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 419 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 420 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 422 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:419:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue actions when offline and sync when online\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 418 |\u001b[39m\n     \u001b[90m 419 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 420 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 422 |\u001b[39m       \n     \u001b[90m 423 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineSyncComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:420:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:419:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should use local storage for offline persistence\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 510 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 511 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 512 |\u001b[39m     it(\u001b[32m'should use local storage for offline persistence'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 513 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineStorageComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 514 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 515 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:512:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:419:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Complex Navigation Flows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 555 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 556 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 557 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 558 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 559 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:557:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle deep linking with state preservation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 556 |\u001b[39m\n     \u001b[90m 557 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 558 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 559 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m       \n     \u001b[90m 561 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mNavigationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:558:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:557:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle protected route redirects\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 611 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 612 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 613 |\u001b[39m     it(\u001b[32m'should handle protected route redirects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 614 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mProtectedRoute\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }) \u001b[33m=>\u001b[39m {\n     \u001b[90m 615 |\u001b[39m         \u001b[36mconst\u001b[39m isAuthenticated \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39misAuthenticated)\u001b[33m;\u001b[39m\n     \u001b[90m 616 |\u001b[39m         \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:613:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:557:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Advanced Search Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 658 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 659 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 660 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 661 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 662 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 663 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:660:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement fuzzy search with highlighting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 659 |\u001b[39m\n     \u001b[90m 660 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 661 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 662 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 663 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 664 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:661:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:660:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement search with filters and facets\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 724 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 725 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 726 |\u001b[39m     it(\u001b[32m'should implement search with filters and facets'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 727 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFilteredSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 728 |\u001b[39m         \u001b[36mconst\u001b[39m [filters\u001b[33m,\u001b[39m setFilters] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 729 |\u001b[39m           category\u001b[33m:\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:726:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:660:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Drag and Drop Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 786 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 787 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 788 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 789 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 790 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 791 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:788:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle file drag and drop with preview\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 787 |\u001b[39m\n     \u001b[90m 788 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 789 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 790 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 791 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 792 |\u001b[39m         \u001b[36mconst\u001b[39m [files\u001b[33m,\u001b[39m setFiles] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mFile\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:789:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:788:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reorder items with drag and drop\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 843 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 844 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 845 |\u001b[39m     it(\u001b[32m'should reorder items with drag and drop'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 846 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mReorderableList\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 847 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([\n     \u001b[90m 848 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m text\u001b[33m:\u001b[39m \u001b[32m'Item 1'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:845:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:788:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. Infinite Scroll Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 913 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 914 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 915 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 916 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 917 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 918 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:915:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load more content on scroll\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 914 |\u001b[39m\n     \u001b[90m 915 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 916 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 917 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 918 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 919 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:916:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:915:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement virtual scrolling for large lists\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 978 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 979 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 980 |\u001b[39m     it(\u001b[32m'should implement virtual scrolling for large lists'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 981 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mVirtualScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 982 |\u001b[39m         \u001b[36mconst\u001b[39m [visibleRange\u001b[33m,\u001b[39m setVisibleRange] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ start\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m end\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 983 |\u001b[39m         \u001b[36mconst\u001b[39m items \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:980:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:915:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Complex Animation Sequences\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1028 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1029 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1030 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1031 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1032 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1033 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1030:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should chain animations with proper timing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1029 |\u001b[39m\n     \u001b[90m 1030 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1031 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1032 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1033 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1034 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1031:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1030:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle gesture-based animations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1076 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1077 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1078 |\u001b[39m     it(\u001b[32m'should handle gesture-based animations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1079 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mGestureComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1080 |\u001b[39m         \u001b[36mconst\u001b[39m [position\u001b[33m,\u001b[39m setPosition] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 1081 |\u001b[39m         \u001b[36mconst\u001b[39m [velocity\u001b[33m,\u001b[39m setVelocity] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1078:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1030:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Memory Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1130 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1131 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1132 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1133 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1134 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1135 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1132:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cleanup resources on unmount\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1131 |\u001b[39m\n     \u001b[90m 1132 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1133 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1134 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1135 |\u001b[39m       \n     \u001b[90m 1136 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResourceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1133:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1132:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage large data sets efficiently\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1165 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1166 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1167 |\u001b[39m     it(\u001b[32m'should manage large data sets efficiently'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1168 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mLargeDataComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1169 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 1170 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1167:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1132:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Real-time Collaboration Sync\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1218 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1219 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1220 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1221 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1222 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1223 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1220:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle conflict resolution in collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1219 |\u001b[39m\n     \u001b[90m 1220 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1221 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1222 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1223 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1224 |\u001b[39m         \u001b[36mconst\u001b[39m [conflicts\u001b[33m,\u001b[39m setConflicts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1221:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1220:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain operation history for undo/redo\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1282 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1283 |\u001b[39m     it(\u001b[32m'should maintain operation history for undo/redo'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mUndoRedoComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1285 |\u001b[39m         \u001b[36mconst\u001b[39m [history\u001b[33m,\u001b[39m setHistory] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m[]\u001b[33m>\u001b[39m([\u001b[32m'Initial'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 1286 |\u001b[39m         \u001b[36mconst\u001b[39m [currentIndex\u001b[33m,\u001b[39m setCurrentIndex] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1283:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1220:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Advanced Error Boundaries\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1336 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1337 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1338 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1339 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1340 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1341 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1338:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from component errors gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1337 |\u001b[39m\n     \u001b[90m 1338 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1339 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1340 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1341 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1342 |\u001b[39m         { hasError\u001b[33m:\u001b[39m boolean\u001b[33m;\u001b[39m errorInfo\u001b[33m:\u001b[39m any }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1339:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1338:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should report errors to monitoring service\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1406 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1407 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1408 |\u001b[39m     it(\u001b[32m'should report errors to monitoring service'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1409 |\u001b[39m       \u001b[36mconst\u001b[39m errorReports\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1410 |\u001b[39m       \n     \u001b[90m 1411 |\u001b[39m       \u001b[36mconst\u001b[39m reportError \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (error\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1408:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1338:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Multi-language Support Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1445 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1446 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1447 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1448 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1449 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1450 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1447:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch languages dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1446 |\u001b[39m\n     \u001b[90m 1447 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1448 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1449 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1450 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1451 |\u001b[39m         es\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Bienvenido'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Adi\u00f3s'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1448:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1447:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle RTL languages correctly\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1487 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1488 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1489 |\u001b[39m     it(\u001b[32m'should handle RTL languages correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1490 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRTLComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1491 |\u001b[39m         \u001b[36mconst\u001b[39m [language\u001b[33m,\u001b[39m setLanguage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'en'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1492 |\u001b[39m         \u001b[36mconst\u001b[39m [direction\u001b[33m,\u001b[39m setDirection] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[32m'ltr'\u001b[39m \u001b[33m|\u001b[39m \u001b[32m'rtl'\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'ltr'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1489:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1447:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. WebSocket Resilience Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1527 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1528 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1529 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1530 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1531 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1532 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1529:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle WebSocket message buffering during reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1528 |\u001b[39m\n     \u001b[90m 1529 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1530 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1531 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1532 |\u001b[39m       \n     \u001b[90m 1533 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResilientWebSocketComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1530:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1529:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement exponential backoff for reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1607 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1608 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1609 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1610 |\u001b[39m       \u001b[36mconst\u001b[39m reconnectAttempts\u001b[33m:\u001b[39m number[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1611 |\u001b[39m       \n     \u001b[90m 1612 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mExponentialBackoffComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1609:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1529:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. End-to-End User Journey\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1665 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1666 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1667 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1668 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1669 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1670 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1667:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete full optimization workflow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m\n     \u001b[90m 1667 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1670 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1671 |\u001b[39m         \u001b[36mconst\u001b[39m [workloadData\u001b[33m,\u001b[39m setWorkloadData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1668:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1667:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Comprehensive Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 114 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m describe(\u001b[32m'Comprehensive Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m   \n     \u001b[90m 118 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 116 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 118 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 119 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 120 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 121 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/comprehensive-integration.test.tsx:118:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 132 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 135 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/comprehensive-integration.test.tsx:134:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. Corpus Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 141 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 142 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:139:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload documents to corpus and process with embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 138 |\u001b[39m\n     \u001b[90m 139 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 140 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 141 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 142 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 143 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'Test Document'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:140:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:139:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should search corpus with semantic similarity\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 171 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 172 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 173 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 174 |\u001b[39m       \u001b[36mconst\u001b[39m mockSearchResults \u001b[33m=\u001b[39m [\n     \u001b[90m 175 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 1'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.95\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 176 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 2'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.87\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:173:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:139:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Synthetic Data Generation Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 196 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 199 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 200 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should generate synthetic data based on templates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m\n     \u001b[90m 197 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 200 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 201 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'processing'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:198:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export generated synthetic data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 246 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 247 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 248 |\u001b[39m     it(\u001b[32m'should export generated synthetic data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 249 |\u001b[39m       \u001b[36mconst\u001b[39m mockExportData \u001b[33m=\u001b[39m {\n     \u001b[90m 250 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'json'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 251 |\u001b[39m         data\u001b[33m:\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'synthetic'\u001b[39m }]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:248:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. LLM Cache Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 268 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 269 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 270 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 273 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:270:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and retrieve LLM responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 269 |\u001b[39m\n     \u001b[90m 270 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 271 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 273 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 274 |\u001b[39m         prompt\u001b[33m:\u001b[39m \u001b[32m'test prompt'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:271:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:270:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage cache invalidation and TTL\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 298 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 299 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 300 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 301 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 302 |\u001b[39m         \u001b[36mconst\u001b[39m { cacheSize\u001b[33m,\u001b[39m clearCache\u001b[33m,\u001b[39m setCacheTTL } \u001b[33m=\u001b[39m useLLMCacheStore()\u001b[33m;\u001b[39m\n     \u001b[90m 303 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:300:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:270:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Supply Catalog Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 326 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 328 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 329 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 331 |\u001b[39m         models\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:328:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should browse and select AI models from catalog\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 327 |\u001b[39m\n     \u001b[90m 328 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 329 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 331 |\u001b[39m         models\u001b[33m:\u001b[39m [\n     \u001b[90m 332 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'gpt-4'\u001b[39m\u001b[33m,\u001b[39m provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m cost_per_1k\u001b[33m:\u001b[39m \u001b[35m0.03\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:329:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:328:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between model providers dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 352 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 353 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 354 |\u001b[39m     it(\u001b[32m'should switch between model providers dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 355 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 356 |\u001b[39m         \u001b[36mconst\u001b[39m { activeModel\u001b[33m,\u001b[39m switchModel } \u001b[33m=\u001b[39m useSupplyStore()\u001b[33m;\u001b[39m\n     \u001b[90m 357 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:354:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:328:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Reference Management with Embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 381 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 382 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 383 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 384 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 385 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 386 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:383:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage document references with vector search\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 382 |\u001b[39m\n     \u001b[90m 383 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 384 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 385 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 386 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 387 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'API Documentation'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:384:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:383:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should find similar references using embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 410 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 412 |\u001b[39m     it(\u001b[32m'should find similar references using embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 413 |\u001b[39m       \u001b[36mconst\u001b[39m mockSimilarRefs \u001b[33m=\u001b[39m [\n     \u001b[90m 414 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 1'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.92\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 415 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 2'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.85\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:412:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:383:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Admin Functionality Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 433 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 434 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 435 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 436 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 437 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 438 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:435:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage users and permissions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 434 |\u001b[39m\n     \u001b[90m 435 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 436 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 437 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 438 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 439 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-2'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'user@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:436:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:435:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor system metrics and usage\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 470 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 471 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 472 |\u001b[39m     it(\u001b[32m'should monitor system metrics and usage'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 473 |\u001b[39m       \u001b[36mconst\u001b[39m mockMetrics \u001b[33m=\u001b[39m {\n     \u001b[90m 474 |\u001b[39m         total_requests\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 475 |\u001b[39m         active_users\u001b[33m:\u001b[39m \u001b[35m50\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:472:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:435:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. Health Check Monitoring\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 496 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 497 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 498 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 499 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 500 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 501 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:498:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor service health status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 497 |\u001b[39m\n     \u001b[90m 498 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 499 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 500 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 501 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 502 |\u001b[39m         services\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:499:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:498:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle degraded service states\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 525 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 526 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 527 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 528 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 529 |\u001b[39m         \u001b[36mconst\u001b[39m [health\u001b[33m,\u001b[39m setHealth] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 530 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:527:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:498:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. Configuration Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 566 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 567 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 568 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 569 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 570 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 571 |\u001b[39m         features\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:568:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load and apply dynamic configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 567 |\u001b[39m\n     \u001b[90m 568 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 569 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 570 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 571 |\u001b[39m         features\u001b[33m:\u001b[39m {\n     \u001b[90m 572 |\u001b[39m           dark_mode\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:569:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:568:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should update configuration and propagate changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 597 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 598 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 599 |\u001b[39m     it(\u001b[32m'should update configuration and propagate changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 600 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 601 |\u001b[39m         \u001b[36mconst\u001b[39m { config\u001b[33m,\u001b[39m updateConfig } \u001b[33m=\u001b[39m useConfigStore()\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:599:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:568:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Generation Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 628 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 629 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 630 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 631 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 632 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 633 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle content generation with streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 629 |\u001b[39m\n     \u001b[90m 630 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 631 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 632 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 633 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 634 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:631:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle generation templates and parameters\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 678 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 679 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 680 |\u001b[39m     it(\u001b[32m'should handle generation templates and parameters'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 681 |\u001b[39m       \u001b[36mconst\u001b[39m mockTemplate \u001b[33m=\u001b[39m {\n     \u001b[90m 682 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'template-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 683 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Email Template'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:680:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. OAuth Secrets Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 709 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 710 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 711 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 712 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 713 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 714 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:711:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely manage OAuth provider configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 710 |\u001b[39m\n     \u001b[90m 711 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 712 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 713 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 714 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 715 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'github'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'github-id'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:712:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:711:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate OAuth secrets securely\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 732 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 733 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 734 |\u001b[39m     it(\u001b[32m'should rotate OAuth secrets securely'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 735 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockResolvedValueOnce({\n     \u001b[90m 736 |\u001b[39m         ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 737 |\u001b[39m         json\u001b[33m:\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:734:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:711:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Multi-Model Provider Switching\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 755 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 756 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 757 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 758 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 759 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 760 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:757:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between providers based on availability\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 756 |\u001b[39m\n     \u001b[90m 757 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 758 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 759 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 760 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 761 |\u001b[39m         \u001b[36mconst\u001b[39m [fallbackUsed\u001b[33m,\u001b[39m setFallbackUsed] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:758:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:757:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load balance across multiple providers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 792 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 794 |\u001b[39m     it(\u001b[32m'should load balance across multiple providers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 795 |\u001b[39m       \u001b[36mconst\u001b[39m providers \u001b[33m=\u001b[39m [\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'anthropic'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'cohere'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 796 |\u001b[39m       \u001b[36mlet\u001b[39m requestCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 797 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:794:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:757:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Cost Tracking and Budgeting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 815 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 816 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 817 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 818 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 819 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 820 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track API usage costs in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 816 |\u001b[39m\n     \u001b[90m 817 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 818 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 819 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 820 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 821 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:818:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should enforce budget limits and alerts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 862 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 863 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 864 |\u001b[39m     it(\u001b[32m'should enforce budget limits and alerts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 865 |\u001b[39m       \u001b[36mconst\u001b[39m mockBudget \u001b[33m=\u001b[39m {\n     \u001b[90m 866 |\u001b[39m         monthly_limit\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 867 |\u001b[39m         current_usage\u001b[33m:\u001b[39m \u001b[35m950\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:864:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Database Repository Pattern Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 892 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 894 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 895 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle unit of work pattern for transactions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 893 |\u001b[39m\n     \u001b[90m 894 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 895 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 898 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:895:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement repository caching layer\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 941 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 942 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 943 |\u001b[39m     it(\u001b[32m'should implement repository caching layer'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 944 |\u001b[39m       \u001b[36mconst\u001b[39m repositoryCache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 945 |\u001b[39m       \n     \u001b[90m 946 |\u001b[39m       \u001b[36mconst\u001b[39m getCachedOrFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (key\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m fetcher\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:943:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Migration Handling\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 970 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 971 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 972 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 973 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 974 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 975 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:972:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should check and apply database migrations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 971 |\u001b[39m\n     \u001b[90m 972 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 973 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 974 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 975 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 976 |\u001b[39m         latest_version\u001b[33m:\u001b[39m \u001b[32m'005'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:973:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:972:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle migration rollback on failure\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 994 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 995 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 996 |\u001b[39m     it(\u001b[32m'should handle migration rollback on failure'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 997 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n     \u001b[90m 998 |\u001b[39m         \u001b[33m.\u001b[39mmockImplementationOnce(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }))\n     \u001b[90m 999 |\u001b[39m         \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Migration failed'\u001b[39m))\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:996:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:972:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Background Task Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1018 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1019 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1020 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1021 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1022 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1023 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1020:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue and process background tasks\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1019 |\u001b[39m\n     \u001b[90m 1020 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1021 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1022 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1023 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1024 |\u001b[39m         \u001b[36mconst\u001b[39m [taskId\u001b[33m,\u001b[39m setTaskId] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1021:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1020:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle task retry with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1081 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1082 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1083 |\u001b[39m     it(\u001b[32m'should handle task retry with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1084 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1085 |\u001b[39m       \u001b[36mconst\u001b[39m maxRetries \u001b[33m=\u001b[39m \u001b[35m3\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1086 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1083:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1020:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Redis Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1109 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1110 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1111 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1112 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1113 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1114 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1111:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache session data in Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1110 |\u001b[39m\n     \u001b[90m 1111 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1112 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1113 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1114 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1115 |\u001b[39m         user_id\u001b[33m:\u001b[39m \u001b[32m'user-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1112:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1111:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement distributed locking with Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1136 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1138 |\u001b[39m     it(\u001b[32m'should implement distributed locking with Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1139 |\u001b[39m       \u001b[36mconst\u001b[39m acquireLock \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (resource\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m ttl\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1140 |\u001b[39m         \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(\u001b[32m'/api/locks/acquire'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m 1141 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1138:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1111:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. ClickHouse Analytics Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1171 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1172 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1173 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1174 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1175 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1176 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1173:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should log and query time-series events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1172 |\u001b[39m\n     \u001b[90m 1173 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1174 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1175 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1176 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1177 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m1800000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m180\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1174:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1173:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should aggregate metrics for dashboards\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1201 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1202 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1203 |\u001b[39m     it(\u001b[32m'should aggregate metrics for dashboards'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1204 |\u001b[39m       \u001b[36mconst\u001b[39m mockAggregates \u001b[33m=\u001b[39m {\n     \u001b[90m 1205 |\u001b[39m         avg_latency\u001b[33m:\u001b[39m \u001b[35m210\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1206 |\u001b[39m         p95_latency\u001b[33m:\u001b[39m \u001b[35m450\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1203:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1173:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Error Context and Tracing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1226 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1227 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1228 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1229 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1230 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1231 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1228:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should propagate trace IDs through requests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1227 |\u001b[39m\n     \u001b[90m 1228 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1229 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1230 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1231 |\u001b[39m       \n     \u001b[90m 1232 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1229:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1228:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should capture error context with stack traces\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1263 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1264 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1265 |\u001b[39m     it(\u001b[32m'should capture error context with stack traces'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1266 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1267 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1268 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1265:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1228:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Security Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1310 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1311 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1312 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1313 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1314 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1315 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1312:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and sanitize user inputs\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1311 |\u001b[39m\n     \u001b[90m 1312 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1313 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1314 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1315 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\n     \u001b[90m 1316 |\u001b[39m         \u001b[36mconst\u001b[39m sanitized \u001b[33m=\u001b[39m input\u001b[33m.\u001b[39mreplace(\u001b[35m/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1313:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1312:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement rate limiting for API endpoints\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1338 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1339 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1340 |\u001b[39m     it(\u001b[32m'should implement rate limiting for API endpoints'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1341 |\u001b[39m       \u001b[36mconst\u001b[39m rateLimiter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 1342 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRATE_LIMIT\u001b[39m \u001b[33m=\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1343 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mWINDOW_MS\u001b[39m \u001b[33m=\u001b[39m \u001b[35m60000\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1340:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1312:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Key Manager Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1375 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1376 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1377 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1378 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1379 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1380 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1377:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely store and retrieve API keys\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1376 |\u001b[39m\n     \u001b[90m 1377 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1378 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1379 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1380 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1381 |\u001b[39m         provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1378:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1377:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate API keys periodically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1404 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1405 |\u001b[39m     it(\u001b[32m'should rotate API keys periodically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1406 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1407 |\u001b[39m         \u001b[36mconst\u001b[39m [lastRotation\u001b[33m,\u001b[39m setLastRotation] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1408 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1405:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1377:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Demo Mode Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1439 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1440 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1441 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1442 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1443 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1444 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1441:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should restrict features in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1440 |\u001b[39m\n     \u001b[90m 1441 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1442 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1443 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1444 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1445 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1442:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1441:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should provide sample data in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1480 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1481 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1482 |\u001b[39m     it(\u001b[32m'should provide sample data in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1483 |\u001b[39m       \u001b[36mconst\u001b[39m mockDemoData \u001b[33m=\u001b[39m {\n     \u001b[90m 1484 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 1485 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'demo-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Demo Thread 1'\u001b[39m\u001b[33m,\u001b[39m messages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1482:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1441:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Enterprise Demo Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1509 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1510 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1511 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1512 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1513 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1514 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1511:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should showcase enterprise-specific capabilities\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1510 |\u001b[39m\n     \u001b[90m 1511 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1512 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1513 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1514 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1515 |\u001b[39m         audit_logging\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1512:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1511:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle team collaboration workflows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1535 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1536 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1537 |\u001b[39m     it(\u001b[32m'should handle team collaboration workflows'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1538 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1539 |\u001b[39m         \u001b[36mconst\u001b[39m [team\u001b[33m,\u001b[39m setTeam] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1540 |\u001b[39m         \u001b[36mconst\u001b[39m [sharedThread\u001b[33m,\u001b[39m setSharedThread] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1537:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1511:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. PDF and Image Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1576 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1577 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1578 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1579 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1580 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1581 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1578:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should extract text from PDF documents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1577 |\u001b[39m\n     \u001b[90m 1578 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1579 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1580 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1581 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1582 |\u001b[39m         pages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1579:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1578:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should analyze images with vision models\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1608 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1609 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1610 |\u001b[39m     it(\u001b[32m'should analyze images with vision models'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1611 |\u001b[39m       \u001b[36mconst\u001b[39m mockImageAnalysis \u001b[33m=\u001b[39m {\n     \u001b[90m 1612 |\u001b[39m         description\u001b[33m:\u001b[39m \u001b[32m'A chart showing revenue growth'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1613 |\u001b[39m         objects_detected\u001b[33m:\u001b[39m [\u001b[32m'chart'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'numbers'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1610:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1578:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Jupyter Notebook Support\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1640 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1641 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1642 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1643 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1644 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1645 |\u001b[39m         cells\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1642:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should parse and execute notebook cells\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1641 |\u001b[39m\n     \u001b[90m 1642 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1643 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1644 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1645 |\u001b[39m         cells\u001b[33m:\u001b[39m [\n     \u001b[90m 1646 |\u001b[39m           { type\u001b[33m:\u001b[39m \u001b[32m'code'\u001b[39m\u001b[33m,\u001b[39m source\u001b[33m:\u001b[39m \u001b[32m'print(\"Hello\")'\u001b[39m\u001b[33m,\u001b[39m output\u001b[33m:\u001b[39m \u001b[32m'Hello'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1643:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1642:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should convert notebooks to different formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1667 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m     it(\u001b[32m'should convert notebooks to different formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m       \u001b[36mconst\u001b[39m mockConverted \u001b[33m=\u001b[39m {\n     \u001b[90m 1670 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'html'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1671 |\u001b[39m         content\u001b[33m:\u001b[39m \u001b[32m'<html><body>Notebook content</body></html>'\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1668:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1642:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Export Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1692 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1693 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1694 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1695 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1696 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1697 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1694:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1693 |\u001b[39m\n     \u001b[90m 1694 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1695 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1696 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1697 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1698 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1695:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1694:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle large data exports with progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1747 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1748 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1749 |\u001b[39m     it(\u001b[32m'should handle large data exports with progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1750 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1751 |\u001b[39m         \u001b[36mconst\u001b[39m [progress\u001b[33m,\u001b[39m setProgress] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1752 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1749:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1694:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Import Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1779 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1780 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1781 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1782 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1783 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1784 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1781:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and import data files\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1780 |\u001b[39m\n     \u001b[90m 1781 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1782 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1783 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1784 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1785 |\u001b[39m         imported\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1782:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1781:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should preview import data before confirmation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1813 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1814 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1815 |\u001b[39m     it(\u001b[32m'should preview import data before confirmation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1816 |\u001b[39m       \u001b[36mconst\u001b[39m mockPreview \u001b[33m=\u001b[39m {\n     \u001b[90m 1817 |\u001b[39m         total_rows\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1818 |\u001b[39m         sample_data\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1815:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1781:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Collaboration Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1848 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1849 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1850 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1851 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1852 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1853 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle real-time collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1849 |\u001b[39m\n     \u001b[90m 1850 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1851 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1852 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1853 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1854 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1851:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should synchronize cursor positions between users\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1892 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1894 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1895 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1896 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1897 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1894:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Real-time Metrics Dashboard\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1951 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1952 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1953 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1954 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1955 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1956 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should display live performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1952 |\u001b[39m\n     \u001b[90m 1953 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1954 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1955 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1956 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1957 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1954:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should visualize historical metrics with time series\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1996 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1997 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1998 |\u001b[39m     it(\u001b[32m'should visualize historical metrics with time series'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1999 |\u001b[39m       \u001b[36mconst\u001b[39m mockTimeSeries \u001b[33m=\u001b[39m {\n     \u001b[90m 2000 |\u001b[39m         timestamps\u001b[33m:\u001b[39m [\u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m2000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m4000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m5000\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 2001 |\u001b[39m         values\u001b[33m:\u001b[39m [\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m \u001b[35m120\u001b[39m\u001b[33m,\u001b[39m \u001b[35m115\u001b[39m\u001b[33m,\u001b[39m \u001b[35m130\u001b[39m\u001b[33m,\u001b[39m \u001b[35m125\u001b[39m]\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1998:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. Agent Tool Dispatcher Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2019 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 2020 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2021 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2022 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2023 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 2024 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2021:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should dynamically dispatch tools to agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2020 |\u001b[39m\n     \u001b[90m 2021 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2022 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2023 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 2024 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 2025 |\u001b[39m         result\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2022:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2021:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle tool chaining and dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2052 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2053 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2054 |\u001b[39m     it(\u001b[32m'should handle tool chaining and dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2055 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2056 |\u001b[39m         \u001b[36mconst\u001b[39m [toolChain\u001b[33m,\u001b[39m setToolChain] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 2057 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2054:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2021:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. State Persistence and Recovery\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2108 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 2109 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2110 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2111 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2112 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2113 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2110:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist application state across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2109 |\u001b[39m\n     \u001b[90m 2110 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2111 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2112 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2113 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 2114 |\u001b[39m         timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2111:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2110:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from corrupted state gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2156 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2157 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2158 |\u001b[39m     it(\u001b[32m'should recover from corrupted state gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2159 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2160 |\u001b[39m         \u001b[36mconst\u001b[39m [state\u001b[33m,\u001b[39m setState] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2161 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2158:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2110:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/components/chat/MainChat.test.tsx (13.961 s)\n  \u25cf MainChat \u203a Agent status updates \u203a should handle toggle collapse manually\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 367 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 368 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 369 |\u001b[39m     it(\u001b[32m'should handle toggle collapse manually'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 370 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m 371 |\u001b[39m         \u001b[33m...\u001b[39mmockStore\u001b[33m,\u001b[39m\n     \u001b[90m 372 |\u001b[39m         isProcessing\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:369:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:246:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:36:1)\n\n  \u25cf MainChat \u203a Error recovery and reconnection \u203a should handle store errors gracefully\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Store initialization failed\"\n\n        \u001b[0m \u001b[90m 394 |\u001b[39m     it(\u001b[32m'should handle store errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 395 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 396 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Store initialization failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 397 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 398 |\u001b[39m       \n         \u001b[90m 399 |\u001b[39m       \u001b[90m// Should not crash the component\u001b[39m\u001b[0m\n\n      at __tests__/components/chat/MainChat.test.tsx:396:15\n      at MainChat (components/chat/MainChat.tsx:22:26)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at __tests__/components/chat/MainChat.test.tsx:400:26\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:400:46)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:400:46)\n\n  \u25cf MainChat \u203a Message history loading \u203a should update history when new messages arrive\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-testid=\"example-prompts\">Example Prompts</div> instead\n\n    \u001b[0m \u001b[90m 573 |\u001b[39m       \n     \u001b[90m 574 |\u001b[39m       \u001b[90m// Example prompts should disappear\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 575 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 576 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 577 |\u001b[39m\n     \u001b[90m 578 |\u001b[39m     it(\u001b[32m'should handle message deletion from history'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:575:59)\n\n  \u25cf MainChat \u203a UI layout and responsiveness \u203a should apply correct CSS classes\n\n    expect(element).toHaveClass(\"flex flex-col h-full\")\n\n    Expected the element to have class:\n      flex flex-col h-full\n    Received:\n      flex h-full bg-gradient-to-br from-gray-50 via-white to-gray-50\n\n    \u001b[0m \u001b[90m 617 |\u001b[39m       \n     \u001b[90m 618 |\u001b[39m       \u001b[36mconst\u001b[39m mainContainer \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mfirstChild\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 619 |\u001b[39m       expect(mainContainer)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'flex'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'flex-col'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'h-full'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 620 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 621 |\u001b[39m\n     \u001b[90m 622 |\u001b[39m     it(\u001b[32m'should handle window resize'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveClass (__tests__/components/chat/MainChat.test.tsx:619:29)\n\n  \u25cf MainChat \u203a Performance and optimization \u203a should clean up timers on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 714 |\u001b[39m       \n     \u001b[90m 715 |\u001b[39m       \u001b[90m// Any active timers should be cleared\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 716 |\u001b[39m       expect(clearTimeoutSpy)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 717 |\u001b[39m       \n     \u001b[90m 718 |\u001b[39m       clearTimeoutSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 719 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/components/chat/MainChat.test.tsx:716:31)\n\n  \u25cf MainChat \u203a Integration with store and hooks \u203a should handle store reset\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-collapsed=\"false\" data-testid=\"response-card\"><button>Toggle</button>Response Card</div> instead\n\n    \u001b[0m \u001b[90m 783 |\u001b[39m       \u001b[90m// Should show example prompts again\u001b[39m\n     \u001b[90m 784 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 785 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'response-card'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 786 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 787 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 788 |\u001b[39m\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:785:57)\n\n  \u25cf MainChat \u203a Accessibility \u203a should support keyboard navigation\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 795 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 796 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 797 |\u001b[39m     it(\u001b[32m'should support keyboard navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 798 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 799 |\u001b[39m       \n     \u001b[90m 800 |\u001b[39m       \u001b[90m// Tab through components\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:797:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:789:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:36:1)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/chat/chatUIUXCore.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/chat/ui-improvements.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nFAIL __tests__/components/ChatHistorySection.test.tsx (16.598 s)\n  \u25cf Console\n\n    console.error\n      Failed to load threads: Network error\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:54:15)\n\n    console.error\n      Failed to delete thread: Failed to delete\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:130:15)\n\n    console.error\n      Failed to delete thread: Failed to delete\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:130:15)\n\n    console.error\n      Failed to load thread messages: Failed to load messages\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:95:15)\n\n    console.error\n      Failed to load thread messages: Cannot read properties of undefined (reading 'messages')\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:95:15)\n\n    console.error\n      Failed to create thread: Failed to create thread\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:69:15)\n\n    console.error\n      Failed to update thread title: Cannot read properties of undefined (reading 'title')\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:113:15)\n\n    console.error\n      Failed to create thread: Cannot read properties of undefined (reading 'id')\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:69:15)\n\n    console.error\n      Failed to load threads: _threadService.ThreadService.listThreads is not a function\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:54:15)\n      at loadThreads (components/ChatHistorySection.tsx:42:7)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1520:35)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Performance Tests \u203a should render large thread list efficiently\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 1000\n    Received:   1788.4073000000008\n\n    \u001b[0m \u001b[90m 1567 |\u001b[39m       \n     \u001b[90m 1568 |\u001b[39m       \u001b[90m// Should render in reasonable time (< 1 second)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1569 |\u001b[39m       expect(renderTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1570 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1571 |\u001b[39m\n     \u001b[90m 1572 |\u001b[39m     it(\u001b[32m'should handle rapid state updates efficiently'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/components/ChatHistorySection.test.tsx:1569:26)\n\nFAIL __tests__/components/chat/MessageInput.test.tsx (24.487 s)\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle special characters correctly\n\n    Expected key descriptor but found \"]\" in \"[]{}|;':\",./<>?`~\\n\\t\"\n        See https://testing-library.com/docs/user-event/keyboard\n        for more information about how userEvent parses your input.\n\n    \u001b[0m \u001b[90m 143 |\u001b[39m       \n     \u001b[90m 144 |\u001b[39m       \u001b[36mconst\u001b[39m specialChars \u001b[33m=\u001b[39m \u001b[32m'!@#$%^&*()_+-=[]{}|;\\':\",./<>?`~\\\\n\\\\t'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 145 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m specialChars)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 146 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{enter}'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m       \n     \u001b[90m 148 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at assertDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:75:15)\n      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:48:5)\n      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)\n      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)\n      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)\n      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)\n      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)\n      at Object.<anonymous> (__tests__/components/chat/MessageInput.test.tsx:145:7)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should navigate message history with arrow keys\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"First message\"\n    Received: \"Second message\"\n\n    \u001b[0m \u001b[90m 314 |\u001b[39m       \n     \u001b[90m 315 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowup}'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 316 |\u001b[39m       expect(textarea\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'First message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 317 |\u001b[39m       \n     \u001b[90m 318 |\u001b[39m       \u001b[90m// Navigate down in history\u001b[39m\n     \u001b[90m 319 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowdown}'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/components/chat/MessageInput.test.tsx:316:30)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should handle Ctrl+Enter for special actions\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: {\"payload\": {\"references\": [], \"text\": \"Test message\", \"thread_id\": \"thread-1\"}, \"type\": \"user_message\"}\n\n    \u001b[0m \u001b[90m 346 |\u001b[39m       \n     \u001b[90m 347 |\u001b[39m       \u001b[90m// Currently Ctrl+Enter doesn't have special behavior, should not send\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 348 |\u001b[39m       expect(mockSendMessage)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 349 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 350 |\u001b[39m\n     \u001b[90m 351 |\u001b[39m     it(\u001b[32m'should show keyboard shortcuts hint'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/components/chat/MessageInput.test.tsx:348:35)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should start with single row\n\n    expect(element).toHaveAttribute(\"rows\", \"1\") // element.getAttribute(\"rows\") === \"1\"\n\n    Expected the element to have attribute:\n      rows=\"1\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 375 |\u001b[39m       \u001b[36mconst\u001b[39m textarea \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByPlaceholderText(\u001b[35m/Type a message/i\u001b[39m) \u001b[36mas\u001b[39m \u001b[33mHTMLTextAreaElement\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 377 |\u001b[39m       expect(textarea)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'rows'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 378 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 379 |\u001b[39m\n     \u001b[90m 380 |\u001b[39m     it(\u001b[32m'should expand textarea as content grows'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/components/chat/MessageInput.test.tsx:377:24)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should expand textarea as content grows\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 1\n    Received:   1\n\n    \u001b[0m \u001b[90m 387 |\u001b[39m       \u001b[90m// Check that the textarea has expanded\u001b[39m\n     \u001b[90m 388 |\u001b[39m       \u001b[36mconst\u001b[39m currentRows \u001b[33m=\u001b[39m parseInt(textarea\u001b[33m.\u001b[39mgetAttribute(\u001b[32m'rows'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 389 |\u001b[39m       expect(currentRows)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 390 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 391 |\u001b[39m\n     \u001b[90m 392 |\u001b[39m     it(\u001b[32m'should respect maximum rows limit'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeGreaterThan (__tests__/components/chat/MessageInput.test.tsx:389:27)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should reset to single row after sending\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 1\n    Received:   1\n\n    \u001b[0m \u001b[90m 406 |\u001b[39m       \n     \u001b[90m 407 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'Line 1\\nLine 2\\nLine 3'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 408 |\u001b[39m       expect(parseInt(textarea\u001b[33m.\u001b[39mgetAttribute(\u001b[32m'rows'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'1'\u001b[39m))\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 409 |\u001b[39m       \n     \u001b[90m 410 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{enter}'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m       \u001b[0m\n\n      at Object.toBeGreaterThan (__tests__/components/chat/MessageInput.test.tsx:408:62)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should handle paste of multiline content\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 1\n    Received:   1\n\n    \u001b[0m \u001b[90m 431 |\u001b[39m       \n     \u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m currentRows \u001b[33m=\u001b[39m parseInt(textarea\u001b[33m.\u001b[39mgetAttribute(\u001b[32m'rows'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 433 |\u001b[39m       expect(currentRows)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 434 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m\n     \u001b[90m 436 |\u001b[39m     it(\u001b[32m'should maintain scroll position during resize'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeGreaterThan (__tests__/components/chat/MessageInput.test.tsx:433:27)\n\n  \u25cf MessageInput \u203a Send button states \u203a should show send icon when not sending\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"Send\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<button\u001b[39m\n      \u001b[33maria-label\u001b[39m=\u001b[32m\"Send message\"\u001b[39m\n      \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 0; transform: scale(0.8);\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<svg\u001b[39m\n          \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-send w-5 h-5\"\u001b[39m\n          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n          \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n          \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n          \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<path\u001b[39m\n            \u001b[33md\u001b[39m=\u001b[32m\"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\"\u001b[39m\n          \u001b[36m/>\u001b[39m\n          \u001b[36m<path\u001b[39m\n            \u001b[33md\u001b[39m=\u001b[32m\"m21.854 2.147-10.94 10.939\"\u001b[39m\n          \u001b[36m/>\u001b[39m\n        \u001b[36m</svg>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</button>\u001b[39m\n\n    \u001b[0m \u001b[90m 590 |\u001b[39m       \u001b[36mconst\u001b[39m sendButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByLabelText(\u001b[32m'Send message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 591 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 592 |\u001b[39m       expect(within(sendButton)\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'Send'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 593 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 594 |\u001b[39m\n     \u001b[90m 595 |\u001b[39m     it(\u001b[32m'should show loading spinner when sending'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/chat/MessageInput.test.tsx:592:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should add sent messages to history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Historical message 1\"\n    Received: \"Historical message 2\"\n\n    \u001b[0m \u001b[90m 662 |\u001b[39m       \n     \u001b[90m 663 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowup}'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 664 |\u001b[39m       expect(textarea\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Historical message 1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 665 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 666 |\u001b[39m\n     \u001b[90m 667 |\u001b[39m     it(\u001b[32m'should not add empty messages to history'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/chat/MessageInput.test.tsx:664:30)\n\n  \u25cf MessageInput \u203a Message history \u203a should not add empty messages to history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Valid message\"\n    Received: \"   \"\n\n    \u001b[0m \u001b[90m 676 |\u001b[39m       \n     \u001b[90m 677 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowup}'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 678 |\u001b[39m       expect(textarea\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Valid message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 679 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 680 |\u001b[39m\n     \u001b[90m 681 |\u001b[39m     it(\u001b[32m'should maintain history across component lifecycle'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/chat/MessageInput.test.tsx:678:30)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should handle keyboard navigation properly\n\n    expect(element).toHaveAttribute(\"placeholder\", StringContaining \"Type a message\") // element.getAttribute(\"placeholder\") === StringContaining \"Type a message\"\n\n    Expected the element to have attribute:\n      placeholder=StringContaining \"Type a message\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 813 |\u001b[39m       \u001b[90m// Tab through interactive elements\u001b[39m\n     \u001b[90m 814 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtab()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 815 |\u001b[39m       expect(document\u001b[33m.\u001b[39mactiveElement)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'placeholder'\u001b[39m\u001b[33m,\u001b[39m expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'Type a message'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 816 |\u001b[39m       \n     \u001b[90m 817 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtab()\u001b[33m;\u001b[39m\n     \u001b[90m 818 |\u001b[39m       expect(document\u001b[33m.\u001b[39mactiveElement)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'aria-label'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Attach file'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/components/chat/MessageInput.test.tsx:815:38)\n\nFAIL __tests__/components/ChatComponents.test.tsx (35.711 s)\n  \u25cf test_MessageList_virtualization \u203a should implement virtual scrolling for large lists\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"/message-/\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"relative overflow-hidden h-[calc(100vh-250px)] px-6 py-4 overflow-y-auto\"\u001b[39m\n          \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n          \u001b[33mstyle\u001b[39m=\u001b[32m\"position: relative; --radix-scroll-area-corner-width: 0px; --radix-scroll-area-corner-height: 0px;\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"h-full w-full rounded-[inherit]\"\u001b[39m\n            \u001b[33mdata-radix-scroll-area-viewport\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[33mstyle\u001b[39m=\u001b[32m\"overflow-x: hidden; overflow-y: scroll;\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"min-width: 100%; display: table;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"mb-4 flex justify-start\"\u001b[39m\n                  \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"rounded-lg border text-card-foreground w-full max-w-3xl shadow-sm hover:shadow-md transition-shadow duration-200 bg-white border-gray-200\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col space-y-1.5 p-6 pb-3 pt-4 px-5\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start justify-between\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<span\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"relative flex shrink-0 overflow-hidden rounded-full w-9 h-9 border-2 border-white shadow-sm\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<span\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex h-full w-full items-center justify-center rounded-full bg-muted font-bold text-sm bg-gradient-to-r from-purple-600 to-pink-600 text-white\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[0mAI\u001b[0m\n                            \u001b[36m</span>\u001b[39m\n                          \u001b[36m</span>\u001b[39m\n                          \u001b[36m<div>\u001b[39m\n                            \u001b[36m<div\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[36m<svg\u001b[39m\n                                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-bot w-4 h-4\"\u001b[39m\n                                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M12 8V4H8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<rect\u001b[39m\n                                  \u001b[33mheight\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                                  \u001b[33mrx\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                  \u001b[33mwidth\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                                  \u001b[33mx\u001b[39m=\u001b[32m\"4\"\u001b[39m\n                                  \u001b[33my\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M2 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M20 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M15 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M9 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                              \u001b[36m</svg>\u001b[39m\n                              \u001b[36m<h3\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"tracking-tight text-base font-semibold text-gray-900\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[0mNetra Agent\u001b[0m\n                              \u001b[36m</h3>\u001b[39m\n                            \u001b[36m</div>\u001b[39m\n                          \u001b[36m</div>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2 text-xs text-gray-500\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<svg\u001b[39m\n                            \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-clock w-3 h-3\"\u001b[39m\n                            \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                            \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                            \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                            \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<path\u001b[39m\n                              \u001b[33md\u001b[39m=\u001b[32m\"M12 6v6l4 2\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                            \u001b[36m<circle\u001b[39m\n                              \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                          \u001b[36m</svg>\u001b[39m\n                          \u001b[36m<span>\u001b[39m\n                            \u001b[0m01:43:25 PM\u001b[0m\n                          \u001b[36m</span>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"p-6 pt-0 px-5 pb-4\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"space-y-3\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<p\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"text-gray-800 leading-relaxed whitespace-pre-wrap\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[0mMessage 0\u001b[0m\n                        \u001b[36m</p>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n       ...\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m     \n     \u001b[90m 34 |\u001b[39m     \u001b[90m// MessageList renders all messages by default (no virtualization currently)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     \u001b[36mconst\u001b[39m renderedMessages \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/message-/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     expect(renderedMessages\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15\n      at Object.getAllByTestId (__tests__/components/ChatComponents.test.tsx:35:37)\n\n  \u25cf test_MessageList_virtualization \u203a should maintain performance with large message lists\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 5000\n    Received:   15861.6682\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m     \n     \u001b[90m 58 |\u001b[39m     \u001b[90m// Should render in reasonable time\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m     expect(renderTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m5000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m\n     \u001b[90m 62 |\u001b[39m   it(\u001b[32m'should handle scroll to bottom correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/components/ChatComponents.test.tsx:59:24)\n\n  \u25cf test_MessageInput_validation \u203a should validate input length\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m   it(\u001b[32m'should validate input length'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m     \n     \u001b[90m 119 |\u001b[39m     \u001b[36mconst\u001b[39m input \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'textbox'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/components/ChatComponents.test.tsx:116:3)\n      at Object.describe (__tests__/components/ChatComponents.test.tsx:107:1)\n\n  \u25cf test_MessageInput_validation \u203a should handle text input and sending\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 130 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 132 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 133 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:132:18)\n\n  \u25cf test_MessageInput_validation \u203a should handle keyboard shortcuts\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Test message\"\n    Received: \"aaaTaeasata amaeasasaaagaeaa\"\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m     \n     \u001b[90m 156 |\u001b[39m     \u001b[90m// Message should still be in input (requires Ctrl+Enter to send)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m     expect(input\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Test message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m\n     \u001b[90m 160 |\u001b[39m   it(\u001b[32m'should prevent empty message submission'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/ChatComponents.test.tsx:157:25)\n\n  \u25cf test_MessageInput_validation \u203a should prevent empty message submission\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:163:18)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx (37.579 s)\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should upload documents to corpus and process with embeddings\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - File {}\n    + FormData {},\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 168 |\u001b[39m       \u001b[90m// The mock doesn't actually update the documents array\u001b[39m\n     \u001b[90m 169 |\u001b[39m       \u001b[90m// We're just testing the API call worked\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 170 |\u001b[39m       expect(corpusService\u001b[33m.\u001b[39muploadDocument)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(file)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 171 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 172 |\u001b[39m\n     \u001b[90m 173 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/comprehensive-integration.test.tsx:170:44)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 2. Synthetic Data Generation Flow \u203a should generate synthetic data based on templates\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m\n     \u001b[90m 197 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 200 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 201 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'processing'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:198:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should manage cache invalidation and TTL\n\n    TestingLibraryElementError: Unable to find an element with the text: Clear Cache. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Clear Cache'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m       \n     \u001b[90m 322 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 323 |\u001b[39m         expect(useLLMCacheStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcacheSize)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:320:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should browse and select AI models from catalog\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 348 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 350 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 351 |\u001b[39m       expect(useSupplyStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcatalog\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 353 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:350:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should switch between model providers dynamically\n\n    TestingLibraryElementError: Unable to find an element with the text: Switch to Claude. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 373 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 374 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 375 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Switch to Claude'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 376 |\u001b[39m       \n     \u001b[90m 377 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 378 |\u001b[39m         expect(useSupplyStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mactiveModel)\u001b[33m.\u001b[39mtoBe(\u001b[32m'claude-3'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:375:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should manage document references with vector search\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"ref-789\"\n    Received: \"ref-1\"\n\n    \u001b[0m \u001b[90m 406 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 407 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 408 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 409 |\u001b[39m       expect(result\u001b[33m.\u001b[39membedding)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m4\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 410 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:408:25)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should find similar references using embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 428 |\u001b[39m       \u001b[36mconst\u001b[39m results \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m findSimilar(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 429 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 430 |\u001b[39m       expect(results)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 431 |\u001b[39m       expect(results[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39msimilarity)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0.9\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 432 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 433 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:430:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should manage users and permissions\n\n    TestingLibraryElementError: Unable to find an element with the text: Load Users. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 463 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 464 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 465 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Load Users'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 466 |\u001b[39m       \n     \u001b[90m 467 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 468 |\u001b[39m         expect(getByTestId(\u001b[32m'user-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:465:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should monitor system metrics and usage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 10000\n    Received: undefined\n\n    \u001b[0m \u001b[90m 491 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getSystemMetrics()\u001b[33m;\u001b[39m\n     \u001b[90m 492 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 493 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39mtotal_requests)\u001b[33m.\u001b[39mtoBe(\u001b[35m10000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 494 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39merror_rate)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m0.05\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 495 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:493:38)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should monitor service health status\n\n    TypeError: Cannot read properties of undefined (reading 'database')\n\n    \u001b[0m \u001b[90m 522 |\u001b[39m       \n     \u001b[90m 523 |\u001b[39m       expect(health\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'healthy'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 524 |\u001b[39m       expect(health\u001b[33m.\u001b[39mservices\u001b[33m.\u001b[39mdatabase)\u001b[33m.\u001b[39mtoBe(\u001b[32m'up'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 525 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 526 |\u001b[39m\n     \u001b[90m 527 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.database (__tests__/integration/comprehensive-integration.test.tsx:524:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should handle degraded service states\n\n    Unable to find an element by: [data-testid=\"alert\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 560 |\u001b[39m       \u001b[36mconst\u001b[39m { getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 561 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 562 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 563 |\u001b[39m         expect(getByTestId(\u001b[32m'alert'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 564 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 565 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:562:20)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should load and apply dynamic configurations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 593 |\u001b[39m       \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadConfig()\u001b[33m;\u001b[39m\n     \u001b[90m 594 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 595 |\u001b[39m       expect(config\u001b[33m.\u001b[39mfeatures\u001b[33m.\u001b[39mdark_mode)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 596 |\u001b[39m       expect(useConfigStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mconfig\u001b[33m.\u001b[39mlimits\u001b[33m.\u001b[39mmax_threads)\u001b[33m.\u001b[39mtoBe(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 597 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 598 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:595:41)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should update configuration and propagate changes\n\n    TestingLibraryElementError: Unable to find an element with the text: Enable Beta. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 620 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 621 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 622 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Enable Beta'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 623 |\u001b[39m       \n     \u001b[90m 624 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 625 |\u001b[39m         expect(getByTestId(\u001b[32m'beta-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'enabled'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:622:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle content generation with streaming\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 629 |\u001b[39m\n     \u001b[90m 630 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 631 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 632 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 633 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 634 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:631:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle generation templates and parameters\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Generated email\"\n    Received string:    \"\"\n\n    \u001b[0m \u001b[90m 704 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 705 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 706 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcontent)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Generated email'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 707 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtokens_used)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 708 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 709 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toContain (__tests__/integration/comprehensive-integration.test.tsx:706:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 11. Multi-Model Provider Switching \u203a should switch between providers based on availability\n\n    TestingLibraryElementError: Unable to find an element with the text: Send Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 785 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 786 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Send Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 787 |\u001b[39m       \n     \u001b[90m 788 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 789 |\u001b[39m         expect(getByTestId(\u001b[32m'fallback'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:786:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 12. Cost Tracking and Budgeting \u203a should track API usage costs in real-time\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 816 |\u001b[39m\n     \u001b[90m 817 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 818 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 819 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 820 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 821 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:818:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 13. Database Repository Pattern Integration \u203a should handle unit of work pattern for transactions\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Transaction. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 934 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 935 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 936 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Transaction'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 937 |\u001b[39m       \n     \u001b[90m 938 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 939 |\u001b[39m         expect(getByTestId(\u001b[32m'status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'committed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:936:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 14. Migration Handling \u203a should handle migration rollback on failure\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 1013 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m applyMigration(\u001b[32m'004'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1014 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1015 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1016 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrolled_back)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1017 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1018 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:1015:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 15. Background Task Processing \u203a should queue and process background tasks\n\n    TestingLibraryElementError: Unable to find an element with the text: Queue Task. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1074 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1075 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1076 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Queue Task'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1077 |\u001b[39m       \n     \u001b[90m 1078 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1079 |\u001b[39m         expect(getByTestId(\u001b[32m'task-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1076:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should propagate trace IDs through requests\n\n    TestingLibraryElementError: Unable to find an element with the text: Make Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1256 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1257 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1258 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Make Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1259 |\u001b[39m       \n     \u001b[90m 1260 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1261 |\u001b[39m         expect(getByTestId(\u001b[32m'trace-id'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(traceId)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1258:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should capture error context with stack traces\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Error. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1302 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1303 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1304 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Trigger Error'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1305 |\u001b[39m       \n     \u001b[90m 1306 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1307 |\u001b[39m         expect(getByTestId(\u001b[32m'error-trace'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'trace-error-123'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1304:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 20. Key Manager Integration \u203a should rotate API keys periodically\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"rotation-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1435 |\u001b[39m       \n     \u001b[90m 1436 |\u001b[39m       \u001b[90m// Component would handle rotation in production\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1437 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'rotation-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1438 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1439 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1440 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1437:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 21. Demo Mode Functionality \u203a should restrict features in demo mode\n\n    TestingLibraryElementError: Unable to find an element with the text: Delete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1466 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1467 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1468 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Delete'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1469 |\u001b[39m       \n     \u001b[90m 1470 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1471 |\u001b[39m         expect(getByTestId(\u001b[32m'message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disabled in demo mode'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1468:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 22. Enterprise Demo Features \u203a should handle team collaboration workflows\n\n    TestingLibraryElementError: Unable to find an element with the text: Share Thread. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1568 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1569 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1570 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Share Thread'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1571 |\u001b[39m       \n     \u001b[90m 1572 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1573 |\u001b[39m         expect(getByTestId(\u001b[32m'shared-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1570:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TestingLibraryElementError: Unable to find an element with the text: Export JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1740 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1741 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1742 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Export JSON'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1743 |\u001b[39m       \n     \u001b[90m 1744 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1745 |\u001b[39m         expect(getByTestId(\u001b[32m'export-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1742:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should handle large data exports with progress\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"progress\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1775 |\u001b[39m       \n     \u001b[90m 1776 |\u001b[39m       \u001b[90m// In real scenario, SSE would update progress\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1777 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'progress'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1778 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1779 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1780 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1777:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should handle real-time collaborative editing\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1849 |\u001b[39m\n     \u001b[90m 1850 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1851 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1852 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1853 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1854 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1851:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should synchronize cursor positions between users\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1892 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1894 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1895 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1896 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1897 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1894:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 28. Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1952 |\u001b[39m\n     \u001b[90m 1953 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1954 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1955 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1956 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1957 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1954:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 29. Agent Tool Dispatcher Integration \u203a should handle tool chaining and dependencies\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Chain. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2098 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2099 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2100 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Chain'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2101 |\u001b[39m       \n     \u001b[90m 2102 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2103 |\u001b[39m         expect(getByTestId(\u001b[32m'chain-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2100:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 30. State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TestingLibraryElementError: Unable to find an element with the text: Load State. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2207 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2208 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2209 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Load State'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2210 |\u001b[39m       \n     \u001b[90m 2211 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2212 |\u001b[39m         expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State corrupted, using defaults'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2209:23)\n\nFAIL __tests__/integration/critical-integration.test.tsx (55.296 s)\n  \u25cf Console\n\n    console.warn\n      Performance degradation: api_latency = 1500ms (threshold: 1000ms)\n\n    \u001b[0m \u001b[90m 131 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 133 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 134 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.ts:133:18)\n      at warn (__tests__/integration/critical-integration.test.tsx:951:19)\n      at Object.checkPerformance (__tests__/integration/critical-integration.test.tsx:958:22)\n\n    console.log\n      Flushed notification: { type: 'info', message: 'Offline notification 1' }\n\n      at log (__tests__/integration/critical-integration.test.tsx:1085:19)\n\n    console.log\n      Flushed notification: { type: 'warning', message: 'Offline notification 2' }\n\n      at log (__tests__/integration/critical-integration.test.tsx:1085:19)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m       \n     \u001b[90m 85 |\u001b[39m       \u001b[90m// Create a new server with token in URL\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m       \u001b[36mconst\u001b[39m wsServer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m`ws://localhost:8000/ws?token=${mockToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m       \n     \u001b[90m 88 |\u001b[39m       \u001b[90m// Set authenticated state\u001b[39m\n     \u001b[90m 89 |\u001b[39m       useAuthStore\u001b[33m.\u001b[39msetState({ \u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:86:24)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m login \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 196 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m     it(\u001b[32m'should sync agent reports with chat messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 199 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m         \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m useChatStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mmessages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:197:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 285 |\u001b[39m       }\n     \u001b[90m 286 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 287 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39misAuthenticated)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 288 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39muser)\u001b[33m.\u001b[39mtoEqual(mockUser)\u001b[33m;\u001b[39m\n     \u001b[90m 289 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 290 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical-integration.test.tsx:287:55)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'createThread')\n\n    \u001b[0m \u001b[90m 304 |\u001b[39m       \n     \u001b[90m 305 |\u001b[39m       \u001b[90m// Create thread through service\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 306 |\u001b[39m       \u001b[36mconst\u001b[39m thread \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m threadService\u001b[33m.\u001b[39mcreateThread(\u001b[32m'New Thread'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 307 |\u001b[39m       \n     \u001b[90m 308 |\u001b[39m       \u001b[90m// Update store\u001b[39m\n     \u001b[90m 309 |\u001b[39m       useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39maddThread(thread)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createThread (__tests__/integration/critical-integration.test.tsx:306:42)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: _messageService.messageService.getMessages is not a function\n\n    \u001b[0m \u001b[90m 356 |\u001b[39m       \n     \u001b[90m 357 |\u001b[39m       \u001b[90m// Load thread 1\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 358 |\u001b[39m       \u001b[36mawait\u001b[39m messageService\u001b[33m.\u001b[39mgetMessages(\u001b[32m'thread-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 359 |\u001b[39m       useChatStore\u001b[33m.\u001b[39msetState({ messages\u001b[33m:\u001b[39m thread1Messages\u001b[33m,\u001b[39m currentThread\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m       \n     \u001b[90m 361 |\u001b[39m       expect(useChatStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual(thread1Messages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getMessages (__tests__/integration/critical-integration.test.tsx:358:28)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 371 |\u001b[39m\n     \u001b[90m 372 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 373 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 374 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 375 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:373:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     it(\u001b[32m'should handle message interruption gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 426 |\u001b[39m         \u001b[36mconst\u001b[39m { isProcessing\u001b[33m,\u001b[39m sendMessage\u001b[33m,\u001b[39m stopProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:424:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 469 |\u001b[39m\n     \u001b[90m 470 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 471 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 472 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 473 |\u001b[39m         \u001b[36mconst\u001b[39m { status\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m         \u001b[36mconst\u001b[39m isConnected \u001b[33m=\u001b[39m status \u001b[33m===\u001b[39m \u001b[32m'OPEN'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:471:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should retry failed API calls with exponential backoff\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    Unable to find an element with the text: Session Expired. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 579 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 580 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 581 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 582 |\u001b[39m         expect(getByText(\u001b[32m'Session Expired'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 583 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 584 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:581:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should sync local state with server state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    Unable to find an element with the text: Threads: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 648 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 649 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 650 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 651 |\u001b[39m         expect(getByText(\u001b[32m'Threads: 1'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 652 |\u001b[39m         expect(getByText(\u001b[32m'Messages: 1'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 653 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:650:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should upload file and process with agent\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should track upload progress\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 711 |\u001b[39m\n     \u001b[90m 712 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 713 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 714 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 715 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 716 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:713:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should apply optimization and track results\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 789 |\u001b[39m\n     \u001b[90m 790 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 791 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 792 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 794 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:791:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 853 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 854 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 855 |\u001b[39m     it(\u001b[32m'should handle agent pipeline failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 856 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 857 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m error } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 858 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:855:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TestingLibraryElementError: Unable to find an element with the text: API Call. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 932 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 933 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 934 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'API Call'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 935 |\u001b[39m       \n     \u001b[90m 936 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 937 |\u001b[39m         expect(metrics\u001b[33m.\u001b[39mapi_response_time\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:934:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should detect and report performance degradation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should cache and reuse API responses\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should invalidate cache on mutations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1021 |\u001b[39m\n     \u001b[90m 1022 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1023 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1024 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1025 |\u001b[39m       \n     \u001b[90m 1026 |\u001b[39m       \u001b[36mconst\u001b[39m notify \u001b[33m=\u001b[39m (type\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m message\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:1023:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should queue notifications when offline\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"action\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1133 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mkeyDown(window\u001b[33m,\u001b[39m { key\u001b[33m:\u001b[39m \u001b[32m'k'\u001b[39m\u001b[33m,\u001b[39m metaKey\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 1134 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1135 |\u001b[39m       expect(getByTestId(\u001b[32m'action'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'openSearch'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1136 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n     \u001b[90m 1138 |\u001b[39m     it(\u001b[32m'should prevent shortcut conflicts in input fields'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1135:14)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1159 |\u001b[39m       \u001b[36mconst\u001b[39m { getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1160 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1161 |\u001b[39m       \u001b[36mconst\u001b[39m input \u001b[33m=\u001b[39m getByTestId(\u001b[32m'input'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1162 |\u001b[39m       input\u001b[33m.\u001b[39mfocus()\u001b[33m;\u001b[39m\n     \u001b[90m 1163 |\u001b[39m       \n     \u001b[90m 1164 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mkeyDown(input\u001b[33m,\u001b[39m { key\u001b[33m:\u001b[39m \u001b[32m'Enter'\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1161:21)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TestingLibraryElementError: Unable to find an element with the text: Settings. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1199 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1200 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1201 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Settings'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1202 |\u001b[39m       \n     \u001b[90m 1203 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1204 |\u001b[39m         expect(document\u001b[33m.\u001b[39mactiveElement)\u001b[33m.\u001b[39mtoBe(getByTestId(\u001b[32m'settings-view'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1201:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Update. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1224 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1225 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1226 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Trigger Update'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1227 |\u001b[39m       \n     \u001b[90m 1228 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1229 |\u001b[39m         \u001b[36mconst\u001b[39m announcer \u001b[33m=\u001b[39m getByTestId(\u001b[32m'announcer'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1226:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\nSummary of all failing tests\nFAIL __tests__/components/AgentStatusPanel.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m Expected corresponding JSX closing tag for <WebSocketProvider>\n         ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\components\\AgentStatusPanel.test.tsx\u001b[0m:715:1]\n     \u001b[2m712\u001b[0m |       rerender(\n     \u001b[2m713\u001b[0m |         <WebSocketProvider>\n     \u001b[2m714\u001b[0m |           <TestWrapper />\n     \u001b[2m715\u001b[0m |         </TestProviders>\n         : \u001b[35;1m          ^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m716\u001b[0m |       );\n     \u001b[2m717\u001b[0m |       \n     \u001b[2m717\u001b[0m |       expect(renderSpy).toHaveBeenCalledTimes(2); // Would be optimized with React.memo\n         `----\n\n\n    Caused by:\n        Syntax Error\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n\nFAIL __tests__/hooks/additionalHooks.test.tsx\n  \u25cf test_useDemoWebSocket_connection \u203a should handle message queuing when disconnected\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: \"{\\\"type\\\":\\\"demo\\\",\\\"content\\\":\\\"Test message\\\"}\"\n\n    \u001b[0m \u001b[90m  96 |\u001b[39m     \n     \u001b[90m  97 |\u001b[39m     \u001b[90m// Should not send yet since not connected\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  98 |\u001b[39m     expect(mockWebSocketInstance\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  99 |\u001b[39m     \n     \u001b[90m 100 |\u001b[39m     \u001b[90m// Now simulate connection established\u001b[39m\n     \u001b[90m 101 |\u001b[39m     act(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/hooks/additionalHooks.test.tsx:98:44)\n\nFAIL __tests__/hooks/useWebSocket.test.tsx\n  \u25cf useWebSocket \u203a should return WebSocket context values\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  -  0\n    + Received  + 11\n\n      Object {\n    +   \"connect\": [Function mockConstructor],\n    +   \"connectionState\": \"connected\",\n    +   \"disconnect\": [Function mockConstructor],\n    +   \"error\": null,\n    +   \"isConnected\": true,\n    +   \"lastMessage\": null,\n    +   \"messageQueue\": Array [],\n        \"messages\": Array [],\n    +   \"reconnectAttempts\": 0,\n        \"sendMessage\": [Function mockConstructor],\n        \"status\": \"OPEN\",\n    +   \"subscribe\": [Function mockConstructor],\n    +   \"unsubscribe\": [Function mockConstructor],\n    +   \"ws\": null,\n      }\n\n    \u001b[0m \u001b[90m 48 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 49 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 50 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoEqual(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 51 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoBe(mockSendMessage)\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'OPEN'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 53 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/hooks/useWebSocket.test.tsx:50:28)\n\n  \u25cf useWebSocket \u203a should throw error when used outside of provider\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useWebSocketContext must be used within a WebSocketProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m     expect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 65 |\u001b[39m       renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m     })\u001b[33m.\u001b[39mtoThrow(\u001b[32m'useWebSocketContext must be used within a WebSocketProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m   it(\u001b[32m'should call sendMessage when invoked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/hooks/useWebSocket.test.tsx:66:8)\n\n  \u25cf useWebSocket \u203a should call sendMessage when invoked\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 75 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage(message)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(message)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 78 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocket.test.tsx:77:29)\n\n  \u25cf useWebSocket \u203a should reflect connection state changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 94 |\u001b[39m     rerender()\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 96 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 97 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 98 |\u001b[39m\n     \u001b[90m 99 |\u001b[39m   it(\u001b[32m'should handle closing states'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:96:35)\n\n  \u25cf useWebSocket \u203a should handle closing states\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSING\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 109 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 110 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 111 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSING'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 112 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m   it(\u001b[32m'should handle connecting state'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:111:35)\n\n  \u25cf useWebSocket \u203a should handle connecting state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CONNECTING\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CONNECTING'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m   it(\u001b[32m'should handle messages array'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:126:35)\n\n  \u25cf useWebSocket \u203a should handle messages array\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 142 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 143 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 144 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 145 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'message1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/hooks/useWebSocket.test.tsx:144:37)\n\n  \u25cf useWebSocket \u203a should handle all WebSocket states\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CONNECTING\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 157 |\u001b[39m       \n     \u001b[90m 158 |\u001b[39m       \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 159 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(state)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 160 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 161 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/hooks/useWebSocket.test.tsx:159:37)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/hooks/useWebSocket.test.tsx:152:12)\n\n  \u25cf useWebSocket \u203a should accumulate messages over time\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 1\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 174 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 175 |\u001b[39m     rerender()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 176 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 177 |\u001b[39m     \n     \u001b[90m 178 |\u001b[39m     \u001b[90m// Add second message\u001b[39m\n     \u001b[90m 179 |\u001b[39m     (useWebSocketContext \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\u001b[0m\n\n      at Object.toHaveLength (__tests__/hooks/useWebSocket.test.tsx:176:37)\n\nFAIL __tests__/auth/service.test.ts\n  \u25cf AuthService \u203a handleLogin \u203a should redirect to login endpoint\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 283 |\u001b[39m\n     \u001b[90m 284 |\u001b[39m     it(\u001b[32m'should handle login with development mode config'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:281:36)\n\n  \u25cf AuthService \u203a handleLogin \u203a should handle login with development mode config\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 287 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 288 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 289 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(devConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 290 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:289:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should perform logout successfully and redirect\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m\n     \u001b[90m 314 |\u001b[39m     it(\u001b[32m'should handle logout failure and still redirect'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:311:14)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout failure and still redirect\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Logout failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:323:14)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout network error and still redirect\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Error during logout:'\u001b[39m\u001b[33m,\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m\n     \u001b[90m 339 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 340 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:337:14)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout without token\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 355 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 356 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 357 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 358 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 359 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:357:14)\n\n  \u25cf AuthService \u203a Edge Cases \u203a should handle concurrent login/logout operations\n\n    ReferenceError: mockLocation is not defined\n\n    \u001b[0m \u001b[90m 448 |\u001b[39m\n     \u001b[90m 449 |\u001b[39m       \u001b[90m// Verify operations completed\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 450 |\u001b[39m       expect(mockLocation\u001b[33m.\u001b[39m_href)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 451 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 452 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m\u001b[0m\n\n      at Object.mockLocation (__tests__/auth/service.test.ts:450:14)\n\nFAIL __tests__/hooks/useWebSocketLifecycle.test.tsx\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should initialize WebSocket connection on mount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m\n     \u001b[90m 89 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m       \n     \u001b[90m 93 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:90:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should setup connection with token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"token=test-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m\n     \u001b[90m 101 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'token=test-token-123'\u001b[39m)\n     \u001b[90m 104 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:102:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should cleanup WebSocket connection on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 111 |\u001b[39m       unmount()\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 113 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n     \u001b[90m 116 |\u001b[39m     it(\u001b[32m'should handle rapid mount/unmount cycles'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:113:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should handle rapid mount/unmount cycles\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 5\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 127 |\u001b[39m\n     \u001b[90m 128 |\u001b[39m       \u001b[90m// Should handle cleanup gracefully without errors\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 129 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 130 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 131 |\u001b[39m\n     \u001b[90m 132 |\u001b[39m     it(\u001b[32m'should preserve connection across component re-renders'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocketLifecycle.test.tsx:129:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should preserve connection across component re-renders\n\n    expect(received).toBe(expected) // Object.is equality\n\n    If it should pass with deep equality, replace \"toBe\" with \"toStrictEqual\"\n\n    Expected: []\n    Received: serializes to the same string\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       expect(renderCount)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(initialStatus)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoBe(initialMessages)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m       \n     \u001b[90m 149 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 150 |\u001b[39m         \u001b[90m// Should only connect once\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:147:39)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Connection State Management \u203a should track connection status\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 159 |\u001b[39m\n     \u001b[90m 160 |\u001b[39m       \u001b[90m// Initially closed\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 161 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:161:37)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should send messages through webSocketService\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 219 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(testMessage)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\n     \u001b[90m 223 |\u001b[39m     it(\u001b[32m'should accumulate received messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:220:48)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should accumulate received messages\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 228 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 230 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 231 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 232 |\u001b[39m\n     \u001b[90m 233 |\u001b[39m       \u001b[90m// Simulate receiving a message\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:230:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Error Handling and Edge Cases \u203a should handle missing token gracefully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \u001b[90m// But should still provide context\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:278:37)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Error Handling and Edge Cases \u203a should handle config fetch failure\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Failed to fetch config and connect to WebSocket\", Any<Error>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 288 |\u001b[39m\n     \u001b[90m 289 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 290 |\u001b[39m         expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 291 |\u001b[39m           \u001b[32m'Failed to fetch config and connect to WebSocket'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 292 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\n     \u001b[90m 293 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:290:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/auth/context.test.tsx\n  \u25cf AuthContext \u203a Login Functionality \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 289 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 290 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 291 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 292 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 294 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:291:46)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8000/auth/callback\", \"dev_login\": \"http://localhost:8000/auth/dev-login\", \"login\": \"http://localhost:8000/auth/login\", \"logout\": \"http://localhost:8000/auth/logout\"}}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 336 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 337 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 338 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 339 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 340 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 341 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/context.test.tsx:338:40)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 362 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m       expect(authService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 366 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:363:44)\n\n  \u25cf AuthContext \u203a Sync with Auth Store \u203a should sync logout with Zustand store\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 526 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 527 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 528 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 529 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 530 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 531 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:528:36)\n\nFAIL __tests__/components/ChatSidebar.test.tsx\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should render thread list when threads are available\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display thread metadata correctly\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show empty state when no threads exist\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display loading state while fetching threads\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show error state when thread loading fails\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should group threads by date\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should sort threads by last activity\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should truncate long thread titles and messages\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show thread status indicators\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should switch to selected thread\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should highlight active thread correctly\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should support keyboard navigation\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should show thread preview on hover\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should handle rapid thread switching\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should persist navigation state across page reloads\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should create new thread\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should show thread creation dialog\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should rename existing thread\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should delete thread with confirmation\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should archive and unarchive threads\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should handle bulk thread operations\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should export thread data\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should provide search functionality\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter threads based on search query\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should clear search results\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by thread status\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by date range\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should support advanced search with filters\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should show search suggestions\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle thread switching failures\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should retry failed operations\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle network disconnection gracefully\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should virtualize large thread lists\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should debounce search input\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should cleanup listeners on unmount\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support screen reader announcements\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support high contrast mode\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should provide keyboard shortcuts info\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39massign(threadService\u001b[33m,\u001b[39m mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.assign (__tests__/components/ChatSidebar.test.tsx:81:12)\n\nFAIL __tests__/utils/test-utils.tsx\n  \u25cf Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/index.js:1052:18)\n      at node_modules/@jest/core/build/index.js:1122:165\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n\nFAIL __tests__/test-utils/providers.tsx\n  \u25cf Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/index.js:1052:18)\n      at node_modules/@jest/core/build/index.js:1122:165\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n\nFAIL __tests__/components/FinalReportView.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/charts/PerformanceChart mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 12 |\u001b[39m   \u001b[33mCardTitle\u001b[39m\u001b[33m:\u001b[39m ({ children }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33mh3\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"card-title\"\u001b[39m\u001b[33m>\u001b[39m{children}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mh3\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 13 |\u001b[39m }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 14 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/charts/PerformanceChart'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \u001b[33mPerformanceChart\u001b[39m\u001b[33m:\u001b[39m ({ data\u001b[33m,\u001b[39m type }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 16 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"performance-chart\"\u001b[39m data\u001b[33m-\u001b[39mchart\u001b[33m-\u001b[39mtype\u001b[33m=\u001b[39m{type}\u001b[33m>\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[33mChart\u001b[39m\u001b[33m:\u001b[39m {\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(data)}\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/components/FinalReportView.test.tsx:14:6)\n\nFAIL __tests__/components/UIComponents.test.tsx\n  \u25cf test_ErrorFallback_recovery \u203a should display error boundary correctly\n\n    TestingLibraryElementError: Unable to find an element with the text: /Something went wrong/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 18 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Something went wrong/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Test error/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Try again/i\u001b[39m }))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/UIComponents.test.tsx:19:19)\n\n  \u25cf test_ErrorFallback_recovery \u203a should handle recovery actions\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"button\" and name `/Try again/i`\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 30 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 32 |\u001b[39m     \u001b[36mconst\u001b[39m retryButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Try again/i\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 33 |\u001b[39m     fireEvent\u001b[33m.\u001b[39mclick(retryButton)\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \n     \u001b[90m 35 |\u001b[39m     expect(resetErrorBoundary)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/UIComponents.test.tsx:32:32)\n\n  \u25cf test_ErrorFallback_recovery \u203a should display stack trace in development mode\n\n    TestingLibraryElementError: Unable to find an element with the text: /test.js:10:5/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/test.js:10:5/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m     \n     \u001b[90m 53 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNODE_ENV\u001b[39m \u001b[33m=\u001b[39m originalEnv\u001b[33m;\u001b[39m\n     \u001b[90m 54 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/UIComponents.test.tsx:51:19)\n\n  \u25cf test_Header_navigation \u203a should render header components correctly\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m describe(\u001b[32m'test_Header_navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m   it(\u001b[32m'should render header components correctly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     render(withRouter(\u001b[33m<\u001b[39m\u001b[33mHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     \n     \u001b[90m 62 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'banner'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByAltText(\u001b[35m/Netra/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:60:22)\n\n  \u25cf test_Header_navigation \u203a should handle navigation interactions\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m   it(\u001b[32m'should handle navigation interactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 67 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     \n     \u001b[90m 71 |\u001b[39m     \u001b[36mconst\u001b[39m homeLink \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Home/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:68:11)\n\n  \u25cf test_Header_navigation \u203a should show responsive menu on mobile\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 82 |\u001b[39m     \n     \u001b[90m 83 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 84 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 85 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 86 |\u001b[39m     \n     \u001b[90m 87 |\u001b[39m     \u001b[36mconst\u001b[39m menuButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Menu/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:84:11)\n\n  \u25cf test_NavLinks_routing \u203a should render navigation links correctly\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m  97 |\u001b[39m   it(\u001b[32m'should render navigation links correctly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m  98 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  99 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mNavLinks\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 100 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n     \u001b[90m 102 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Dashboard/i\u001b[39m }))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:99:11)\n\n  \u25cf test_NavLinks_routing \u203a should highlight active route\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 109 |\u001b[39m     \n     \u001b[90m 110 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 111 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mNavLinks\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 112 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m     \n     \u001b[90m 114 |\u001b[39m     \u001b[36mconst\u001b[39m chatLink \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Chat/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:111:11)\n\n  \u25cf test_NavLinks_routing \u203a should handle navigation correctly\n\n    TypeError: (0 , _testutils.withRouter) is not a function\n\n    \u001b[0m \u001b[90m 120 |\u001b[39m     \n     \u001b[90m 121 |\u001b[39m     render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 122 |\u001b[39m withRouter(\u001b[33m<\u001b[39m\u001b[33mNavLinks\u001b[39m onNavigate\u001b[33m=\u001b[39m{mockNavigate} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 123 |\u001b[39m     )\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     \n     \u001b[90m 125 |\u001b[39m     \u001b[36mconst\u001b[39m settingsLink \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'link'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/Settings/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:122:11)\n\nFAIL __tests__/services/webSocketService.test.ts\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection success\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m\n     \u001b[90m 59 |\u001b[39m     it(\u001b[32m'should handle connection success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockResolvedValueOnce(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mgetConnectionState\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'connected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:60:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection errors\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 76 |\u001b[39m     it(\u001b[32m'should handle connection errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 77 |\u001b[39m       \u001b[36mconst\u001b[39m connectionError \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection failed'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 78 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockRejectedValueOnce(connectionError)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 79 |\u001b[39m\n     \u001b[90m 80 |\u001b[39m       \u001b[36mawait\u001b[39m expect(webSocketService\u001b[33m.\u001b[39mconnect(\u001b[32m'ws://localhost:8000/ws'\u001b[39m))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Connection failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:78:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should disconnect WebSocket properly\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 82 |\u001b[39m\n     \u001b[90m 83 |\u001b[39m     it(\u001b[32m'should disconnect WebSocket properly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 84 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 87 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:84:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle multiple connection attempts gracefully\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 90 |\u001b[39m\n     \u001b[90m 91 |\u001b[39m     it(\u001b[32m'should handle multiple connection attempts gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 92 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockResolvedValue(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 93 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m.\u001b[39mmockReturnValueOnce(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 94 |\u001b[39m\n     \u001b[90m 95 |\u001b[39m       \u001b[90m// First connection\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:92:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection state transitions\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 106 |\u001b[39m       \n     \u001b[90m 107 |\u001b[39m       states\u001b[33m.\u001b[39mforEach(state \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 108 |\u001b[39m         mockWebSocketManager\u001b[33m.\u001b[39mgetConnectionState\u001b[33m.\u001b[39mmockReturnValue(state)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 109 |\u001b[39m         expect(webSocketService\u001b[33m.\u001b[39mgetConnectionState())\u001b[33m.\u001b[39mtoBe(state)\u001b[33m;\u001b[39m\n     \u001b[90m 110 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 111 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at mockWebSocketManager (__tests__/services/webSocketService.test.ts:108:9)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/services/webSocketService.test.ts:107:14)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send messages when connected\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should queue messages when disconnected\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send queued messages after reconnection\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle message receiving with proper parsing\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle malformed message data gracefully\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should support message filtering by type\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle binary message data\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should validate message format before sending\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should add message IDs for tracking\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   describe(\u001b[32m'Message Sending and Receiving'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 115 |\u001b[39m     beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n     \u001b[90m 119 |\u001b[39m     it(\u001b[32m'should send messages when connected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:116:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should attempt reconnection with exponential backoff\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 255 |\u001b[39m   describe(\u001b[32m'Reconnection Logic and Exponential Backoff'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 256 |\u001b[39m     it(\u001b[32m'should attempt reconnection with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 257 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 258 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mgetReconnectAttempts\u001b[33m.\u001b[39mmockReturnValue(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 259 |\u001b[39m\n     \u001b[90m 260 |\u001b[39m       \u001b[90m// Enable auto-reconnect\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:257:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should implement exponential backoff with jitter\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m\n     \u001b[90m 279 |\u001b[39m     it(\u001b[32m'should implement exponential backoff with jitter'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:280:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should stop reconnection after max attempts\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 310 |\u001b[39m\n     \u001b[90m 311 |\u001b[39m     it(\u001b[32m'should stop reconnection after max attempts'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 312 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 313 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetMaxReconnectAttempts(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 315 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:312:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should reset reconnect attempts after successful connection\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 327 |\u001b[39m\n     \u001b[90m 328 |\u001b[39m     it(\u001b[32m'should reset reconnect attempts after successful connection'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 329 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 330 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 331 |\u001b[39m\n     \u001b[90m 332 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:329:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should allow manual reconnection\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 345 |\u001b[39m\n     \u001b[90m 346 |\u001b[39m     it(\u001b[32m'should allow manual reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 347 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 348 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mreconnect\u001b[33m.\u001b[39mmockResolvedValueOnce(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m\n     \u001b[90m 350 |\u001b[39m       \u001b[36mawait\u001b[39m webSocketService\u001b[33m.\u001b[39mreconnect()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:347:7)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should handle rapid connection state changes\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 354 |\u001b[39m\n     \u001b[90m 355 |\u001b[39m     it(\u001b[32m'should handle rapid connection state changes'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 356 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 357 |\u001b[39m       \u001b[36mconst\u001b[39m stateChanges\u001b[33m:\u001b[39m string[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 358 |\u001b[39m\n     \u001b[90m 359 |\u001b[39m       webSocketService\u001b[33m.\u001b[39monConnectionChange((state) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:356:33)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should disable auto-reconnect when explicitly disconnected\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 372 |\u001b[39m\n     \u001b[90m 373 |\u001b[39m     it(\u001b[32m'should disable auto-reconnect when explicitly disconnected'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 374 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 375 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m\n     \u001b[90m 377 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:374:24)\n\n  \u25cf webSocketService \u203a Reconnection Logic and Exponential Backoff \u203a should respect network status for reconnection attempts\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 387 |\u001b[39m\n     \u001b[90m 388 |\u001b[39m     it(\u001b[32m'should respect network status for reconnection attempts'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 389 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 390 |\u001b[39m       \n     \u001b[90m 391 |\u001b[39m       \u001b[90m// Mock navigator.onLine\u001b[39m\n     \u001b[90m 392 |\u001b[39m       \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(navigator\u001b[33m,\u001b[39m \u001b[32m'onLine'\u001b[39m\u001b[33m,\u001b[39m {\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:389:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle WebSocket errors gracefully\n\n    TypeError: _webSocketService.webSocketService.onError is not a function\n\n    \u001b[0m \u001b[90m 417 |\u001b[39m     it(\u001b[32m'should handle WebSocket errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 418 |\u001b[39m       \u001b[36mconst\u001b[39m onError \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 419 |\u001b[39m       webSocketService\u001b[33m.\u001b[39monError(onError)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 420 |\u001b[39m\n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 422 |\u001b[39m       \u001b[36mconst\u001b[39m error \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'WebSocket error'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.onError (__tests__/services/webSocketService.test.ts:419:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should categorize different error types\n\n    TypeError: _webSocketService.webSocketService.onError is not a function\n\n    \u001b[0m \u001b[90m 428 |\u001b[39m     it(\u001b[32m'should categorize different error types'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 429 |\u001b[39m       \u001b[36mconst\u001b[39m onError \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 430 |\u001b[39m       webSocketService\u001b[33m.\u001b[39monError(onError)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 431 |\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 433 |\u001b[39m\u001b[0m\n\n      at Object.onError (__tests__/services/webSocketService.test.ts:430:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should implement circuit breaker pattern for failing connections\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 452 |\u001b[39m\n     \u001b[90m 453 |\u001b[39m     it(\u001b[32m'should implement circuit breaker pattern for failing connections'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 454 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 455 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 456 |\u001b[39m\n     \u001b[90m 457 |\u001b[39m       \u001b[90m// Fail rapidly 5 times within short period\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:454:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle message sending errors\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 472 |\u001b[39m\n     \u001b[90m 473 |\u001b[39m     it(\u001b[32m'should handle message sending errors'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 474 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 475 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 476 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Send failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 477 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:474:7)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should recover from temporary network issues\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 487 |\u001b[39m\n     \u001b[90m 488 |\u001b[39m     it(\u001b[32m'should recover from temporary network issues'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 489 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 490 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 491 |\u001b[39m\n     \u001b[90m 492 |\u001b[39m       \u001b[90m// Simulate network interruption\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:489:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle server shutdown gracefully\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 504 |\u001b[39m\n     \u001b[90m 505 |\u001b[39m     it(\u001b[32m'should handle server shutdown gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 506 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 507 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 508 |\u001b[39m\n     \u001b[90m 509 |\u001b[39m       \u001b[90m// Simulate clean server shutdown\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:506:7)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should handle unexpected disconnections\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 514 |\u001b[39m\n     \u001b[90m 515 |\u001b[39m     it(\u001b[32m'should handle unexpected disconnections'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 516 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 517 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 518 |\u001b[39m       \n     \u001b[90m 519 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:516:24)\n\n  \u25cf webSocketService \u203a Error Handling and Recovery \u203a should maintain error logs for debugging\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 528 |\u001b[39m\n     \u001b[90m 529 |\u001b[39m     it(\u001b[32m'should maintain error logs for debugging'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 530 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 531 |\u001b[39m       \n     \u001b[90m 532 |\u001b[39m       \u001b[36mconst\u001b[39m errors \u001b[33m=\u001b[39m [\n     \u001b[90m 533 |\u001b[39m         \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Connection timeout'\u001b[39m)\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:530:28)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should manage message queue size to prevent memory leaks\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 549 |\u001b[39m   describe(\u001b[32m'Performance and Resource Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 550 |\u001b[39m     it(\u001b[32m'should manage message queue size to prevent memory leaks'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 551 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 552 |\u001b[39m\n     \u001b[90m 553 |\u001b[39m       \u001b[90m// Send many messages while disconnected\u001b[39m\n     \u001b[90m 554 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:551:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should clean up resources on disconnect\n\n    Property `cleanup` does not exist in the provided object\n\n    \u001b[0m \u001b[90m 561 |\u001b[39m\n     \u001b[90m 562 |\u001b[39m     it(\u001b[32m'should clean up resources on disconnect'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 563 |\u001b[39m       \u001b[36mconst\u001b[39m cleanup \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mspyOn(webSocketService\u001b[33m,\u001b[39m \u001b[32m'cleanup'\u001b[39m \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 564 |\u001b[39m       \n     \u001b[90m 565 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 566 |\u001b[39m\u001b[0m\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:593:13)\n      at Object.spyOn (__tests__/services/webSocketService.test.ts:563:28)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should throttle reconnection attempts under high frequency\n\n    TypeError: _webSocketService.webSocketService.setAutoReconnect is not a function\n\n    \u001b[0m \u001b[90m 570 |\u001b[39m\n     \u001b[90m 571 |\u001b[39m     it(\u001b[32m'should throttle reconnection attempts under high frequency'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 572 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetAutoReconnect(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 573 |\u001b[39m       \u001b[36mconst\u001b[39m connectionHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetConnectionHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 574 |\u001b[39m\n     \u001b[90m 575 |\u001b[39m       \u001b[90m// Rapid fire connection attempts\u001b[39m\u001b[0m\n\n      at Object.setAutoReconnect (__tests__/services/webSocketService.test.ts:572:24)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should implement heartbeat mechanism\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 583 |\u001b[39m\n     \u001b[90m 584 |\u001b[39m     it(\u001b[32m'should implement heartbeat mechanism'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 585 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 586 |\u001b[39m       \n     \u001b[90m 587 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mstartHeartbeat(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 30 second heartbeat\u001b[39m\n     \u001b[90m 588 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:585:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should detect stale connections with heartbeat\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 596 |\u001b[39m\n     \u001b[90m 597 |\u001b[39m     it(\u001b[32m'should detect stale connections with heartbeat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 598 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 599 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mstartHeartbeat(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 600 |\u001b[39m\n     \u001b[90m 601 |\u001b[39m       \u001b[36mconst\u001b[39m messageHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetMessageHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:598:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should optimize message batching for high throughput\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 613 |\u001b[39m\n     \u001b[90m 614 |\u001b[39m     it(\u001b[32m'should optimize message batching for high throughput'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 615 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 616 |\u001b[39m       webSocketService\u001b[33m.\u001b[39menableMessageBatching(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 617 |\u001b[39m\n     \u001b[90m 618 |\u001b[39m       \u001b[90m// Send multiple messages rapidly\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:615:7)\n\n  \u25cf webSocketService \u203a Performance and Resource Management \u203a should handle memory pressure gracefully\n\n    TypeError: _webSocketService.webSocketService.handleMemoryPressure is not a function\n\n    \u001b[0m \u001b[90m 637 |\u001b[39m       \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(performance\u001b[33m,\u001b[39m \u001b[32m'memory'\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m memoryInfo })\u001b[33m;\u001b[39m\n     \u001b[90m 638 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 639 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mhandleMemoryPressure()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 640 |\u001b[39m\n     \u001b[90m 641 |\u001b[39m       \u001b[90m// Should clean up non-essential data\u001b[39m\n     \u001b[90m 642 |\u001b[39m       expect(webSocketService\u001b[33m.\u001b[39mgetQueueSize())\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.handleMemoryPressure (__tests__/services/webSocketService.test.ts:639:24)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should validate WebSocket URL format\n\n    expect(received).toThrow()\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 655 |\u001b[39m\n     \u001b[90m 656 |\u001b[39m       invalidUrls\u001b[33m.\u001b[39mforEach(url \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 657 |\u001b[39m         expect(() \u001b[33m=>\u001b[39m webSocketService\u001b[33m.\u001b[39mconnect(url))\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 658 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 659 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 660 |\u001b[39m\u001b[0m\n\n      at toThrow (__tests__/services/webSocketService.test.ts:657:53)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/services/webSocketService.test.ts:656:19)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should sanitize message data before sending\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 660 |\u001b[39m\n     \u001b[90m 661 |\u001b[39m     it(\u001b[32m'should sanitize message data before sending'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 662 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 663 |\u001b[39m\n     \u001b[90m 664 |\u001b[39m       \u001b[36mconst\u001b[39m maliciousMessage \u001b[33m=\u001b[39m {\n     \u001b[90m 665 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:662:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should handle authentication token refresh\n\n    TypeError: _webSocketService.webSocketService.setTokenRefreshCallback is not a function\n\n    \u001b[0m \u001b[90m 683 |\u001b[39m     it(\u001b[32m'should handle authentication token refresh'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 684 |\u001b[39m       \u001b[36mconst\u001b[39m tokenRefreshCallback \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m.\u001b[39mmockResolvedValue(\u001b[32m'new_token_123'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 685 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetTokenRefreshCallback(tokenRefreshCallback)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 686 |\u001b[39m\n     \u001b[90m 687 |\u001b[39m       \u001b[90m// Simulate authentication error\u001b[39m\n     \u001b[90m 688 |\u001b[39m       \u001b[36mconst\u001b[39m errorHandler \u001b[33m=\u001b[39m mockWebSocketManager\u001b[33m.\u001b[39msetErrorHandler\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m][\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.setTokenRefreshCallback (__tests__/services/webSocketService.test.ts:685:24)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should prevent message injection attacks\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 696 |\u001b[39m\n     \u001b[90m 697 |\u001b[39m     it(\u001b[32m'should prevent message injection attacks'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 698 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 699 |\u001b[39m\n     \u001b[90m 700 |\u001b[39m       \u001b[36mconst\u001b[39m injectionAttempt \u001b[33m=\u001b[39m {\n     \u001b[90m 701 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:698:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should implement rate limiting for message sending\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 716 |\u001b[39m\n     \u001b[90m 717 |\u001b[39m     it(\u001b[32m'should implement rate limiting for message sending'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 718 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 719 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msetRateLimit(\u001b[35m5\u001b[39m\u001b[33m,\u001b[39m \u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 5 messages per second\u001b[39m\n     \u001b[90m 720 |\u001b[39m\n     \u001b[90m 721 |\u001b[39m       \u001b[90m// Send messages rapidly\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:718:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should validate message size limits\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 729 |\u001b[39m\n     \u001b[90m 730 |\u001b[39m     it(\u001b[32m'should validate message size limits'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 731 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39misConnected\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 732 |\u001b[39m\n     \u001b[90m 733 |\u001b[39m       \u001b[36mconst\u001b[39m largeMessage \u001b[33m=\u001b[39m {\n     \u001b[90m 734 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'test'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:731:7)\n\n  \u25cf webSocketService \u203a Security and Validation \u203a should handle SSL/TLS connection upgrades\n\n    ReferenceError: mockWebSocketManager is not defined\n\n    \u001b[0m \u001b[90m 745 |\u001b[39m     it(\u001b[32m'should handle SSL/TLS connection upgrades'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 746 |\u001b[39m       \u001b[36mconst\u001b[39m httpsUrl \u001b[33m=\u001b[39m \u001b[32m'wss://secure.example.com/ws'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 747 |\u001b[39m       mockWebSocketManager\u001b[33m.\u001b[39mconnect\u001b[33m.\u001b[39mmockResolvedValueOnce(undefined)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 748 |\u001b[39m\n     \u001b[90m 749 |\u001b[39m       \u001b[36mawait\u001b[39m webSocketService\u001b[33m.\u001b[39mconnect(httpsUrl)\u001b[33m;\u001b[39m\n     \u001b[90m 750 |\u001b[39m\u001b[0m\n\n      at Object.mockWebSocketManager (__tests__/services/webSocketService.test.ts:747:7)\n\nFAIL __tests__/chat/chatUIUXComprehensive.test.tsx\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a User Authentication Flow \u203a 1. Should successfully authenticate user and initialize chat interface\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    \u001b[0m \u001b[90m 136 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 138 |\u001b[39m       render(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 139 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 140 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 141 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10915:13)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:138:13)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a User Authentication Flow \u203a 2. Should handle unauthenticated state\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    \u001b[0m \u001b[90m 156 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 158 |\u001b[39m       render(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 159 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 160 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 161 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10915:13)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:158:13)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a User Authentication Flow \u203a 3. Should render main chat components\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    \u001b[0m \u001b[90m 176 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 177 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 178 |\u001b[39m       render(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 179 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 180 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 181 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10915:13)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:178:13)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 4. Should create a new thread when starting a conversation\n\n    TypeError: Cannot destructure property 'setUser' of '_authStore.useAuthStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m   describe(\u001b[32m'Thread Creation and Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 194 |\u001b[39m     test(\u001b[32m'4. Should create a new thread when starting a conversation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m       \u001b[36mconst\u001b[39m { setUser } \u001b[33m=\u001b[39m useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m       setUser({ id\u001b[33m:\u001b[39m \u001b[32m'user-123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 197 |\u001b[39m       \n     \u001b[90m 198 |\u001b[39m       render(\u001b[0m\n\n      at Object.setUser (__tests__/chat/chatUIUXComprehensive.test.tsx:195:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 5. Should display thread list in sidebar with correct information\n\n    TypeError: Cannot destructure property 'setThreads' of '_threadStore.useThreadStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 220 |\u001b[39m       ]\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 222 |\u001b[39m       \u001b[36mconst\u001b[39m { setThreads } \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 223 |\u001b[39m       setThreads(mockThreads)\u001b[33m;\u001b[39m\n     \u001b[90m 224 |\u001b[39m       \n     \u001b[90m 225 |\u001b[39m       render(\u001b[0m\n\n      at Object.setThreads (__tests__/chat/chatUIUXComprehensive.test.tsx:222:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 6. Should switch between threads and load corresponding messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 244 |\u001b[39m       \n     \u001b[90m 245 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 247 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m threads\u001b[33m=\u001b[39m{mockThreads} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 248 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 249 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:246:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Thread Creation and Management \u203a 7. Should delete a thread and update the UI accordingly\n\n    TypeError: Cannot destructure property 'setThreads' of '_threadStore.useThreadStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 264 |\u001b[39m       ]\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 266 |\u001b[39m       \u001b[36mconst\u001b[39m { setThreads } \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 267 |\u001b[39m       setThreads(mockThreads)\u001b[33m;\u001b[39m\n     \u001b[90m 268 |\u001b[39m       \n     \u001b[90m 269 |\u001b[39m       render(\u001b[0m\n\n      at Object.setThreads (__tests__/chat/chatUIUXComprehensive.test.tsx:266:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 8. Should send a message and display it in the message list\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m     test(\u001b[32m'8. Should send a message and display it in the message list'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 293 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 296 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 297 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:294:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 9. Should receive and display agent response messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 310 |\u001b[39m     test(\u001b[32m'9. Should receive and display agent response messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 311 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 312 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 313 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 314 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 315 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:312:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 10. Should handle message streaming with partial updates\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 333 |\u001b[39m     test(\u001b[32m'10. Should handle message streaming with partial updates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 334 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 335 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 336 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 337 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 338 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:335:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Message Sending and Receiving \u203a 11. Should display thinking indicator during agent processing\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 369 |\u001b[39m     test(\u001b[32m'11. Should display thinking indicator during agent processing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 370 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 371 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 372 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 373 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 374 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:371:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 12. Should establish WebSocket connection on component mount\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 407 |\u001b[39m     test(\u001b[32m'12. Should establish WebSocket connection on component mount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 408 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 409 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 410 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 411 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 412 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:409:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 13. Should handle WebSocket reconnection after disconnection\n\n    ReferenceError: renderHook is not defined\n\n    \u001b[0m \u001b[90m 420 |\u001b[39m\n     \u001b[90m 421 |\u001b[39m     test(\u001b[32m'13. Should handle WebSocket reconnection after disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 422 |\u001b[39m       \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 423 |\u001b[39m         wrapper\u001b[33m:\u001b[39m \u001b[33mWebSocketProvider\u001b[39m\n     \u001b[90m 424 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 425 |\u001b[39m       \u001b[0m\n\n      at Object.renderHook (__tests__/chat/chatUIUXComprehensive.test.tsx:422:26)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 14. Should display connection status indicator correctly\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 441 |\u001b[39m     test(\u001b[32m'14. Should display connection status indicator correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 442 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 443 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 444 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 445 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 446 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:443:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a WebSocket Connection Management \u203a 15. Should queue messages when disconnected and send on reconnection\n\n    ReferenceError: renderHook is not defined\n\n    \u001b[0m \u001b[90m 462 |\u001b[39m\n     \u001b[90m 463 |\u001b[39m     test(\u001b[32m'15. Should queue messages when disconnected and send on reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 464 |\u001b[39m       \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useChatWebSocket()\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 465 |\u001b[39m         wrapper\u001b[33m:\u001b[39m \u001b[33mWebSocketProvider\u001b[39m\n     \u001b[90m 466 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 467 |\u001b[39m       \u001b[0m\n\n      at Object.renderHook (__tests__/chat/chatUIUXComprehensive.test.tsx:464:26)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 16. Should integrate MessageInput with MessageList correctly\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 493 |\u001b[39m     test(\u001b[32m'16. Should integrate MessageInput with MessageList correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 494 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 495 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 496 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 497 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 498 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:495:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 17. Should update ChatHeader based on current thread\n\n    TypeError: Cannot destructure property 'setCurrentThread' of '_threadStore.useThreadStore.getState(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 512 |\u001b[39m\n     \u001b[90m 513 |\u001b[39m     test(\u001b[32m'17. Should update ChatHeader based on current thread'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 514 |\u001b[39m       \u001b[36mconst\u001b[39m { setCurrentThread } \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 515 |\u001b[39m       \n     \u001b[90m 516 |\u001b[39m       render(\n     \u001b[90m 517 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.setCurrentThread (__tests__/chat/chatUIUXComprehensive.test.tsx:514:15)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 18. Should coordinate ThreadSidebar with MainChat area\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 536 |\u001b[39m     test(\u001b[32m'18. Should coordinate ThreadSidebar with MainChat area'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 537 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 538 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 539 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m style\u001b[33m=\u001b[39m{{ display\u001b[33m:\u001b[39m \u001b[32m'flex'\u001b[39m }}\u001b[33m>\u001b[39m\n     \u001b[90m 540 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 541 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:538:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Component Integration \u203a 19. Should sync message actions across components\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 563 |\u001b[39m       \n     \u001b[90m 564 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 565 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 566 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m messages\u001b[33m=\u001b[39m{[mockMessage]} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 567 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 568 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:565:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 20. Should display error message when message sending fails\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 589 |\u001b[39m       \n     \u001b[90m 590 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 591 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 592 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 593 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 594 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:591:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 21. Should handle thread loading errors gracefully\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 611 |\u001b[39m       \n     \u001b[90m 612 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 613 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 614 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m onError\u001b[33m=\u001b[39m{(e) \u001b[33m=>\u001b[39m {\n     \u001b[90m 615 |\u001b[39m             expect(e\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Failed to load threads'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 616 |\u001b[39m           }} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:613:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 22. Should show rate limit error and disable input temporarily\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 631 |\u001b[39m     test(\u001b[32m'22. Should show rate limit error and disable input temporarily'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 632 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 633 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 634 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 635 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 636 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:633:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Error Handling \u203a 23. Should handle WebSocket errors with retry mechanism\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 664 |\u001b[39m       \n     \u001b[90m 665 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 666 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m onError\u001b[33m=\u001b[39m{onError}\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 667 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 668 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 669 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:666:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 24. Should persist chat state across component remounts\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 687 |\u001b[39m     test(\u001b[32m'24. Should persist chat state across component remounts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 688 |\u001b[39m       \u001b[36mconst\u001b[39m { rerender } \u001b[33m=\u001b[39m render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 689 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 690 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 691 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 692 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:689:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 25. Should sync auth state across all components\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 721 |\u001b[39m     test(\u001b[32m'25. Should sync auth state across all components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 722 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 723 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 724 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatHeader\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 725 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mThreadSidebar\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 726 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:723:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 26. Should handle optimistic updates for better UX\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m     test(\u001b[32m'26. Should handle optimistic updates for better UX'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 747 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 750 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 751 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:748:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a State Management \u203a 27. Should rollback optimistic updates on failure\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 781 |\u001b[39m     test(\u001b[32m'27. Should rollback optimistic updates on failure'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 782 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 783 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 784 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 785 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 786 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:783:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Advanced UI Features \u203a 28. Should support markdown rendering in messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 826 |\u001b[39m       \n     \u001b[90m 827 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 828 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 829 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageList\u001b[39m messages\u001b[33m=\u001b[39m{[markdownMessage]} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 830 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 831 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:828:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Advanced UI Features \u203a 29. Should handle file attachments in messages\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 841 |\u001b[39m     test(\u001b[32m'29. Should handle file attachments in messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 842 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 843 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 844 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 845 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 846 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:843:10)\n\n  \u25cf Core Chat UI/UX Experience - Comprehensive Test Suite \u203a Advanced UI Features \u203a 30. Should implement keyboard shortcuts for common actions\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 869 |\u001b[39m     test(\u001b[32m'30. Should implement keyboard shortcuts for common actions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 870 |\u001b[39m       render(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 871 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 872 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatWindow\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 873 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 874 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/chat/chatUIUXComprehensive.test.tsx:871:10)\n\nFAIL __tests__/components/ChatHistory.test.tsx (5.31 s)\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load initial message history on mount\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"thread-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n          \u001b[36m/>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 94 |\u001b[39m       \n     \u001b[90m 95 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 96 |\u001b[39m         expect(mockChatStore\u001b[33m.\u001b[39mloadMessageHistory)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'thread-123'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 97 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 98 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 99 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/components/ChatHistory.test.tsx:96:50)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display loading state during initial load\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"history-loading\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 108 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 109 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 110 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'history-loading'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 111 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/loading message history/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:110:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display message history once loaded\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-history-list\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-history-list'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Hello, how can I help you?'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'I need help with optimization'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 142 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:139:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load more history when scrolled to top\n\n    TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))\n\n    \u001b[0m \u001b[90m 156 |\u001b[39m       \n     \u001b[90m 157 |\u001b[39m       \u001b[90m// Mock intersection observer triggering for load more\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 158 |\u001b[39m       \u001b[36mconst\u001b[39m [intersectionCallback] \u001b[33m=\u001b[39m mockIntersectionObserver\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[\u001b[35m0\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 159 |\u001b[39m       intersectionCallback([{ isIntersecting\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }])\u001b[33m;\u001b[39m\n     \u001b[90m 160 |\u001b[39m       \n     \u001b[90m 161 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockIntersectionObserver (__tests__/components/ChatHistory.test.tsx:158:38)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show \"Load More\" button when more history available\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 177 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 178 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 179 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 180 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/load more messages/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 182 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:179:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle \"Load More\" button click\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       \u001b[36mconst\u001b[39m loadMoreBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(loadMoreBtn)\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m       \n     \u001b[90m 199 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39mloadMoreHistory)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:196:34)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should hide \"Load More\" when no more history available\n\n    TestingLibraryElementError: Unable to find an element with the text: /no more messages/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 214 |\u001b[39m       \n     \u001b[90m 215 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'load-more-btn'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 216 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/no more messages/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 217 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m\n     \u001b[90m 219 |\u001b[39m     it(\u001b[32m'should show loading state for pagination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:216:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show loading state for pagination\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"pagination-loading\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 231 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 233 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'pagination-loading'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 234 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/loading more messages/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 235 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 236 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:233:21)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should preserve scroll position when loading more history\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 257 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 258 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 259 |\u001b[39m       \u001b[36mconst\u001b[39m loadMoreBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 260 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(loadMoreBtn)\u001b[33m;\u001b[39m\n     \u001b[90m 261 |\u001b[39m       \n     \u001b[90m 262 |\u001b[39m       \u001b[90m// Simulate new messages loaded\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:259:34)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle thread switching\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"thread-123\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 280 |\u001b[39m       \u001b[36mconst\u001b[39m { rerender } \u001b[33m=\u001b[39m renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 282 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39mloadMessageHistory)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'thread-123'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 283 |\u001b[39m       \n     \u001b[90m 284 |\u001b[39m       \u001b[90m// Switch to different thread\u001b[39m\n     \u001b[90m 285 |\u001b[39m       rerender(\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/components/ChatHistory.test.tsx:282:48)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should batch load requests to prevent excessive API calls\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"load-more-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 304 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 305 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 306 |\u001b[39m       \u001b[36mconst\u001b[39m loadMoreBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'load-more-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 307 |\u001b[39m       \n     \u001b[90m 308 |\u001b[39m       \u001b[90m// Rapidly click load more multiple times\u001b[39m\n     \u001b[90m 309 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(loadMoreBtn)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:306:34)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should display messages in chronological order\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"/^message-item-/\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 350 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 351 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 352 |\u001b[39m       \u001b[36mconst\u001b[39m messageItems \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/^message-item-/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 353 |\u001b[39m       expect(messageItems)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m       \n     \u001b[90m 355 |\u001b[39m       \u001b[90m// Should be in chronological order\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15\n      at Object.getAllByTestId (__tests__/components/ChatHistory.test.tsx:352:35)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should format timestamps correctly\n\n    TestingLibraryElementError: Unable to find an element with the text: /3:30 PM/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 377 |\u001b[39m       \n     \u001b[90m 378 |\u001b[39m       \u001b[90m// Should display formatted timestamp\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 379 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/3:30 PM/\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 380 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Jan 1, 2024/\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 381 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 382 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:379:21)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should group messages by date\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"date-separator-2024-01-01\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 407 |\u001b[39m       \n     \u001b[90m 408 |\u001b[39m       \u001b[90m// Should have date separators\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 409 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'date-separator-2024-01-01'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 410 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'date-separator-2024-01-02'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 412 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:409:21)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should highlight search results\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"highlighted-text\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 430 |\u001b[39m       \n     \u001b[90m 431 |\u001b[39m       \u001b[90m// Should highlight search term\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m highlightedText \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'highlighted-text'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 433 |\u001b[39m       expect(highlightedText)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 434 |\u001b[39m       expect(highlightedText)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-yellow-200'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:432:38)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should show message metadata on hover\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 457 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 458 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 459 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 460 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m       \n     \u001b[90m 462 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:459:34)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should render markdown content correctly\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"heading\"\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 485 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 486 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 487 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'heading'\u001b[39m\u001b[33m,\u001b[39m { level\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m }))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Heading'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 488 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'code-block'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'print(\"hello\")'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 489 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 490 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/ChatHistory.test.tsx:487:21)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should handle empty message content gracefully\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"empty-message-placeholder\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 506 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 507 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 508 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'empty-message-placeholder'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 509 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/message content unavailable/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 510 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 511 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:508:21)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should provide search functionality\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-search-input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 515 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 516 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 517 |\u001b[39m       \u001b[36mconst\u001b[39m searchInput \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-search-input'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 518 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(searchInput\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 519 |\u001b[39m       \n     \u001b[90m 520 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39msearchMessages)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:517:34)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should display search results\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"search-results\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 540 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 541 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 542 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'search-results'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 543 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/1 result found/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 544 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'This message contains optimization tips'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 545 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:542:21)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should clear search results\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"clear-search-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 559 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 561 |\u001b[39m       \u001b[36mconst\u001b[39m clearButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'clear-search-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 562 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(clearButton)\u001b[33m;\u001b[39m\n     \u001b[90m 563 |\u001b[39m       \n     \u001b[90m 564 |\u001b[39m       expect(searchResultsStore\u001b[33m.\u001b[39mclearSearch)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:561:34)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by message type\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-type-filter\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 581 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 582 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 583 |\u001b[39m       \u001b[36mconst\u001b[39m filterSelect \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-type-filter'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 584 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(filterSelect)\u001b[33m;\u001b[39m\n     \u001b[90m 585 |\u001b[39m       \n     \u001b[90m 586 |\u001b[39m       \u001b[36mconst\u001b[39m userOnlyOption \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'User messages only'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:583:35)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by date range\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"date-range-filter\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 618 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 619 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 620 |\u001b[39m       \u001b[36mconst\u001b[39m dateFilter \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'date-range-filter'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 621 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(dateFilter)\u001b[33m;\u001b[39m\n     \u001b[90m 622 |\u001b[39m       \n     \u001b[90m 623 |\u001b[39m       \u001b[36mconst\u001b[39m lastWeekOption \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Last week'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:620:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should debounce search input\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-search-input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 634 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 635 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 636 |\u001b[39m       \u001b[36mconst\u001b[39m searchInput \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-search-input'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 637 |\u001b[39m       \n     \u001b[90m 638 |\u001b[39m       \u001b[90m// Type rapidly\u001b[39m\n     \u001b[90m 639 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(searchInput\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:636:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow deleting messages\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 672 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 673 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 674 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 675 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 676 |\u001b[39m       \n     \u001b[90m 677 |\u001b[39m       \u001b[36mconst\u001b[39m deleteBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'delete-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:674:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow copying message content\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 710 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 711 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 712 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 713 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 714 |\u001b[39m       \n     \u001b[90m 715 |\u001b[39m       \u001b[36mconst\u001b[39m copyBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'copy-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:712:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow regenerating assistant messages\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 738 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 739 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 740 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 741 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 742 |\u001b[39m       \n     \u001b[90m 743 |\u001b[39m       \u001b[36mconst\u001b[39m regenerateBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'regenerate-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:740:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should show message edit functionality\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 766 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 767 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 768 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 769 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mhover(messageItem)\u001b[33m;\u001b[39m\n     \u001b[90m 770 |\u001b[39m       \n     \u001b[90m 771 |\u001b[39m       \u001b[36mconst\u001b[39m editBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'edit-message-btn'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:768:34)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should handle bulk message operations\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"select-all-messages\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 806 |\u001b[39m       \n     \u001b[90m 807 |\u001b[39m       \u001b[90m// Select multiple messages\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 808 |\u001b[39m       \u001b[36mconst\u001b[39m selectAll \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'select-all-messages'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 809 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(selectAll)\u001b[33m;\u001b[39m\n     \u001b[90m 810 |\u001b[39m       \n     \u001b[90m 811 |\u001b[39m       \u001b[90m// Should show bulk actions\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:808:32)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should display error state when history loading fails\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"history-error\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 833 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 834 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 835 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'history-error'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 836 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/failed to load message history/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 837 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-history-btn'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 838 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:835:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should allow retrying failed history loads\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"retry-history-btn\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 848 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 849 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 850 |\u001b[39m       \u001b[36mconst\u001b[39m retryBtn \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-history-btn'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 851 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(retryBtn)\u001b[33m;\u001b[39m\n     \u001b[90m 852 |\u001b[39m       \n     \u001b[90m 853 |\u001b[39m       expect(mockChatStore\u001b[33m.\u001b[39mretryLoadHistory)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:850:31)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TestingLibraryElementError: Unable to find an element with the text: Loaded message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 868 |\u001b[39m       \n     \u001b[90m 869 |\u001b[39m       \u001b[90m// Should show both loaded messages and partial error\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 870 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Loaded message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 871 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'partial-error-warning'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 872 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/some messages could not be loaded/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 873 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:870:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle offline state gracefully\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"offline-message\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 884 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 885 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 886 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'offline-message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 887 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/offline mode/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 888 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/message history unavailable/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 889 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:886:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should show cached messages when offline\n\n    TestingLibraryElementError: Unable to find an element with the text: Cached message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 902 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 903 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 904 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Cached message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 905 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'cached-message-indicator'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 906 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/cached data/i\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 907 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:904:21)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle malformed message data\n\n    TestingLibraryElementError: Unable to find an element with the text: Valid message. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 923 |\u001b[39m       \n     \u001b[90m 924 |\u001b[39m       \u001b[90m// Should only show valid message\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 925 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Valid message'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 926 |\u001b[39m       \n     \u001b[90m 927 |\u001b[39m       \u001b[90m// Should show warning about invalid data\u001b[39m\n     \u001b[90m 928 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'data-validation-warning'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/components/ChatHistory.test.tsx:925:21)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should virtualize long message lists for performance\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"virtualized-message-list\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 949 |\u001b[39m       \n     \u001b[90m 950 |\u001b[39m       \u001b[90m// Should render virtualized list\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 951 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'virtualized-message-list'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 952 |\u001b[39m       \n     \u001b[90m 953 |\u001b[39m       \u001b[90m// Should not render all 1000 messages in DOM\u001b[39m\n     \u001b[90m 954 |\u001b[39m       \u001b[36mconst\u001b[39m renderedMessages \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/^message-item-/\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:951:21)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should cleanup observers on unmount\n\n    Cannot use spyOn on a primitive value; undefined given\n\n    \u001b[0m \u001b[90m 959 |\u001b[39m       \u001b[36mconst\u001b[39m { unmount } \u001b[33m=\u001b[39m renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 960 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 961 |\u001b[39m       \u001b[36mconst\u001b[39m disconnectSpy \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mspyOn(mockIntersectionObserver\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39minstances[\u001b[35m0\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'disconnect'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 962 |\u001b[39m       \n     \u001b[90m 963 |\u001b[39m       unmount()\u001b[33m;\u001b[39m\n     \u001b[90m 964 |\u001b[39m       \u001b[0m\n\n      at ModuleMocker.spyOn (node_modules/jest-mock/build/index.js:583:13)\n      at Object.spyOn (__tests__/components/ChatHistory.test.tsx:961:34)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should optimize re-renders with message memoization\n\n    ReferenceError: WebSocketProvider is not defined\n\n    \u001b[0m \u001b[90m 981 |\u001b[39m       \n     \u001b[90m 982 |\u001b[39m       rerender(\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 983 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 984 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 985 |\u001b[39m         \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mWebSocketProvider\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 986 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.WebSocketProvider (__tests__/components/ChatHistory.test.tsx:983:10)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"region\" and name `/message history/i`\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1005 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1006 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1007 |\u001b[39m       \u001b[36mconst\u001b[39m historyRegion \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'region'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/message history/i\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1008 |\u001b[39m       expect(historyRegion)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 1009 |\u001b[39m       \n     \u001b[90m 1010 |\u001b[39m       \u001b[36mconst\u001b[39m messageList \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'log'\u001b[39m\u001b[33m,\u001b[39m { name\u001b[33m:\u001b[39m \u001b[35m/conversation history/i\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/ChatHistory.test.tsx:1007:36)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should support keyboard navigation\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1025 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1026 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1027 |\u001b[39m       \u001b[36mconst\u001b[39m firstMessage \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1028 |\u001b[39m       firstMessage\u001b[33m.\u001b[39mfocus()\u001b[33m;\u001b[39m\n     \u001b[90m 1029 |\u001b[39m       \n     \u001b[90m 1030 |\u001b[39m       \u001b[90m// Navigate with arrow keys\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:1027:35)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should announce dynamic content changes\n\n    TestingLibraryElementError: Unable to find an accessible element with the role \"status\"\n\n    There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1039 |\u001b[39m       \u001b[36mconst\u001b[39m { rerender } \u001b[33m=\u001b[39m renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1040 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1041 |\u001b[39m       \u001b[36mconst\u001b[39m liveRegion \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'status'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1042 |\u001b[39m       expect(liveRegion)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 1043 |\u001b[39m       \n     \u001b[90m 1044 |\u001b[39m       \u001b[90m// Add new message to history\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByRole (__tests__/components/ChatHistory.test.tsx:1041:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should provide meaningful alt text for message actions\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"message-item-msg-1\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto p-4\"\u001b[39m\n        \u001b[36m/>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1081 |\u001b[39m       renderWithProvider(\u001b[33m<\u001b[39m\u001b[33mChatHistory\u001b[39m threadId\u001b[33m=\u001b[39m\u001b[32m\"thread-123\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1082 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1083 |\u001b[39m       \u001b[36mconst\u001b[39m messageItem \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-item-msg-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1084 |\u001b[39m       \u001b[36mconst\u001b[39m deleteBtn \u001b[33m=\u001b[39m within(messageItem)\u001b[33m.\u001b[39mgetByLabelText(\u001b[35m/delete this message/i\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1085 |\u001b[39m       \u001b[36mconst\u001b[39m editBtn \u001b[33m=\u001b[39m within(messageItem)\u001b[33m.\u001b[39mgetByLabelText(\u001b[35m/edit this message/i\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1086 |\u001b[39m       \u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/ChatHistory.test.tsx:1083:34)\n\nFAIL __tests__/unified-chat-v5.test.tsx\n  \u25cf Unified Chat UI v5 - Regression Tests \u203a New Features Tests \u203a OverflowPanel should support keyboard shortcut\n\n    TestingLibraryElementError: Unable to find an element with the text: Developer Console. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-gray-200 shadow-2xl z-50 h-[400px] transition-[height] duration-300\"\u001b[39m\n          \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 0; transform: translateY(100px);\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50/50\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-4\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h3\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-semibold text-gray-900\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mDebug Panel\u001b[0m\n              \u001b[36m</h3>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex space-x-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 bg-emerald-100 text-emerald-700 shadow-sm\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-terminal w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M12 19h8\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"m4 17 6-6-6-6\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mEvents\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-clock w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M12 6v6l4 2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<circle\u001b[39m\n                        \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mTimeline\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-database w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<ellipse\u001b[39m\n                        \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mcy\u001b[39m=\u001b[32m\"5\"\u001b[39m\n                        \u001b[33mrx\u001b[39m=\u001b[32m\"9\"\u001b[39m\n                        \u001b[33mry\u001b[39m=\u001b[32m\"3\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M3 5V19A9 3 0 0 0 21 19V5\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M3 12A9 3 0 0 0 21 12\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mState\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-activity w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mMetrics\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 text-gray-600 hover:bg-gray-100\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-1.5\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-circle-alert w-3.5 h-3.5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                      \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<circle\u001b[39m\n                        \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<line\u001b[39m\n                        \u001b[33mx1\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mx2\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33my1\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                        \u001b[33my2\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                      \u001b[36m<line\u001b[39m\n                        \u001b[33mx1\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                        \u001b[33mx2\u001b[39m=\u001b[32m\"12.01\"\u001b[39m\n                        \u001b[33my1\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                        \u001b[33my2\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                    \u001b[36m<span>\u001b[39m\n                      \u001b[0mErrors\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-2.5 top-1/2 transform -translate-y-1/2 w-3.5 h-3.5 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"pl-8 pr-3 py-1.5 text-xs bg-white border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"p-1.5 text-gray-600 hover:bg-gray-100 rounded-md transition-colors\"\u001b[39m\n                \u001b[33mtitle\u001b[39m=\u001b[32m\"Export Debug Data\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-download w-4 h-4\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 15V3\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m7 10 5 5 5-5\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"p-1.5 text-gray-600 hover:bg-gray-100 rounded-md transition-colors\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-maximize2 lucide-maximize-2 w-4 h-4\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M15 3h6v6\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 3-7 7\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m3 21 7-7\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M9 21H3v-6\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"p-1.5 text-gray-600 hover:bg-gray-100 rounded-md transition-colors\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-x w-4 h-4\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M18 6 6 18\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m6 6 12 12\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-hidden\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"h-full overflow-y-auto p-4\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col items-center justify-center h-full text-gray-400\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-terminal w-12 h-12 mb-2 opacity-50\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 19h8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m4 17 6-6-6-6\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<p\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNo events captured\u001b[0m\n                \u001b[36m</p>\u001b[39m\n                \u001b[36m<p\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs mt-1\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mEvents will appear here as they occur\u001b[0m\n                \u001b[36m</p>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \n     \u001b[90m 122 |\u001b[39m       \u001b[90m// Check that developer console header is present\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Developer Console'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m       \n     \u001b[90m 125 |\u001b[39m       \u001b[90m// Check for tabs\u001b[39m\n     \u001b[90m 126 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'WebSocket Events'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/unified-chat-v5.test.tsx:123:21)\n\n  \u25cf Unified Chat UI v5 - Regression Tests \u203a Modern UI Patterns \u203a should use glassmorphic design patterns\n\n    expect(received).toBeInTheDocument()\n\n    received value must be an HTMLElement or an SVGElement.\n    Received has value: null\n\n    \u001b[0m \u001b[90m 174 |\u001b[39m       \u001b[90m// Check for glassmorphic classes\u001b[39m\n     \u001b[90m 175 |\u001b[39m       \u001b[36mconst\u001b[39m backdropBlur \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mquerySelector(\u001b[32m'[class*=\"backdrop-blur\"]'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 176 |\u001b[39m       expect(backdropBlur)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 177 |\u001b[39m       \n     \u001b[90m 178 |\u001b[39m       \u001b[90m// Check for proper transparency\u001b[39m\n     \u001b[90m 179 |\u001b[39m       \u001b[36mconst\u001b[39m transparentBg \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mquerySelector(\u001b[32m'[class*=\"bg-white/95\"]'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:2240:22)\n      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:2241:6)\n      at Object.toBeInTheDocument (__tests__/unified-chat-v5.test.tsx:176:28)\n\nFAIL __tests__/integration/advanced-integration.test.tsx (5.966 s)\n  \u25cf Advanced Frontend Integration Tests \u203a 29. WebSocket Resilience Integration \u203a should handle WebSocket message buffering during reconnection\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 buffered\n    Received:\n      0 buffered\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html\u001b[39m\n      \u001b[33mdata-theme\u001b[39m=\u001b[32m\"dark\"\u001b[39m\n      \u001b[33mdir\u001b[39m=\u001b[32m\"rtl\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mDisconnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"buffer-size\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m buffered\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 1603 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1604 |\u001b[39m         expect(messageBuffer)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1605 |\u001b[39m         expect(getByTestId(\u001b[32m'buffer-size'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1 buffered'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1606 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 1607 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1608 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/advanced-integration.test.tsx:1605:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/system/startup.test.tsx (8.908 s)\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should establish WebSocket connection on startup\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/config\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 186 |\u001b[39m       \u001b[90m// Wait for the async config fetch and connection\u001b[39m\n     \u001b[90m 187 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m         expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 189 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/config'\u001b[39m)\n     \u001b[90m 190 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 191 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/system/startup.test.tsx:188:23)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should handle WebSocket heartbeat\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 225 |\u001b[39m       \u001b[90m// Wait for WebSocket connection\u001b[39m\n     \u001b[90m 226 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 227 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 228 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \n     \u001b[90m 230 |\u001b[39m       \u001b[90m// Get the WebSocket instance\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/system/startup.test.tsx:227:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should reconnect on connection loss\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m       \u001b[90m// Wait for initial connection\u001b[39m\n     \u001b[90m 280 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 283 |\u001b[39m       \n     \u001b[90m 284 |\u001b[39m       \u001b[90m// Get the WebSocket instance and simulate connection loss\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/system/startup.test.tsx:281:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a Performance Monitoring \u203a should measure startup performance\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 437 |\u001b[39m\n     \u001b[90m 438 |\u001b[39m   describe(\u001b[32m'Performance Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 439 |\u001b[39m     it(\u001b[32m'should measure startup performance'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 440 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 441 |\u001b[39m       \n     \u001b[90m 442 |\u001b[39m       \u001b[90m// Simulate startup operations\u001b[39m\u001b[0m\n\n      at it (__tests__/system/startup.test.tsx:439:5)\n      at describe (__tests__/system/startup.test.tsx:438:3)\n      at Object.describe (__tests__/system/startup.test.tsx:32:1)\n\nFAIL __tests__/imports/external-imports.test.tsx (9.708 s)\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:272:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:272:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:272:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:158:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:283:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:161:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:283:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a TypeScript type imports \u203a should import TypeScript type packages\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Cannot find module '@types/react' from '__tests__/imports/external-imports.test.tsx'\"\n\n        \u001b[0m \u001b[90m 301 |\u001b[39m     it(\u001b[32m'should import TypeScript type packages'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 302 |\u001b[39m       \u001b[90m// These are type-only packages, so we just check they don't throw\u001b[39m\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 303 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 304 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react-dom'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 305 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/node'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 306 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at require (__tests__/imports/external-imports.test.tsx:303:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:303:49)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:303:49)\n\nFAIL __tests__/imports/internal-imports.test.tsx (10.197 s)\n  \u25cf Internal Frontend Module Import Tests \u203a Service imports \u203a should import API services\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m       \n     \u001b[90m 162 |\u001b[39m       \u001b[36mconst\u001b[39m threadService \u001b[33m=\u001b[39m require(\u001b[32m'@/services/threadService'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m       expect(threadService\u001b[33m.\u001b[39mthreadService)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \n     \u001b[90m 165 |\u001b[39m       \u001b[36mconst\u001b[39m messageService \u001b[33m=\u001b[39m require(\u001b[32m'@/services/messageService'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m       expect(messageService\u001b[33m.\u001b[39mmessageService)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/internal-imports.test.tsx:163:43)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Critical Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 43 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 44 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 45 |\u001b[39m describe(\u001b[32m'Critical Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m     process\u001b[33m.\u001b[39menv \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mprocess\u001b[33m.\u001b[39menv\u001b[33m,\u001b[39m \u001b[33m...\u001b[39mmockEnv }\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/critical-integration.test.tsx:48:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/critical-integration.test.tsx:75:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. WebSocket Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should integrate WebSocket with authentication state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m\n     \u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:81:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reconnect WebSocket when authentication changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m login \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Agent Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 148 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate agent state with WebSocket messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync agent reports with chat messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 196 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m     it(\u001b[32m'should sync agent reports with chat messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 199 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m         \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m useChatStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mmessages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:197:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. Authentication Flow Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 237 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 240 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 241 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:238:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete OAuth flow and establish WebSocket\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 237 |\u001b[39m\n     \u001b[90m 238 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 239 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 240 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 241 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 242 |\u001b[39m         user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'oauth-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'oauth@example.com'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:239:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:238:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist authentication across page refreshes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 266 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 267 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 268 |\u001b[39m     it(\u001b[32m'should persist authentication across page refreshes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 269 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'persist-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'persist@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 270 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'persist-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 271 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:268:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:238:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Thread Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 290 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 292 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 293 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 295 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should create thread and sync with messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 291 |\u001b[39m\n     \u001b[90m 292 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 293 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 295 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 296 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'New Thread'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:293:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch threads and load messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m     it(\u001b[32m'should switch threads and load messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m       \u001b[36mconst\u001b[39m thread1Messages \u001b[33m=\u001b[39m [\n     \u001b[90m 339 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m thread_id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Thread 1 message'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\n     \u001b[90m 340 |\u001b[39m       ]\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:337:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Real-time Message Streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 370 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 371 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 372 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 373 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 374 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 375 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should stream agent responses to chat\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 371 |\u001b[39m\n     \u001b[90m 372 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 373 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 374 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 375 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:373:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle message interruption gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     it(\u001b[32m'should handle message interruption gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 426 |\u001b[39m         \u001b[36mconst\u001b[39m { isProcessing\u001b[33m,\u001b[39m sendMessage\u001b[33m,\u001b[39m stopProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:424:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Error Recovery Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 468 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 469 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 470 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 471 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 472 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 473 |\u001b[39m         \u001b[36mconst\u001b[39m { status\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from WebSocket disconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 469 |\u001b[39m\n     \u001b[90m 470 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 471 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 472 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 473 |\u001b[39m         \u001b[36mconst\u001b[39m { status\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m         \u001b[36mconst\u001b[39m isConnected \u001b[33m=\u001b[39m status \u001b[33m===\u001b[39m \u001b[32m'OPEN'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:471:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should retry failed API calls with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 510 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 511 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 512 |\u001b[39m     it(\u001b[32m'should retry failed API calls with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 513 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 514 |\u001b[39m       \n     \u001b[90m 515 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:512:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle session expiration gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 545 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 546 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 547 |\u001b[39m     it(\u001b[32m'should handle session expiration gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 548 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 549 |\u001b[39m         \u001b[36mconst\u001b[39m logout \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogout)\u001b[33m;\u001b[39m\n     \u001b[90m 550 |\u001b[39m         \u001b[36mconst\u001b[39m isAuthenticated \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39misAuthenticated)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:547:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. State Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 586 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 589 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 590 |\u001b[39m         threads\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:587:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync local state with server state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 586 |\u001b[39m\n     \u001b[90m 587 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 588 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 589 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 590 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 591 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m\u001b[33m,\u001b[39m created_at\u001b[33m:\u001b[39m \u001b[32m'2024-01-01'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:588:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:587:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle concurrent state updates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 614 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 615 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 616 |\u001b[39m     it(\u001b[32m'should handle concurrent state updates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 617 |\u001b[39m       \u001b[36mconst\u001b[39m updates \u001b[33m=\u001b[39m [\n     \u001b[90m 618 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'thread_created'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m } }\u001b[33m,\u001b[39m\n     \u001b[90m 619 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'message_sent'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Message 1'\u001b[39m } }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:616:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:587:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. File Upload Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 655 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 656 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 657 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 658 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 659 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:657:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload file and process with agent\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 656 |\u001b[39m\n     \u001b[90m 657 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 658 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 659 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 661 |\u001b[39m       formData\u001b[33m.\u001b[39mappend(\u001b[32m'file'\u001b[39m\u001b[33m,\u001b[39m file)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:658:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:657:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track upload progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 684 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 685 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 686 |\u001b[39m     it(\u001b[32m'should track upload progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 687 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'x'\u001b[39m\u001b[33m.\u001b[39mrepeat(\u001b[35m1000000\u001b[39m)]\u001b[33m,\u001b[39m \u001b[32m'large.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 688 |\u001b[39m       \u001b[36mlet\u001b[39m progress \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 689 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:686:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:657:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Optimization Recommendations Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 710 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 711 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 712 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 713 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 714 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 715 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should process optimization request end-to-end\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 711 |\u001b[39m\n     \u001b[90m 712 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 713 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 714 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 715 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 716 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:713:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should apply optimization and track results\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 757 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 758 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 759 |\u001b[39m     it(\u001b[32m'should apply optimization and track results'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 760 |\u001b[39m       \u001b[36mconst\u001b[39m recommendation \u001b[33m=\u001b[39m {\n     \u001b[90m 761 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'rec-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 762 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'cost'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:759:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. Multi-Agent Coordination\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 788 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 789 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 790 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 791 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 792 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate multiple sub-agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 789 |\u001b[39m\n     \u001b[90m 790 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 791 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 792 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 794 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:791:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle agent pipeline failures\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 853 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 854 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 855 |\u001b[39m     it(\u001b[32m'should handle agent pipeline failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 856 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 857 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m error } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 858 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:855:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Performance Monitoring Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 892 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 894 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 895 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track and report performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 893 |\u001b[39m\n     \u001b[90m 894 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 895 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\n     \u001b[90m 898 |\u001b[39m         api_response_time\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:895:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should detect and report performance degradation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 939 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 940 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 941 |\u001b[39m     it(\u001b[32m'should detect and report performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 942 |\u001b[39m       \u001b[36mconst\u001b[39m performanceThresholds \u001b[33m=\u001b[39m {\n     \u001b[90m 943 |\u001b[39m         api_latency\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 944 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:941:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Data Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 962 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 963 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 964 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 965 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 966 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 967 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:964:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and reuse API responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 963 |\u001b[39m\n     \u001b[90m 964 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 965 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 966 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 967 |\u001b[39m       \n     \u001b[90m 968 |\u001b[39m       \u001b[36mconst\u001b[39m cachedFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (url\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:965:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:964:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should invalidate cache on mutations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 992 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 993 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 994 |\u001b[39m     it(\u001b[32m'should invalidate cache on mutations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 995 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 996 |\u001b[39m       cache\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'/api/threads'\u001b[39m\u001b[33m,\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Old Thread'\u001b[39m }])\u001b[33m;\u001b[39m\n     \u001b[90m 997 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:994:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:964:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Notification System Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1020 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1021 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1022 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1023 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1024 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1025 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should show notifications for important events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1021 |\u001b[39m\n     \u001b[90m 1022 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1023 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1024 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1025 |\u001b[39m       \n     \u001b[90m 1026 |\u001b[39m       \u001b[36mconst\u001b[39m notify \u001b[33m=\u001b[39m (type\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m message\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1023:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue notifications when offline\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1073 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1074 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1075 |\u001b[39m     it(\u001b[32m'should queue notifications when offline'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1076 |\u001b[39m       \u001b[36mconst\u001b[39m notificationQueue \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1077 |\u001b[39m       \n     \u001b[90m 1078 |\u001b[39m       \u001b[36mconst\u001b[39m queueNotification \u001b[33m=\u001b[39m (notification\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1075:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Keyboard Shortcuts Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1100 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1101 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1102 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1103 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1104 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1105 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1102:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle global keyboard shortcuts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1101 |\u001b[39m\n     \u001b[90m 1102 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1103 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1104 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1105 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 1106 |\u001b[39m         [\u001b[32m'cmd+enter'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sendMessage'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1103:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1102:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should prevent shortcut conflicts in input fields\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1136 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1138 |\u001b[39m     it(\u001b[32m'should prevent shortcut conflicts in input fields'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1139 |\u001b[39m       \u001b[36mlet\u001b[39m actionTriggered \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1140 |\u001b[39m       \n     \u001b[90m 1141 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1138:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1102:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Accessibility Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1168 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1169 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1170 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1171 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1172 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1173 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1170:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain focus management during navigation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1169 |\u001b[39m\n     \u001b[90m 1170 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1171 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1172 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1173 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1174 |\u001b[39m         \u001b[36mconst\u001b[39m chatRef \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museRef\u001b[33m<\u001b[39m\u001b[33mHTMLDivElement\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1171:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1170:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should announce dynamic content updates to screen readers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1206 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1207 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1208 |\u001b[39m     it(\u001b[32m'should announce dynamic content updates to screen readers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1209 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1210 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1211 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1208:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1170:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:345:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:345:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Advanced Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 39 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m   \n     \u001b[90m 43 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/advanced-integration.test.tsx:43:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/advanced-integration.test.tsx:59:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Theme and Preferences Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 66 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 67 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:64:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync theme preferences across components\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m\n     \u001b[90m 64 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 67 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 68 |\u001b[39m         setTheme\u001b[33m:\u001b[39m (theme\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {}\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:65:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:64:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist user preferences across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 117 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 119 |\u001b[39m     it(\u001b[32m'should persist user preferences across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 120 |\u001b[39m       \u001b[36mconst\u001b[39m preferences \u001b[33m=\u001b[39m {\n     \u001b[90m 121 |\u001b[39m         notifications\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 122 |\u001b[39m         autoSave\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:119:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:64:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. Complex Form Validation Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 142 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 143 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 144 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 145 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 146 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 147 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:144:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate multi-step forms with dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 143 |\u001b[39m\n     \u001b[90m 144 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 145 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 146 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 147 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 148 |\u001b[39m         \u001b[36mconst\u001b[39m [formData\u001b[33m,\u001b[39m setFormData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:145:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:144:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle async validation with debouncing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 226 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 227 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 228 |\u001b[39m     it(\u001b[32m'should handle async validation with debouncing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 229 |\u001b[39m       \u001b[36mlet\u001b[39m validationCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \n     \u001b[90m 231 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAsyncValidationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:228:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:144:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Collaborative Features Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 296 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 297 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:294:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync cursor positions in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 293 |\u001b[39m\n     \u001b[90m 294 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 295 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 296 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 297 |\u001b[39m       \n     \u001b[90m 298 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:295:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:294:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle presence and activity status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 355 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 356 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 357 |\u001b[39m     it(\u001b[32m'should handle presence and activity status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 358 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mPresenceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 359 |\u001b[39m         \u001b[36mconst\u001b[39m [activeUsers\u001b[33m,\u001b[39m setActiveUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m         \u001b[36mconst\u001b[39m [typingUsers\u001b[33m,\u001b[39m setTypingUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:357:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:294:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Offline Mode Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 417 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 418 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 419 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 420 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 422 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:419:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue actions when offline and sync when online\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 418 |\u001b[39m\n     \u001b[90m 419 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 420 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 422 |\u001b[39m       \n     \u001b[90m 423 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineSyncComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:420:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:419:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should use local storage for offline persistence\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 510 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 511 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 512 |\u001b[39m     it(\u001b[32m'should use local storage for offline persistence'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 513 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineStorageComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 514 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 515 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:512:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:419:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Complex Navigation Flows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 555 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 556 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 557 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 558 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 559 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:557:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle deep linking with state preservation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 556 |\u001b[39m\n     \u001b[90m 557 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 558 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 559 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m       \n     \u001b[90m 561 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mNavigationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:558:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:557:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle protected route redirects\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 611 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 612 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 613 |\u001b[39m     it(\u001b[32m'should handle protected route redirects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 614 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mProtectedRoute\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }) \u001b[33m=>\u001b[39m {\n     \u001b[90m 615 |\u001b[39m         \u001b[36mconst\u001b[39m isAuthenticated \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39misAuthenticated)\u001b[33m;\u001b[39m\n     \u001b[90m 616 |\u001b[39m         \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:613:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:557:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Advanced Search Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 658 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 659 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 660 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 661 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 662 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 663 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:660:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement fuzzy search with highlighting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 659 |\u001b[39m\n     \u001b[90m 660 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 661 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 662 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 663 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 664 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:661:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:660:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement search with filters and facets\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 724 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 725 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 726 |\u001b[39m     it(\u001b[32m'should implement search with filters and facets'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 727 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFilteredSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 728 |\u001b[39m         \u001b[36mconst\u001b[39m [filters\u001b[33m,\u001b[39m setFilters] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 729 |\u001b[39m           category\u001b[33m:\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:726:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:660:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Drag and Drop Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 786 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 787 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 788 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 789 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 790 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 791 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:788:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle file drag and drop with preview\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 787 |\u001b[39m\n     \u001b[90m 788 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 789 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 790 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 791 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 792 |\u001b[39m         \u001b[36mconst\u001b[39m [files\u001b[33m,\u001b[39m setFiles] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mFile\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:789:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:788:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reorder items with drag and drop\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 843 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 844 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 845 |\u001b[39m     it(\u001b[32m'should reorder items with drag and drop'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 846 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mReorderableList\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 847 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([\n     \u001b[90m 848 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m text\u001b[33m:\u001b[39m \u001b[32m'Item 1'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:845:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:788:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. Infinite Scroll Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 913 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 914 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 915 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 916 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 917 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 918 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:915:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load more content on scroll\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 914 |\u001b[39m\n     \u001b[90m 915 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 916 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 917 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 918 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 919 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:916:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:915:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement virtual scrolling for large lists\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 978 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 979 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 980 |\u001b[39m     it(\u001b[32m'should implement virtual scrolling for large lists'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 981 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mVirtualScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 982 |\u001b[39m         \u001b[36mconst\u001b[39m [visibleRange\u001b[33m,\u001b[39m setVisibleRange] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ start\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m end\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 983 |\u001b[39m         \u001b[36mconst\u001b[39m items \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:980:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:915:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Complex Animation Sequences\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1028 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1029 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1030 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1031 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1032 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1033 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1030:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should chain animations with proper timing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1029 |\u001b[39m\n     \u001b[90m 1030 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1031 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1032 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1033 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1034 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1031:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1030:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle gesture-based animations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1076 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1077 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1078 |\u001b[39m     it(\u001b[32m'should handle gesture-based animations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1079 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mGestureComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1080 |\u001b[39m         \u001b[36mconst\u001b[39m [position\u001b[33m,\u001b[39m setPosition] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 1081 |\u001b[39m         \u001b[36mconst\u001b[39m [velocity\u001b[33m,\u001b[39m setVelocity] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1078:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1030:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Memory Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1130 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1131 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1132 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1133 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1134 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1135 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1132:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cleanup resources on unmount\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1131 |\u001b[39m\n     \u001b[90m 1132 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1133 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1134 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1135 |\u001b[39m       \n     \u001b[90m 1136 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResourceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1133:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1132:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage large data sets efficiently\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1165 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1166 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1167 |\u001b[39m     it(\u001b[32m'should manage large data sets efficiently'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1168 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mLargeDataComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1169 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 1170 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1167:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1132:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Real-time Collaboration Sync\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1218 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1219 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1220 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1221 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1222 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1223 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1220:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle conflict resolution in collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1219 |\u001b[39m\n     \u001b[90m 1220 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1221 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1222 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1223 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1224 |\u001b[39m         \u001b[36mconst\u001b[39m [conflicts\u001b[33m,\u001b[39m setConflicts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1221:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1220:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain operation history for undo/redo\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1282 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1283 |\u001b[39m     it(\u001b[32m'should maintain operation history for undo/redo'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mUndoRedoComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1285 |\u001b[39m         \u001b[36mconst\u001b[39m [history\u001b[33m,\u001b[39m setHistory] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m[]\u001b[33m>\u001b[39m([\u001b[32m'Initial'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 1286 |\u001b[39m         \u001b[36mconst\u001b[39m [currentIndex\u001b[33m,\u001b[39m setCurrentIndex] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1283:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1220:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Advanced Error Boundaries\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1336 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1337 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1338 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1339 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1340 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1341 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1338:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from component errors gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1337 |\u001b[39m\n     \u001b[90m 1338 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1339 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1340 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1341 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1342 |\u001b[39m         { hasError\u001b[33m:\u001b[39m boolean\u001b[33m;\u001b[39m errorInfo\u001b[33m:\u001b[39m any }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1339:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1338:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should report errors to monitoring service\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1406 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1407 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1408 |\u001b[39m     it(\u001b[32m'should report errors to monitoring service'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1409 |\u001b[39m       \u001b[36mconst\u001b[39m errorReports\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1410 |\u001b[39m       \n     \u001b[90m 1411 |\u001b[39m       \u001b[36mconst\u001b[39m reportError \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (error\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1408:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1338:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Multi-language Support Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1445 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1446 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1447 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1448 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1449 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1450 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1447:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch languages dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1446 |\u001b[39m\n     \u001b[90m 1447 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1448 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1449 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1450 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1451 |\u001b[39m         es\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Bienvenido'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Adi\u00f3s'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1448:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1447:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle RTL languages correctly\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1487 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1488 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1489 |\u001b[39m     it(\u001b[32m'should handle RTL languages correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1490 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRTLComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1491 |\u001b[39m         \u001b[36mconst\u001b[39m [language\u001b[33m,\u001b[39m setLanguage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'en'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1492 |\u001b[39m         \u001b[36mconst\u001b[39m [direction\u001b[33m,\u001b[39m setDirection] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[32m'ltr'\u001b[39m \u001b[33m|\u001b[39m \u001b[32m'rtl'\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'ltr'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1489:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1447:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. WebSocket Resilience Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1527 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1528 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1529 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1530 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1531 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1532 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1529:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle WebSocket message buffering during reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1528 |\u001b[39m\n     \u001b[90m 1529 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1530 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1531 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1532 |\u001b[39m       \n     \u001b[90m 1533 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResilientWebSocketComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1530:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1529:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement exponential backoff for reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1607 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1608 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1609 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1610 |\u001b[39m       \u001b[36mconst\u001b[39m reconnectAttempts\u001b[33m:\u001b[39m number[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1611 |\u001b[39m       \n     \u001b[90m 1612 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mExponentialBackoffComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1609:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1529:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. End-to-End User Journey\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1665 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1666 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1667 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1668 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1669 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1670 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1667:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete full optimization workflow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m\n     \u001b[90m 1667 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1670 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1671 |\u001b[39m         \u001b[36mconst\u001b[39m [workloadData\u001b[33m,\u001b[39m setWorkloadData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1668:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1667:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:40:1)\n      at require (__tests__/imports/internal-imports.test.tsx:346:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:346:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Comprehensive Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 114 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m describe(\u001b[32m'Comprehensive Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m   \n     \u001b[90m 118 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 116 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 118 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 119 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 120 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 121 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/comprehensive-integration.test.tsx:118:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 132 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 133 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 135 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/comprehensive-integration.test.tsx:134:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. Corpus Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 141 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 142 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:139:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload documents to corpus and process with embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 138 |\u001b[39m\n     \u001b[90m 139 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 140 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 141 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 142 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 143 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'Test Document'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:140:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:139:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should search corpus with semantic similarity\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 171 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 172 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 173 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 174 |\u001b[39m       \u001b[36mconst\u001b[39m mockSearchResults \u001b[33m=\u001b[39m [\n     \u001b[90m 175 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 1'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.95\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 176 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 2'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.87\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:173:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:139:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Synthetic Data Generation Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 196 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 199 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 200 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should generate synthetic data based on templates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m\n     \u001b[90m 197 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 200 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 201 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'processing'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:198:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export generated synthetic data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 246 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 247 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 248 |\u001b[39m     it(\u001b[32m'should export generated synthetic data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 249 |\u001b[39m       \u001b[36mconst\u001b[39m mockExportData \u001b[33m=\u001b[39m {\n     \u001b[90m 250 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'json'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 251 |\u001b[39m         data\u001b[33m:\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'synthetic'\u001b[39m }]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:248:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. LLM Cache Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 268 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 269 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 270 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 271 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 273 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:270:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and retrieve LLM responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 269 |\u001b[39m\n     \u001b[90m 270 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 271 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 272 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 273 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 274 |\u001b[39m         prompt\u001b[33m:\u001b[39m \u001b[32m'test prompt'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:271:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:270:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage cache invalidation and TTL\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 298 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 299 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 300 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 301 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 302 |\u001b[39m         \u001b[36mconst\u001b[39m { cacheSize\u001b[33m,\u001b[39m clearCache\u001b[33m,\u001b[39m setCacheTTL } \u001b[33m=\u001b[39m useLLMCacheStore()\u001b[33m;\u001b[39m\n     \u001b[90m 303 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:300:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:270:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Supply Catalog Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 326 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 328 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 329 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 331 |\u001b[39m         models\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:328:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should browse and select AI models from catalog\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 327 |\u001b[39m\n     \u001b[90m 328 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 329 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 331 |\u001b[39m         models\u001b[33m:\u001b[39m [\n     \u001b[90m 332 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'gpt-4'\u001b[39m\u001b[33m,\u001b[39m provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m cost_per_1k\u001b[33m:\u001b[39m \u001b[35m0.03\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:329:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:328:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between model providers dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 352 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 353 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 354 |\u001b[39m     it(\u001b[32m'should switch between model providers dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 355 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 356 |\u001b[39m         \u001b[36mconst\u001b[39m { activeModel\u001b[33m,\u001b[39m switchModel } \u001b[33m=\u001b[39m useSupplyStore()\u001b[33m;\u001b[39m\n     \u001b[90m 357 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:354:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:328:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Reference Management with Embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 381 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 382 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 383 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 384 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 385 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 386 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:383:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage document references with vector search\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 382 |\u001b[39m\n     \u001b[90m 383 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 384 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 385 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 386 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 387 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'API Documentation'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:384:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:383:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should find similar references using embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 410 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 412 |\u001b[39m     it(\u001b[32m'should find similar references using embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 413 |\u001b[39m       \u001b[36mconst\u001b[39m mockSimilarRefs \u001b[33m=\u001b[39m [\n     \u001b[90m 414 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 1'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.92\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 415 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 2'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.85\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:412:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:383:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Admin Functionality Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 433 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 434 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 435 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 436 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 437 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 438 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:435:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage users and permissions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 434 |\u001b[39m\n     \u001b[90m 435 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 436 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 437 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 438 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 439 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-2'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'user@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:436:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:435:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor system metrics and usage\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 470 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 471 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 472 |\u001b[39m     it(\u001b[32m'should monitor system metrics and usage'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 473 |\u001b[39m       \u001b[36mconst\u001b[39m mockMetrics \u001b[33m=\u001b[39m {\n     \u001b[90m 474 |\u001b[39m         total_requests\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 475 |\u001b[39m         active_users\u001b[33m:\u001b[39m \u001b[35m50\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:472:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:435:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. Health Check Monitoring\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 496 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 497 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 498 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 499 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 500 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 501 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:498:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor service health status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 497 |\u001b[39m\n     \u001b[90m 498 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 499 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 500 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 501 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 502 |\u001b[39m         services\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:499:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:498:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle degraded service states\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 525 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 526 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 527 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 528 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 529 |\u001b[39m         \u001b[36mconst\u001b[39m [health\u001b[33m,\u001b[39m setHealth] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 530 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:527:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:498:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. Configuration Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 566 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 567 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 568 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 569 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 570 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 571 |\u001b[39m         features\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:568:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load and apply dynamic configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 567 |\u001b[39m\n     \u001b[90m 568 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 569 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 570 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 571 |\u001b[39m         features\u001b[33m:\u001b[39m {\n     \u001b[90m 572 |\u001b[39m           dark_mode\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:569:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:568:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should update configuration and propagate changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 597 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 598 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 599 |\u001b[39m     it(\u001b[32m'should update configuration and propagate changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 600 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 601 |\u001b[39m         \u001b[36mconst\u001b[39m { config\u001b[33m,\u001b[39m updateConfig } \u001b[33m=\u001b[39m useConfigStore()\u001b[33m;\u001b[39m\n     \u001b[90m 602 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:599:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:568:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Generation Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 628 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 629 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 630 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 631 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 632 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 633 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle content generation with streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 629 |\u001b[39m\n     \u001b[90m 630 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 631 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 632 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 633 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 634 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:631:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle generation templates and parameters\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 678 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 679 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 680 |\u001b[39m     it(\u001b[32m'should handle generation templates and parameters'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 681 |\u001b[39m       \u001b[36mconst\u001b[39m mockTemplate \u001b[33m=\u001b[39m {\n     \u001b[90m 682 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'template-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 683 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Email Template'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:680:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. OAuth Secrets Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 709 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 710 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 711 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 712 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 713 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 714 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:711:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely manage OAuth provider configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 710 |\u001b[39m\n     \u001b[90m 711 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 712 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 713 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 714 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 715 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'github'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'github-id'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:712:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:711:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate OAuth secrets securely\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 732 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 733 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 734 |\u001b[39m     it(\u001b[32m'should rotate OAuth secrets securely'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 735 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockResolvedValueOnce({\n     \u001b[90m 736 |\u001b[39m         ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 737 |\u001b[39m         json\u001b[33m:\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:734:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:711:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Multi-Model Provider Switching\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 755 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 756 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 757 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 758 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 759 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 760 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:757:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between providers based on availability\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 756 |\u001b[39m\n     \u001b[90m 757 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 758 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 759 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 760 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 761 |\u001b[39m         \u001b[36mconst\u001b[39m [fallbackUsed\u001b[33m,\u001b[39m setFallbackUsed] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:758:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:757:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load balance across multiple providers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 792 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 794 |\u001b[39m     it(\u001b[32m'should load balance across multiple providers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 795 |\u001b[39m       \u001b[36mconst\u001b[39m providers \u001b[33m=\u001b[39m [\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'anthropic'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'cohere'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 796 |\u001b[39m       \u001b[36mlet\u001b[39m requestCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 797 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:794:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:757:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Cost Tracking and Budgeting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 815 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 816 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 817 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 818 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 819 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 820 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track API usage costs in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 816 |\u001b[39m\n     \u001b[90m 817 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 818 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 819 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 820 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 821 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:818:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should enforce budget limits and alerts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 862 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 863 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 864 |\u001b[39m     it(\u001b[32m'should enforce budget limits and alerts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 865 |\u001b[39m       \u001b[36mconst\u001b[39m mockBudget \u001b[33m=\u001b[39m {\n     \u001b[90m 866 |\u001b[39m         monthly_limit\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 867 |\u001b[39m         current_usage\u001b[33m:\u001b[39m \u001b[35m950\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:864:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Database Repository Pattern Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 892 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 894 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 895 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle unit of work pattern for transactions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 893 |\u001b[39m\n     \u001b[90m 894 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 895 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 896 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 897 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 898 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:895:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement repository caching layer\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 941 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 942 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 943 |\u001b[39m     it(\u001b[32m'should implement repository caching layer'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 944 |\u001b[39m       \u001b[36mconst\u001b[39m repositoryCache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 945 |\u001b[39m       \n     \u001b[90m 946 |\u001b[39m       \u001b[36mconst\u001b[39m getCachedOrFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (key\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m fetcher\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:943:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:894:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Migration Handling\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 970 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 971 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 972 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 973 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 974 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 975 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:972:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should check and apply database migrations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 971 |\u001b[39m\n     \u001b[90m 972 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 973 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 974 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 975 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 976 |\u001b[39m         latest_version\u001b[33m:\u001b[39m \u001b[32m'005'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:973:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:972:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle migration rollback on failure\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 994 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 995 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 996 |\u001b[39m     it(\u001b[32m'should handle migration rollback on failure'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 997 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n     \u001b[90m 998 |\u001b[39m         \u001b[33m.\u001b[39mmockImplementationOnce(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }))\n     \u001b[90m 999 |\u001b[39m         \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Migration failed'\u001b[39m))\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:996:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:972:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Background Task Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1018 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1019 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1020 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1021 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1022 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1023 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1020:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue and process background tasks\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1019 |\u001b[39m\n     \u001b[90m 1020 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1021 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1022 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1023 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1024 |\u001b[39m         \u001b[36mconst\u001b[39m [taskId\u001b[33m,\u001b[39m setTaskId] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1021:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1020:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle task retry with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1081 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1082 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1083 |\u001b[39m     it(\u001b[32m'should handle task retry with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1084 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1085 |\u001b[39m       \u001b[36mconst\u001b[39m maxRetries \u001b[33m=\u001b[39m \u001b[35m3\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1086 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1083:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1020:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Redis Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1109 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1110 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1111 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1112 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1113 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1114 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1111:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache session data in Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1110 |\u001b[39m\n     \u001b[90m 1111 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1112 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1113 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1114 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1115 |\u001b[39m         user_id\u001b[33m:\u001b[39m \u001b[32m'user-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1112:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1111:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement distributed locking with Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1136 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1138 |\u001b[39m     it(\u001b[32m'should implement distributed locking with Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1139 |\u001b[39m       \u001b[36mconst\u001b[39m acquireLock \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (resource\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m ttl\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1140 |\u001b[39m         \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(\u001b[32m'/api/locks/acquire'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m 1141 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1138:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1111:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. ClickHouse Analytics Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1171 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1172 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1173 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1174 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1175 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1176 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1173:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should log and query time-series events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1172 |\u001b[39m\n     \u001b[90m 1173 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1174 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1175 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1176 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1177 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m1800000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m180\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1174:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1173:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should aggregate metrics for dashboards\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1201 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1202 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1203 |\u001b[39m     it(\u001b[32m'should aggregate metrics for dashboards'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1204 |\u001b[39m       \u001b[36mconst\u001b[39m mockAggregates \u001b[33m=\u001b[39m {\n     \u001b[90m 1205 |\u001b[39m         avg_latency\u001b[33m:\u001b[39m \u001b[35m210\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1206 |\u001b[39m         p95_latency\u001b[33m:\u001b[39m \u001b[35m450\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1203:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1173:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Error Context and Tracing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1226 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1227 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1228 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1229 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1230 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1231 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1228:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should propagate trace IDs through requests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1227 |\u001b[39m\n     \u001b[90m 1228 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1229 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1230 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1231 |\u001b[39m       \n     \u001b[90m 1232 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1229:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1228:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should capture error context with stack traces\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1263 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1264 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1265 |\u001b[39m     it(\u001b[32m'should capture error context with stack traces'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1266 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1267 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1268 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1265:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1228:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Security Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1310 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1311 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1312 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1313 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1314 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1315 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1312:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and sanitize user inputs\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1311 |\u001b[39m\n     \u001b[90m 1312 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1313 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1314 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1315 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\n     \u001b[90m 1316 |\u001b[39m         \u001b[36mconst\u001b[39m sanitized \u001b[33m=\u001b[39m input\u001b[33m.\u001b[39mreplace(\u001b[35m/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1313:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1312:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement rate limiting for API endpoints\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1338 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1339 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1340 |\u001b[39m     it(\u001b[32m'should implement rate limiting for API endpoints'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1341 |\u001b[39m       \u001b[36mconst\u001b[39m rateLimiter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 1342 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRATE_LIMIT\u001b[39m \u001b[33m=\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1343 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mWINDOW_MS\u001b[39m \u001b[33m=\u001b[39m \u001b[35m60000\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1340:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1312:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Key Manager Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1375 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1376 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1377 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1378 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1379 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1380 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1377:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely store and retrieve API keys\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1376 |\u001b[39m\n     \u001b[90m 1377 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1378 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1379 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1380 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1381 |\u001b[39m         provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1378:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1377:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate API keys periodically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1404 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1405 |\u001b[39m     it(\u001b[32m'should rotate API keys periodically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1406 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1407 |\u001b[39m         \u001b[36mconst\u001b[39m [lastRotation\u001b[33m,\u001b[39m setLastRotation] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1408 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1405:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1377:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Demo Mode Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1439 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1440 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1441 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1442 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1443 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1444 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1441:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should restrict features in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1440 |\u001b[39m\n     \u001b[90m 1441 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1442 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1443 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1444 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1445 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1442:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1441:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should provide sample data in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1480 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1481 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1482 |\u001b[39m     it(\u001b[32m'should provide sample data in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1483 |\u001b[39m       \u001b[36mconst\u001b[39m mockDemoData \u001b[33m=\u001b[39m {\n     \u001b[90m 1484 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 1485 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'demo-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Demo Thread 1'\u001b[39m\u001b[33m,\u001b[39m messages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1482:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1441:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Enterprise Demo Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1509 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1510 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1511 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1512 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1513 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1514 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1511:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should showcase enterprise-specific capabilities\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1510 |\u001b[39m\n     \u001b[90m 1511 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1512 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1513 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1514 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1515 |\u001b[39m         audit_logging\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1512:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1511:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle team collaboration workflows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1535 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1536 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1537 |\u001b[39m     it(\u001b[32m'should handle team collaboration workflows'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1538 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1539 |\u001b[39m         \u001b[36mconst\u001b[39m [team\u001b[33m,\u001b[39m setTeam] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1540 |\u001b[39m         \u001b[36mconst\u001b[39m [sharedThread\u001b[33m,\u001b[39m setSharedThread] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1537:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1511:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. PDF and Image Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1576 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1577 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1578 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1579 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1580 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1581 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1578:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should extract text from PDF documents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1577 |\u001b[39m\n     \u001b[90m 1578 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1579 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1580 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1581 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1582 |\u001b[39m         pages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1579:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1578:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should analyze images with vision models\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1608 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1609 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1610 |\u001b[39m     it(\u001b[32m'should analyze images with vision models'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1611 |\u001b[39m       \u001b[36mconst\u001b[39m mockImageAnalysis \u001b[33m=\u001b[39m {\n     \u001b[90m 1612 |\u001b[39m         description\u001b[33m:\u001b[39m \u001b[32m'A chart showing revenue growth'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1613 |\u001b[39m         objects_detected\u001b[33m:\u001b[39m [\u001b[32m'chart'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'numbers'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1610:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1578:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Jupyter Notebook Support\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1640 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1641 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1642 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1643 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1644 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1645 |\u001b[39m         cells\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1642:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should parse and execute notebook cells\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1641 |\u001b[39m\n     \u001b[90m 1642 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1643 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1644 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1645 |\u001b[39m         cells\u001b[33m:\u001b[39m [\n     \u001b[90m 1646 |\u001b[39m           { type\u001b[33m:\u001b[39m \u001b[32m'code'\u001b[39m\u001b[33m,\u001b[39m source\u001b[33m:\u001b[39m \u001b[32m'print(\"Hello\")'\u001b[39m\u001b[33m,\u001b[39m output\u001b[33m:\u001b[39m \u001b[32m'Hello'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1643:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1642:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should convert notebooks to different formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1667 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m     it(\u001b[32m'should convert notebooks to different formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m       \u001b[36mconst\u001b[39m mockConverted \u001b[33m=\u001b[39m {\n     \u001b[90m 1670 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'html'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1671 |\u001b[39m         content\u001b[33m:\u001b[39m \u001b[32m'<html><body>Notebook content</body></html>'\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1668:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1642:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Export Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1692 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1693 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1694 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1695 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1696 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1697 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1694:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1693 |\u001b[39m\n     \u001b[90m 1694 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1695 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1696 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1697 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1698 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1695:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1694:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle large data exports with progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1747 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1748 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1749 |\u001b[39m     it(\u001b[32m'should handle large data exports with progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1750 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1751 |\u001b[39m         \u001b[36mconst\u001b[39m [progress\u001b[33m,\u001b[39m setProgress] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1752 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1749:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1694:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Import Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1779 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1780 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1781 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1782 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1783 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1784 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1781:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and import data files\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1780 |\u001b[39m\n     \u001b[90m 1781 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1782 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1783 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1784 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1785 |\u001b[39m         imported\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1782:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1781:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should preview import data before confirmation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1813 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1814 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1815 |\u001b[39m     it(\u001b[32m'should preview import data before confirmation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1816 |\u001b[39m       \u001b[36mconst\u001b[39m mockPreview \u001b[33m=\u001b[39m {\n     \u001b[90m 1817 |\u001b[39m         total_rows\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1818 |\u001b[39m         sample_data\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1815:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1781:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Collaboration Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1848 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1849 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1850 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1851 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1852 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1853 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle real-time collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1849 |\u001b[39m\n     \u001b[90m 1850 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1851 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1852 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1853 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1854 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1851:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should synchronize cursor positions between users\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1892 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1894 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1895 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1896 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1897 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1894:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Real-time Metrics Dashboard\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1951 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1952 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1953 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1954 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1955 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1956 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should display live performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1952 |\u001b[39m\n     \u001b[90m 1953 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1954 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1955 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1956 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1957 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1954:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should visualize historical metrics with time series\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1996 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1997 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1998 |\u001b[39m     it(\u001b[32m'should visualize historical metrics with time series'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1999 |\u001b[39m       \u001b[36mconst\u001b[39m mockTimeSeries \u001b[33m=\u001b[39m {\n     \u001b[90m 2000 |\u001b[39m         timestamps\u001b[33m:\u001b[39m [\u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m2000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m4000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m5000\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 2001 |\u001b[39m         values\u001b[33m:\u001b[39m [\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m \u001b[35m120\u001b[39m\u001b[33m,\u001b[39m \u001b[35m115\u001b[39m\u001b[33m,\u001b[39m \u001b[35m130\u001b[39m\u001b[33m,\u001b[39m \u001b[35m125\u001b[39m]\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1998:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. Agent Tool Dispatcher Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2019 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 2020 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2021 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2022 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2023 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 2024 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2021:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should dynamically dispatch tools to agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2020 |\u001b[39m\n     \u001b[90m 2021 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2022 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2023 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 2024 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 2025 |\u001b[39m         result\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2022:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2021:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle tool chaining and dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2052 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2053 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2054 |\u001b[39m     it(\u001b[32m'should handle tool chaining and dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2055 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2056 |\u001b[39m         \u001b[36mconst\u001b[39m [toolChain\u001b[33m,\u001b[39m setToolChain] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 2057 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2054:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2021:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. State Persistence and Recovery\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2108 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 2109 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2110 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2111 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2112 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2113 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2110:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist application state across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2109 |\u001b[39m\n     \u001b[90m 2110 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2111 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2112 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2113 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 2114 |\u001b[39m         timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2111:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2110:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from corrupted state gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2156 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2157 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2158 |\u001b[39m     it(\u001b[32m'should recover from corrupted state gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2159 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2160 |\u001b[39m         \u001b[36mconst\u001b[39m [state\u001b[33m,\u001b[39m setState] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2161 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2158:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2110:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n      at require (__tests__/imports/internal-imports.test.tsx:347:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:347:82)\n\nFAIL __tests__/components/chat/MainChat.test.tsx (13.961 s)\n  \u25cf MainChat \u203a Agent status updates \u203a should handle toggle collapse manually\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 367 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 368 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 369 |\u001b[39m     it(\u001b[32m'should handle toggle collapse manually'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 370 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m 371 |\u001b[39m         \u001b[33m...\u001b[39mmockStore\u001b[33m,\u001b[39m\n     \u001b[90m 372 |\u001b[39m         isProcessing\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:369:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:246:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:36:1)\n\n  \u25cf MainChat \u203a Error recovery and reconnection \u203a should handle store errors gracefully\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Store initialization failed\"\n\n        \u001b[0m \u001b[90m 394 |\u001b[39m     it(\u001b[32m'should handle store errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 395 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 396 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Store initialization failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 397 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 398 |\u001b[39m       \n         \u001b[90m 399 |\u001b[39m       \u001b[90m// Should not crash the component\u001b[39m\u001b[0m\n\n      at __tests__/components/chat/MainChat.test.tsx:396:15\n      at MainChat (components/chat/MainChat.tsx:22:26)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at __tests__/components/chat/MainChat.test.tsx:400:26\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:400:46)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:400:46)\n\n  \u25cf MainChat \u203a Message history loading \u203a should update history when new messages arrive\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-testid=\"example-prompts\">Example Prompts</div> instead\n\n    \u001b[0m \u001b[90m 573 |\u001b[39m       \n     \u001b[90m 574 |\u001b[39m       \u001b[90m// Example prompts should disappear\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 575 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 576 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 577 |\u001b[39m\n     \u001b[90m 578 |\u001b[39m     it(\u001b[32m'should handle message deletion from history'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:575:59)\n\n  \u25cf MainChat \u203a UI layout and responsiveness \u203a should apply correct CSS classes\n\n    expect(element).toHaveClass(\"flex flex-col h-full\")\n\n    Expected the element to have class:\n      flex flex-col h-full\n    Received:\n      flex h-full bg-gradient-to-br from-gray-50 via-white to-gray-50\n\n    \u001b[0m \u001b[90m 617 |\u001b[39m       \n     \u001b[90m 618 |\u001b[39m       \u001b[36mconst\u001b[39m mainContainer \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mfirstChild\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 619 |\u001b[39m       expect(mainContainer)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'flex'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'flex-col'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'h-full'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 620 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 621 |\u001b[39m\n     \u001b[90m 622 |\u001b[39m     it(\u001b[32m'should handle window resize'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveClass (__tests__/components/chat/MainChat.test.tsx:619:29)\n\n  \u25cf MainChat \u203a Performance and optimization \u203a should clean up timers on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 714 |\u001b[39m       \n     \u001b[90m 715 |\u001b[39m       \u001b[90m// Any active timers should be cleared\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 716 |\u001b[39m       expect(clearTimeoutSpy)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 717 |\u001b[39m       \n     \u001b[90m 718 |\u001b[39m       clearTimeoutSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 719 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/components/chat/MainChat.test.tsx:716:31)\n\n  \u25cf MainChat \u203a Integration with store and hooks \u203a should handle store reset\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-collapsed=\"false\" data-testid=\"response-card\"><button>Toggle</button>Response Card</div> instead\n\n    \u001b[0m \u001b[90m 783 |\u001b[39m       \u001b[90m// Should show example prompts again\u001b[39m\n     \u001b[90m 784 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 785 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'response-card'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 786 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 787 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 788 |\u001b[39m\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:785:57)\n\n  \u25cf MainChat \u203a Accessibility \u203a should support keyboard navigation\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 795 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 796 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 797 |\u001b[39m     it(\u001b[32m'should support keyboard navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 798 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 799 |\u001b[39m       \n     \u001b[90m 800 |\u001b[39m       \u001b[90m// Tab through components\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:797:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:789:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:36:1)\n\nFAIL __tests__/chat/chatUIUXCore.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nFAIL __tests__/chat/ui-improvements.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nFAIL __tests__/components/ChatHistorySection.test.tsx (16.598 s)\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Performance Tests \u203a should render large thread list efficiently\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 1000\n    Received:   1788.4073000000008\n\n    \u001b[0m \u001b[90m 1567 |\u001b[39m       \n     \u001b[90m 1568 |\u001b[39m       \u001b[90m// Should render in reasonable time (< 1 second)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1569 |\u001b[39m       expect(renderTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1570 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1571 |\u001b[39m\n     \u001b[90m 1572 |\u001b[39m     it(\u001b[32m'should handle rapid state updates efficiently'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/components/ChatHistorySection.test.tsx:1569:26)\n\nFAIL __tests__/components/chat/MessageInput.test.tsx (24.487 s)\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle special characters correctly\n\n    Expected key descriptor but found \"]\" in \"[]{}|;':\",./<>?`~\\n\\t\"\n        See https://testing-library.com/docs/user-event/keyboard\n        for more information about how userEvent parses your input.\n\n    \u001b[0m \u001b[90m 143 |\u001b[39m       \n     \u001b[90m 144 |\u001b[39m       \u001b[36mconst\u001b[39m specialChars \u001b[33m=\u001b[39m \u001b[32m'!@#$%^&*()_+-=[]{}|;\\':\",./<>?`~\\\\n\\\\t'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 145 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m specialChars)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 146 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{enter}'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m       \n     \u001b[90m 148 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at assertDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:75:15)\n      at readTag (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:48:5)\n      at Object.readNextDescriptor (node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)\n      at Object.parseKeyDef (node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)\n      at Object.keyboard (node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)\n      at Object.type (node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)\n      at Object.asyncWrapper (node_modules/@testing-library/react/dist/pure.js:88:22)\n      at Object.<anonymous> (__tests__/components/chat/MessageInput.test.tsx:145:7)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should navigate message history with arrow keys\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"First message\"\n    Received: \"Second message\"\n\n    \u001b[0m \u001b[90m 314 |\u001b[39m       \n     \u001b[90m 315 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowup}'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 316 |\u001b[39m       expect(textarea\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'First message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 317 |\u001b[39m       \n     \u001b[90m 318 |\u001b[39m       \u001b[90m// Navigate down in history\u001b[39m\n     \u001b[90m 319 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowdown}'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/components/chat/MessageInput.test.tsx:316:30)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should handle Ctrl+Enter for special actions\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: {\"payload\": {\"references\": [], \"text\": \"Test message\", \"thread_id\": \"thread-1\"}, \"type\": \"user_message\"}\n\n    \u001b[0m \u001b[90m 346 |\u001b[39m       \n     \u001b[90m 347 |\u001b[39m       \u001b[90m// Currently Ctrl+Enter doesn't have special behavior, should not send\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 348 |\u001b[39m       expect(mockSendMessage)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 349 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 350 |\u001b[39m\n     \u001b[90m 351 |\u001b[39m     it(\u001b[32m'should show keyboard shortcuts hint'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/components/chat/MessageInput.test.tsx:348:35)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should start with single row\n\n    expect(element).toHaveAttribute(\"rows\", \"1\") // element.getAttribute(\"rows\") === \"1\"\n\n    Expected the element to have attribute:\n      rows=\"1\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 375 |\u001b[39m       \u001b[36mconst\u001b[39m textarea \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByPlaceholderText(\u001b[35m/Type a message/i\u001b[39m) \u001b[36mas\u001b[39m \u001b[33mHTMLTextAreaElement\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 377 |\u001b[39m       expect(textarea)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'rows'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 378 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 379 |\u001b[39m\n     \u001b[90m 380 |\u001b[39m     it(\u001b[32m'should expand textarea as content grows'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/components/chat/MessageInput.test.tsx:377:24)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should expand textarea as content grows\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 1\n    Received:   1\n\n    \u001b[0m \u001b[90m 387 |\u001b[39m       \u001b[90m// Check that the textarea has expanded\u001b[39m\n     \u001b[90m 388 |\u001b[39m       \u001b[36mconst\u001b[39m currentRows \u001b[33m=\u001b[39m parseInt(textarea\u001b[33m.\u001b[39mgetAttribute(\u001b[32m'rows'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 389 |\u001b[39m       expect(currentRows)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 390 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 391 |\u001b[39m\n     \u001b[90m 392 |\u001b[39m     it(\u001b[32m'should respect maximum rows limit'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeGreaterThan (__tests__/components/chat/MessageInput.test.tsx:389:27)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should reset to single row after sending\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 1\n    Received:   1\n\n    \u001b[0m \u001b[90m 406 |\u001b[39m       \n     \u001b[90m 407 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'Line 1\\nLine 2\\nLine 3'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 408 |\u001b[39m       expect(parseInt(textarea\u001b[33m.\u001b[39mgetAttribute(\u001b[32m'rows'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'1'\u001b[39m))\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 409 |\u001b[39m       \n     \u001b[90m 410 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{enter}'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m       \u001b[0m\n\n      at Object.toBeGreaterThan (__tests__/components/chat/MessageInput.test.tsx:408:62)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should handle paste of multiline content\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 1\n    Received:   1\n\n    \u001b[0m \u001b[90m 431 |\u001b[39m       \n     \u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m currentRows \u001b[33m=\u001b[39m parseInt(textarea\u001b[33m.\u001b[39mgetAttribute(\u001b[32m'rows'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 433 |\u001b[39m       expect(currentRows)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 434 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m\n     \u001b[90m 436 |\u001b[39m     it(\u001b[32m'should maintain scroll position during resize'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeGreaterThan (__tests__/components/chat/MessageInput.test.tsx:433:27)\n\n  \u25cf MessageInput \u203a Send button states \u203a should show send icon when not sending\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"Send\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<button\u001b[39m\n      \u001b[33maria-label\u001b[39m=\u001b[32m\"Send message\"\u001b[39m\n      \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<div\u001b[39m\n        \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 0; transform: scale(0.8);\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<svg\u001b[39m\n          \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-send w-5 h-5\"\u001b[39m\n          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n          \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n          \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n          \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<path\u001b[39m\n            \u001b[33md\u001b[39m=\u001b[32m\"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\"\u001b[39m\n          \u001b[36m/>\u001b[39m\n          \u001b[36m<path\u001b[39m\n            \u001b[33md\u001b[39m=\u001b[32m\"m21.854 2.147-10.94 10.939\"\u001b[39m\n          \u001b[36m/>\u001b[39m\n        \u001b[36m</svg>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</button>\u001b[39m\n\n    \u001b[0m \u001b[90m 590 |\u001b[39m       \u001b[36mconst\u001b[39m sendButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByLabelText(\u001b[32m'Send message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 591 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 592 |\u001b[39m       expect(within(sendButton)\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'Send'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 593 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 594 |\u001b[39m\n     \u001b[90m 595 |\u001b[39m     it(\u001b[32m'should show loading spinner when sending'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/components/chat/MessageInput.test.tsx:592:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should add sent messages to history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Historical message 1\"\n    Received: \"Historical message 2\"\n\n    \u001b[0m \u001b[90m 662 |\u001b[39m       \n     \u001b[90m 663 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowup}'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 664 |\u001b[39m       expect(textarea\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Historical message 1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 665 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 666 |\u001b[39m\n     \u001b[90m 667 |\u001b[39m     it(\u001b[32m'should not add empty messages to history'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/chat/MessageInput.test.tsx:664:30)\n\n  \u25cf MessageInput \u203a Message history \u203a should not add empty messages to history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Valid message\"\n    Received: \"   \"\n\n    \u001b[0m \u001b[90m 676 |\u001b[39m       \n     \u001b[90m 677 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtype(textarea\u001b[33m,\u001b[39m \u001b[32m'{arrowup}'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 678 |\u001b[39m       expect(textarea\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Valid message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 679 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 680 |\u001b[39m\n     \u001b[90m 681 |\u001b[39m     it(\u001b[32m'should maintain history across component lifecycle'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/chat/MessageInput.test.tsx:678:30)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should handle keyboard navigation properly\n\n    expect(element).toHaveAttribute(\"placeholder\", StringContaining \"Type a message\") // element.getAttribute(\"placeholder\") === StringContaining \"Type a message\"\n\n    Expected the element to have attribute:\n      placeholder=StringContaining \"Type a message\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 813 |\u001b[39m       \u001b[90m// Tab through interactive elements\u001b[39m\n     \u001b[90m 814 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtab()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 815 |\u001b[39m       expect(document\u001b[33m.\u001b[39mactiveElement)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'placeholder'\u001b[39m\u001b[33m,\u001b[39m expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'Type a message'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 816 |\u001b[39m       \n     \u001b[90m 817 |\u001b[39m       \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mtab()\u001b[33m;\u001b[39m\n     \u001b[90m 818 |\u001b[39m       expect(document\u001b[33m.\u001b[39mactiveElement)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'aria-label'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Attach file'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/components/chat/MessageInput.test.tsx:815:38)\n\nFAIL __tests__/components/ChatComponents.test.tsx (35.711 s)\n  \u25cf test_MessageList_virtualization \u203a should implement virtual scrolling for large lists\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"/message-/\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"relative overflow-hidden h-[calc(100vh-250px)] px-6 py-4 overflow-y-auto\"\u001b[39m\n          \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n          \u001b[33mstyle\u001b[39m=\u001b[32m\"position: relative; --radix-scroll-area-corner-width: 0px; --radix-scroll-area-corner-height: 0px;\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"h-full w-full rounded-[inherit]\"\u001b[39m\n            \u001b[33mdata-radix-scroll-area-viewport\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[33mstyle\u001b[39m=\u001b[32m\"overflow-x: hidden; overflow-y: scroll;\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"min-width: 100%; display: table;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"mb-4 flex justify-start\"\u001b[39m\n                  \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"rounded-lg border text-card-foreground w-full max-w-3xl shadow-sm hover:shadow-md transition-shadow duration-200 bg-white border-gray-200\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col space-y-1.5 p-6 pb-3 pt-4 px-5\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start justify-between\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<span\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"relative flex shrink-0 overflow-hidden rounded-full w-9 h-9 border-2 border-white shadow-sm\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<span\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex h-full w-full items-center justify-center rounded-full bg-muted font-bold text-sm bg-gradient-to-r from-purple-600 to-pink-600 text-white\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[0mAI\u001b[0m\n                            \u001b[36m</span>\u001b[39m\n                          \u001b[36m</span>\u001b[39m\n                          \u001b[36m<div>\u001b[39m\n                            \u001b[36m<div\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[36m<svg\u001b[39m\n                                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-bot w-4 h-4\"\u001b[39m\n                                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M12 8V4H8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<rect\u001b[39m\n                                  \u001b[33mheight\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                                  \u001b[33mrx\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                  \u001b[33mwidth\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                                  \u001b[33mx\u001b[39m=\u001b[32m\"4\"\u001b[39m\n                                  \u001b[33my\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M2 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M20 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M15 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M9 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                              \u001b[36m</svg>\u001b[39m\n                              \u001b[36m<h3\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"tracking-tight text-base font-semibold text-gray-900\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[0mNetra Agent\u001b[0m\n                              \u001b[36m</h3>\u001b[39m\n                            \u001b[36m</div>\u001b[39m\n                          \u001b[36m</div>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2 text-xs text-gray-500\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<svg\u001b[39m\n                            \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-clock w-3 h-3\"\u001b[39m\n                            \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                            \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                            \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                            \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<path\u001b[39m\n                              \u001b[33md\u001b[39m=\u001b[32m\"M12 6v6l4 2\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                            \u001b[36m<circle\u001b[39m\n                              \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                          \u001b[36m</svg>\u001b[39m\n                          \u001b[36m<span>\u001b[39m\n                            \u001b[0m01:43:25 PM\u001b[0m\n                          \u001b[36m</span>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"p-6 pt-0 px-5 pb-4\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"space-y-3\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<p\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"text-gray-800 leading-relaxed whitespace-pre-wrap\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[0mMessage 0\u001b[0m\n                        \u001b[36m</p>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n       ...\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m     \n     \u001b[90m 34 |\u001b[39m     \u001b[90m// MessageList renders all messages by default (no virtualization currently)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     \u001b[36mconst\u001b[39m renderedMessages \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/message-/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     expect(renderedMessages\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15\n      at Object.getAllByTestId (__tests__/components/ChatComponents.test.tsx:35:37)\n\n  \u25cf test_MessageList_virtualization \u203a should maintain performance with large message lists\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 5000\n    Received:   15861.6682\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m     \n     \u001b[90m 58 |\u001b[39m     \u001b[90m// Should render in reasonable time\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m     expect(renderTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m5000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m\n     \u001b[90m 62 |\u001b[39m   it(\u001b[32m'should handle scroll to bottom correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/components/ChatComponents.test.tsx:59:24)\n\n  \u25cf test_MessageInput_validation \u203a should validate input length\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m   it(\u001b[32m'should validate input length'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m     \n     \u001b[90m 119 |\u001b[39m     \u001b[36mconst\u001b[39m input \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'textbox'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/components/ChatComponents.test.tsx:116:3)\n      at Object.describe (__tests__/components/ChatComponents.test.tsx:107:1)\n\n  \u25cf test_MessageInput_validation \u203a should handle text input and sending\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 130 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 132 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 133 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:132:18)\n\n  \u25cf test_MessageInput_validation \u203a should handle keyboard shortcuts\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Test message\"\n    Received: \"aaaTaeasata amaeasasaaagaeaa\"\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m     \n     \u001b[90m 156 |\u001b[39m     \u001b[90m// Message should still be in input (requires Ctrl+Enter to send)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m     expect(input\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Test message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m\n     \u001b[90m 160 |\u001b[39m   it(\u001b[32m'should prevent empty message submission'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/ChatComponents.test.tsx:157:25)\n\n  \u25cf test_MessageInput_validation \u203a should prevent empty message submission\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:163:18)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx (37.579 s)\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should upload documents to corpus and process with embeddings\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - File {}\n    + FormData {},\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 168 |\u001b[39m       \u001b[90m// The mock doesn't actually update the documents array\u001b[39m\n     \u001b[90m 169 |\u001b[39m       \u001b[90m// We're just testing the API call worked\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 170 |\u001b[39m       expect(corpusService\u001b[33m.\u001b[39muploadDocument)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(file)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 171 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 172 |\u001b[39m\n     \u001b[90m 173 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/comprehensive-integration.test.tsx:170:44)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 2. Synthetic Data Generation Flow \u203a should generate synthetic data based on templates\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m\n     \u001b[90m 197 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 200 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 201 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'processing'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:198:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:197:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should manage cache invalidation and TTL\n\n    TestingLibraryElementError: Unable to find an element with the text: Clear Cache. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Clear Cache'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m       \n     \u001b[90m 322 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 323 |\u001b[39m         expect(useLLMCacheStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcacheSize)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:320:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should browse and select AI models from catalog\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 348 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 350 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 351 |\u001b[39m       expect(useSupplyStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcatalog\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 353 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:350:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should switch between model providers dynamically\n\n    TestingLibraryElementError: Unable to find an element with the text: Switch to Claude. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 373 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 374 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 375 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Switch to Claude'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 376 |\u001b[39m       \n     \u001b[90m 377 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 378 |\u001b[39m         expect(useSupplyStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mactiveModel)\u001b[33m.\u001b[39mtoBe(\u001b[32m'claude-3'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:375:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should manage document references with vector search\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"ref-789\"\n    Received: \"ref-1\"\n\n    \u001b[0m \u001b[90m 406 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 407 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 408 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 409 |\u001b[39m       expect(result\u001b[33m.\u001b[39membedding)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m4\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 410 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 411 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:408:25)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should find similar references using embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 428 |\u001b[39m       \u001b[36mconst\u001b[39m results \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m findSimilar(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 429 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 430 |\u001b[39m       expect(results)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 431 |\u001b[39m       expect(results[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39msimilarity)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0.9\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 432 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 433 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:430:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should manage users and permissions\n\n    TestingLibraryElementError: Unable to find an element with the text: Load Users. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 463 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 464 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 465 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Load Users'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 466 |\u001b[39m       \n     \u001b[90m 467 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 468 |\u001b[39m         expect(getByTestId(\u001b[32m'user-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:465:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should monitor system metrics and usage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 10000\n    Received: undefined\n\n    \u001b[0m \u001b[90m 491 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getSystemMetrics()\u001b[33m;\u001b[39m\n     \u001b[90m 492 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 493 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39mtotal_requests)\u001b[33m.\u001b[39mtoBe(\u001b[35m10000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 494 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39merror_rate)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m0.05\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 495 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:493:38)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should monitor service health status\n\n    TypeError: Cannot read properties of undefined (reading 'database')\n\n    \u001b[0m \u001b[90m 522 |\u001b[39m       \n     \u001b[90m 523 |\u001b[39m       expect(health\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'healthy'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 524 |\u001b[39m       expect(health\u001b[33m.\u001b[39mservices\u001b[33m.\u001b[39mdatabase)\u001b[33m.\u001b[39mtoBe(\u001b[32m'up'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 525 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 526 |\u001b[39m\n     \u001b[90m 527 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.database (__tests__/integration/comprehensive-integration.test.tsx:524:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should handle degraded service states\n\n    Unable to find an element by: [data-testid=\"alert\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 560 |\u001b[39m       \u001b[36mconst\u001b[39m { getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 561 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 562 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 563 |\u001b[39m         expect(getByTestId(\u001b[32m'alert'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 564 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 565 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:562:20)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should load and apply dynamic configurations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 593 |\u001b[39m       \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadConfig()\u001b[33m;\u001b[39m\n     \u001b[90m 594 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 595 |\u001b[39m       expect(config\u001b[33m.\u001b[39mfeatures\u001b[33m.\u001b[39mdark_mode)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 596 |\u001b[39m       expect(useConfigStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mconfig\u001b[33m.\u001b[39mlimits\u001b[33m.\u001b[39mmax_threads)\u001b[33m.\u001b[39mtoBe(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 597 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 598 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:595:41)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should update configuration and propagate changes\n\n    TestingLibraryElementError: Unable to find an element with the text: Enable Beta. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 620 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 621 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 622 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Enable Beta'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 623 |\u001b[39m       \n     \u001b[90m 624 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 625 |\u001b[39m         expect(getByTestId(\u001b[32m'beta-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'enabled'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:622:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle content generation with streaming\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 629 |\u001b[39m\n     \u001b[90m 630 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 631 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 632 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 633 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 634 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:631:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:630:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle generation templates and parameters\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Generated email\"\n    Received string:    \"\"\n\n    \u001b[0m \u001b[90m 704 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 705 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 706 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcontent)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Generated email'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 707 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtokens_used)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 708 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 709 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toContain (__tests__/integration/comprehensive-integration.test.tsx:706:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 11. Multi-Model Provider Switching \u203a should switch between providers based on availability\n\n    TestingLibraryElementError: Unable to find an element with the text: Send Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 785 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 786 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Send Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 787 |\u001b[39m       \n     \u001b[90m 788 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 789 |\u001b[39m         expect(getByTestId(\u001b[32m'fallback'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:786:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 12. Cost Tracking and Budgeting \u203a should track API usage costs in real-time\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 816 |\u001b[39m\n     \u001b[90m 817 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 818 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 819 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 820 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 821 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:818:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:817:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 13. Database Repository Pattern Integration \u203a should handle unit of work pattern for transactions\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Transaction. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 934 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 935 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 936 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Transaction'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 937 |\u001b[39m       \n     \u001b[90m 938 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 939 |\u001b[39m         expect(getByTestId(\u001b[32m'status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'committed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:936:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 14. Migration Handling \u203a should handle migration rollback on failure\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 1013 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m applyMigration(\u001b[32m'004'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1014 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1015 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1016 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrolled_back)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1017 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1018 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:1015:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 15. Background Task Processing \u203a should queue and process background tasks\n\n    TestingLibraryElementError: Unable to find an element with the text: Queue Task. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1074 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1075 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1076 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Queue Task'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1077 |\u001b[39m       \n     \u001b[90m 1078 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1079 |\u001b[39m         expect(getByTestId(\u001b[32m'task-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1076:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should propagate trace IDs through requests\n\n    TestingLibraryElementError: Unable to find an element with the text: Make Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1256 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1257 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1258 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Make Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1259 |\u001b[39m       \n     \u001b[90m 1260 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1261 |\u001b[39m         expect(getByTestId(\u001b[32m'trace-id'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(traceId)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1258:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should capture error context with stack traces\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Error. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1302 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1303 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1304 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Trigger Error'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1305 |\u001b[39m       \n     \u001b[90m 1306 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1307 |\u001b[39m         expect(getByTestId(\u001b[32m'error-trace'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'trace-error-123'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1304:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 20. Key Manager Integration \u203a should rotate API keys periodically\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"rotation-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1435 |\u001b[39m       \n     \u001b[90m 1436 |\u001b[39m       \u001b[90m// Component would handle rotation in production\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1437 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'rotation-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1438 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1439 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1440 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1437:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 21. Demo Mode Functionality \u203a should restrict features in demo mode\n\n    TestingLibraryElementError: Unable to find an element with the text: Delete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1466 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1467 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1468 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Delete'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1469 |\u001b[39m       \n     \u001b[90m 1470 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1471 |\u001b[39m         expect(getByTestId(\u001b[32m'message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disabled in demo mode'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1468:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 22. Enterprise Demo Features \u203a should handle team collaboration workflows\n\n    TestingLibraryElementError: Unable to find an element with the text: Share Thread. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1568 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1569 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1570 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Share Thread'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1571 |\u001b[39m       \n     \u001b[90m 1572 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1573 |\u001b[39m         expect(getByTestId(\u001b[32m'shared-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1570:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TestingLibraryElementError: Unable to find an element with the text: Export JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1740 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1741 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1742 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Export JSON'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1743 |\u001b[39m       \n     \u001b[90m 1744 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1745 |\u001b[39m         expect(getByTestId(\u001b[32m'export-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1742:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should handle large data exports with progress\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"progress\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1775 |\u001b[39m       \n     \u001b[90m 1776 |\u001b[39m       \u001b[90m// In real scenario, SSE would update progress\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1777 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'progress'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1778 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1779 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1780 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1777:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should handle real-time collaborative editing\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1849 |\u001b[39m\n     \u001b[90m 1850 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1851 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1852 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1853 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1854 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1851:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should synchronize cursor positions between users\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1892 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1893 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1894 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1895 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1896 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1897 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1894:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1850:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 28. Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1952 |\u001b[39m\n     \u001b[90m 1953 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1954 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1955 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1956 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1957 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1954:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1953:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:115:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 29. Agent Tool Dispatcher Integration \u203a should handle tool chaining and dependencies\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Chain. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2098 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2099 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2100 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Chain'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2101 |\u001b[39m       \n     \u001b[90m 2102 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2103 |\u001b[39m         expect(getByTestId(\u001b[32m'chain-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2100:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 30. State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TestingLibraryElementError: Unable to find an element with the text: Load State. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2207 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2208 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2209 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Load State'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2210 |\u001b[39m       \n     \u001b[90m 2211 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2212 |\u001b[39m         expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State corrupted, using defaults'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2209:23)\n\nFAIL __tests__/integration/critical-integration.test.tsx (55.296 s)\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m       \n     \u001b[90m 85 |\u001b[39m       \u001b[90m// Create a new server with token in URL\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m       \u001b[36mconst\u001b[39m wsServer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m`ws://localhost:8000/ws?token=${mockToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m       \n     \u001b[90m 88 |\u001b[39m       \u001b[90m// Set authenticated state\u001b[39m\n     \u001b[90m 89 |\u001b[39m       useAuthStore\u001b[33m.\u001b[39msetState({ \u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:86:24)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m login \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 196 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m     it(\u001b[32m'should sync agent reports with chat messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 199 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m         \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m useChatStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mmessages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:197:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 285 |\u001b[39m       }\n     \u001b[90m 286 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 287 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39misAuthenticated)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 288 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39muser)\u001b[33m.\u001b[39mtoEqual(mockUser)\u001b[33m;\u001b[39m\n     \u001b[90m 289 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 290 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical-integration.test.tsx:287:55)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'createThread')\n\n    \u001b[0m \u001b[90m 304 |\u001b[39m       \n     \u001b[90m 305 |\u001b[39m       \u001b[90m// Create thread through service\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 306 |\u001b[39m       \u001b[36mconst\u001b[39m thread \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m threadService\u001b[33m.\u001b[39mcreateThread(\u001b[32m'New Thread'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 307 |\u001b[39m       \n     \u001b[90m 308 |\u001b[39m       \u001b[90m// Update store\u001b[39m\n     \u001b[90m 309 |\u001b[39m       useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39maddThread(thread)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createThread (__tests__/integration/critical-integration.test.tsx:306:42)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: _messageService.messageService.getMessages is not a function\n\n    \u001b[0m \u001b[90m 356 |\u001b[39m       \n     \u001b[90m 357 |\u001b[39m       \u001b[90m// Load thread 1\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 358 |\u001b[39m       \u001b[36mawait\u001b[39m messageService\u001b[33m.\u001b[39mgetMessages(\u001b[32m'thread-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 359 |\u001b[39m       useChatStore\u001b[33m.\u001b[39msetState({ messages\u001b[33m:\u001b[39m thread1Messages\u001b[33m,\u001b[39m currentThread\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m       \n     \u001b[90m 361 |\u001b[39m       expect(useChatStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual(thread1Messages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getMessages (__tests__/integration/critical-integration.test.tsx:358:28)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 371 |\u001b[39m\n     \u001b[90m 372 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 373 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 374 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 375 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:373:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     it(\u001b[32m'should handle message interruption gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 426 |\u001b[39m         \u001b[36mconst\u001b[39m { isProcessing\u001b[33m,\u001b[39m sendMessage\u001b[33m,\u001b[39m stopProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:424:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:372:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 469 |\u001b[39m\n     \u001b[90m 470 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 471 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 472 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 473 |\u001b[39m         \u001b[36mconst\u001b[39m { status\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m         \u001b[36mconst\u001b[39m isConnected \u001b[33m=\u001b[39m status \u001b[33m===\u001b[39m \u001b[32m'OPEN'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:471:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:470:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should retry failed API calls with exponential backoff\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    Unable to find an element with the text: Session Expired. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 579 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 580 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 581 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 582 |\u001b[39m         expect(getByText(\u001b[32m'Session Expired'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 583 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 584 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:581:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should sync local state with server state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    Unable to find an element with the text: Threads: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 648 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 649 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 650 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 651 |\u001b[39m         expect(getByText(\u001b[32m'Threads: 1'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 652 |\u001b[39m         expect(getByText(\u001b[32m'Messages: 1'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 653 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:650:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should upload file and process with agent\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should track upload progress\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 711 |\u001b[39m\n     \u001b[90m 712 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 713 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 714 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 715 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 716 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:713:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:712:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should apply optimization and track results\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 789 |\u001b[39m\n     \u001b[90m 790 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 791 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 792 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 794 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:791:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 853 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 854 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 855 |\u001b[39m     it(\u001b[32m'should handle agent pipeline failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 856 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 857 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m error } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 858 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:855:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:790:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TestingLibraryElementError: Unable to find an element with the text: API Call. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 932 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 933 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 934 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'API Call'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 935 |\u001b[39m       \n     \u001b[90m 936 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 937 |\u001b[39m         expect(metrics\u001b[33m.\u001b[39mapi_response_time\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:934:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should detect and report performance degradation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should cache and reuse API responses\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should invalidate cache on mutations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1021 |\u001b[39m\n     \u001b[90m 1022 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1023 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1024 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1025 |\u001b[39m       \n     \u001b[90m 1026 |\u001b[39m       \u001b[36mconst\u001b[39m notify \u001b[33m=\u001b[39m (type\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m message\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:1023:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1022:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should queue notifications when offline\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"action\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1133 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mkeyDown(window\u001b[33m,\u001b[39m { key\u001b[33m:\u001b[39m \u001b[32m'k'\u001b[39m\u001b[33m,\u001b[39m metaKey\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 1134 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1135 |\u001b[39m       expect(getByTestId(\u001b[32m'action'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'openSearch'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1136 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n     \u001b[90m 1138 |\u001b[39m     it(\u001b[32m'should prevent shortcut conflicts in input fields'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1135:14)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1159 |\u001b[39m       \u001b[36mconst\u001b[39m { getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1160 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1161 |\u001b[39m       \u001b[36mconst\u001b[39m input \u001b[33m=\u001b[39m getByTestId(\u001b[32m'input'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1162 |\u001b[39m       input\u001b[33m.\u001b[39mfocus()\u001b[33m;\u001b[39m\n     \u001b[90m 1163 |\u001b[39m       \n     \u001b[90m 1164 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mkeyDown(input\u001b[33m,\u001b[39m { key\u001b[33m:\u001b[39m \u001b[32m'Enter'\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1161:21)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TestingLibraryElementError: Unable to find an element with the text: Settings. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1199 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1200 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1201 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Settings'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1202 |\u001b[39m       \n     \u001b[90m 1203 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1204 |\u001b[39m         expect(document\u001b[33m.\u001b[39mactiveElement)\u001b[33m.\u001b[39mtoBe(getByTestId(\u001b[32m'settings-view'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1201:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Update. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1224 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1225 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1226 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Trigger Update'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1227 |\u001b[39m       \n     \u001b[90m 1228 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1229 |\u001b[39m         \u001b[36mconst\u001b[39m announcer \u001b[33m=\u001b[39m getByTestId(\u001b[32m'announcer'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1226:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n\nTest Suites: 27 failed, 19 passed, 46 total\nTests:       297 failed, 537 passed, 834 total\nSnapshots:   0 total\nTime:        61.319 s\nRan all test suites.\n",
      "test_counts": {
        "total": 343,
        "passed": 19,
        "failed": 324,
        "skipped": 0,
        "errors": 0,
        "test_files": 43
      },
      "coverage": null
    },
    "e2e": {
      "status": "pending",
      "duration": 0,
      "exit_code": null,
      "output": "",
      "test_counts": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      },
      "coverage": null
    },
    "overall": {
      "status": "failed",
      "start_time": 1755031391.377518,
      "end_time": 1755031460.447056
    }
  }
}