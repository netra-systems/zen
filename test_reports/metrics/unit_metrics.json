{
  "timestamp": "2025-08-12T13:40:00.025328",
  "level": "unit",
  "metrics": {
    "total_tests": 577,
    "passed": 238,
    "failed": 339,
    "coverage": null
  },
  "results": {
    "backend": {
      "status": "failed",
      "duration": 42.61296844482422,
      "exit_code": 2,
      "output": "================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: development\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings\n================================================================================\n\u001b[1m============================= test session starts =============================\u001b[0m\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\antho\\miniconda3\\python.exe\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.4', 'Platform': 'Windows-11-10.0.26100-SP0', 'Packages': {'pytest': '8.4.1', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'Faker': '37.4.2', 'langsmith': '0.4.10', 'asyncio': '0.21.1', 'cov': '6.2.1', 'html': '4.1.1', 'json-report': '1.5.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'timeout': '2.4.0', 'xdist': '3.8.0', 'typeguard': '4.4.4'}}\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.4.2, langsmith-0.4.10, asyncio-0.21.1, cov-6.2.1, html-4.1.1, json-report-1.5.0, metadata-3.1.1, mock-3.14.1, timeout-2.4.0, xdist-3.8.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO\ncreated: 4/4 workers\n4 workers [1439 items]\n\nscheduling tests via LoadScheduling\n\napp\\tests\\services\\agents\\test_supervisor_service.py::test_supervisor_end_to_end \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_failure_recovery \napp\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_bulk_create \napp\\tests\\services\\test_generation_service_fixed.py::TestClickHouseOperationsMocked::test_get_corpus_from_clickhouse_mocked \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\agents\\test_supervisor_service.py::test_supervisor_end_to_end \napp\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher \n[gw3]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_generation_service_fixed.py::TestClickHouseOperationsMocked::test_get_corpus_from_clickhouse_mocked \napp\\tests\\services\\test_generation_service_fixed.py::TestClickHouseOperationsMocked::test_save_corpus_to_clickhouse_mocked \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_bulk_create \n[gw3]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_generation_service_fixed.py::TestClickHouseOperationsMocked::test_save_corpus_to_clickhouse_mocked \napp\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_get_by_id \napp\\tests\\services\\test_job_store_service.py::TestJobStore::test_job_store_initialization \n[gw3]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_job_store_service.py::TestJobStore::test_job_store_initialization \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher \napp\\tests\\services\\test_job_store_service.py::TestJobStore::test_set_and_get_job \napp\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_not_found \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_get_by_id \n[gw3]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_job_store_service.py::TestJobStore::test_set_and_get_job \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_not_found \napp\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_get_many \napp\\tests\\services\\test_job_store_service.py::TestJobStore::test_update_job_status \napp\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_error \n[gw3]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_job_store_service.py::TestJobStore::test_update_job_status \napp\\tests\\services\\test_job_store_service.py::TestJobStore::test_nonexistent_job \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_error \napp\\tests\\services\\apex_optimizer_agent\\test_tool_builder.py::test_tool_builder_and_dispatcher \n[gw3]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_job_store_service.py::TestJobStore::test_nonexistent_job \napp\\tests\\services\\test_job_store_service.py::TestJobStore::test_global_job_store \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_get_many \napp\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_update \n[gw3]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_job_store_service.py::TestJobStore::test_global_job_store \napp\\tests\\services\\test_key_manager.py::test_load_from_settings_success \n[gw3]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_key_manager.py::test_load_from_settings_success \napp\\tests\\services\\test_key_manager.py::test_load_from_settings_jwt_key_too_short \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\test_tool_builder.py::test_tool_builder_and_dispatcher \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_update \napp\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_delete \n[gw3]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_key_manager.py::test_load_from_settings_jwt_key_too_short \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_advanced_optimization_for_core_function.py::test_advanced_optimization_for_core_function_tool \napp\\tests\\services\\test_llm_cache_service.py::test_llm_cache_service_initialization \n[gw3]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_cache_service.py::test_llm_cache_service_initialization \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_advanced_optimization_for_core_function.py::test_advanced_optimization_for_core_function_tool \napp\\tests\\services\\test_llm_cache_service.py::test_cache_set_and_get \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_basic \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_basic \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_full \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_full \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_validation_missing_required \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_delete \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_validation_missing_required \n[gw3]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_cache_service.py::test_cache_set_and_get \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_dict_conversion \napp\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_soft_delete \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_dict_conversion \napp\\tests\\services\\test_llm_cache_service.py::test_cache_expiration \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_json_serialization \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_json_serialization \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_edge_cases \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_edge_cases \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_instantiation \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_instantiation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_get_metadata \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_soft_delete \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_get_metadata \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_wrapper \napp\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_pagination \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_wrapper \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_failure \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_failure \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_concrete_tool_run_method \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_concrete_tool_run_method \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_llm_name \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestBaseRepository::test_repository_pagination \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_llm_name \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_multiple_executions \napp\\tests\\services\\test_database_repositories.py::TestMessageRepository::test_get_messages_by_thread \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_multiple_executions \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_concurrent_execution \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_concurrent_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_without_metadata_attribute \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestMessageRepository::test_get_messages_by_thread \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_without_metadata_attribute \napp\\tests\\services\\test_database_repositories.py::TestMessageRepository::test_get_messages_with_pagination \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_inheritance_chain \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_inheritance_chain \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_complex_kwargs \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_complex_kwargs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_exception_types \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_exception_types \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_failure_recovery \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_async_delay \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_timeout_handling \n[gw1]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestMessageRepository::test_get_messages_with_pagination \napp\\tests\\services\\test_database_repositories.py::TestMessageRepository::test_get_latest_messages \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_timeout_handling \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_async_delay \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_basic_functionality \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_basic_functionality \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_empty_logs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_empty_logs \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_single_log \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_circuit_breaker_pattern \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_single_log \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_large_costs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_large_costs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_zero_costs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_zero_costs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_fractional_cents \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_fractional_cents \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_exception_handling \n[gw1]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestMessageRepository::test_get_latest_messages \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_exception_handling \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_async_execution \napp\\tests\\services\\test_database_repositories.py::TestThreadRepository::test_get_threads_by_user \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_circuit_breaker_pattern \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_cost_optimization \n[gw1]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestThreadRepository::test_get_threads_by_user \napp\\tests\\services\\test_database_repositories.py::TestThreadRepository::test_get_active_threads \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_cost_optimization \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_latency_optimization \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_latency_optimization \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_cache_optimization \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_cache_optimization \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_model_analysis \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_model_analysis \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_multi_objective \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_async_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_concurrent_logs \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_multi_objective \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_empty_query \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_empty_query \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_llm_failure \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_llm_failure \napp\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_invalid_json_response \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_concurrent_logs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_negative_costs \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_negative_costs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_mixed_model_types \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_mixed_model_types \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_partial_failure \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_partial_failure \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_rounding_edge_cases \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_rounding_edge_cases \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_reduction_quality_preservation.py::test_cost_reduction_quality_preservation_tool \n[gw1]\u001b[36m [  5%] \u001b[0m\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_database_repositories.py::TestThreadRepository::test_get_active_threads \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_reduction_quality_preservation.py::test_cost_reduction_quality_preservation_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_simulation_for_increased_usage.py::test_cost_simulation_for_increased_usage_tool \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_simulation_for_increased_usage.py::test_cost_simulation_for_increased_usage_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_kv_cache_optimization_audit.py::test_kv_cache_optimization_audit_tool \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_kv_cache_optimization_audit.py::test_kv_cache_optimization_audit_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_basic_functionality \n[gw2]\u001b[36m [  5%] \u001b[0m\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::TestApexOptimizerToolSelection::test_tool_selection_invalid_json_response \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_basic_functionality \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_empty_logs \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_empty_logs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_single_log \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_single_log \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_high_latency_values \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_high_latency_values \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_zero_latency \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_zero_latency \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_sub_millisecond_latency \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_sub_millisecond_latency \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_exception_handling \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_exception_handling \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_async_execution \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_async_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_large_dataset \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_large_dataset \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_varied_latencies \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_varied_latencies \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_partial_failure \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_partial_failure \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_edge_case_rounding \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_edge_case_rounding \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_negative_latencies \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_negative_latencies \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_mixed_response_formats \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_mixed_response_formats \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_extreme_values \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_extreme_values \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_concurrent_execution_timing \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_concurrent_execution_timing \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::test_multi_objective_optimization_tool \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::test_multi_objective_optimization_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_new_model_effectiveness_analysis.py::test_new_model_effectiveness_analysis_tool \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_new_model_effectiveness_analysis.py::test_new_model_effectiveness_analysis_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_tool_latency_optimization.py::test_tool_latency_optimization_tool \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_tool_latency_optimization.py::test_tool_latency_optimization_tool \napp\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_process_user_message \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_process_user_message \napp\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_handle_tool_execution \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_handle_tool_execution \napp\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_message_validation \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_message_validation \napp\\tests\\services\\test_agent_service.py::test_run_agent \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service.py::test_run_agent \napp\\tests\\services\\test_agent_service_advanced.py::test_agent_service_initialization \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_advanced.py::test_agent_service_initialization \napp\\tests\\services\\test_agent_service_advanced.py::test_agent_service_process_request \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_advanced.py::test_agent_service_process_request \napp\\tests\\services\\test_agent_service_advanced.py::test_agent_service_websocket_message_handling \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_advanced.py::test_agent_service_websocket_message_handling \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_agent_service_initialization \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_agent_service_initialization \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_agent_run_execution \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_agent_run_execution \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_agent_run_with_model_dump_fallback \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_agent_run_with_model_dump_fallback \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_start_agent \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_start_agent \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_user_message \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_user_message \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_thread_operations \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_thread_operations \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_stop_agent \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_stop_agent \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_unknown_type \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_unknown_type \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_json_error \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_message_handling_json_error \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_disconnect_handling \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_websocket_disconnect_handling \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_concurrent_agent_execution \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_concurrent_agent_execution \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_message_parsing_string_input \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_message_parsing_string_input \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_message_parsing_dict_input \n[gw0]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestration::test_message_parsing_dict_input \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_pool_management \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_pool_management \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_failure_handling \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_failure_handling \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_state_transitions \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_state_transitions \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_get_weights_for_content_types \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_get_weights_for_content_types \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_weighted_score \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_weighted_score \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_check_thresholds_all_content_types \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_check_thresholds_all_content_types \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_generate_suggestions_for_issues \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_generate_suggestions_for_issues \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_generate_prompt_adjustments \n[gw0]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_generate_prompt_adjustments \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_store_metrics_in_memory_and_redis \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_store_metrics_in_memory_and_redis \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_get_quality_stats \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_get_quality_stats \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_batch_processing \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_batch_processing \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_batch_with_context \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_batch_with_context \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_error_handling_in_validation \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_error_handling_in_validation \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_memory_metrics_limit \n[gw3]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_cache_service.py::test_cache_expiration \napp\\tests\\services\\test_llm_cache_service.py::test_cache_size_limit \n[gw3]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_cache_service.py::test_cache_size_limit \napp\\tests\\services\\test_llm_cache_service.py::test_cache_stats \n[gw3]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_cache_service.py::test_cache_stats \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_registration \n[gw3]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_registration \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_health_check_success \n[gw3]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_health_check_success \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_memory_metrics_limit \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_health_check_failure \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_pattern_compilation_in_init \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_pattern_compilation_in_init \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_redis_manager_error_handling \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_redis_manager_error_handling \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_novelty_without_redis \n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_novelty_without_redis \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_domain_terms_recognition \n[gw0]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_domain_terms_recognition \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_content_type_specific_thresholds \n[gw0]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_content_type_specific_thresholds \napp\\tests\\services\\test_quality_gate_service_comprehensive.py::TestQualityMetricsDataclass::test_quality_metrics_defaults \n[gw0]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service_comprehensive.py::TestQualityMetricsDataclass::test_quality_metrics_defaults \napp\\tests\\services\\test_quality_gate_service_comprehensive.py::TestQualityMetricsDataclass::test_quality_metrics_custom_values \n[gw0]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service_comprehensive.py::TestQualityMetricsDataclass::test_quality_metrics_custom_values \napp\\tests\\services\\test_quality_gate_service_comprehensive.py::TestValidationResultDataclass::test_validation_result_initialization \n[gw0]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service_comprehensive.py::TestValidationResultDataclass::test_validation_result_initialization \napp\\tests\\services\\test_quality_gate_service_comprehensive.py::TestValidationResultDataclass::test_validation_result_defaults \n[gw0]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service_comprehensive.py::TestValidationResultDataclass::test_validation_result_defaults \napp\\tests\\services\\test_quality_gate_service_comprehensive.py::TestCompleteMetricsCalculation::test_calculate_metrics_complete_workflow \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_health_check_failure \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_round_robin_provider_selection \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_round_robin_provider_selection \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_weighted_provider_selection \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_weighted_provider_selection \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_invoke_success \n[gw0]\u001b[36m [ 10%] \u001b[0m\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_quality_gate_service_comprehensive.py::TestCompleteMetricsCalculation::test_calculate_metrics_complete_workflow \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_invoke_success \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_invoke_preferred_provider \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_invoke_preferred_provider \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_invoke_provider_failure \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_invoke_provider_failure \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_all_providers_fail \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_failover_all_providers_fail \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_cooldown_period \n[gw3]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_cooldown_period \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_concurrent_provider_switching \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_concurrent_provider_switching \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_statistics_collection \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerProviderSwitching::test_provider_statistics_collection \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerLoadBalancing::test_response_time_based_load_balancing \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerLoadBalancing::test_response_time_based_load_balancing \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerLoadBalancing::test_adaptive_load_balancing \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerLoadBalancing::test_adaptive_load_balancing \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerLoadBalancing::test_geographic_load_balancing \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerLoadBalancing::test_geographic_load_balancing \napp\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerStructuredOutput::test_structured_output_with_failover \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_llm_manager_provider_switching.py::TestLLMManagerStructuredOutput::test_structured_output_with_failover \napp\\tests\\services\\test_message_handlers.py::test_message_handler_service_initialization \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_message_handlers.py::test_message_handler_service_initialization \napp\\tests\\services\\test_message_handlers.py::test_handle_start_agent \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_message_handlers.py::test_handle_start_agent \napp\\tests\\services\\test_message_handlers.py::test_websocket_schema_imports \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_message_handlers.py::test_websocket_schema_imports \napp\\tests\\services\\test_overall_supervisor.py::test_overall_supervisor_workflow \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_overall_supervisor.py::test_overall_supervisor_workflow \napp\\tests\\services\\test_permission_service.py::TestPermissionServiceConstants::test_role_hierarchy_ordering \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestPermissionServiceConstants::test_role_hierarchy_ordering \napp\\tests\\services\\test_permission_service.py::TestPermissionServiceConstants::test_role_permissions_inheritance \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestPermissionServiceConstants::test_role_permissions_inheritance \napp\\tests\\services\\test_permission_service.py::TestPermissionServiceConstants::test_critical_permissions_restricted \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestPermissionServiceConstants::test_critical_permissions_restricted \napp\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_dev_mode_env \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_dev_mode_env \napp\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_netra_email \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_netra_email \napp\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_dev_environment \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_dev_environment \napp\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_priority_order \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_priority_order \napp\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_none_email \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestDetectDeveloperStatus::test_detect_developer_with_none_email \napp\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_auto_elevate_to_developer \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_auto_elevate_to_developer \napp\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_no_elevation_for_admin \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_no_elevation_for_admin \napp\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_no_elevation_for_super_admin \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_no_elevation_for_super_admin \napp\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_skip_developer_check \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_skip_developer_check \napp\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_already_developer \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_already_developer \napp\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_power_user_elevation \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestUpdateUserRole::test_update_user_role_power_user_elevation \napp\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_standard_user \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_standard_user \napp\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_super_admin \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_super_admin \napp\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_developer \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_developer \napp\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_invalid_role \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_invalid_role \napp\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_none_role \n[gw3]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestCheckPermission::test_check_permission_none_role \napp\\tests\\services\\test_permission_service.py::TestGetUserPermissions::test_get_user_permissions_standard_user \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestGetUserPermissions::test_get_user_permissions_standard_user \napp\\tests\\services\\test_permission_service.py::TestGetUserPermissions::test_get_user_permissions_super_admin \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestGetUserPermissions::test_get_user_permissions_super_admin \napp\\tests\\services\\test_permission_service.py::TestGetUserPermissions::test_get_user_permissions_invalid_role \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestGetUserPermissions::test_get_user_permissions_invalid_role \napp\\tests\\services\\test_permission_service.py::TestAdminChecks::test_is_admin_or_higher \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestAdminChecks::test_is_admin_or_higher \napp\\tests\\services\\test_permission_service.py::TestAdminChecks::test_is_developer_or_higher \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestAdminChecks::test_is_developer_or_higher \napp\\tests\\services\\test_permission_service.py::TestPermissionGroups::test_has_any_permission \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestPermissionGroups::test_has_any_permission \napp\\tests\\services\\test_permission_service.py::TestPermissionGroups::test_has_all_permissions \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestPermissionGroups::test_has_all_permissions \napp\\tests\\services\\test_permission_service.py::TestSecurityEdgeCases::test_sql_injection_in_permission_check \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestSecurityEdgeCases::test_sql_injection_in_permission_check \napp\\tests\\services\\test_permission_service.py::TestSecurityEdgeCases::test_case_sensitivity_in_roles \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestSecurityEdgeCases::test_case_sensitivity_in_roles \napp\\tests\\services\\test_permission_service.py::TestSecurityEdgeCases::test_permission_escalation_attempt \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestSecurityEdgeCases::test_permission_escalation_attempt \napp\\tests\\services\\test_permission_service.py::TestIntegrationScenarios::test_new_user_onboarding_flow \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestIntegrationScenarios::test_new_user_onboarding_flow \napp\\tests\\services\\test_permission_service.py::TestIntegrationScenarios::test_production_environment_security \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_permission_service.py::TestIntegrationScenarios::test_production_environment_security \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_high_quality_optimization_content \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_high_quality_optimization_content \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_low_quality_generic_content \n[gw3]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_low_quality_generic_content \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_detect_circular_reasoning \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_detect_circular_reasoning \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_data_analysis_with_metrics \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_data_analysis_with_metrics \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_action_plan_completeness \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_action_plan_completeness \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_with_strict_mode \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_with_strict_mode \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_error_message_clarity \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_error_message_clarity \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_report_redundancy \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_validate_report_redundancy \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_domain_specific_term_recognition \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_domain_specific_term_recognition \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_caching_mechanism \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_caching_mechanism \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_retry_suggestions_for_failed_validation \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_retry_suggestions_for_failed_validation \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_hallucination_risk_detection \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_hallucination_risk_detection \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_triage_content_validation \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_triage_content_validation \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_context_aware_validation \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_context_aware_validation \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_quality_level_classification \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_quality_level_classification \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_specificity_scores \n[gw3]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_specificity_scores \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_actionability_scores \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_actionability_scores \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_quantification_scores \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_quantification_scores \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_relevance_with_context \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_relevance_with_context \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_completeness_by_content_type \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_completeness_by_content_type \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_novelty_with_redis \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_novelty_with_redis \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_clarity_scores \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_clarity_scores \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_redundancy_detection \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_redundancy_detection \napp\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_hallucination_risk \n[gw3]\u001b[36m [ 15%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_quality_gate_service.py::TestQualityGateService::test_calculate_hallucination_risk \n\n================================== FAILURES ===================================\n\u001b[31m\u001b[1m________________ TestThreadRepository.test_get_active_threads _________________\u001b[0m\n[gw1] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mapp\\tests\\services\\test_database_repositories.py\u001b[0m:772: in test_get_active_threads\n    \u001b[0m\u001b[94massert\u001b[39;49;00m active[\u001b[94m0\u001b[39;49;00m].id == active_thread.id\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: assert 'active_thread' == 'thread_1755031120.0618103'\u001b[0m\n\u001b[1m\u001b[31mE     \u001b[0m\n\u001b[1m\u001b[31mE     \u001b[0m\u001b[91m- thread_1755031120.0618103\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\u001b[0m\n\u001b[1m\u001b[31mE     \u001b[92m+ active_thread\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n---------------------------- Captured stderr call -----------------------------\n2025-08-12 13:38:40.079 | ERROR    | app.services.database.unit_of_work:__aexit__:52 | UnitOfWork rolled back due to exception: assert 'active_thread' == 'thread_1755031120.0618103'\n  \n  \u001b[0m\u001b[91m- thread_1755031120.0618103\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n  \u001b[92m+ active_thread\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[31m\u001b[1m__ TestApexOptimizerToolSelection.test_tool_selection_invalid_json_response ___\u001b[0m\n[gw2] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mapp\\tests\\services\\test_apex_optimizer_tool_selection.py\u001b[0m:524: in test_tool_selection_invalid_json_response\n    \u001b[0m\u001b[94mawait\u001b[39;49;00m apex_tool_selector.run(sample_agent_state)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mapp\\services\\apex_optimizer_agent\\tools\\tool_dispatcher.py\u001b[0m:30: in run\n    \u001b[0mstate.current_tool_name = tool_data.get(\u001b[33m\"\u001b[39;49;00m\u001b[33mtool_name\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m)\u001b[90m\u001b[39;49;00m\n                              ^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AttributeError: 'str' object has no attribute 'get'\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[31m\u001b[1m___ TestCompleteMetricsCalculation.test_calculate_metrics_complete_workflow ___\u001b[0m\n[gw0] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mapp\\tests\\services\\test_quality_gate_service_comprehensive.py\u001b[0m:164: in test_calculate_metrics_complete_workflow\n    \u001b[0m\u001b[94massert\u001b[39;49;00m metrics.completeness_score > \u001b[94m0.7\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: assert 0.6 > 0.7\u001b[0m\n\u001b[1m\u001b[31mE    +  where 0.6 = QualityMetrics(specificity_score=0.85, actionability_score=0.9000000000000001, quantification_score=1.0, relevance_score=0.75, completeness_score=0.6, novelty_score=0.5, clarity_score=1.0, generic_phrase_count=0, circular_reasoning_detected=False, hallucination_risk=0.0, redundancy_ratio=0.0, word_count=101, sentence_count=9, numeric_values_count=25, specific_terms_count=0, overall_score=0.8600000000000001, quality_level=<QualityLevel.GOOD: 'good'>, issues=[], suggestions=[]).completeness_score\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[36m\u001b[1m=========================== short test summary info ===========================\u001b[0m\n\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_database_repositories.py::\u001b[1mTestThreadRepository::test_get_active_threads\u001b[0m - AssertionError: assert 'active_thread' == 'thread_1755031120.0618103'\n  \n  \u001b[0m\u001b[91m- thread_1755031120.0618103\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n  \u001b[92m+ active_thread\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection.py::\u001b[1mTestApexOptimizerToolSelection::test_tool_selection_invalid_json_response\u001b[0m - AttributeError: 'str' object has no attribute 'get'\n\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_quality_gate_service_comprehensive.py::\u001b[1mTestCompleteMetricsCalculation::test_calculate_metrics_complete_workflow\u001b[0m - AssertionError: assert 0.6 > 0.7\n +  where 0.6 = QualityMetrics(specificity_score=0.85, actionability_score=0.9000000000000001, quantification_score=1.0, relevance_score=0.75, completeness_score=0.6, novelty_score=0.5, clarity_score=1.0, generic_phrase_count=0, circular_reasoning_detected=False, hallucination_risk=0.0, redundancy_ratio=0.0, word_count=101, sentence_count=9, numeric_values_count=25, specific_terms_count=0, overall_score=0.8600000000000001, quality_level=<QualityLevel.GOOD: 'good'>, issues=[], suggestions=[]).completeness_score\n\u001b[31m!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 3 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\u001b[0m\n!!!!!!!!!!!! xdist.dsession.Interrupted: stopping after 1 failures !!!!!!!!!!!!\n\u001b[31m======================= \u001b[31m\u001b[1m3 failed\u001b[0m, \u001b[32m220 passed\u001b[0m\u001b[31m in 32.59s\u001b[0m\u001b[31m ========================\u001b[0m\n================================================================================\n[FAIL] TESTS FAILED with exit code 2 after 41.70s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n",
      "test_counts": {
        "total": 223,
        "passed": 220,
        "failed": 3,
        "skipped": 0,
        "errors": 0,
        "test_files": 29
      },
      "coverage": null
    },
    "frontend": {
      "status": "failed",
      "duration": 61.32042717933655,
      "exit_code": 1,
      "output": "\n> netra-frontend-apex-v1@0.1.0 test\n> jest __tests__/unit components/**/*.test.tsx hooks/**/*.test.ts\n\n  Invalid testPattern __tests__/unit|components/**/*.test.tsx|hooks/**/*.test.ts supplied. Running all tests instead.\n  Invalid testPattern __tests__/unit|components/**/*.test.tsx|hooks/**/*.test.ts supplied. Running all tests instead.\n================================================================================\nNETRA AI PLATFORM - FRONTEND TEST RUNNER\n================================================================================\n\n================================================================================\nRunning Jest Tests\n--------------------------------------------------------------------------------\nRunning: npm run test -- __tests__/unit components/**/*.test.tsx hooks/**/*.test.ts\n--------------------------------------------------------------------------------\n\n================================================================================\n[FAIL] CHECKS FAILED with exit code 1\n================================================================================\n\nFAIL __tests__/hooks/useAgent.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseWebSocket' before initialization\n\n    \u001b[0m \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 28 |\u001b[39m   useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 29 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 30 |\u001b[39m\n     \u001b[90m 31 |\u001b[39m describe(\u001b[32m'useAgent'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at mockUseWebSocket (__tests__/hooks/useAgent.test.tsx:28:17)\n      at Object.<anonymous> (hooks/useAgent.ts:12:23)\n      at Object.<anonymous> (__tests__/hooks/useAgent.test.tsx:22:19)\n\nFAIL __tests__/hooks/useWebSocket.test.tsx\n  \u25cf useWebSocket \u203a should return WebSocket context values\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 0\n    + Received  + 5\n\n    @@ -4,8 +4,13 @@\n        \"disconnect\": [Function mockConstructor],\n        \"error\": null,\n        \"isConnected\": true,\n        \"lastMessage\": null,\n        \"messageQueue\": Array [],\n    +   \"messages\": Array [],\n        \"reconnectAttempts\": 0,\n        \"sendMessage\": [Function mockConstructor],\n    +   \"status\": \"OPEN\",\n    +   \"subscribe\": [Function mockConstructor],\n    +   \"unsubscribe\": [Function mockConstructor],\n    +   \"ws\": null,\n      }\n\n    \u001b[0m \u001b[90m 56 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 58 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoEqual(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 59 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoBe(mockSendMessage)\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39misConnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/hooks/useWebSocket.test.tsx:58:28)\n\n  \u25cf useWebSocket \u203a should handle null context gracefully\n\n    expect(received).toBeNull()\n\n    Received: {\"connect\": [Function mockConstructor], \"connectionState\": \"connected\", \"disconnect\": [Function mockConstructor], \"error\": null, \"isConnected\": true, \"lastMessage\": null, \"messageQueue\": [], \"messages\": [], \"reconnectAttempts\": 0, \"sendMessage\": [Function mockConstructor], \"status\": \"OPEN\", \"subscribe\": [Function mockConstructor], \"unsubscribe\": [Function mockConstructor], \"ws\": null}\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m\n     \u001b[90m 73 |\u001b[39m   it(\u001b[32m'should call sendMessage when invoked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeNull (__tests__/hooks/useWebSocket.test.tsx:70:28)\n\n  \u25cf useWebSocket \u203a should call sendMessage when invoked\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage(message)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(message)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocket.test.tsx:81:29)\n\n  \u25cf useWebSocket \u203a should reflect connection state changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m     rerender()\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39misConnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnectionState)\u001b[33m.\u001b[39mtoBe(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:102:40)\n\n  \u25cf useWebSocket \u203a should handle error states\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: [Error: WebSocket connection failed]\n    Received: null\n\n    \u001b[0m \u001b[90m 118 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 120 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoEqual(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'WebSocket connection failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 121 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnectionState)\u001b[33m.\u001b[39mtoBe(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 123 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/hooks/useWebSocket.test.tsx:120:34)\n\n  \u25cf useWebSocket \u203a should handle reconnection attempts\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 3\n    Received: 0\n\n    \u001b[0m \u001b[90m 136 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 138 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mreconnectAttempts)\u001b[33m.\u001b[39mtoBe(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 139 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnectionState)\u001b[33m.\u001b[39mtoBe(\u001b[32m'reconnecting'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 140 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:138:46)\n\n  \u25cf useWebSocket \u203a should handle message queue\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 156 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessageQueue)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessageQueue[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'message1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 160 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/hooks/useWebSocket.test.tsx:157:41)\n\n  \u25cf useWebSocket \u203a should call connect method\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 166 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 167 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 168 |\u001b[39m     expect(mockConnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 169 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 170 |\u001b[39m\n     \u001b[90m 171 |\u001b[39m   it(\u001b[32m'should call disconnect method'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocket.test.tsx:168:25)\n\n  \u25cf useWebSocket \u203a should call disconnect method\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 176 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 177 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 178 |\u001b[39m     expect(mockDisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 179 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 180 |\u001b[39m\n     \u001b[90m 181 |\u001b[39m   it(\u001b[32m'should handle last message updates'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocket.test.tsx:178:28)\n\n  \u25cf useWebSocket \u203a should handle last message updates\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"chat_message\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m     \n     \u001b[90m 197 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mlastMessage)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mlastMessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'chat_message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mlastMessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpayload)\u001b[33m.\u001b[39mtoEqual({ text\u001b[33m:\u001b[39m \u001b[32m'Hello'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:198:46)\n\nFAIL __tests__/hooks/useWebSocketLifecycle.test.tsx\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should initialize WebSocket connection on mount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m\n     \u001b[90m 89 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m       \n     \u001b[90m 93 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:90:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should setup connection with token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"token=test-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'token=test-token-123'\u001b[39m)\n     \u001b[90m 102 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:100:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should cleanup WebSocket connection on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 109 |\u001b[39m       unmount()\u001b[33m;\u001b[39m\n     \u001b[90m 110 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 111 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 112 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m     it(\u001b[32m'should handle rapid mount/unmount cycles'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:111:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should handle rapid mount/unmount cycles\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 5\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 125 |\u001b[39m\n     \u001b[90m 126 |\u001b[39m       \u001b[90m// Should handle cleanup gracefully without errors\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 127 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 128 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n     \u001b[90m 130 |\u001b[39m     it(\u001b[32m'should preserve connection across component re-renders'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocketLifecycle.test.tsx:127:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should preserve connection across component re-renders\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 146 |\u001b[39m         \u001b[90m// Should only connect once\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 150 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/hooks/useWebSocketLifecycle.test.tsx:147:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Connection State Management \u203a should track connection status\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m\n     \u001b[90m 156 |\u001b[39m       \u001b[90m// Initially closed\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m\n     \u001b[90m 159 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 160 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:157:37)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should send messages through webSocketService\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 212 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 213 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 214 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(testMessage)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 215 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 216 |\u001b[39m\n     \u001b[90m 217 |\u001b[39m     it(\u001b[32m'should accumulate received messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:214:48)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should accumulate received messages\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 222 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 223 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 224 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 225 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m\n     \u001b[90m 227 |\u001b[39m       \u001b[90m// Simulate receiving a message\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:224:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Error Handling and Edge Cases \u203a should handle config fetch failure\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Failed to fetch config and connect to WebSocket\", Any<Error>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m\n     \u001b[90m 280 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m         expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m           \u001b[32m'Failed to fetch config and connect to WebSocket'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 283 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\n     \u001b[90m 284 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:281:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nPASS __tests__/components/ThinkingIndicator.test.tsx\nPASS __tests__/components/chat/ExamplePrompts.test.tsx\nFAIL __tests__/components/AgentStatusPanel.test.tsx\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should render all agent status cards\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should display idle status by default\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should update status when agents become active\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should show progress bars for active agents\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should display current task descriptions\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should show error states with appropriate styling\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should display last activity timestamps\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should handle agents in queue state\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should update agent status from WebSocket messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should handle batch status updates\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should animate status transitions smoothly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should update progress bars smoothly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should refresh timestamps periodically\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should handle rapid status changes without flickering\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should debounce frequent updates\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a System Metrics Integration \u203a should display overall system health\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a System Metrics Integration \u203a should show performance metrics\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a System Metrics Integration \u203a should highlight performance issues\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should expand agent details on click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should allow pausing individual agents\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should show agent logs when requested\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should filter agents by status\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should support bulk agent operations\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should handle WebSocket disconnection\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should show stale data warning\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should handle agent status fetch failures\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should maintain functionality during partial failures\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Performance and Optimization \u203a should memoize agent cards to prevent unnecessary rerenders\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Performance and Optimization \u203a should handle large numbers of status updates efficiently\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Performance and Optimization \u203a should cleanup timers and listeners on unmount\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Accessibility \u203a should announce status changes to screen readers\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Accessibility \u203a should support keyboard navigation\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\nPASS __tests__/components/ui/select.test.tsx\nPASS __tests__/components/SubAgentStatus.test.tsx\nFAIL __tests__/components/chat/MessageInput.test.tsx\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should trim whitespace from messages before sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should not send empty messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should enforce character limit\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should show character count warning at 80% capacity\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should sanitize HTML in messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle special characters correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle unicode and emoji characters\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should prevent sending when processing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should prevent sending when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle rapid successive sends correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should render file attachment button\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should disable file attachment when processing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should show file attachment tooltip\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should handle file attachment button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should disable file attachment when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should send message on Enter key\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should insert newline on Shift+Enter\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should navigate message history with arrow keys\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should only navigate history when input is empty\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should handle Ctrl+Enter for special actions\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should show keyboard shortcuts hint\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should hide keyboard shortcuts hint when typing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should start with single row\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should expand textarea as content grows\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should respect maximum rows limit\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should reset to single row after sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should handle paste of multiline content\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should maintain scroll position during resize\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should render voice input button\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should disable voice input when processing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should show voice input tooltip\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should handle voice button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should disable voice input when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should create new thread if none exists\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should use existing thread if available\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should handle thread creation failure\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should truncate long messages for thread title\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should show send icon when not sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should show loading spinner when sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should disable send button when input is empty\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should enable send button when input has content\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should handle send button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should add sent messages to history\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should not add empty messages to history\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should maintain history across component lifecycle\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Focus management \u203a should auto-focus on mount when authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Focus management \u203a should not auto-focus when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Focus management \u203a should maintain focus after sending message\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show appropriate placeholder when authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show sign-in prompt when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show processing indicator when agent is thinking\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show character limit warning in placeholder\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should have proper ARIA labels\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should have ARIA describedby for character count\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should handle keyboard navigation properly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\nFAIL __tests__/components/ChatHistory.test.tsx\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load initial message history on mount\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display loading state during initial load\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display message history once loaded\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load more history when scrolled to top\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show \"Load More\" button when more history available\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle \"Load More\" button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should hide \"Load More\" when no more history available\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show loading state for pagination\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should preserve scroll position when loading more history\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle thread switching\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should batch load requests to prevent excessive API calls\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should display messages in chronological order\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should format timestamps correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should group messages by date\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should highlight search results\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should show message metadata on hover\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should render markdown content correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should handle empty message content gracefully\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should provide search functionality\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should display search results\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should clear search results\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by message type\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by date range\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should debounce search input\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow deleting messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow copying message content\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow regenerating assistant messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should show message edit functionality\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should handle bulk message operations\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should display error state when history loading fails\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should allow retrying failed history loads\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle offline state gracefully\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should show cached messages when offline\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle malformed message data\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should virtualize long message lists for performance\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should cleanup observers on unmount\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should optimize re-renders with message memoization\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should support keyboard navigation\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should announce dynamic content changes\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should provide meaningful alt text for message actions\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\nPASS __tests__/components/chat/MessageItem.test.tsx\nPASS __tests__/hooks/useChatWebSocket.test.ts\nPASS __tests__/auth/components.test.tsx\nFAIL __tests__/components/ChatSidebar.test.tsx\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should render thread list when threads are available\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display thread metadata correctly\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show empty state when no threads exist\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display loading state while fetching threads\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show error state when thread loading fails\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should group threads by date\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should sort threads by last activity\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should truncate long thread titles and messages\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show thread status indicators\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should switch to selected thread\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should highlight active thread correctly\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should support keyboard navigation\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should show thread preview on hover\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should handle rapid thread switching\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should persist navigation state across page reloads\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should create new thread\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should show thread creation dialog\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should rename existing thread\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should delete thread with confirmation\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should archive and unarchive threads\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should handle bulk thread operations\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should export thread data\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should provide search functionality\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter threads based on search query\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should clear search results\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by thread status\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by date range\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should support advanced search with filters\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should show search suggestions\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle thread switching failures\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should retry failed operations\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle network disconnection gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should virtualize large thread lists\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should debounce search input\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should cleanup listeners on unmount\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support screen reader announcements\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support high contrast mode\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should provide keyboard shortcuts info\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\nPASS __tests__/store/chatStore.test.ts\nPASS __tests__/components/chat/layers/FastLayer.test.tsx\nPASS __tests__/components/chat/ChatHeader.test.tsx\nPASS __tests__/hooks/useError.test.ts\nPASS __tests__/components/AppWithLayout.test.tsx\nPASS __tests__/store/unified-chat.test.ts\n  \u25cf Console\n\n    console.log\n      [UnifiedChat] WebSocket Event: agent_started {\n        payload: {\n          agent_name: 'Supervisor Agent',\n          timestamp: 1755031144850,\n          run_id: 'run-456'\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: tool_executing {\n        payload: {\n          tool_name: 'cost_optimizer',\n          agent_name: 'Test Agent',\n          timestamp: 1755031144868\n        },\n        currentFastLayer: {\n          agentName: 'Test Agent',\n          activeTools: [],\n          timestamp: 1755031144868,\n          runId: 'test-run'\n        },\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: agent_thinking {\n        payload: {\n          thought: 'Analyzing workload patterns...',\n          agent_name: 'Analysis Agent',\n          step_number: 2,\n          total_steps: 5\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: partial_result {\n        payload: {\n          content: 'Initial analysis shows',\n          agent_name: 'Analysis Agent',\n          is_complete: false\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: partial_result {\n        payload: {\n          content: ' potential optimizations',\n          agent_name: 'Analysis Agent',\n          is_complete: false\n        },\n        currentFastLayer: null,\n        currentMediumLayer: {\n          thought: '',\n          partialContent: 'Initial analysis shows',\n          stepNumber: 0,\n          totalSteps: 0,\n          agentName: 'Analysis Agent'\n        },\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: agent_completed {\n        payload: {\n          agent_name: 'Optimization Agent',\n          duration_ms: 3000,\n          result: { optimizations: [Array] },\n          metrics: { tokens: 500 }\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: final_report {\n        payload: {\n          report: { summary: 'Complete analysis' },\n          total_duration_ms: 10000,\n          agent_metrics: [],\n          recommendations: [ [Object] ],\n          action_plan: [ [Object] ]\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\n    console.log\n      [UnifiedChat] WebSocket Event: error {\n        payload: {\n          error_message: 'Connection timeout',\n          error_code: 'TIMEOUT',\n          agent_name: 'Network Agent',\n          recoverable: false\n        },\n        currentFastLayer: null,\n        currentMediumLayer: null,\n        currentSlowLayer: null\n      }\n\n      at Object.log [as handleWebSocketEvent] (store/unified-chat.ts:141:17)\n\nPASS __tests__/components/TestLoginComponent.tsx\nPASS __tests__/hooks/useKeyboardShortcuts.test.tsx\nPASS __tests__/services/messageService.test.ts\nFAIL __tests__/test-utils/providers.tsx\n  \u25cf Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/index.js:1052:18)\n      at node_modules/@jest/core/build/index.js:1122:165\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n\nPASS __tests__/components/chat/PersistentResponseCard.test.tsx\nFAIL __tests__/utils/test-utils.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: TextEncoder is not defined\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mfrom\u001b[39m \u001b[32m'@testing-library/react'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m \u001b[36mexport\u001b[39m { customRender \u001b[36mas\u001b[39m render }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m \u001b[90m// Utility to wrap component with router only\u001b[39m\n     \u001b[90m 74 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m withRouter(component\u001b[33m:\u001b[39m \u001b[33mReactElement\u001b[39m) {\n     \u001b[90m 75 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33m<\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m{component}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (node_modules/react-router/dist/development/index.js:328:31)\n      at Object.<anonymous> (node_modules/react-router/dist/development/dom-export.js:19:20)\n      at Object.<anonymous> (node_modules/react-router-dom/dist/index.js:38:18)\n      at Object.<anonymous> (__tests__/utils/test-utils.tsx:72:25)\n\nFAIL __tests__/hooks/additionalHooks.test.tsx\n  \u25cf Console\n\n    console.error\n      Failed to establish WebSocket connection: TypeError: Cannot read properties of null (reading 'close')\n          at close (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\hooks\\useDemoWebSocket.ts:46:23)\n          at connect (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\hooks\\useDemoWebSocket.ts:160:5)\n          at Object.react-stack-bottom-frame (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:23949:20)\n          at runWithFiberInDEV (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:1522:13)\n          at commitHookEffectListMount (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11905:29)\n          at commitHookPassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:12028:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13841:13)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13957:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13834:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13957:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13834:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13853:11)\n          at flushPassiveEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15737:9)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15379:15\n          at flushActQueue (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:566:34)\n          at process.env.NODE_ENV.exports.act (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:859:10)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n          at renderRoot (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:190:26)\n          at render (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:292:10)\n          at renderHook (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:340:7)\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\hooks\\additionalHooks.test.tsx:45:34)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at processTicksAndRejections (node:internal/process/task_queues:105:5)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n          at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (hooks/useDemoWebSocket.ts:106:15)\n      at connect (hooks/useDemoWebSocket.ts:160:5)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderHook (node_modules/@testing-library/react/dist/pure.js:340:7)\n      at Object.<anonymous> (__tests__/hooks/additionalHooks.test.tsx:45:34)\n\n    console.error\n      Failed to establish WebSocket connection: TypeError: Cannot read properties of null (reading 'close')\n          at close (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\hooks\\useDemoWebSocket.ts:46:23)\n          at connect (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\hooks\\useDemoWebSocket.ts:160:5)\n          at Object.react-stack-bottom-frame (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:23949:20)\n          at runWithFiberInDEV (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:1522:13)\n          at commitHookEffectListMount (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11905:29)\n          at commitHookPassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:12028:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13841:13)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13957:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13834:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13957:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13834:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13853:11)\n          at flushPassiveEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15737:9)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15379:15\n          at flushActQueue (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:566:34)\n          at process.env.NODE_ENV.exports.act (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:859:10)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n          at renderRoot (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:190:26)\n          at render (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:292:10)\n          at renderHook (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:340:7)\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\hooks\\additionalHooks.test.tsx:61:34)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n          at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (hooks/useDemoWebSocket.ts:106:15)\n      at connect (hooks/useDemoWebSocket.ts:160:5)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderHook (node_modules/@testing-library/react/dist/pure.js:340:7)\n      at Object.<anonymous> (__tests__/hooks/additionalHooks.test.tsx:61:34)\n\n    console.error\n      Failed to establish WebSocket connection: TypeError: Cannot read properties of null (reading 'close')\n          at close (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\hooks\\useDemoWebSocket.ts:46:23)\n          at connect (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\hooks\\useDemoWebSocket.ts:160:5)\n          at Object.react-stack-bottom-frame (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:23949:20)\n          at runWithFiberInDEV (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:1522:13)\n          at commitHookEffectListMount (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:11905:29)\n          at commitHookPassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:12028:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13841:13)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13957:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13834:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13957:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13834:11)\n          at recursivelyTraversePassiveMountEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13815:11)\n          at commitPassiveMountOnFiber (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:13853:11)\n          at flushPassiveEffects (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15737:9)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15379:15\n          at flushActQueue (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:566:34)\n          at process.env.NODE_ENV.exports.act (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:859:10)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n          at renderRoot (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:190:26)\n          at render (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:292:10)\n          at renderHook (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:340:7)\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\hooks\\additionalHooks.test.tsx:91:34)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n          at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (hooks/useDemoWebSocket.ts:106:15)\n      at connect (hooks/useDemoWebSocket.ts:160:5)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at renderHook (node_modules/@testing-library/react/dist/pure.js:340:7)\n      at Object.<anonymous> (__tests__/hooks/additionalHooks.test.tsx:91:34)\n\n  \u25cf test_useDemoWebSocket_connection \u203a should establish demo WebSocket connection\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m     \n     \u001b[90m 47 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39misConnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     \n     \u001b[90m 51 |\u001b[39m     expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[0m\n\n      at toBe (__tests__/hooks/additionalHooks.test.tsx:48:42)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf test_useDemoWebSocket_connection \u203a should handle message queuing when disconnected\n\n    TypeError: Cannot read properties of null (reading 'send')\n\n    \u001b[0m \u001b[90m 125 |\u001b[39m   \u001b[36mconst\u001b[39m sendMessage \u001b[33m=\u001b[39m useCallback((message\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\n     \u001b[90m 126 |\u001b[39m     \u001b[36mif\u001b[39m (wsRef\u001b[33m.\u001b[39mcurrent\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mreadyState \u001b[33m===\u001b[39m \u001b[33mWebSocket\u001b[39m\u001b[33m.\u001b[39m\u001b[33mOPEN\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 127 |\u001b[39m       wsRef\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msend(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message))\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 128 |\u001b[39m     } \u001b[36melse\u001b[39m {\n     \u001b[90m 129 |\u001b[39m       console\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket is not connected'\u001b[39m)\n     \u001b[90m 130 |\u001b[39m       setError(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'WebSocket is not connected'\u001b[39m))\u001b[0m\n\n      at Object.send [as sendMessage] (hooks/useDemoWebSocket.ts:127:21)\n      at sendMessage (__tests__/hooks/additionalHooks.test.tsx:64:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/hooks/additionalHooks.test.tsx:63:8)\n\n  \u25cf test_useMediaQuery_responsive \u203a should handle debouncing for rapid changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 186 |\u001b[39m     \n     \u001b[90m 187 |\u001b[39m     \u001b[90m// Should not update immediately\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 189 |\u001b[39m     \n     \u001b[90m 190 |\u001b[39m     \u001b[90m// Wait for debounce\u001b[39m\n     \u001b[90m 191 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/additionalHooks.test.tsx:188:28)\n\nFAIL __tests__/services/webSocketService.test.ts\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/lib/websocket-manager mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\lib\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/lib\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\lib\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 3 |\u001b[39m\n     \u001b[90m 4 |\u001b[39m \u001b[90m// Mock WebSocketManager\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 5 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/lib/websocket-manager'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 6 |\u001b[39m\n     \u001b[90m 7 |\u001b[39m describe(\u001b[32m'webSocketService'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 8 |\u001b[39m   \u001b[36mlet\u001b[39m mockWebSocketManager\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMocked\u001b[39m\u001b[33m<\u001b[39m\u001b[33mWebSocketManager\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/services/webSocketService.test.ts:5:6)\n\nPASS __tests__/components/ChatWindow.test.tsx\nFAIL __tests__/components/FinalReportView.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/charts/PerformanceChart mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 12 |\u001b[39m   \u001b[33mCardTitle\u001b[39m\u001b[33m:\u001b[39m ({ children }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33mh3\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"card-title\"\u001b[39m\u001b[33m>\u001b[39m{children}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mh3\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 13 |\u001b[39m }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 14 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/charts/PerformanceChart'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \u001b[33mPerformanceChart\u001b[39m\u001b[33m:\u001b[39m ({ data\u001b[33m,\u001b[39m type }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 16 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"performance-chart\"\u001b[39m data\u001b[33m-\u001b[39mchart\u001b[33m-\u001b[39mtype\u001b[33m=\u001b[39m{type}\u001b[33m>\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[33mChart\u001b[39m\u001b[33m:\u001b[39m {\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(data)}\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/components/FinalReportView.test.tsx:14:6)\n\nFAIL __tests__/components/UIComponents.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: TextEncoder is not defined\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mfrom\u001b[39m \u001b[32m'@testing-library/react'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m \u001b[36mexport\u001b[39m { customRender \u001b[36mas\u001b[39m render }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m \u001b[90m// Utility to wrap component with router only\u001b[39m\n     \u001b[90m 74 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m withRouter(component\u001b[33m:\u001b[39m \u001b[33mReactElement\u001b[39m) {\n     \u001b[90m 75 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33m<\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m{component}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (node_modules/react-router/dist/development/index.js:328:31)\n      at Object.<anonymous> (node_modules/react-router/dist/development/dom-export.js:19:20)\n      at Object.<anonymous> (node_modules/react-router-dom/dist/index.js:38:18)\n      at Object.<anonymous> (__tests__/utils/test-utils.tsx:72:25)\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:7:20)\n\nFAIL __tests__/unified-chat-v5.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-markdown\\index.js:10\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 13 |\u001b[39m   \u001b[36mconst\u001b[39m lastUpdateRef \u001b[33m=\u001b[39m useRef\u001b[33m<\u001b[39m\u001b[33mnumber\u001b[39m\u001b[33m>\u001b[39m(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow())\u001b[33m;\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 15 |\u001b[39m   \u001b[90m// Stream content character by character using requestAnimationFrame\u001b[39m\n     \u001b[90m    |\u001b[39m                                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 16 |\u001b[39m   useEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 17 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mdata\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpartialContent) {\n     \u001b[90m 18 |\u001b[39m       setDisplayedContent(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.<anonymous> (components/chat/layers/MediumLayer.tsx:15:63)\n      at Object.<anonymous> (components/chat/PersistentResponseCard.tsx:17:22)\n      at Object.<anonymous> (__tests__/unified-chat-v5.test.tsx:8:33)\n\nFAIL __tests__/auth/service.test.ts\n  \u25cf Console\n\n    console.error\n      Error: Not implemented: navigation (except hash changes)\n          at Reflect.set (<anonymous>)\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\service.test.ts:52:25) {\n        type: 'not implemented'\n      }\n\n    \u001b[0m \u001b[90m 50 |\u001b[39m\n     \u001b[90m 51 |\u001b[39m \u001b[90m// Mock location with a getter/setter approach\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 52 |\u001b[39m (window \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mlocation \u001b[33m=\u001b[39m {\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 53 |\u001b[39m   href\u001b[33m:\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 54 |\u001b[39m   assign\u001b[33m:\u001b[39m mockAssign\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m   replace\u001b[33m:\u001b[39m mockReplace\u001b[33m,\u001b[39m\u001b[0m\n\n      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)\n      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)\n      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)\n      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)\n      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)\n      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)\n      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)\n      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)\n          at Reflect.set (<anonymous>)\n      at Window.set location [as location] (node_modules/jsdom/lib/jsdom/browser/Window.js:424:15)\n      at Object.<anonymous> (__tests__/auth/service.test.ts:52:25)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.error\n      Error: Not implemented: navigation (except hash changes)\n          at AuthService.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\auth\\service.ts:73:25)\n          at Object.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\service.test.ts:279:19)\n          at new Promise (<anonymous>) {\n        type: 'not implemented'\n      }\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)\n      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)\n      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)\n      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)\n      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)\n      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)\n      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)\n      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)\n      at AuthService.handleLogin (auth/service.ts:73:25)\n      at Object.handleLogin (__tests__/auth/service.test.ts:279:19)\n\n    console.error\n      Error: Not implemented: navigation (except hash changes)\n          at AuthService.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\auth\\service.ts:73:25)\n          at Object.handleLogin (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\service.test.ts:287:19)\n          at new Promise (<anonymous>) {\n        type: 'not implemented'\n      }\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)\n      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)\n      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)\n      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)\n      at LocationImpl._locationObjectNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:30:5)\n      at LocationImpl._locationObjectSetterNavigate (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:24:17)\n      at LocationImpl.set href [as href] (node_modules/jsdom/lib/jsdom/living/window/Location-impl.js:46:10)\n      at Location.set href [as href] (node_modules/jsdom/lib/jsdom/living/generated/Location.js:125:37)\n      at AuthService.handleLogin (auth/service.ts:73:25)\n      at Object.handleLogin (__tests__/auth/service.test.ts:287:19)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.log\n      Attempting dev login...\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:19:13)\n\n    console.log\n      Dev login successful\n\n      at AuthService.log [as handleDevLogin] (auth/service.ts:30:17)\n\n  \u25cf AuthService \u203a handleLogin \u203a should redirect to login endpoint\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 283 |\u001b[39m\n     \u001b[90m 284 |\u001b[39m     it(\u001b[32m'should handle login with development mode config'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:281:36)\n\n  \u25cf AuthService \u203a handleLogin \u203a should handle login with development mode config\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 287 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 288 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 289 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(devConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 290 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:289:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should perform logout successfully and redirect\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m\n     \u001b[90m 314 |\u001b[39m     it(\u001b[32m'should handle logout failure and still redirect'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:311:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout failure and still redirect\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Logout failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:323:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout network error and still redirect\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Error during logout:'\u001b[39m\u001b[33m,\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m\n     \u001b[90m 339 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 340 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:337:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout without token\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 355 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 356 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 357 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 358 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 359 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:357:36)\n\nFAIL __tests__/chat/chatUIUXComprehensive.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-markdown\\index.js:10\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 13 |\u001b[39m   \u001b[36mconst\u001b[39m lastUpdateRef \u001b[33m=\u001b[39m useRef\u001b[33m<\u001b[39m\u001b[33mnumber\u001b[39m\u001b[33m>\u001b[39m(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow())\u001b[33m;\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 15 |\u001b[39m   \u001b[90m// Stream content character by character using requestAnimationFrame\u001b[39m\n     \u001b[90m    |\u001b[39m                                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 16 |\u001b[39m   useEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 17 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mdata\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpartialContent) {\n     \u001b[90m 18 |\u001b[39m       setDisplayedContent(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.<anonymous> (components/chat/layers/MediumLayer.tsx:15:63)\n      at Object.<anonymous> (components/chat/PersistentResponseCard.tsx:17:22)\n      at Object.<anonymous> (components/chat/MainChat.tsx:17:33)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:23:19)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/integration/advanced-integration.test.tsx\n  \u25cf Console\n\n    console.error\n      An update to AsyncValidationComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setIsValidating (__tests__/integration/advanced-integration.test.tsx:235:11)\n      at validateEmail (__tests__/integration/advanced-integration.test.tsx:253:24)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 27. Advanced Error Boundaries \u203a should report errors to monitoring service\n\n    Monitored error\n\n    \u001b[0m \u001b[90m 1419 |\u001b[39m         \u001b[36mconst\u001b[39m handleError \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1420 |\u001b[39m           \u001b[36mtry\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1421 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Monitored error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1422 |\u001b[39m           } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 1423 |\u001b[39m             reportError(error)\u001b[33m;\u001b[39m\n     \u001b[90m 1424 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\u001b[0m\n\n      at handleError (__tests__/integration/advanced-integration.test.tsx:1421:19)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at Object.click (__tests__/integration/advanced-integration.test.tsx:1441:19)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 29. WebSocket Resilience Integration \u203a should handle WebSocket message buffering during reconnection\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 buffered\n    Received:\n      0 buffered\n\n    \u001b[0m \u001b[90m 1608 |\u001b[39m       \n     \u001b[90m 1609 |\u001b[39m       expect(messageBuffer)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1610 |\u001b[39m       expect(getByTestId(\u001b[32m'buffer-size'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1 buffered'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1611 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1612 |\u001b[39m\n     \u001b[90m 1613 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/advanced-integration.test.tsx:1610:42)\n\nFAIL __tests__/imports/external-imports.test.tsx\n  \u25cf Console\n\n    console.log\n      ESLint config packages not available (dev dependencies)\n\n      at Object.log (__tests__/imports/external-imports.test.tsx:289:17)\n\n    console.log\n      Optional dependencies not installed: [\n        'Optional dependency @tanstack/react-query not installed',\n        'Optional dependency react-query not installed',\n        'Optional dependency @emotion/react not installed',\n        'Optional dependency @emotion/styled not installed'\n      ]\n\n      at Object.log (__tests__/imports/external-imports.test.tsx:345:17)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Core React and Next.js imports \u203a should import React DOM\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mReactDOM\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'react-dom'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m       expect(\u001b[33mReactDOM\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m       expect(\u001b[33mReactDOM\u001b[39m\u001b[33m.\u001b[39mcreateRoot)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m     it(\u001b[32m'should import Next.js core modules'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/external-imports.test.tsx:26:35)\n\n  \u25cf External NPM Dependencies Import Tests \u203a UI library imports \u203a should import Radix UI components\n\n    Cannot find module '@radix-ui/react-popover' from '__tests__/imports/external-imports.test.tsx'\n\n    \u001b[0m \u001b[90m  95 |\u001b[39m       expect(radixProgress)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m  96 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  97 |\u001b[39m       \u001b[36mconst\u001b[39m radixPopover \u001b[33m=\u001b[39m require(\u001b[32m'@radix-ui/react-popover'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  98 |\u001b[39m       expect(radixPopover)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m  99 |\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \u001b[36mconst\u001b[39m radixAvatar \u001b[33m=\u001b[39m require(\u001b[32m'@radix-ui/react-avatar'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.require (__tests__/imports/external-imports.test.tsx:97:28)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Markdown and code highlighting imports \u203a should import React Markdown\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-markdown\\index.js:10\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 181 |\u001b[39m   describe(\u001b[32m'Markdown and code highlighting imports'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 182 |\u001b[39m     it(\u001b[32m'should import React Markdown'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 183 |\u001b[39m       \u001b[36mconst\u001b[39m reactMarkdown \u001b[33m=\u001b[39m require(\u001b[32m'react-markdown'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 184 |\u001b[39m       expect(reactMarkdown)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 185 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 186 |\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.require (__tests__/imports/external-imports.test.tsx:183:29)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Markdown and code highlighting imports \u203a should import remark-gfm\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\remark-gfm\\index.js:2\n    export {default} from './lib/index.js'\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 186 |\u001b[39m\n     \u001b[90m 187 |\u001b[39m     it(\u001b[32m'should import remark-gfm'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m       \u001b[36mconst\u001b[39m remarkGfm \u001b[33m=\u001b[39m require(\u001b[32m'remark-gfm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 189 |\u001b[39m       expect(remarkGfm)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 190 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 191 |\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.require (__tests__/imports/external-imports.test.tsx:188:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Markdown and code highlighting imports \u203a should import syntax highlighter styles\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 200 |\u001b[39m       expect(styles)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m       expect(styles\u001b[33m.\u001b[39moneDark)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 202 |\u001b[39m       expect(styles\u001b[33m.\u001b[39moneLight)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 203 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 204 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 205 |\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/external-imports.test.tsx:202:31)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 241 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:238:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 241 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:238:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 241 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:238:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m\n     \u001b[90m 248 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:158:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:249:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m\n     \u001b[90m 248 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:161:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:249:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a TypeScript type imports \u203a should import TypeScript type packages\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Cannot find module '@types/react' from '__tests__/imports/external-imports.test.tsx'\"\n\n        \u001b[0m \u001b[90m 267 |\u001b[39m     it(\u001b[32m'should import TypeScript type packages'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 268 |\u001b[39m       \u001b[90m// These are type-only packages, so we just check they don't throw\u001b[39m\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 269 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 270 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react-dom'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 271 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/node'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 272 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at require (__tests__/imports/external-imports.test.tsx:269:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:269:49)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:269:49)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Critical imports batch test \u203a should successfully import all critical dependencies\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Array []\n    + Array [\n    +   \"react-markdown\",\n    + ]\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m       expect(failedImports)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 323 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/imports/external-imports.test.tsx:320:29)\n\nFAIL __tests__/imports/internal-imports.test.tsx\n  \u25cf Console\n\n    console.log\n      Demo components not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:60:17)\n\n    console.log\n      Some additional stores not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:117:17)\n\n    console.log\n      Some additional services not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:151:17)\n\n    console.log\n      Some utility modules not found (optional)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:179:17)\n\n    console.log\n      Type file agent.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:207:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file auth.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:207:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file thread.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:207:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file message.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:207:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Type file websocket.ts not found\n\n      at log (__tests__/imports/internal-imports.test.tsx:207:21)\n          at Array.forEach (<anonymous>)\n\n    console.log\n      Some app pages not found (may use different structure)\n\n      at Object.log (__tests__/imports/internal-imports.test.tsx:229:17)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Component imports \u203a should import chat components\n\n    expect(received).not.toThrow()\n\n    Error name:    \"SyntaxError\"\n    Error message: \"Unexpected token 'export'\"\n\n        \u001b[0m \u001b[90m 13 |\u001b[39m   \u001b[36mconst\u001b[39m lastUpdateRef \u001b[33m=\u001b[39m useRef\u001b[33m<\u001b[39m\u001b[33mnumber\u001b[39m\u001b[33m>\u001b[39m(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow())\u001b[33m;\u001b[39m\n         \u001b[90m 14 |\u001b[39m   \n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 15 |\u001b[39m   \u001b[90m// Stream content character by character using requestAnimationFrame\u001b[39m\n         \u001b[90m    |\u001b[39m                                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 16 |\u001b[39m   useEffect(() \u001b[33m=>\u001b[39m {\n         \u001b[90m 17 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mdata\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpartialContent) {\n         \u001b[90m 18 |\u001b[39m       setDisplayedContent(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.<anonymous> (components/chat/layers/MediumLayer.tsx:15:63)\n      at Object.<anonymous> (components/chat/PersistentResponseCard.tsx:17:22)\n      at Object.<anonymous> (components/chat/MainChat.tsx:17:33)\n      at require (__tests__/imports/internal-imports.test.tsx:39:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:39:63)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:39:63)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Service imports \u203a should import API services\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 154 |\u001b[39m       \u001b[90m// Verify service exports\u001b[39m\n     \u001b[90m 155 |\u001b[39m       \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m require(\u001b[32m'@/services/api'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 156 |\u001b[39m       expect(api\u001b[33m.\u001b[39mapiClient)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 157 |\u001b[39m       \n     \u001b[90m 158 |\u001b[39m       \u001b[36mconst\u001b[39m threadService \u001b[33m=\u001b[39m require(\u001b[32m'@/services/threadService'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m       expect(threadService\u001b[33m.\u001b[39mthreadService)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/internal-imports.test.tsx:156:29)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Utility imports \u203a should import configuration\n\n    expect(received).not.toThrow()\n\n    Error name:    \"\"\n    Error message: \"Configuration error:\u00b7\n    Could not locate module @/config/api mapped as:\n    C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\frontend\\\\$1.\u00b7\n    Please check your configuration for these entries:\n    {\n      \\\"moduleNameMapper\\\": {\n        \\\"/^@\\\\/(.*)$/\\\": \\\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\frontend\\\\$1\\\"\n      },\n      \\\"resolver\\\": undefined\n    }\"\n\n        \u001b[0m \u001b[90m 182 |\u001b[39m\n         \u001b[90m 183 |\u001b[39m     it(\u001b[32m'should import configuration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 184 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@/config/api'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 185 |\u001b[39m       \n         \u001b[90m 186 |\u001b[39m       \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m require(\u001b[32m'@/config/api'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m 187 |\u001b[39m       expect(config\u001b[33m.\u001b[39m\u001b[33mAPI_BASE_URL\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at require (__tests__/imports/internal-imports.test.tsx:184:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:184:49)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:184:49)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Critical internal imports batch test \u203a should successfully import all critical internal modules\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 5\n\n    - Array []\n    + Array [\n    +   \"@/components/chat/ChatInterface\",\n    +   \"@/store/useThreadStore\",\n    +   \"@/config/api\",\n    + ]\n\n    \u001b[0m \u001b[90m 256 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 |\u001b[39m       expect(failedImports)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 259 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 260 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 261 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/imports/internal-imports.test.tsx:258:29)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Circular dependency check \u203a should not have circular dependencies in critical modules\n\n    Configuration error:\n\n    Could not locate module @/store/useWebSocketStore mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/store\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 272 |\u001b[39m       \u001b[90m// Clear module cache\u001b[39m\n     \u001b[90m 273 |\u001b[39m       modules\u001b[33m.\u001b[39mforEach(mod \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 274 |\u001b[39m         \u001b[36mdelete\u001b[39m require\u001b[33m.\u001b[39mcache[require\u001b[33m.\u001b[39mresolve(mod)]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 275 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 276 |\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \u001b[90m// Import in order A\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at resolve (__tests__/imports/internal-imports.test.tsx:274:38)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/imports/internal-imports.test.tsx:273:15)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Component export verification \u203a should export expected items from components\n\n    Configuration error:\n\n    Could not locate module @/components/ui/dialog mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m\n     \u001b[90m 310 |\u001b[39m       \u001b[90m// Dialog component\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       \u001b[36mconst\u001b[39m dialog \u001b[33m=\u001b[39m require(\u001b[32m'@/components/ui/dialog'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m       expect(dialog\u001b[33m.\u001b[39m\u001b[33mDialog\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m       expect(dialog\u001b[33m.\u001b[39m\u001b[33mDialogTrigger\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m       expect(dialog\u001b[33m.\u001b[39m\u001b[33mDialogContent\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.require (__tests__/imports/internal-imports.test.tsx:311:22)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Store state verification \u203a should have expected state and actions in stores\n\n    Configuration error:\n\n    Could not locate module @/store/useThreadStore mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/store\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m   describe(\u001b[32m'Store state verification'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 323 |\u001b[39m     it(\u001b[32m'should have expected state and actions in stores'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m       \u001b[36mconst\u001b[39m { useThreadStore } \u001b[33m=\u001b[39m require(\u001b[32m'@/store/useThreadStore'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m       \u001b[36mconst\u001b[39m store \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m       \n     \u001b[90m 327 |\u001b[39m       \u001b[90m// Check for expected state properties\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.require (__tests__/imports/internal-imports.test.tsx:324:34)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Critical Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 43 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 44 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 45 |\u001b[39m describe(\u001b[32m'Critical Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m     process\u001b[33m.\u001b[39menv \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mprocess\u001b[33m.\u001b[39menv\u001b[33m,\u001b[39m \u001b[33m...\u001b[39mmockEnv }\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/critical-integration.test.tsx:48:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/critical-integration.test.tsx:75:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. WebSocket Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should integrate WebSocket with authentication state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m\n     \u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:81:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reconnect WebSocket when authentication changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m { login } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Agent Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 148 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendUserMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate agent state with WebSocket messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendUserMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[36mconst\u001b[39m [isProcessing\u001b[33m,\u001b[39m setIsProcessing] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync agent reports with chat messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 203 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m     it(\u001b[32m'should sync agent reports with chat messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 206 |\u001b[39m         \u001b[36mconst\u001b[39m { sendUserMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m         \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m useChatStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mmessages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:204:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. Authentication Flow Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 243 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 244 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 245 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 246 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 247 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:245:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete OAuth flow and establish WebSocket\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 244 |\u001b[39m\n     \u001b[90m 245 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 247 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 249 |\u001b[39m         user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'oauth-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'oauth@example.com'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:246:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:245:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist authentication across page refreshes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 273 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 275 |\u001b[39m     it(\u001b[32m'should persist authentication across page refreshes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 276 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'persist-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'persist@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'persist-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 278 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:275:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:245:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Thread Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 297 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 298 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 299 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 300 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 301 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 302 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:299:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should create thread and sync with messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 298 |\u001b[39m\n     \u001b[90m 299 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 300 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 301 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 302 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 303 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'New Thread'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:300:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:299:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch threads and load messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 342 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 343 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 344 |\u001b[39m     it(\u001b[32m'should switch threads and load messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 345 |\u001b[39m       \u001b[36mconst\u001b[39m thread1Messages \u001b[33m=\u001b[39m [\n     \u001b[90m 346 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m thread_id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Thread 1 message'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\n     \u001b[90m 347 |\u001b[39m       ]\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:344:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:299:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Real-time Message Streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 377 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 378 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 379 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 380 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 381 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 382 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should stream agent responses to chat\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 378 |\u001b[39m\n     \u001b[90m 379 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 380 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 381 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 382 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\n     \u001b[90m 383 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:380:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle message interruption gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 430 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m     it(\u001b[32m'should handle message interruption gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 433 |\u001b[39m         \u001b[36mconst\u001b[39m { isProcessing\u001b[33m,\u001b[39m sendMessage\u001b[33m,\u001b[39m stopProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 434 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:431:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Error Recovery Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 475 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 476 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 477 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 478 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 479 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 480 |\u001b[39m         \u001b[36mconst\u001b[39m { isConnected\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from WebSocket disconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 476 |\u001b[39m\n     \u001b[90m 477 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 479 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 480 |\u001b[39m         \u001b[36mconst\u001b[39m { isConnected\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 481 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:478:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should retry failed API calls with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 516 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 517 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 518 |\u001b[39m     it(\u001b[32m'should retry failed API calls with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 519 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 520 |\u001b[39m       \n     \u001b[90m 521 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:518:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle session expiration gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 551 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 552 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 553 |\u001b[39m     it(\u001b[32m'should handle session expiration gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 554 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 555 |\u001b[39m         \u001b[36mconst\u001b[39m { logout } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\n     \u001b[90m 556 |\u001b[39m         \u001b[36mconst\u001b[39m { isAuthenticated } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:553:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. State Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 591 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 592 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 593 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 594 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 595 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 596 |\u001b[39m         threads\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:593:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync local state with server state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 592 |\u001b[39m\n     \u001b[90m 593 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 594 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 595 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 596 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 597 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m\u001b[33m,\u001b[39m created_at\u001b[33m:\u001b[39m \u001b[32m'2024-01-01'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:594:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:593:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle concurrent state updates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 620 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 621 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 622 |\u001b[39m     it(\u001b[32m'should handle concurrent state updates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 623 |\u001b[39m       \u001b[36mconst\u001b[39m updates \u001b[33m=\u001b[39m [\n     \u001b[90m 624 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'thread_created'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m } }\u001b[33m,\u001b[39m\n     \u001b[90m 625 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'message_sent'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Message 1'\u001b[39m } }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:622:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:593:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. File Upload Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 661 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 662 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 663 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 664 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 665 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 666 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:663:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload file and process with agent\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 662 |\u001b[39m\n     \u001b[90m 663 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 664 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 665 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 666 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 667 |\u001b[39m       formData\u001b[33m.\u001b[39mappend(\u001b[32m'file'\u001b[39m\u001b[33m,\u001b[39m file)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:664:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:663:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track upload progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 690 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 691 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 692 |\u001b[39m     it(\u001b[32m'should track upload progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 693 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'x'\u001b[39m\u001b[33m.\u001b[39mrepeat(\u001b[35m1000000\u001b[39m)]\u001b[33m,\u001b[39m \u001b[32m'large.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 694 |\u001b[39m       \u001b[36mlet\u001b[39m progress \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 695 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:692:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:663:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Optimization Recommendations Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 716 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 717 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 718 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 719 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 720 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 721 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should process optimization request end-to-end\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 717 |\u001b[39m\n     \u001b[90m 718 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 719 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 720 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 721 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 722 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:719:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should apply optimization and track results\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 763 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 764 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 765 |\u001b[39m     it(\u001b[32m'should apply optimization and track results'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 766 |\u001b[39m       \u001b[36mconst\u001b[39m recommendation \u001b[33m=\u001b[39m {\n     \u001b[90m 767 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'rec-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 768 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'cost'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:765:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. Multi-Agent Coordination\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 794 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 795 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 796 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 797 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 798 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 799 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate multiple sub-agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 795 |\u001b[39m\n     \u001b[90m 796 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 797 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 798 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 799 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 800 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:797:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle agent pipeline failures\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 859 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 860 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 861 |\u001b[39m     it(\u001b[32m'should handle agent pipeline failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 862 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 863 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m error } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 864 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:861:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Performance Monitoring Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 898 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 899 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 900 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 901 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 902 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 903 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:900:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track and report performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 899 |\u001b[39m\n     \u001b[90m 900 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 901 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 902 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 903 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\n     \u001b[90m 904 |\u001b[39m         api_response_time\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:901:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:900:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should detect and report performance degradation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 945 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 946 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 947 |\u001b[39m     it(\u001b[32m'should detect and report performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 948 |\u001b[39m       \u001b[36mconst\u001b[39m performanceThresholds \u001b[33m=\u001b[39m {\n     \u001b[90m 949 |\u001b[39m         api_latency\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 950 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:947:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:900:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Data Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 968 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 969 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 970 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 971 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 972 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 973 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:970:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and reuse API responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 969 |\u001b[39m\n     \u001b[90m 970 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 971 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 972 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 973 |\u001b[39m       \n     \u001b[90m 974 |\u001b[39m       \u001b[36mconst\u001b[39m cachedFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (url\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:971:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:970:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should invalidate cache on mutations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m  998 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m  999 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1000 |\u001b[39m     it(\u001b[32m'should invalidate cache on mutations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1001 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 1002 |\u001b[39m       cache\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'/api/threads'\u001b[39m\u001b[33m,\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Old Thread'\u001b[39m }])\u001b[33m;\u001b[39m\n     \u001b[90m 1003 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1000:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:970:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Notification System Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1026 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1027 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1031 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should show notifications for important events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1027 |\u001b[39m\n     \u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1031 |\u001b[39m       \n     \u001b[90m 1032 |\u001b[39m       \u001b[36mconst\u001b[39m notify \u001b[33m=\u001b[39m (type\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m message\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1029:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue notifications when offline\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1079 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1080 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1081 |\u001b[39m     it(\u001b[32m'should queue notifications when offline'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1082 |\u001b[39m       \u001b[36mconst\u001b[39m notificationQueue \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1083 |\u001b[39m       \n     \u001b[90m 1084 |\u001b[39m       \u001b[36mconst\u001b[39m queueNotification \u001b[33m=\u001b[39m (notification\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1081:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Keyboard Shortcuts Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1106 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1107 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1108 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1109 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1110 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1111 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1108:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle global keyboard shortcuts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1107 |\u001b[39m\n     \u001b[90m 1108 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1109 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1110 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1111 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 1112 |\u001b[39m         [\u001b[32m'cmd+enter'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sendMessage'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1109:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1108:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should prevent shortcut conflicts in input fields\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1142 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1143 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1144 |\u001b[39m     it(\u001b[32m'should prevent shortcut conflicts in input fields'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1145 |\u001b[39m       \u001b[36mlet\u001b[39m actionTriggered \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1146 |\u001b[39m       \n     \u001b[90m 1147 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1144:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1108:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Accessibility Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1174 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1175 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1176 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1177 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1178 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1179 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1176:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain focus management during navigation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1175 |\u001b[39m\n     \u001b[90m 1176 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1177 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1178 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1179 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1180 |\u001b[39m         \u001b[36mconst\u001b[39m chatRef \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museRef\u001b[33m<\u001b[39m\u001b[33mHTMLDivElement\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1177:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1176:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should announce dynamic content updates to screen readers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1212 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1213 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1214 |\u001b[39m     it(\u001b[32m'should announce dynamic content updates to screen readers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1215 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1216 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1217 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1214:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1176:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Advanced Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \n     \u001b[90m 41 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 39 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 41 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 42 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 43 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 44 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/advanced-integration.test.tsx:41:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/advanced-integration.test.tsx:57:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Theme and Preferences Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 62 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 63 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 64 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 65 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:62:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync theme preferences across components\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 61 |\u001b[39m\n     \u001b[90m 62 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 63 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 64 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 65 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 66 |\u001b[39m         setTheme\u001b[33m:\u001b[39m (theme\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {}\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:63:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:62:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist user preferences across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m     it(\u001b[32m'should persist user preferences across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m       \u001b[36mconst\u001b[39m preferences \u001b[33m=\u001b[39m {\n     \u001b[90m 119 |\u001b[39m         notifications\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 120 |\u001b[39m         autoSave\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:117:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:62:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. Complex Form Validation Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 140 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 142 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 143 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 144 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 145 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:142:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate multi-step forms with dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 143 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 144 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 145 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m         \u001b[36mconst\u001b[39m [formData\u001b[33m,\u001b[39m setFormData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:143:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:142:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle async validation with debouncing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 224 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 226 |\u001b[39m     it(\u001b[32m'should handle async validation with debouncing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 227 |\u001b[39m       \u001b[36mlet\u001b[39m validationCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 228 |\u001b[39m       \n     \u001b[90m 229 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAsyncValidationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:226:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:142:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Collaborative Features Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 290 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 292 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 293 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync cursor positions in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 291 |\u001b[39m\n     \u001b[90m 292 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 293 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \n     \u001b[90m 296 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:293:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle presence and activity status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 353 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 355 |\u001b[39m     it(\u001b[32m'should handle presence and activity status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 356 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mPresenceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 357 |\u001b[39m         \u001b[36mconst\u001b[39m [activeUsers\u001b[33m,\u001b[39m setActiveUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\n     \u001b[90m 358 |\u001b[39m         \u001b[36mconst\u001b[39m [typingUsers\u001b[33m,\u001b[39m setTypingUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:355:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Offline Mode Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 415 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 416 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 417 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 418 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 419 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:417:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue actions when offline and sync when online\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m\n     \u001b[90m 417 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m       \n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineSyncComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:418:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:417:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should use local storage for offline persistence\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 508 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 509 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 510 |\u001b[39m     it(\u001b[32m'should use local storage for offline persistence'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 511 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineStorageComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 512 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 513 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:510:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:417:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Complex Navigation Flows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 553 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 554 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 555 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 556 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 557 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 558 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:555:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle deep linking with state preservation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 554 |\u001b[39m\n     \u001b[90m 555 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 556 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 557 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 558 |\u001b[39m       \n     \u001b[90m 559 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mNavigationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:556:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:555:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle protected route redirects\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 609 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 610 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 611 |\u001b[39m     it(\u001b[32m'should handle protected route redirects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 612 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mProtectedRoute\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }) \u001b[33m=>\u001b[39m {\n     \u001b[90m 613 |\u001b[39m         \u001b[36mconst\u001b[39m { isAuthenticated } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\n     \u001b[90m 614 |\u001b[39m         \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:611:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:555:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Advanced Search Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 656 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 657 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 658 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 659 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 661 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:658:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement fuzzy search with highlighting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 657 |\u001b[39m\n     \u001b[90m 658 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 659 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 661 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 662 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:659:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:658:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement search with filters and facets\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 722 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 723 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 724 |\u001b[39m     it(\u001b[32m'should implement search with filters and facets'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 725 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFilteredSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 726 |\u001b[39m         \u001b[36mconst\u001b[39m [filters\u001b[33m,\u001b[39m setFilters] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 727 |\u001b[39m           category\u001b[33m:\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:724:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:658:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Drag and Drop Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 784 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 785 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 786 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 787 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 788 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 789 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:786:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle file drag and drop with preview\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 785 |\u001b[39m\n     \u001b[90m 786 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 787 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 788 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 789 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 790 |\u001b[39m         \u001b[36mconst\u001b[39m [files\u001b[33m,\u001b[39m setFiles] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mFile\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:787:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:786:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reorder items with drag and drop\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 841 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 842 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 843 |\u001b[39m     it(\u001b[32m'should reorder items with drag and drop'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 844 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mReorderableList\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 845 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([\n     \u001b[90m 846 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m text\u001b[33m:\u001b[39m \u001b[32m'Item 1'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:843:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:786:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. Infinite Scroll Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 911 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 912 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 913 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 914 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 915 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 916 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:913:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load more content on scroll\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 912 |\u001b[39m\n     \u001b[90m 913 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 914 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 915 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 916 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 917 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:914:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:913:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement virtual scrolling for large lists\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 976 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 977 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 978 |\u001b[39m     it(\u001b[32m'should implement virtual scrolling for large lists'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 979 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mVirtualScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 980 |\u001b[39m         \u001b[36mconst\u001b[39m [visibleRange\u001b[33m,\u001b[39m setVisibleRange] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ start\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m end\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 981 |\u001b[39m         \u001b[36mconst\u001b[39m items \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:978:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:913:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Complex Animation Sequences\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1026 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1027 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1031 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should chain animations with proper timing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1027 |\u001b[39m\n     \u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1031 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1032 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1029:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle gesture-based animations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1074 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1075 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1076 |\u001b[39m     it(\u001b[32m'should handle gesture-based animations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1077 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mGestureComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1078 |\u001b[39m         \u001b[36mconst\u001b[39m [position\u001b[33m,\u001b[39m setPosition] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 1079 |\u001b[39m         \u001b[36mconst\u001b[39m [velocity\u001b[33m,\u001b[39m setVelocity] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1076:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Memory Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1128 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1129 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1130 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1131 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1132 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1133 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1130:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cleanup resources on unmount\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1129 |\u001b[39m\n     \u001b[90m 1130 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1131 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1132 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1133 |\u001b[39m       \n     \u001b[90m 1134 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResourceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1131:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1130:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage large data sets efficiently\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1163 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1164 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1165 |\u001b[39m     it(\u001b[32m'should manage large data sets efficiently'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1166 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mLargeDataComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1167 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 1168 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1165:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1130:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Real-time Collaboration Sync\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1216 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1217 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1218 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1219 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1220 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1221 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1218:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle conflict resolution in collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1217 |\u001b[39m\n     \u001b[90m 1218 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1219 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1220 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1221 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1222 |\u001b[39m         \u001b[36mconst\u001b[39m [conflicts\u001b[33m,\u001b[39m setConflicts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1219:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1218:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain operation history for undo/redo\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1279 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1280 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1281 |\u001b[39m     it(\u001b[32m'should maintain operation history for undo/redo'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1282 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mUndoRedoComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1283 |\u001b[39m         \u001b[36mconst\u001b[39m [history\u001b[33m,\u001b[39m setHistory] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m[]\u001b[33m>\u001b[39m([\u001b[32m'Initial'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 1284 |\u001b[39m         \u001b[36mconst\u001b[39m [currentIndex\u001b[33m,\u001b[39m setCurrentIndex] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1281:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1218:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Advanced Error Boundaries\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1334 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1335 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1336 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1337 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1338 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1339 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1336:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from component errors gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1335 |\u001b[39m\n     \u001b[90m 1336 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1337 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1338 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1339 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1340 |\u001b[39m         { hasError\u001b[33m:\u001b[39m boolean\u001b[33m;\u001b[39m errorInfo\u001b[33m:\u001b[39m any }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1337:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1336:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should report errors to monitoring service\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1404 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1405 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1406 |\u001b[39m     it(\u001b[32m'should report errors to monitoring service'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1407 |\u001b[39m       \u001b[36mconst\u001b[39m errorReports\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1408 |\u001b[39m       \n     \u001b[90m 1409 |\u001b[39m       \u001b[36mconst\u001b[39m reportError \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (error\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1406:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1336:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Multi-language Support Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1451 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1452 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1453 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1454 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1455 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1456 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1453:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch languages dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1452 |\u001b[39m\n     \u001b[90m 1453 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1454 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1455 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1456 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1457 |\u001b[39m         es\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Bienvenido'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Adi\u00f3s'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1454:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1453:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle RTL languages correctly\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1493 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1494 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1495 |\u001b[39m     it(\u001b[32m'should handle RTL languages correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1496 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRTLComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1497 |\u001b[39m         \u001b[36mconst\u001b[39m [language\u001b[33m,\u001b[39m setLanguage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'en'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1498 |\u001b[39m         \u001b[36mconst\u001b[39m [direction\u001b[33m,\u001b[39m setDirection] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[32m'ltr'\u001b[39m \u001b[33m|\u001b[39m \u001b[32m'rtl'\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'ltr'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1495:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1453:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. WebSocket Resilience Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1533 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1534 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1535 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1536 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1537 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1538 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1535:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle WebSocket message buffering during reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1534 |\u001b[39m\n     \u001b[90m 1535 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1536 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1537 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1538 |\u001b[39m       \n     \u001b[90m 1539 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResilientWebSocketComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1536:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1535:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement exponential backoff for reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1611 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1612 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1613 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1614 |\u001b[39m       \u001b[36mconst\u001b[39m reconnectAttempts\u001b[33m:\u001b[39m number[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1615 |\u001b[39m       \n     \u001b[90m 1616 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mExponentialBackoffComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1613:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1535:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. End-to-End User Journey\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1669 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1670 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1671 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1672 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1673 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1674 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1671:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete full optimization workflow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1670 |\u001b[39m\n     \u001b[90m 1671 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1672 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1673 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1674 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1675 |\u001b[39m         \u001b[36mconst\u001b[39m [workloadData\u001b[33m,\u001b[39m setWorkloadData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1672:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1671:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Comprehensive Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 81 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 82 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 83 |\u001b[39m describe(\u001b[32m'Comprehensive Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \n     \u001b[90m 86 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/comprehensive-integration.test.tsx:86:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/comprehensive-integration.test.tsx:102:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. Corpus Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 105 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 106 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 107 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 108 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 109 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 110 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:107:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload documents to corpus and process with embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 106 |\u001b[39m\n     \u001b[90m 107 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 108 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 109 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 110 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 111 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'Test Document'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:108:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:107:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should search corpus with semantic similarity\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m       \u001b[36mconst\u001b[39m mockSearchResults \u001b[33m=\u001b[39m [\n     \u001b[90m 141 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 1'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.95\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 142 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 2'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.87\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:139:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:107:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Synthetic Data Generation Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 165 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 166 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:163:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should generate synthetic data based on templates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 164 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 165 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 166 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 167 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'processing'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:164:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:163:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export generated synthetic data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 212 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 213 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 214 |\u001b[39m     it(\u001b[32m'should export generated synthetic data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 215 |\u001b[39m       \u001b[36mconst\u001b[39m mockExportData \u001b[33m=\u001b[39m {\n     \u001b[90m 216 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'json'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 217 |\u001b[39m         data\u001b[33m:\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'synthetic'\u001b[39m }]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:214:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:163:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. LLM Cache Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 234 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 235 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 236 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 239 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:236:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and retrieve LLM responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 235 |\u001b[39m\n     \u001b[90m 236 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 237 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 239 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 240 |\u001b[39m         prompt\u001b[33m:\u001b[39m \u001b[32m'test prompt'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:237:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:236:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage cache invalidation and TTL\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 263 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 264 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 265 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 266 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 267 |\u001b[39m         \u001b[36mconst\u001b[39m { cacheSize\u001b[33m,\u001b[39m clearCache\u001b[33m,\u001b[39m setCacheTTL } \u001b[33m=\u001b[39m useLLMCacheStore()\u001b[33m;\u001b[39m\n     \u001b[90m 268 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:265:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:236:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Supply Catalog Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 291 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 293 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 294 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 295 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 296 |\u001b[39m         models\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:293:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should browse and select AI models from catalog\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m\n     \u001b[90m 293 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 296 |\u001b[39m         models\u001b[33m:\u001b[39m [\n     \u001b[90m 297 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'gpt-4'\u001b[39m\u001b[33m,\u001b[39m provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m cost_per_1k\u001b[33m:\u001b[39m \u001b[35m0.03\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:294:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:293:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between model providers dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 317 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 318 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 319 |\u001b[39m     it(\u001b[32m'should switch between model providers dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 320 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 321 |\u001b[39m         \u001b[36mconst\u001b[39m { activeModel\u001b[33m,\u001b[39m switchModel } \u001b[33m=\u001b[39m useSupplyStore()\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:319:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:293:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Reference Management with Embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 346 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 347 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 348 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 349 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 350 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 351 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:348:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage document references with vector search\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 347 |\u001b[39m\n     \u001b[90m 348 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 349 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 350 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 351 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 352 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'API Documentation'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:349:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:348:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should find similar references using embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 377 |\u001b[39m     it(\u001b[32m'should find similar references using embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 378 |\u001b[39m       \u001b[36mconst\u001b[39m mockSimilarRefs \u001b[33m=\u001b[39m [\n     \u001b[90m 379 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 1'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.92\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 380 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 2'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.85\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:377:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:348:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Admin Functionality Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 398 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 399 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 400 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 401 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 402 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 403 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:400:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage users and permissions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 399 |\u001b[39m\n     \u001b[90m 400 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 401 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 402 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 403 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 404 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-2'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'user@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:401:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:400:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor system metrics and usage\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 435 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 436 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 437 |\u001b[39m     it(\u001b[32m'should monitor system metrics and usage'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 438 |\u001b[39m       \u001b[36mconst\u001b[39m mockMetrics \u001b[33m=\u001b[39m {\n     \u001b[90m 439 |\u001b[39m         total_requests\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 440 |\u001b[39m         active_users\u001b[33m:\u001b[39m \u001b[35m50\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:437:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:400:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. Health Check Monitoring\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 461 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 462 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 463 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 464 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 465 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 466 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:463:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor service health status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 462 |\u001b[39m\n     \u001b[90m 463 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 464 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 465 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 466 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 467 |\u001b[39m         services\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:464:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:463:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle degraded service states\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 490 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 491 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 492 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 493 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 494 |\u001b[39m         \u001b[36mconst\u001b[39m [health\u001b[33m,\u001b[39m setHealth] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 495 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:492:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:463:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. Configuration Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 531 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 532 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 533 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 534 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 535 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 536 |\u001b[39m         features\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:533:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load and apply dynamic configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 532 |\u001b[39m\n     \u001b[90m 533 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 534 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 535 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 536 |\u001b[39m         features\u001b[33m:\u001b[39m {\n     \u001b[90m 537 |\u001b[39m           dark_mode\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:534:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:533:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should update configuration and propagate changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 562 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 563 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 564 |\u001b[39m     it(\u001b[32m'should update configuration and propagate changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 565 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 566 |\u001b[39m         \u001b[36mconst\u001b[39m { config\u001b[33m,\u001b[39m updateConfig } \u001b[33m=\u001b[39m useConfigStore()\u001b[33m;\u001b[39m\n     \u001b[90m 567 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:564:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:533:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Generation Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 593 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 594 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 595 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 596 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 597 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 598 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle content generation with streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 594 |\u001b[39m\n     \u001b[90m 595 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 596 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 597 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 598 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 599 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:596:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle generation templates and parameters\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 643 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 644 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 645 |\u001b[39m     it(\u001b[32m'should handle generation templates and parameters'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 646 |\u001b[39m       \u001b[36mconst\u001b[39m mockTemplate \u001b[33m=\u001b[39m {\n     \u001b[90m 647 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'template-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 648 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Email Template'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:645:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. OAuth Secrets Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 674 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 675 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 676 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 677 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 678 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 679 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:676:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely manage OAuth provider configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 675 |\u001b[39m\n     \u001b[90m 676 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 677 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 678 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 679 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 680 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'github'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'github-id'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:677:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:676:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate OAuth secrets securely\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 697 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 698 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 699 |\u001b[39m     it(\u001b[32m'should rotate OAuth secrets securely'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 700 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockResolvedValueOnce({\n     \u001b[90m 701 |\u001b[39m         ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 702 |\u001b[39m         json\u001b[33m:\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:699:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:676:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Multi-Model Provider Switching\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 720 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 721 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 722 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 723 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 724 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 725 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:722:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between providers based on availability\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 721 |\u001b[39m\n     \u001b[90m 722 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 723 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 724 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 725 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 726 |\u001b[39m         \u001b[36mconst\u001b[39m [fallbackUsed\u001b[33m,\u001b[39m setFallbackUsed] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:723:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:722:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load balance across multiple providers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 757 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 758 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 759 |\u001b[39m     it(\u001b[32m'should load balance across multiple providers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 760 |\u001b[39m       \u001b[36mconst\u001b[39m providers \u001b[33m=\u001b[39m [\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'anthropic'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'cohere'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 761 |\u001b[39m       \u001b[36mlet\u001b[39m requestCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 762 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:759:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:722:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Cost Tracking and Budgeting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 780 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 781 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 782 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 783 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 785 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track API usage costs in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 781 |\u001b[39m\n     \u001b[90m 782 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 783 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 785 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 786 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:783:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should enforce budget limits and alerts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 827 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 828 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 829 |\u001b[39m     it(\u001b[32m'should enforce budget limits and alerts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 830 |\u001b[39m       \u001b[36mconst\u001b[39m mockBudget \u001b[33m=\u001b[39m {\n     \u001b[90m 831 |\u001b[39m         monthly_limit\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 832 |\u001b[39m         current_usage\u001b[33m:\u001b[39m \u001b[35m950\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:829:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Database Repository Pattern Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 857 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 858 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 859 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 860 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 861 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 862 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:859:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle unit of work pattern for transactions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 858 |\u001b[39m\n     \u001b[90m 859 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 860 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 861 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 862 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 863 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:860:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:859:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement repository caching layer\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 906 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 907 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 908 |\u001b[39m     it(\u001b[32m'should implement repository caching layer'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 909 |\u001b[39m       \u001b[36mconst\u001b[39m repositoryCache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 910 |\u001b[39m       \n     \u001b[90m 911 |\u001b[39m       \u001b[36mconst\u001b[39m getCachedOrFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (key\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m fetcher\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:908:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:859:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Migration Handling\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 935 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 936 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 937 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 938 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 939 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 940 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:937:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should check and apply database migrations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 936 |\u001b[39m\n     \u001b[90m 937 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 938 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 939 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 940 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 941 |\u001b[39m         latest_version\u001b[33m:\u001b[39m \u001b[32m'005'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:938:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:937:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle migration rollback on failure\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 959 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 960 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 961 |\u001b[39m     it(\u001b[32m'should handle migration rollback on failure'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 962 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n     \u001b[90m 963 |\u001b[39m         \u001b[33m.\u001b[39mmockImplementationOnce(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }))\n     \u001b[90m 964 |\u001b[39m         \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Migration failed'\u001b[39m))\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:961:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:937:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Background Task Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 983 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 984 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 985 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 986 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 987 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 988 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:985:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue and process background tasks\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 984 |\u001b[39m\n     \u001b[90m 985 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 986 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 987 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 988 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 989 |\u001b[39m         \u001b[36mconst\u001b[39m [taskId\u001b[33m,\u001b[39m setTaskId] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:986:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:985:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle task retry with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1046 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1047 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1048 |\u001b[39m     it(\u001b[32m'should handle task retry with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1049 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1050 |\u001b[39m       \u001b[36mconst\u001b[39m maxRetries \u001b[33m=\u001b[39m \u001b[35m3\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1051 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1048:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:985:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Redis Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1074 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1075 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1076 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1077 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1078 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1079 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1076:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache session data in Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1075 |\u001b[39m\n     \u001b[90m 1076 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1077 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1078 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1079 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1080 |\u001b[39m         user_id\u001b[33m:\u001b[39m \u001b[32m'user-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1077:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1076:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement distributed locking with Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1101 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1102 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1103 |\u001b[39m     it(\u001b[32m'should implement distributed locking with Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1104 |\u001b[39m       \u001b[36mconst\u001b[39m acquireLock \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (resource\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m ttl\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1105 |\u001b[39m         \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(\u001b[32m'/api/locks/acquire'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m 1106 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1103:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1076:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. ClickHouse Analytics Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1136 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1138 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1139 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1140 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1141 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1138:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should log and query time-series events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1137 |\u001b[39m\n     \u001b[90m 1138 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1139 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1140 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1141 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1142 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m1800000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m180\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1139:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1138:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should aggregate metrics for dashboards\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1166 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1167 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1168 |\u001b[39m     it(\u001b[32m'should aggregate metrics for dashboards'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1169 |\u001b[39m       \u001b[36mconst\u001b[39m mockAggregates \u001b[33m=\u001b[39m {\n     \u001b[90m 1170 |\u001b[39m         avg_latency\u001b[33m:\u001b[39m \u001b[35m210\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1171 |\u001b[39m         p95_latency\u001b[33m:\u001b[39m \u001b[35m450\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1168:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1138:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Error Context and Tracing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1192 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1193 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1194 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1195 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1196 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1193:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should propagate trace IDs through requests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1192 |\u001b[39m\n     \u001b[90m 1193 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1194 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1195 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1196 |\u001b[39m       \n     \u001b[90m 1197 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1194:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1193:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should capture error context with stack traces\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1228 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1229 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1230 |\u001b[39m     it(\u001b[32m'should capture error context with stack traces'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1231 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1232 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1233 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1230:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1193:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Security Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1275 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1276 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1277 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1278 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1279 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1280 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1277:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and sanitize user inputs\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1276 |\u001b[39m\n     \u001b[90m 1277 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1278 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1279 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1280 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\n     \u001b[90m 1281 |\u001b[39m         \u001b[36mconst\u001b[39m sanitized \u001b[33m=\u001b[39m input\u001b[33m.\u001b[39mreplace(\u001b[35m/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1278:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1277:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement rate limiting for API endpoints\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1303 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1304 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1305 |\u001b[39m     it(\u001b[32m'should implement rate limiting for API endpoints'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1306 |\u001b[39m       \u001b[36mconst\u001b[39m rateLimiter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 1307 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRATE_LIMIT\u001b[39m \u001b[33m=\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1308 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mWINDOW_MS\u001b[39m \u001b[33m=\u001b[39m \u001b[35m60000\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1305:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1277:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Key Manager Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1340 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1341 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1342 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1343 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1344 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1345 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1342:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely store and retrieve API keys\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1341 |\u001b[39m\n     \u001b[90m 1342 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1343 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1344 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1345 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1346 |\u001b[39m         provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1343:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1342:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate API keys periodically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1368 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1369 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1370 |\u001b[39m     it(\u001b[32m'should rotate API keys periodically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1371 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1372 |\u001b[39m         \u001b[36mconst\u001b[39m [lastRotation\u001b[33m,\u001b[39m setLastRotation] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1373 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1370:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1342:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Demo Mode Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1404 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1405 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1406 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1407 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1408 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1409 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1406:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should restrict features in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1405 |\u001b[39m\n     \u001b[90m 1406 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1407 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1408 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1409 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1410 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1407:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1406:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should provide sample data in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1445 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1446 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1447 |\u001b[39m     it(\u001b[32m'should provide sample data in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1448 |\u001b[39m       \u001b[36mconst\u001b[39m mockDemoData \u001b[33m=\u001b[39m {\n     \u001b[90m 1449 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 1450 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'demo-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Demo Thread 1'\u001b[39m\u001b[33m,\u001b[39m messages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1447:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1406:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Enterprise Demo Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1474 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1475 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1476 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1477 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1478 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1479 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1476:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should showcase enterprise-specific capabilities\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1475 |\u001b[39m\n     \u001b[90m 1476 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1477 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1478 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1479 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1480 |\u001b[39m         audit_logging\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1477:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1476:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle team collaboration workflows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1500 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1501 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1502 |\u001b[39m     it(\u001b[32m'should handle team collaboration workflows'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1503 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1504 |\u001b[39m         \u001b[36mconst\u001b[39m [team\u001b[33m,\u001b[39m setTeam] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1505 |\u001b[39m         \u001b[36mconst\u001b[39m [sharedThread\u001b[33m,\u001b[39m setSharedThread] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1502:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1476:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. PDF and Image Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1541 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1542 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1543 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1544 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1545 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1546 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1543:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should extract text from PDF documents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1542 |\u001b[39m\n     \u001b[90m 1543 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1544 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1545 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1546 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1547 |\u001b[39m         pages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1544:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1543:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should analyze images with vision models\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1573 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1574 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1575 |\u001b[39m     it(\u001b[32m'should analyze images with vision models'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1576 |\u001b[39m       \u001b[36mconst\u001b[39m mockImageAnalysis \u001b[33m=\u001b[39m {\n     \u001b[90m 1577 |\u001b[39m         description\u001b[33m:\u001b[39m \u001b[32m'A chart showing revenue growth'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1578 |\u001b[39m         objects_detected\u001b[33m:\u001b[39m [\u001b[32m'chart'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'numbers'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1575:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1543:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Jupyter Notebook Support\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1605 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1606 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1607 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1608 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1609 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1610 |\u001b[39m         cells\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1607:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should parse and execute notebook cells\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1606 |\u001b[39m\n     \u001b[90m 1607 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1608 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1609 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1610 |\u001b[39m         cells\u001b[33m:\u001b[39m [\n     \u001b[90m 1611 |\u001b[39m           { type\u001b[33m:\u001b[39m \u001b[32m'code'\u001b[39m\u001b[33m,\u001b[39m source\u001b[33m:\u001b[39m \u001b[32m'print(\"Hello\")'\u001b[39m\u001b[33m,\u001b[39m output\u001b[33m:\u001b[39m \u001b[32m'Hello'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1608:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1607:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should convert notebooks to different formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1631 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1632 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1633 |\u001b[39m     it(\u001b[32m'should convert notebooks to different formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1634 |\u001b[39m       \u001b[36mconst\u001b[39m mockConverted \u001b[33m=\u001b[39m {\n     \u001b[90m 1635 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'html'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1636 |\u001b[39m         content\u001b[33m:\u001b[39m \u001b[32m'<html><body>Notebook content</body></html>'\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1633:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1607:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Export Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1657 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1658 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1659 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1660 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1661 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1662 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1659:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1658 |\u001b[39m\n     \u001b[90m 1659 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1660 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1661 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1662 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1663 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1660:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1659:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle large data exports with progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1712 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1713 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1714 |\u001b[39m     it(\u001b[32m'should handle large data exports with progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1715 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1716 |\u001b[39m         \u001b[36mconst\u001b[39m [progress\u001b[33m,\u001b[39m setProgress] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1717 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1714:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1659:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Import Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1744 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1745 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1746 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1747 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1748 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1749 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1746:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and import data files\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1745 |\u001b[39m\n     \u001b[90m 1746 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1747 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1748 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1749 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1750 |\u001b[39m         imported\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1747:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1746:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should preview import data before confirmation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1778 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1779 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1780 |\u001b[39m     it(\u001b[32m'should preview import data before confirmation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1781 |\u001b[39m       \u001b[36mconst\u001b[39m mockPreview \u001b[33m=\u001b[39m {\n     \u001b[90m 1782 |\u001b[39m         total_rows\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1783 |\u001b[39m         sample_data\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1780:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1746:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Collaboration Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1813 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1814 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1815 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1816 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1817 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1818 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle real-time collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1814 |\u001b[39m\n     \u001b[90m 1815 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1816 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1817 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1818 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1819 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1816:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should synchronize cursor positions between users\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1857 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1858 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1859 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1860 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1861 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1862 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1859:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Real-time Metrics Dashboard\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1916 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1917 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1918 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1919 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1920 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1921 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should display live performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1917 |\u001b[39m\n     \u001b[90m 1918 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1919 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1920 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1921 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1922 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1919:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should visualize historical metrics with time series\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1961 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1962 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1963 |\u001b[39m     it(\u001b[32m'should visualize historical metrics with time series'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1964 |\u001b[39m       \u001b[36mconst\u001b[39m mockTimeSeries \u001b[33m=\u001b[39m {\n     \u001b[90m 1965 |\u001b[39m         timestamps\u001b[33m:\u001b[39m [\u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m2000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m4000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m5000\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 1966 |\u001b[39m         values\u001b[33m:\u001b[39m [\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m \u001b[35m120\u001b[39m\u001b[33m,\u001b[39m \u001b[35m115\u001b[39m\u001b[33m,\u001b[39m \u001b[35m130\u001b[39m\u001b[33m,\u001b[39m \u001b[35m125\u001b[39m]\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1963:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. Agent Tool Dispatcher Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1984 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1985 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1986 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1987 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1988 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 1989 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1986:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should dynamically dispatch tools to agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1985 |\u001b[39m\n     \u001b[90m 1986 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1987 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1988 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 1989 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1990 |\u001b[39m         result\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1987:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1986:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle tool chaining and dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2017 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2018 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2019 |\u001b[39m     it(\u001b[32m'should handle tool chaining and dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2020 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2021 |\u001b[39m         \u001b[36mconst\u001b[39m [toolChain\u001b[33m,\u001b[39m setToolChain] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 2022 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2019:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1986:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. State Persistence and Recovery\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2073 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 2074 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2075 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2076 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2077 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2078 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2075:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist application state across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2074 |\u001b[39m\n     \u001b[90m 2075 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2076 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2077 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2078 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 2079 |\u001b[39m         timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2076:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2075:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from corrupted state gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2121 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2122 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2123 |\u001b[39m     it(\u001b[32m'should recover from corrupted state gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2124 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2125 |\u001b[39m         \u001b[36mconst\u001b[39m [state\u001b[33m,\u001b[39m setState] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2126 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2123:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2075:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/auth/context.test.tsx\n  \u25cf Console\n\n    console.log\n      Development mode detected. Has logged out: false\n\n      at log (auth/context.tsx:65:17)\n\n    console.log\n      Attempting auto dev login...\n\n      at log (auth/context.tsx:69:19)\n\n    console.error\n      Failed to fetch auth config: Error: Network error\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\context.test.tsx:283:66)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at runNextTicks (node:internal/process/task_queues:65:5)\n          at listOnTimeout (node:internal/timers:569:9)\n          at processTimers (node:internal/timers:543:7)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n          at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (auth/context.tsx:83:15)\n\n    console.log\n      Development mode detected. Has logged out: false\n\n      at log (auth/context.tsx:65:17)\n\n    console.log\n      Attempting auto dev login...\n\n      at log (auth/context.tsx:69:19)\n\n    console.error\n      Failed to fetch auth config: Error: Network error\n          at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\context.test.tsx:355:66)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n          at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (auth/context.tsx:83:15)\n\n    console.error\n      You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one.\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at popActScope (node_modules/react/cjs/react.development.js:532:17)\n      at node_modules/react/cjs/react.development.js:819:17\n\n    console.error\n      You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one.\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at popActScope (node_modules/react/cjs/react.development.js:532:17)\n      at node_modules/react/cjs/react.development.js:819:17\n\n    console.error\n      You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one.\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at popActScope (node_modules/react/cjs/react.development.js:532:17)\n      at node_modules/react/cjs/react.development.js:819:17\n\n  \u25cf AuthContext \u203a Token Management \u203a should handle token refresh mechanism\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"mock-jwt-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m       \n     \u001b[90m 191 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m         expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.test.tsx:192:27)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext \u203a Development Mode \u203a should auto-login in development mode when not logged out\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8000/auth/callback\", \"dev_login\": \"http://localhost:8000/auth/dev-login\", \"login\": \"http://localhost:8000/auth/login\", \"logout\": \"http://localhost:8000/auth/logout\"}}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 211 |\u001b[39m       \n     \u001b[90m 212 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 213 |\u001b[39m         expect(authService\u001b[33m.\u001b[39mhandleDevLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 214 |\u001b[39m         expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m 215 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 216 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.test.tsx:213:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext \u203a Login Functionality \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:278:46)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8000/auth/callback\", \"dev_login\": \"http://localhost:8000/auth/dev-login\", \"login\": \"http://localhost:8000/auth/login\", \"logout\": \"http://localhost:8000/auth/logout\"}}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 323 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 324 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 325 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 326 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 328 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/context.test.tsx:325:40)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 348 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 350 |\u001b[39m       expect(authService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 351 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 353 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:350:44)\n\n  \u25cf AuthContext \u203a Sync with Auth Store \u203a should sync logout with Zustand store\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 513 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 514 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 515 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 516 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 517 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 518 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:515:36)\n\n  \u25cf AuthContext \u203a Edge Cases \u203a should handle concurrent auth operations\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 584 |\u001b[39m       \n     \u001b[90m 585 |\u001b[39m       \u001b[90m// Verify operations were called\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 586 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 587 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 588 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 589 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:586:39)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/components/ChatHistorySection.test.tsx (7.181 s)\n  \u25cf Console\n\n    console.error\n      Failed to load threads: Network error\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:54:15)\n\n    console.error\n      Failed to delete thread: Failed to delete\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:130:15)\n\n    console.error\n      Failed to delete thread: Failed to delete\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:130:15)\n\n    console.error\n      Failed to load thread messages: Failed to load messages\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:95:15)\n\n    console.error\n      Failed to load thread messages: Cannot read properties of undefined (reading 'messages')\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:95:15)\n\n    console.error\n      Failed to create thread: Failed to create thread\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:69:15)\n\n    console.error\n      Failed to update thread title: Cannot read properties of undefined (reading 'title')\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:113:15)\n\n    console.error\n      Failed to create thread: Cannot read properties of undefined (reading 'id')\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:69:15)\n\n    console.error\n      Failed to load threads: _threadService.ThreadService.listThreads is not a function\n\n    \u001b[0m \u001b[90m 121 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 123 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 124 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   \n     \u001b[90m 126 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:123:19)\n      at error (components/ChatHistorySection.tsx:54:15)\n      at loadThreads (components/ChatHistorySection.tsx:42:7)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1520:35)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\ThreadSidebar.tsx:87\n            setLoading(false);\n            ^\n\n[TypeError: setLoading is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/chat/chatUIUXCore.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nFAIL __tests__/components/chat/MainChat.test.tsx (12.119 s)\n  \u25cf MainChat \u203a Agent status updates \u203a should handle toggle collapse manually\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 362 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m     it(\u001b[32m'should handle toggle collapse manually'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m 365 |\u001b[39m         \u001b[33m...\u001b[39mmockStore\u001b[33m,\u001b[39m\n     \u001b[90m 366 |\u001b[39m         isProcessing\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:363:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:240:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:34:1)\n\n  \u25cf MainChat \u203a Error recovery and reconnection \u203a should handle store errors gracefully\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Store initialization failed\"\n\n        \u001b[0m \u001b[90m 388 |\u001b[39m     it(\u001b[32m'should handle store errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 389 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 390 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Store initialization failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 391 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 392 |\u001b[39m       \n         \u001b[90m 393 |\u001b[39m       \u001b[90m// Should not crash the component\u001b[39m\u001b[0m\n\n      at __tests__/components/chat/MainChat.test.tsx:390:15\n      at MainChat (components/chat/MainChat.tsx:22:26)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at __tests__/components/chat/MainChat.test.tsx:394:26\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:394:46)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:394:46)\n\n  \u25cf MainChat \u203a Message history loading \u203a should update history when new messages arrive\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-testid=\"example-prompts\">Example Prompts</div> instead\n\n    \u001b[0m \u001b[90m 567 |\u001b[39m       \n     \u001b[90m 568 |\u001b[39m       \u001b[90m// Example prompts should disappear\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 569 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 570 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 571 |\u001b[39m\n     \u001b[90m 572 |\u001b[39m     it(\u001b[32m'should handle message deletion from history'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:569:59)\n\n  \u25cf MainChat \u203a UI layout and responsiveness \u203a should apply correct CSS classes\n\n    expect(element).toHaveClass(\"flex flex-col h-full\")\n\n    Expected the element to have class:\n      flex flex-col h-full\n    Received:\n      flex h-full bg-gradient-to-br from-gray-50 via-white to-gray-50\n\n    \u001b[0m \u001b[90m 611 |\u001b[39m       \n     \u001b[90m 612 |\u001b[39m       \u001b[36mconst\u001b[39m mainContainer \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mfirstChild\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 613 |\u001b[39m       expect(mainContainer)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'flex'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'flex-col'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'h-full'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 614 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 615 |\u001b[39m\n     \u001b[90m 616 |\u001b[39m     it(\u001b[32m'should handle window resize'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveClass (__tests__/components/chat/MainChat.test.tsx:613:29)\n\n  \u25cf MainChat \u203a Performance and optimization \u203a should clean up timers on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 708 |\u001b[39m       \n     \u001b[90m 709 |\u001b[39m       \u001b[90m// Any active timers should be cleared\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 710 |\u001b[39m       expect(clearTimeoutSpy)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 711 |\u001b[39m       \n     \u001b[90m 712 |\u001b[39m       clearTimeoutSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 713 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/components/chat/MainChat.test.tsx:710:31)\n\n  \u25cf MainChat \u203a Integration with store and hooks \u203a should handle store reset\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-collapsed=\"false\" data-testid=\"response-card\"><button>Toggle</button>Response Card</div> instead\n\n    \u001b[0m \u001b[90m 777 |\u001b[39m       \u001b[90m// Should show example prompts again\u001b[39m\n     \u001b[90m 778 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 779 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'response-card'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 780 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 781 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 782 |\u001b[39m\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:779:57)\n\n  \u25cf MainChat \u203a Accessibility \u203a should support keyboard navigation\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 789 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 790 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 791 |\u001b[39m     it(\u001b[32m'should support keyboard navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 792 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \n     \u001b[90m 794 |\u001b[39m       \u001b[90m// Tab through components\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:791:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:783:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:34:1)\n\nFAIL __tests__/system/startup.test.tsx (12.725 s)\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should establish WebSocket connection on startup\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"ws://localhost:8000\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 167 |\u001b[39m       \n     \u001b[90m 168 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 169 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 170 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'ws://localhost:8000'\u001b[39m)\n     \u001b[90m 171 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 172 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/system/startup.test.tsx:169:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should handle WebSocket heartbeat\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"ping\\\"}\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 198 |\u001b[39m       \n     \u001b[90m 199 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 200 |\u001b[39m         expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 201 |\u001b[39m           \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'ping'\u001b[39m })\n     \u001b[90m 202 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 203 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/system/startup.test.tsx:200:36)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should reconnect on connection loss\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 226 |\u001b[39m       \u001b[90m// Should attempt reconnection\u001b[39m\n     \u001b[90m 227 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 228 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 229 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 230 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/system/startup.test.tsx:228:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a Store Initialization \u203a should restore persisted state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"test-token\"\n    Received: null\n\n    \u001b[0m \u001b[90m 273 |\u001b[39m       \n     \u001b[90m 274 |\u001b[39m       \u001b[90m// Verify restored state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 275 |\u001b[39m       expect(state\u001b[33m.\u001b[39mtoken)\u001b[33m.\u001b[39mtoBe(\u001b[32m'test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 276 |\u001b[39m       expect(state\u001b[33m.\u001b[39muser)\u001b[33m.\u001b[39mtoEqual(mockUser)\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       expect(state\u001b[33m.\u001b[39misAuthenticated)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 278 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/system/startup.test.tsx:275:27)\n\n  \u25cf Frontend System Startup \u203a Error Boundary \u203a should catch and handle startup errors\n\n    Startup error\n\n    \u001b[0m \u001b[90m 332 |\u001b[39m       \n     \u001b[90m 333 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThrowError\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 334 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Startup error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 335 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m       \n     \u001b[90m 337 |\u001b[39m       \u001b[90m// Suppress console.error for this test\u001b[39m\u001b[0m\n\n      at ThrowError (__tests__/system/startup.test.tsx:334:15)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/system/startup.test.tsx:341:35)\n\n  \u25cf Frontend System Startup \u203a Performance Monitoring \u203a should measure startup performance\n\n    thrown: \"Exceeded timeout of 10000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 353 |\u001b[39m\n     \u001b[90m 354 |\u001b[39m   describe(\u001b[32m'Performance Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 355 |\u001b[39m     it(\u001b[32m'should measure startup performance'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 356 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 357 |\u001b[39m       \n     \u001b[90m 358 |\u001b[39m       \u001b[90m// Simulate startup operations\u001b[39m\u001b[0m\n\n      at it (__tests__/system/startup.test.tsx:355:5)\n      at describe (__tests__/system/startup.test.tsx:354:3)\n      at Object.describe (__tests__/system/startup.test.tsx:30:1)\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\chat\\MessageInput.tsx:146\n            const thread = await _threadService.ThreadService.getThread(threadId);\n                                                              ^\n\n[TypeError: _threadService.ThreadService.getThread is not a function]\n\nNode.js v24.4.1\nFAIL __tests__/chat/ui-improvements.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nFAIL __tests__/components/ChatComponents.test.tsx (21.306 s)\n  \u25cf test_MessageList_virtualization \u203a should implement virtual scrolling for large lists\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"/message-/\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"relative overflow-hidden h-[calc(100vh-250px)] px-6 py-4 overflow-y-auto\"\u001b[39m\n          \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n          \u001b[33mstyle\u001b[39m=\u001b[32m\"position: relative; --radix-scroll-area-corner-width: 0px; --radix-scroll-area-corner-height: 0px;\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"h-full w-full rounded-[inherit]\"\u001b[39m\n            \u001b[33mdata-radix-scroll-area-viewport\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[33mstyle\u001b[39m=\u001b[32m\"overflow-x: hidden; overflow-y: scroll;\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"min-width: 100%; display: table;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"mb-4 flex justify-start\"\u001b[39m\n                  \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"rounded-lg border text-card-foreground w-full max-w-3xl shadow-sm hover:shadow-md transition-shadow duration-200 bg-white border-gray-200\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col space-y-1.5 p-6 pb-3 pt-4 px-5\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start justify-between\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<span\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"relative flex shrink-0 overflow-hidden rounded-full w-9 h-9 border-2 border-white shadow-sm\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<span\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex h-full w-full items-center justify-center rounded-full bg-muted font-bold text-sm bg-gradient-to-r from-purple-600 to-pink-600 text-white\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[0mAI\u001b[0m\n                            \u001b[36m</span>\u001b[39m\n                          \u001b[36m</span>\u001b[39m\n                          \u001b[36m<div>\u001b[39m\n                            \u001b[36m<div\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[36m<svg\u001b[39m\n                                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-bot w-4 h-4\"\u001b[39m\n                                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M12 8V4H8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<rect\u001b[39m\n                                  \u001b[33mheight\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                                  \u001b[33mrx\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                  \u001b[33mwidth\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                                  \u001b[33mx\u001b[39m=\u001b[32m\"4\"\u001b[39m\n                                  \u001b[33my\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M2 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M20 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M15 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M9 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                              \u001b[36m</svg>\u001b[39m\n                              \u001b[36m<h3\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"tracking-tight text-base font-semibold text-gray-900\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[0mNetra Agent\u001b[0m\n                              \u001b[36m</h3>\u001b[39m\n                            \u001b[36m</div>\u001b[39m\n                          \u001b[36m</div>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2 text-xs text-gray-500\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<svg\u001b[39m\n                            \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-clock w-3 h-3\"\u001b[39m\n                            \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                            \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                            \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                            \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<path\u001b[39m\n                              \u001b[33md\u001b[39m=\u001b[32m\"M12 6v6l4 2\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                            \u001b[36m<circle\u001b[39m\n                              \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                          \u001b[36m</svg>\u001b[39m\n                          \u001b[36m<span>\u001b[39m\n                            \u001b[0m01:39:04 PM\u001b[0m\n                          \u001b[36m</span>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"p-6 pt-0 px-5 pb-4\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"space-y-3\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<p\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"text-gray-800 leading-relaxed whitespace-pre-wrap\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[0mMessage 0\u001b[0m\n                        \u001b[36m</p>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n       ...\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m     \n     \u001b[90m 34 |\u001b[39m     \u001b[90m// MessageList renders all messages by default (no virtualization currently)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     \u001b[36mconst\u001b[39m renderedMessages \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/message-/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     expect(renderedMessages\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15\n      at Object.getAllByTestId (__tests__/components/ChatComponents.test.tsx:35:37)\n\n  \u25cf test_MessageList_virtualization \u203a should maintain performance with large message lists\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 5000\n    Received:   9783.006000000001\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m     \n     \u001b[90m 58 |\u001b[39m     \u001b[90m// Should render in reasonable time\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m     expect(renderTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m5000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m\n     \u001b[90m 62 |\u001b[39m   it(\u001b[32m'should handle scroll to bottom correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/components/ChatComponents.test.tsx:59:24)\n\n  \u25cf test_MessageInput_validation \u203a should validate input length\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m   it(\u001b[32m'should validate input length'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m     \n     \u001b[90m 119 |\u001b[39m     \u001b[36mconst\u001b[39m input \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'textbox'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/components/ChatComponents.test.tsx:116:3)\n      at Object.describe (__tests__/components/ChatComponents.test.tsx:107:1)\n\n  \u25cf test_MessageInput_validation \u203a should handle text input and sending\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 130 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 132 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 133 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:132:18)\n\n  \u25cf test_MessageInput_validation \u203a should handle keyboard shortcuts\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Test message\"\n    Received: \"aaaTaeasata amaeasasaaagaeaa\"\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m     \n     \u001b[90m 156 |\u001b[39m     \u001b[90m// Message should still be in input (requires Ctrl+Enter to send)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m     expect(input\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Test message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m\n     \u001b[90m 160 |\u001b[39m   it(\u001b[32m'should prevent empty message submission'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/ChatComponents.test.tsx:157:25)\n\n  \u25cf test_MessageInput_validation \u203a should prevent empty message submission\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:163:18)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx (32.234 s)\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should upload documents to corpus and process with embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 1\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 134 |\u001b[39m       \n     \u001b[90m 135 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'doc-123'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 136 |\u001b[39m       expect(useCorpusStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mdocuments)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 137 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n     \u001b[90m 139 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:136:51)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 2. Synthetic Data Generation Flow \u203a should generate synthetic data based on templates\n\n    TypeError: useSyntheticDataStore is not a function\n\n    \u001b[0m \u001b[90m 177 |\u001b[39m       \n     \u001b[90m 178 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 179 |\u001b[39m         \u001b[36mconst\u001b[39m { generateData\u001b[33m,\u001b[39m jobs } \u001b[33m=\u001b[39m useSyntheticDataStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 180 |\u001b[39m         \n     \u001b[90m 181 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 182 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useSyntheticDataStore (__tests__/integration/comprehensive-integration.test.tsx:179:40)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:193:13)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should cache and retrieve LLM responses\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 260 |\u001b[39m       \u001b[90m// Second call - cache hit\u001b[39m\n     \u001b[90m 261 |\u001b[39m       \u001b[36mconst\u001b[39m response2 \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m llmCacheService\u001b[33m.\u001b[39mquery(\u001b[32m'test prompt'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'gpt-4'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 262 |\u001b[39m       expect(response2\u001b[33m.\u001b[39mcached)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 263 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 264 |\u001b[39m\n     \u001b[90m 265 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:262:32)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should manage cache invalidation and TTL\n\n    TypeError: useLLMCacheStore is not a function\n\n    \u001b[0m \u001b[90m 265 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 266 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 267 |\u001b[39m         \u001b[36mconst\u001b[39m { cacheSize\u001b[33m,\u001b[39m clearCache\u001b[33m,\u001b[39m setCacheTTL } \u001b[33m=\u001b[39m useLLMCacheStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 268 |\u001b[39m         \n     \u001b[90m 269 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 270 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useLLMCacheStore (__tests__/integration/comprehensive-integration.test.tsx:267:56)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:283:35)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should browse and select AI models from catalog\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 313 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 315 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 316 |\u001b[39m       expect(useSupplyStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcatalog\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 317 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 318 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:315:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should switch between model providers dynamically\n\n    TypeError: useSupplyStore is not a function\n\n    \u001b[0m \u001b[90m 319 |\u001b[39m     it(\u001b[32m'should switch between model providers dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 320 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 321 |\u001b[39m         \u001b[36mconst\u001b[39m { activeModel\u001b[33m,\u001b[39m switchModel } \u001b[33m=\u001b[39m useSupplyStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 322 |\u001b[39m         \n     \u001b[90m 323 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 324 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useSupplyStore (__tests__/integration/comprehensive-integration.test.tsx:321:46)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:338:48)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should manage document references with vector search\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"ref-789\"\n    Received: \"ref-1\"\n\n    \u001b[0m \u001b[90m 371 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 372 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 373 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 374 |\u001b[39m       expect(result\u001b[33m.\u001b[39membedding)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m4\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:373:25)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should find similar references using embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 393 |\u001b[39m       \u001b[36mconst\u001b[39m results \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m findSimilar(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 394 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 395 |\u001b[39m       expect(results)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 396 |\u001b[39m       expect(results[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39msimilarity)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0.9\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 397 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 398 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:395:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should manage users and permissions\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2\n    Received:\n      0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mLoad Users\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"user-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 431 |\u001b[39m       \n     \u001b[90m 432 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 433 |\u001b[39m         expect(getByTestId(\u001b[32m'user-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 434 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 436 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive-integration.test.tsx:433:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should monitor system metrics and usage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 10000\n    Received: undefined\n\n    \u001b[0m \u001b[90m 456 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getSystemMetrics()\u001b[33m;\u001b[39m\n     \u001b[90m 457 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 458 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39mtotal_requests)\u001b[33m.\u001b[39mtoBe(\u001b[35m10000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 459 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39merror_rate)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m0.05\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 460 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:458:38)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should monitor service health status\n\n    TypeError: Cannot read properties of undefined (reading 'database')\n\n    \u001b[0m \u001b[90m 487 |\u001b[39m       \n     \u001b[90m 488 |\u001b[39m       expect(health\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'healthy'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 489 |\u001b[39m       expect(health\u001b[33m.\u001b[39mservices\u001b[33m.\u001b[39mdatabase)\u001b[33m.\u001b[39mtoBe(\u001b[32m'up'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 490 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 491 |\u001b[39m\n     \u001b[90m 492 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.database (__tests__/integration/comprehensive-integration.test.tsx:489:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should handle degraded service states\n\n    Unable to find an element by: [data-testid=\"alert\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"health-status\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mchecking\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 525 |\u001b[39m       \u001b[36mconst\u001b[39m { getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 526 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 527 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 528 |\u001b[39m         expect(getByTestId(\u001b[32m'alert'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 529 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 530 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:527:20)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should load and apply dynamic configurations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 558 |\u001b[39m       \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadConfig()\u001b[33m;\u001b[39m\n     \u001b[90m 559 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 560 |\u001b[39m       expect(config\u001b[33m.\u001b[39mfeatures\u001b[33m.\u001b[39mdark_mode)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 561 |\u001b[39m       expect(useConfigStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mconfig\u001b[33m.\u001b[39mlimits\u001b[33m.\u001b[39mmax_threads)\u001b[33m.\u001b[39mtoBe(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 562 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 563 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:560:41)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should update configuration and propagate changes\n\n    TypeError: useConfigStore is not a function\n\n    \u001b[0m \u001b[90m 564 |\u001b[39m     it(\u001b[32m'should update configuration and propagate changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 565 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 566 |\u001b[39m         \u001b[36mconst\u001b[39m { config\u001b[33m,\u001b[39m updateConfig } \u001b[33m=\u001b[39m useConfigStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 567 |\u001b[39m         \n     \u001b[90m 568 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 569 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useConfigStore (__tests__/integration/comprehensive-integration.test.tsx:566:42)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:585:48)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle content generation with streaming\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 594 |\u001b[39m\n     \u001b[90m 595 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 596 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 597 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 598 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 599 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:596:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle generation templates and parameters\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Generated email\"\n    Received string:    \"\"\n\n    \u001b[0m \u001b[90m 669 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 670 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 671 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcontent)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Generated email'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 672 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtokens_used)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 673 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 674 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toContain (__tests__/integration/comprehensive-integration.test.tsx:671:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 11. Multi-Model Provider Switching \u203a should switch between providers based on availability\n\n    TestingLibraryElementError: Unable to find an element with the text: Send Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 749 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 750 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 751 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Send Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 752 |\u001b[39m       \n     \u001b[90m 753 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 754 |\u001b[39m         expect(getByTestId(\u001b[32m'fallback'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:751:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 12. Cost Tracking and Budgeting \u203a should track API usage costs in real-time\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 781 |\u001b[39m\n     \u001b[90m 782 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 783 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 785 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 786 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:783:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 13. Database Repository Pattern Integration \u203a should handle unit of work pattern for transactions\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Transaction. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 899 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 900 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 901 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Transaction'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 902 |\u001b[39m       \n     \u001b[90m 903 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 904 |\u001b[39m         expect(getByTestId(\u001b[32m'status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'committed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:901:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 14. Migration Handling \u203a should handle migration rollback on failure\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 978 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m applyMigration(\u001b[32m'004'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 979 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 980 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 981 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrolled_back)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 982 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 983 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:980:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 15. Background Task Processing \u203a should queue and process background tasks\n\n    TestingLibraryElementError: Unable to find an element with the text: Queue Task. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1039 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1040 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1041 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Queue Task'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1042 |\u001b[39m       \n     \u001b[90m 1043 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1044 |\u001b[39m         expect(getByTestId(\u001b[32m'task-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1041:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should propagate trace IDs through requests\n\n    TestingLibraryElementError: Unable to find an element with the text: Make Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1221 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1222 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1223 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Make Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1224 |\u001b[39m       \n     \u001b[90m 1225 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1226 |\u001b[39m         expect(getByTestId(\u001b[32m'trace-id'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(traceId)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1223:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should capture error context with stack traces\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Error. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1267 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1268 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1269 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Trigger Error'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1270 |\u001b[39m       \n     \u001b[90m 1271 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1272 |\u001b[39m         expect(getByTestId(\u001b[32m'error-trace'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'trace-error-123'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1269:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 20. Key Manager Integration \u203a should rotate API keys periodically\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"rotation-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1400 |\u001b[39m       \n     \u001b[90m 1401 |\u001b[39m       \u001b[90m// Component would handle rotation in production\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1402 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'rotation-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1404 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1405 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1402:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 21. Demo Mode Functionality \u203a should restrict features in demo mode\n\n    TestingLibraryElementError: Unable to find an element with the text: Delete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1431 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1432 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1433 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Delete'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1434 |\u001b[39m       \n     \u001b[90m 1435 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1436 |\u001b[39m         expect(getByTestId(\u001b[32m'message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disabled in demo mode'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1433:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 22. Enterprise Demo Features \u203a should handle team collaboration workflows\n\n    TestingLibraryElementError: Unable to find an element with the text: Share Thread. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1533 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1534 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1535 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Share Thread'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1536 |\u001b[39m       \n     \u001b[90m 1537 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1538 |\u001b[39m         expect(getByTestId(\u001b[32m'shared-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1535:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TestingLibraryElementError: Unable to find an element with the text: Export JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1705 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1706 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1707 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Export JSON'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1708 |\u001b[39m       \n     \u001b[90m 1709 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1710 |\u001b[39m         expect(getByTestId(\u001b[32m'export-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1707:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should handle large data exports with progress\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"progress\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1740 |\u001b[39m       \n     \u001b[90m 1741 |\u001b[39m       \u001b[90m// In real scenario, SSE would update progress\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1742 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'progress'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1743 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1744 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1745 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1742:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should handle real-time collaborative editing\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1814 |\u001b[39m\n     \u001b[90m 1815 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1816 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1817 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1818 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1819 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1816:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should synchronize cursor positions between users\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1857 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1858 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1859 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1860 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1861 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1862 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1859:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 28. Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1917 |\u001b[39m\n     \u001b[90m 1918 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1919 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1920 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1921 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1922 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1919:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 29. Agent Tool Dispatcher Integration \u203a should handle tool chaining and dependencies\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Chain. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2063 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2064 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2065 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Chain'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2066 |\u001b[39m       \n     \u001b[90m 2067 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2068 |\u001b[39m         expect(getByTestId(\u001b[32m'chain-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2065:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 30. State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TestingLibraryElementError: Unable to find an element with the text: Load State. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2172 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2173 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2174 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Load State'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2175 |\u001b[39m       \n     \u001b[90m 2176 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2177 |\u001b[39m         expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State corrupted, using defaults'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2174:23)\n\nFAIL __tests__/integration/critical-integration.test.tsx (53.343 s)\n  \u25cf Console\n\n    console.warn\n      Performance degradation: api_latency = 1500ms (threshold: 1000ms)\n\n    \u001b[0m \u001b[90m 131 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 133 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 134 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.ts:133:18)\n      at warn (__tests__/integration/critical-integration.test.tsx:957:19)\n      at Object.checkPerformance (__tests__/integration/critical-integration.test.tsx:964:22)\n\n    console.log\n      Flushed notification: { type: 'info', message: 'Offline notification 1' }\n\n      at log (__tests__/integration/critical-integration.test.tsx:1091:19)\n\n    console.log\n      Flushed notification: { type: 'warning', message: 'Offline notification 2' }\n\n      at log (__tests__/integration/critical-integration.test.tsx:1091:19)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m       \n     \u001b[90m 85 |\u001b[39m       \u001b[90m// Create a new server with token in URL\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m       \u001b[36mconst\u001b[39m wsServer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m`ws://localhost:8000/ws?token=${mockToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m       \n     \u001b[90m 88 |\u001b[39m       \u001b[90m// Set authenticated state\u001b[39m\n     \u001b[90m 89 |\u001b[39m       useAuthStore\u001b[33m.\u001b[39msetState({ \u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:86:24)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m login \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 203 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'analyze this'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mAnalyze\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"message-count\"\u001b[39m\u001b[33m>\u001b[39m\u001b[33mMessages\u001b[39m\u001b[33m:\u001b[39m {messages\u001b[33m.\u001b[39mlength}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 206 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 207 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:204:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 293 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 296 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'New Thread'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 297 |\u001b[39m         created_at\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m.\u001b[39mtoISOString()\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical-integration.test.tsx:294:55)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'createThread')\n\n    \u001b[0m \u001b[90m 311 |\u001b[39m       \n     \u001b[90m 312 |\u001b[39m       \u001b[90m// Verify thread is active\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 313 |\u001b[39m       expect(useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mactiveThread)\u001b[33m.\u001b[39mtoBe(\u001b[32m'thread-456'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 314 |\u001b[39m       \n     \u001b[90m 315 |\u001b[39m       \u001b[90m// Send message to thread\u001b[39m\n     \u001b[90m 316 |\u001b[39m       \u001b[36mconst\u001b[39m mockMessage \u001b[33m=\u001b[39m {\u001b[0m\n\n      at Object.createThread (__tests__/integration/critical-integration.test.tsx:313:42)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: _messageService.messageService.getMessages is not a function\n\n    \u001b[0m \u001b[90m 363 |\u001b[39m       \u001b[90m// Switch to thread 2\u001b[39m\n     \u001b[90m 364 |\u001b[39m       \u001b[36mawait\u001b[39m messageService\u001b[33m.\u001b[39mgetMessages(\u001b[32m'thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 365 |\u001b[39m       useChatStore\u001b[33m.\u001b[39msetState({ messages\u001b[33m:\u001b[39m thread2Messages\u001b[33m,\u001b[39m currentThread\u001b[33m:\u001b[39m \u001b[32m'thread-2'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 366 |\u001b[39m       \n     \u001b[90m 367 |\u001b[39m       expect(useChatStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual(thread2Messages)\u001b[33m;\u001b[39m\n     \u001b[90m 368 |\u001b[39m       expect(useChatStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcurrentThread)\u001b[33m.\u001b[39mtoBe(\u001b[32m'thread-2'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getMessages (__tests__/integration/critical-integration.test.tsx:365:28)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 378 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 379 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 380 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'stream test'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mSend\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 381 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"messages\"\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 382 |\u001b[39m               {messages\u001b[33m.\u001b[39mmap(m \u001b[33m=>\u001b[39m (\n     \u001b[90m 383 |\u001b[39m                 \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m key\u001b[33m=\u001b[39m{m\u001b[33m.\u001b[39mid}\u001b[33m>\u001b[39m{m\u001b[33m.\u001b[39mcontent}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:380:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 430 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'long task'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mStart\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{stopProcessing}\u001b[33m>\u001b[39m\u001b[33mStop\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m{isProcessing \u001b[33m?\u001b[39m \u001b[32m'Running'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'Stopped'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 433 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 434 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:431:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 476 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 477 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m{isConnected \u001b[33m?\u001b[39m \u001b[32m'Online'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'Offline'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 479 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{reconnect}\u001b[33m>\u001b[39m\u001b[33mReconnect\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 480 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 481 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:478:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should retry failed API calls with exponential backoff\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    Unable to find an element with the text: Session Expired. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 586 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 589 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 590 |\u001b[39m         threads\u001b[33m:\u001b[39m [\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:587:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should sync local state with server state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    Unable to find an element with the text: Threads: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 654 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 655 |\u001b[39m   })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 656 |\u001b[39m\n     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 657 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 658 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 659 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:656:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should upload file and process with agent\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should track upload progress\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 717 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 718 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 719 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'optimize my workload'\u001b[39m)}\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 720 |\u001b[39m               \u001b[33mOptimize\u001b[39m\n     \u001b[90m 721 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 722 |\u001b[39m             {optimizationResults \u001b[33m&&\u001b[39m (\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:719:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should apply optimization and track results\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 795 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 796 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 797 |\u001b[39m         \u001b[36mconst\u001b[39m [statuses\u001b[33m,\u001b[39m setStatuses] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mMap\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m())\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 798 |\u001b[39m         \n     \u001b[90m 799 |\u001b[39m         \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 800 |\u001b[39m           \u001b[36mconst\u001b[39m ws \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocket\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:797:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 859 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 860 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 861 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'faulty request'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mSend\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 862 |\u001b[39m             {error \u001b[33m&&\u001b[39m \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"error\"\u001b[39m\u001b[33m>\u001b[39m{error\u001b[33m.\u001b[39mmessage}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m}\n     \u001b[90m 863 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 864 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:861:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TestingLibraryElementError: Unable to find an element with the text: API Call. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 938 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 939 |\u001b[39m     })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 940 |\u001b[39m\n     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 941 |\u001b[39m     it(\u001b[32m'should detect and report performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 942 |\u001b[39m       \u001b[36mconst\u001b[39m performanceThresholds \u001b[33m=\u001b[39m {\n     \u001b[90m 943 |\u001b[39m         api_latency\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:940:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should detect and report performance degradation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should cache and reuse API responses\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should invalidate cache on mutations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1027 |\u001b[39m         notifications\u001b[33m.\u001b[39mpush({ type\u001b[33m,\u001b[39m message\u001b[33m,\u001b[39m timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() })\u001b[33m;\u001b[39m\n     \u001b[90m 1028 |\u001b[39m       }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1029 |\u001b[39m       \n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1031 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 1032 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:1029:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should queue notifications when offline\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"action\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1139 |\u001b[39m       \u001b[36mlet\u001b[39m actionTriggered \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1140 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1141 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1142 |\u001b[39m         \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1143 |\u001b[39m           \u001b[36mconst\u001b[39m handleKeydown \u001b[33m=\u001b[39m (e\u001b[33m:\u001b[39m \u001b[33mKeyboardEvent\u001b[39m) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1144 |\u001b[39m             \u001b[36mif\u001b[39m (e\u001b[33m.\u001b[39mtarget \u001b[36minstanceof\u001b[39m \u001b[33mHTMLInputElement\u001b[39m) {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1141:14)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1165 |\u001b[39m       \n     \u001b[90m 1166 |\u001b[39m       expect(actionTriggered)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1167 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1168 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1169 |\u001b[39m\n     \u001b[90m 1170 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1167:21)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TestingLibraryElementError: Unable to find an element with the text: Settings. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1205 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 1206 |\u001b[39m     })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1207 |\u001b[39m\n     \u001b[90m      |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1208 |\u001b[39m     it(\u001b[32m'should announce dynamic content updates to screen readers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1209 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1210 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1207:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Update. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1230 |\u001b[39m         expect(announcer)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'New message received'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1231 |\u001b[39m         expect(announcer)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'aria-live'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'polite'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1232 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1233 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1234 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1235 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1232:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\nSummary of all failing tests\nFAIL __tests__/hooks/useAgent.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseWebSocket' before initialization\n\n    \u001b[0m \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 28 |\u001b[39m   useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 29 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 30 |\u001b[39m\n     \u001b[90m 31 |\u001b[39m describe(\u001b[32m'useAgent'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at mockUseWebSocket (__tests__/hooks/useAgent.test.tsx:28:17)\n      at Object.<anonymous> (hooks/useAgent.ts:12:23)\n      at Object.<anonymous> (__tests__/hooks/useAgent.test.tsx:22:19)\n\nFAIL __tests__/hooks/useWebSocket.test.tsx\n  \u25cf useWebSocket \u203a should return WebSocket context values\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 0\n    + Received  + 5\n\n    @@ -4,8 +4,13 @@\n        \"disconnect\": [Function mockConstructor],\n        \"error\": null,\n        \"isConnected\": true,\n        \"lastMessage\": null,\n        \"messageQueue\": Array [],\n    +   \"messages\": Array [],\n        \"reconnectAttempts\": 0,\n        \"sendMessage\": [Function mockConstructor],\n    +   \"status\": \"OPEN\",\n    +   \"subscribe\": [Function mockConstructor],\n    +   \"unsubscribe\": [Function mockConstructor],\n    +   \"ws\": null,\n      }\n\n    \u001b[0m \u001b[90m 56 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 58 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoEqual(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 59 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoBe(mockSendMessage)\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39misConnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/hooks/useWebSocket.test.tsx:58:28)\n\n  \u25cf useWebSocket \u203a should handle null context gracefully\n\n    expect(received).toBeNull()\n\n    Received: {\"connect\": [Function mockConstructor], \"connectionState\": \"connected\", \"disconnect\": [Function mockConstructor], \"error\": null, \"isConnected\": true, \"lastMessage\": null, \"messageQueue\": [], \"messages\": [], \"reconnectAttempts\": 0, \"sendMessage\": [Function mockConstructor], \"status\": \"OPEN\", \"subscribe\": [Function mockConstructor], \"unsubscribe\": [Function mockConstructor], \"ws\": null}\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m\n     \u001b[90m 73 |\u001b[39m   it(\u001b[32m'should call sendMessage when invoked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeNull (__tests__/hooks/useWebSocket.test.tsx:70:28)\n\n  \u25cf useWebSocket \u203a should call sendMessage when invoked\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msendMessage(message)\u001b[33m;\u001b[39m\n     \u001b[90m 80 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(message)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m     expect(mockSendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocket.test.tsx:81:29)\n\n  \u25cf useWebSocket \u203a should reflect connection state changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m     rerender()\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39misConnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnectionState)\u001b[33m.\u001b[39mtoBe(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:102:40)\n\n  \u25cf useWebSocket \u203a should handle error states\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: [Error: WebSocket connection failed]\n    Received: null\n\n    \u001b[0m \u001b[90m 118 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 120 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoEqual(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'WebSocket connection failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 121 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnectionState)\u001b[33m.\u001b[39mtoBe(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 123 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/hooks/useWebSocket.test.tsx:120:34)\n\n  \u25cf useWebSocket \u203a should handle reconnection attempts\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 3\n    Received: 0\n\n    \u001b[0m \u001b[90m 136 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 138 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mreconnectAttempts)\u001b[33m.\u001b[39mtoBe(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 139 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnectionState)\u001b[33m.\u001b[39mtoBe(\u001b[32m'reconnecting'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 140 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:138:46)\n\n  \u25cf useWebSocket \u203a should handle message queue\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m     \u001b[36mconst\u001b[39m { result } \u001b[33m=\u001b[39m renderHook(() \u001b[33m=>\u001b[39m useWebSocket()\u001b[33m,\u001b[39m { wrapper })\u001b[33m;\u001b[39m\n     \u001b[90m 156 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessageQueue)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mmessageQueue[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'message1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 160 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/hooks/useWebSocket.test.tsx:157:41)\n\n  \u25cf useWebSocket \u203a should call connect method\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 166 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 167 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 168 |\u001b[39m     expect(mockConnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 169 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 170 |\u001b[39m\n     \u001b[90m 171 |\u001b[39m   it(\u001b[32m'should call disconnect method'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocket.test.tsx:168:25)\n\n  \u25cf useWebSocket \u203a should call disconnect method\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 176 |\u001b[39m     result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 177 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 178 |\u001b[39m     expect(mockDisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 179 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 180 |\u001b[39m\n     \u001b[90m 181 |\u001b[39m   it(\u001b[32m'should handle last message updates'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocket.test.tsx:178:28)\n\n  \u25cf useWebSocket \u203a should handle last message updates\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"chat_message\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 196 |\u001b[39m     \n     \u001b[90m 197 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mlastMessage)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 198 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mlastMessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtype)\u001b[33m.\u001b[39mtoBe(\u001b[32m'chat_message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 199 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mlastMessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpayload)\u001b[33m.\u001b[39mtoEqual({ text\u001b[33m:\u001b[39m \u001b[32m'Hello'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 200 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocket.test.tsx:198:46)\n\nFAIL __tests__/hooks/useWebSocketLifecycle.test.tsx\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should initialize WebSocket connection on mount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m\n     \u001b[90m 89 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m       \n     \u001b[90m 93 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:90:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should setup connection with token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"token=test-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'token=test-token-123'\u001b[39m)\n     \u001b[90m 102 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:100:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should cleanup WebSocket connection on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 109 |\u001b[39m       unmount()\u001b[33m;\u001b[39m\n     \u001b[90m 110 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 111 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 112 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m     it(\u001b[32m'should handle rapid mount/unmount cycles'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:111:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should handle rapid mount/unmount cycles\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 5\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 125 |\u001b[39m\n     \u001b[90m 126 |\u001b[39m       \u001b[90m// Should handle cleanup gracefully without errors\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 127 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m5\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 128 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n     \u001b[90m 130 |\u001b[39m     it(\u001b[32m'should preserve connection across component re-renders'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/hooks/useWebSocketLifecycle.test.tsx:127:47)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Hook Initialization and Cleanup \u203a should preserve connection across component re-renders\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 1\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 146 |\u001b[39m         \u001b[90m// Should only connect once\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 150 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/hooks/useWebSocketLifecycle.test.tsx:147:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Connection State Management \u203a should track connection status\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"CLOSED\"\n    Received: \"OPEN\"\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m\n     \u001b[90m 156 |\u001b[39m       \u001b[90m// Initially closed\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m\n     \u001b[90m 159 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 160 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/useWebSocketLifecycle.test.tsx:157:37)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should send messages through webSocketService\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"payload\": {\"data\": \"test\"}, \"type\": \"test\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 212 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 213 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 214 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39msendMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(testMessage)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 215 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 216 |\u001b[39m\n     \u001b[90m 217 |\u001b[39m     it(\u001b[32m'should accumulate received messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:214:48)\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Message Handling \u203a should accumulate received messages\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 222 |\u001b[39m       \u001b[90m// Wait for the service to set up the callback\u001b[39m\n     \u001b[90m 223 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 224 |\u001b[39m         expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 225 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m\n     \u001b[90m 227 |\u001b[39m       \u001b[90m// Simulate receiving a message\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/hooks/useWebSocketLifecycle.test.tsx:224:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf useWebSocket Hook Lifecycle \u203a Error Handling and Edge Cases \u203a should handle config fetch failure\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Failed to fetch config and connect to WebSocket\", Any<Error>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m\n     \u001b[90m 280 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m         expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m           \u001b[32m'Failed to fetch config and connect to WebSocket'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 283 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\n     \u001b[90m 284 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/hooks/useWebSocketLifecycle.test.tsx:281:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/components/AgentStatusPanel.test.tsx\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should render all agent status cards\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should display idle status by default\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should update status when agents become active\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should show progress bars for active agents\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should display current task descriptions\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should show error states with appropriate styling\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should display last activity timestamps\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Agent Status Display \u203a should handle agents in queue state\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should update agent status from WebSocket messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should handle batch status updates\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should animate status transitions smoothly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should update progress bars smoothly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should refresh timestamps periodically\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should handle rapid status changes without flickering\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Real-time Updates \u203a should debounce frequent updates\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a System Metrics Integration \u203a should display overall system health\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a System Metrics Integration \u203a should show performance metrics\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a System Metrics Integration \u203a should highlight performance issues\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should expand agent details on click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should allow pausing individual agents\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should show agent logs when requested\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should filter agents by status\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a User Interactions \u203a should support bulk agent operations\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should handle WebSocket disconnection\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should show stale data warning\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should handle agent status fetch failures\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Error Handling and Recovery \u203a should maintain functionality during partial failures\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Performance and Optimization \u203a should memoize agent cards to prevent unnecessary rerenders\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Performance and Optimization \u203a should handle large numbers of status updates efficiently\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Performance and Optimization \u203a should cleanup timers and listeners on unmount\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Accessibility \u203a should announce status changes to screen readers\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\n  \u25cf AgentStatusPanel Component \u203a Accessibility \u203a should support keyboard navigation\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m     jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/AgentStatusPanel.test.tsx:60:33)\n\nFAIL __tests__/components/chat/MessageInput.test.tsx\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should trim whitespace from messages before sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should not send empty messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should enforce character limit\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should show character count warning at 80% capacity\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should sanitize HTML in messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle special characters correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle unicode and emoji characters\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should prevent sending when processing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should prevent sending when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Input validation and sanitization \u203a should handle rapid successive sends correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should render file attachment button\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should disable file attachment when processing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should show file attachment tooltip\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should handle file attachment button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a File upload handling \u203a should disable file attachment when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should send message on Enter key\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should insert newline on Shift+Enter\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should navigate message history with arrow keys\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should only navigate history when input is empty\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should handle Ctrl+Enter for special actions\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should show keyboard shortcuts hint\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Keyboard shortcuts \u203a should hide keyboard shortcuts hint when typing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should start with single row\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should expand textarea as content grows\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should respect maximum rows limit\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should reset to single row after sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should handle paste of multiline content\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Auto-resize textarea behavior \u203a should maintain scroll position during resize\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should render voice input button\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should disable voice input when processing\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should show voice input tooltip\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should handle voice button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Voice input and emoji features \u203a should disable voice input when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should create new thread if none exists\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should use existing thread if available\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should handle thread creation failure\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Thread management \u203a should truncate long messages for thread title\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should show send icon when not sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should show loading spinner when sending\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should disable send button when input is empty\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should enable send button when input has content\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Send button states \u203a should handle send button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should add sent messages to history\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should not add empty messages to history\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Message history \u203a should maintain history across component lifecycle\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Focus management \u203a should auto-focus on mount when authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Focus management \u203a should not auto-focus when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Focus management \u203a should maintain focus after sending message\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show appropriate placeholder when authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show sign-in prompt when not authenticated\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show processing indicator when agent is thinking\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a UI state indicators \u203a should show character limit warning in placeholder\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should have proper ARIA labels\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should have ARIA describedby for character count\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\n  \u25cf MessageInput \u203a Accessibility \u203a should handle keyboard navigation properly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     \n     \u001b[90m 30 |\u001b[39m     \u001b[90m// Setup default mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 34 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/chat/MessageInput.test.tsx:31:33)\n\nFAIL __tests__/components/ChatHistory.test.tsx\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load initial message history on mount\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display loading state during initial load\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should display message history once loaded\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should load more history when scrolled to top\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show \"Load More\" button when more history available\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle \"Load More\" button click\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should hide \"Load More\" when no more history available\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should show loading state for pagination\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should preserve scroll position when loading more history\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should handle thread switching\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a History Loading and Pagination \u203a should batch load requests to prevent excessive API calls\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should display messages in chronological order\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should format timestamps correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should group messages by date\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should highlight search results\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should show message metadata on hover\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should render markdown content correctly\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Display and Formatting \u203a should handle empty message content gracefully\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should provide search functionality\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should display search results\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should clear search results\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by message type\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should filter by date range\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Search and Filtering \u203a should debounce search input\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow deleting messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow copying message content\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should allow regenerating assistant messages\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should show message edit functionality\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Message Management Actions \u203a should handle bulk message operations\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should display error state when history loading fails\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should allow retrying failed history loads\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle offline state gracefully\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should show cached messages when offline\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Error Handling and Recovery \u203a should handle malformed message data\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should virtualize long message lists for performance\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should cleanup observers on unmount\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Performance and Virtualization \u203a should optimize re-renders with message memoization\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should support keyboard navigation\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should announce dynamic content changes\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\n  \u25cf ChatHistory Component \u203a Accessibility \u203a should provide meaningful alt text for message actions\n\n    TypeError: _useWebSocket.useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m     (useWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockWebSocket)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     (chatService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockChatService)\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatHistory.test.tsx:74:33)\n\nFAIL __tests__/components/ChatSidebar.test.tsx\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should render thread list when threads are available\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display thread metadata correctly\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show empty state when no threads exist\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should display loading state while fetching threads\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show error state when thread loading fails\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should group threads by date\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should sort threads by last activity\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should truncate long thread titles and messages\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread List Display \u203a should show thread status indicators\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should switch to selected thread\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should highlight active thread correctly\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should support keyboard navigation\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should show thread preview on hover\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should handle rapid thread switching\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Navigation and Switching \u203a should persist navigation state across page reloads\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should create new thread\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should show thread creation dialog\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should rename existing thread\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should delete thread with confirmation\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should archive and unarchive threads\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should handle bulk thread operations\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Management Operations \u203a should export thread data\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should provide search functionality\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter threads based on search query\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should clear search results\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by thread status\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should filter by date range\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should support advanced search with filters\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Thread Search and Filtering \u203a should show search suggestions\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle thread switching failures\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should retry failed operations\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle network disconnection gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Error Handling and Recovery \u203a should handle partial load failures\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should virtualize large thread lists\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should debounce search input\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Performance and Optimization \u203a should cleanup listeners on unmount\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should have proper ARIA labels and roles\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support screen reader announcements\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should support high contrast mode\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\n  \u25cf ChatSidebar Component \u203a Accessibility \u203a should provide keyboard shortcuts info\n\n    TypeError: Cannot read properties of undefined (reading 'mockReturnValue')\n\n    \u001b[0m \u001b[90m 77 |\u001b[39m     (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockChatStore)\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m     (useThreads \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockThreadsHook)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 79 |\u001b[39m     (threadService \u001b[36mas\u001b[39m any)\u001b[33m.\u001b[39mmockReturnValue(mockThreadService)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 80 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n     \u001b[90m 82 |\u001b[39m   \u001b[36mconst\u001b[39m renderWithProvider \u001b[33m=\u001b[39m (component\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactElement\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatSidebar.test.tsx:79:28)\n\nFAIL __tests__/test-utils/providers.tsx\n  \u25cf Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/index.js:1052:18)\n      at node_modules/@jest/core/build/index.js:1122:165\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n\nFAIL __tests__/utils/test-utils.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: TextEncoder is not defined\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mfrom\u001b[39m \u001b[32m'@testing-library/react'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m \u001b[36mexport\u001b[39m { customRender \u001b[36mas\u001b[39m render }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m \u001b[90m// Utility to wrap component with router only\u001b[39m\n     \u001b[90m 74 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m withRouter(component\u001b[33m:\u001b[39m \u001b[33mReactElement\u001b[39m) {\n     \u001b[90m 75 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33m<\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m{component}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (node_modules/react-router/dist/development/index.js:328:31)\n      at Object.<anonymous> (node_modules/react-router/dist/development/dom-export.js:19:20)\n      at Object.<anonymous> (node_modules/react-router-dom/dist/index.js:38:18)\n      at Object.<anonymous> (__tests__/utils/test-utils.tsx:72:25)\n\nFAIL __tests__/hooks/additionalHooks.test.tsx\n  \u25cf test_useDemoWebSocket_connection \u203a should establish demo WebSocket connection\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m     \n     \u001b[90m 47 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39misConnected)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     \n     \u001b[90m 51 |\u001b[39m     expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[0m\n\n      at toBe (__tests__/hooks/additionalHooks.test.tsx:48:42)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf test_useDemoWebSocket_connection \u203a should handle message queuing when disconnected\n\n    TypeError: Cannot read properties of null (reading 'send')\n\n    \u001b[0m \u001b[90m 125 |\u001b[39m   \u001b[36mconst\u001b[39m sendMessage \u001b[33m=\u001b[39m useCallback((message\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\n     \u001b[90m 126 |\u001b[39m     \u001b[36mif\u001b[39m (wsRef\u001b[33m.\u001b[39mcurrent\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mreadyState \u001b[33m===\u001b[39m \u001b[33mWebSocket\u001b[39m\u001b[33m.\u001b[39m\u001b[33mOPEN\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 127 |\u001b[39m       wsRef\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39msend(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message))\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 128 |\u001b[39m     } \u001b[36melse\u001b[39m {\n     \u001b[90m 129 |\u001b[39m       console\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket is not connected'\u001b[39m)\n     \u001b[90m 130 |\u001b[39m       setError(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'WebSocket is not connected'\u001b[39m))\u001b[0m\n\n      at Object.send [as sendMessage] (hooks/useDemoWebSocket.ts:127:21)\n      at sendMessage (__tests__/hooks/additionalHooks.test.tsx:64:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/hooks/additionalHooks.test.tsx:63:8)\n\n  \u25cf test_useMediaQuery_responsive \u203a should handle debouncing for rapid changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 186 |\u001b[39m     \n     \u001b[90m 187 |\u001b[39m     \u001b[90m// Should not update immediately\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m     expect(result\u001b[33m.\u001b[39mcurrent)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 189 |\u001b[39m     \n     \u001b[90m 190 |\u001b[39m     \u001b[90m// Wait for debounce\u001b[39m\n     \u001b[90m 191 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/hooks/additionalHooks.test.tsx:188:28)\n\nFAIL __tests__/services/webSocketService.test.ts\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/lib/websocket-manager mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\lib\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/lib\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\lib\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 3 |\u001b[39m\n     \u001b[90m 4 |\u001b[39m \u001b[90m// Mock WebSocketManager\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 5 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/lib/websocket-manager'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 6 |\u001b[39m\n     \u001b[90m 7 |\u001b[39m describe(\u001b[32m'webSocketService'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 8 |\u001b[39m   \u001b[36mlet\u001b[39m mockWebSocketManager\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMocked\u001b[39m\u001b[33m<\u001b[39m\u001b[33mWebSocketManager\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/services/webSocketService.test.ts:5:6)\n\nFAIL __tests__/components/FinalReportView.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/charts/PerformanceChart mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 12 |\u001b[39m   \u001b[33mCardTitle\u001b[39m\u001b[33m:\u001b[39m ({ children }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33mh3\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"card-title\"\u001b[39m\u001b[33m>\u001b[39m{children}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mh3\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 13 |\u001b[39m }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 14 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/charts/PerformanceChart'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \u001b[33mPerformanceChart\u001b[39m\u001b[33m:\u001b[39m ({ data\u001b[33m,\u001b[39m type }\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 16 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"performance-chart\"\u001b[39m data\u001b[33m-\u001b[39mchart\u001b[33m-\u001b[39mtype\u001b[33m=\u001b[39m{type}\u001b[33m>\u001b[39m\n     \u001b[90m 17 |\u001b[39m       \u001b[33mChart\u001b[39m\u001b[33m:\u001b[39m {\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(data)}\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/components/FinalReportView.test.tsx:14:6)\n\nFAIL __tests__/components/UIComponents.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: TextEncoder is not defined\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mfrom\u001b[39m \u001b[32m'@testing-library/react'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m \u001b[36mexport\u001b[39m { customRender \u001b[36mas\u001b[39m render }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m \u001b[90m// Utility to wrap component with router only\u001b[39m\n     \u001b[90m 74 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m withRouter(component\u001b[33m:\u001b[39m \u001b[33mReactElement\u001b[39m) {\n     \u001b[90m 75 |\u001b[39m   \u001b[36mreturn\u001b[39m \u001b[33m<\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m{component}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mBrowserRouter\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (node_modules/react-router/dist/development/index.js:328:31)\n      at Object.<anonymous> (node_modules/react-router/dist/development/dom-export.js:19:20)\n      at Object.<anonymous> (node_modules/react-router-dom/dist/index.js:38:18)\n      at Object.<anonymous> (__tests__/utils/test-utils.tsx:72:25)\n      at Object.<anonymous> (__tests__/components/UIComponents.test.tsx:7:20)\n\nFAIL __tests__/unified-chat-v5.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-markdown\\index.js:10\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 13 |\u001b[39m   \u001b[36mconst\u001b[39m lastUpdateRef \u001b[33m=\u001b[39m useRef\u001b[33m<\u001b[39m\u001b[33mnumber\u001b[39m\u001b[33m>\u001b[39m(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow())\u001b[33m;\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 15 |\u001b[39m   \u001b[90m// Stream content character by character using requestAnimationFrame\u001b[39m\n     \u001b[90m    |\u001b[39m                                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 16 |\u001b[39m   useEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 17 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mdata\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpartialContent) {\n     \u001b[90m 18 |\u001b[39m       setDisplayedContent(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.<anonymous> (components/chat/layers/MediumLayer.tsx:15:63)\n      at Object.<anonymous> (components/chat/PersistentResponseCard.tsx:17:22)\n      at Object.<anonymous> (__tests__/unified-chat-v5.test.tsx:8:33)\n\nFAIL __tests__/auth/service.test.ts\n  \u25cf AuthService \u203a handleLogin \u203a should redirect to login endpoint\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 279 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 281 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 282 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 283 |\u001b[39m\n     \u001b[90m 284 |\u001b[39m     it(\u001b[32m'should handle login with development mode config'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:281:36)\n\n  \u25cf AuthService \u203a handleLogin \u203a should handle login with development mode config\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"http://localhost:8000/auth/login\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 287 |\u001b[39m       authService\u001b[33m.\u001b[39mhandleLogin(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 288 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 289 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(devConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 290 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:289:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should perform logout successfully and redirect\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m\n     \u001b[90m 314 |\u001b[39m     it(\u001b[32m'should handle logout failure and still redirect'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:311:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout failure and still redirect\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Logout failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:323:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout network error and still redirect\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m       expect(consoleErrorSpy)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'Error during logout:'\u001b[39m\u001b[33m,\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m\n     \u001b[90m 339 |\u001b[39m       consoleErrorSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 340 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:337:36)\n\n  \u25cf AuthService \u203a handleLogout \u203a should handle logout without token\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"/\"\n    Received: \"http://localhost/\"\n\n    \u001b[0m \u001b[90m 355 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 356 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 357 |\u001b[39m       expect(window\u001b[33m.\u001b[39mlocation\u001b[33m.\u001b[39mhref)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 358 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 359 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 360 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/service.test.ts:357:36)\n\nFAIL __tests__/chat/chatUIUXComprehensive.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-markdown\\index.js:10\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 13 |\u001b[39m   \u001b[36mconst\u001b[39m lastUpdateRef \u001b[33m=\u001b[39m useRef\u001b[33m<\u001b[39m\u001b[33mnumber\u001b[39m\u001b[33m>\u001b[39m(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow())\u001b[33m;\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 15 |\u001b[39m   \u001b[90m// Stream content character by character using requestAnimationFrame\u001b[39m\n     \u001b[90m    |\u001b[39m                                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 16 |\u001b[39m   useEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 17 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mdata\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpartialContent) {\n     \u001b[90m 18 |\u001b[39m       setDisplayedContent(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.<anonymous> (components/chat/layers/MediumLayer.tsx:15:63)\n      at Object.<anonymous> (components/chat/PersistentResponseCard.tsx:17:22)\n      at Object.<anonymous> (components/chat/MainChat.tsx:17:33)\n      at Object.<anonymous> (__tests__/chat/chatUIUXComprehensive.test.tsx:23:19)\n\nFAIL __tests__/integration/advanced-integration.test.tsx\n  \u25cf Advanced Frontend Integration Tests \u203a 27. Advanced Error Boundaries \u203a should report errors to monitoring service\n\n    Monitored error\n\n    \u001b[0m \u001b[90m 1419 |\u001b[39m         \u001b[36mconst\u001b[39m handleError \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1420 |\u001b[39m           \u001b[36mtry\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1421 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Monitored error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1422 |\u001b[39m           } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 1423 |\u001b[39m             reportError(error)\u001b[33m;\u001b[39m\n     \u001b[90m 1424 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\u001b[0m\n\n      at handleError (__tests__/integration/advanced-integration.test.tsx:1421:19)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at Object.click (__tests__/integration/advanced-integration.test.tsx:1441:19)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 29. WebSocket Resilience Integration \u203a should handle WebSocket message buffering during reconnection\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 buffered\n    Received:\n      0 buffered\n\n    \u001b[0m \u001b[90m 1608 |\u001b[39m       \n     \u001b[90m 1609 |\u001b[39m       expect(messageBuffer)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1610 |\u001b[39m       expect(getByTestId(\u001b[32m'buffer-size'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1 buffered'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1611 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1612 |\u001b[39m\n     \u001b[90m 1613 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/advanced-integration.test.tsx:1610:42)\n\nFAIL __tests__/imports/external-imports.test.tsx\n  \u25cf External NPM Dependencies Import Tests \u203a Core React and Next.js imports \u203a should import React DOM\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mReactDOM\u001b[39m \u001b[33m=\u001b[39m require(\u001b[32m'react-dom'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m       expect(\u001b[33mReactDOM\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m       expect(\u001b[33mReactDOM\u001b[39m\u001b[33m.\u001b[39mcreateRoot)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m     it(\u001b[32m'should import Next.js core modules'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/external-imports.test.tsx:26:35)\n\n  \u25cf External NPM Dependencies Import Tests \u203a UI library imports \u203a should import Radix UI components\n\n    Cannot find module '@radix-ui/react-popover' from '__tests__/imports/external-imports.test.tsx'\n\n    \u001b[0m \u001b[90m  95 |\u001b[39m       expect(radixProgress)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m  96 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  97 |\u001b[39m       \u001b[36mconst\u001b[39m radixPopover \u001b[33m=\u001b[39m require(\u001b[32m'@radix-ui/react-popover'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  98 |\u001b[39m       expect(radixPopover)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m  99 |\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \u001b[36mconst\u001b[39m radixAvatar \u001b[33m=\u001b[39m require(\u001b[32m'@radix-ui/react-avatar'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.require (__tests__/imports/external-imports.test.tsx:97:28)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Markdown and code highlighting imports \u203a should import React Markdown\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-markdown\\index.js:10\n    export {\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 181 |\u001b[39m   describe(\u001b[32m'Markdown and code highlighting imports'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 182 |\u001b[39m     it(\u001b[32m'should import React Markdown'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 183 |\u001b[39m       \u001b[36mconst\u001b[39m reactMarkdown \u001b[33m=\u001b[39m require(\u001b[32m'react-markdown'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 184 |\u001b[39m       expect(reactMarkdown)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 185 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 186 |\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.require (__tests__/imports/external-imports.test.tsx:183:29)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Markdown and code highlighting imports \u203a should import remark-gfm\n\n    Jest encountered an unexpected token\n\n    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.\n\n    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.\n\n    By default \"node_modules\" folder is ignored by transformers.\n\n    Here's what you can do:\n     \u2022 If you are trying to use ECMAScript Modules, see https://jestjs.io/docs/ecmascript-modules for how to enable it.\n     \u2022 If you are trying to use TypeScript, see https://jestjs.io/docs/getting-started#using-typescript\n     \u2022 To have some of your \"node_modules\" files transformed, you can specify a custom \"transformIgnorePatterns\" in your config.\n     \u2022 If you need a custom transformation, specify a \"transform\" option in your config.\n     \u2022 If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the \"moduleNameMapper\" config option.\n\n    You'll find more details and examples of these config options in the docs:\n    https://jestjs.io/docs/configuration\n    For information about custom transformations, see:\n    https://jestjs.io/docs/code-transformation\n\n    Details:\n\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\remark-gfm\\index.js:2\n    export {default} from './lib/index.js'\n    ^^^^^^\n\n    SyntaxError: Unexpected token 'export'\n\n    \u001b[0m \u001b[90m 186 |\u001b[39m\n     \u001b[90m 187 |\u001b[39m     it(\u001b[32m'should import remark-gfm'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 188 |\u001b[39m       \u001b[36mconst\u001b[39m remarkGfm \u001b[33m=\u001b[39m require(\u001b[32m'remark-gfm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 189 |\u001b[39m       expect(remarkGfm)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 190 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 191 |\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.require (__tests__/imports/external-imports.test.tsx:188:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Markdown and code highlighting imports \u203a should import syntax highlighter styles\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 200 |\u001b[39m       expect(styles)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 201 |\u001b[39m       expect(styles\u001b[33m.\u001b[39moneDark)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 202 |\u001b[39m       expect(styles\u001b[33m.\u001b[39moneLight)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 203 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 204 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 205 |\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/external-imports.test.tsx:202:31)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 241 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:238:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 241 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:238:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import React Testing Library\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import React Testing Library\".\n\n    \u001b[0m \u001b[90m 236 |\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should import React Testing Library'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m rtl \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/react'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 239 |\u001b[39m       expect(rtl)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mrender)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 241 |\u001b[39m       expect(rtl\u001b[33m.\u001b[39mscreen)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.require (__tests__/imports/external-imports.test.tsx:238:19)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m\n     \u001b[90m 248 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:158:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:249:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Development and testing imports \u203a should import Testing Library user-event\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import Testing Library user-event\".\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m\n     \u001b[90m 248 |\u001b[39m     it(\u001b[32m'should import Testing Library user-event'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m       \u001b[36mconst\u001b[39m userEvent \u001b[33m=\u001b[39m require(\u001b[32m'@testing-library/user-event'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m       expect(userEvent)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       expect(userEvent\u001b[33m.\u001b[39m\u001b[36mdefault\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/utils/dataTransfer/Clipboard.js:161:7)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/behavior/click.js:4:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/event/dispatchEvent.js:3:1)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/document/patchFocus.js:3:21)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/setup.js:3:18)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/setup/index.js:3:13)\n      at Object.<anonymous> (node_modules/@testing-library/user-event/dist/cjs/index.js:5:13)\n      at Object.require (__tests__/imports/external-imports.test.tsx:249:25)\n\n  \u25cf External NPM Dependencies Import Tests \u203a TypeScript type imports \u203a should import TypeScript type packages\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Cannot find module '@types/react' from '__tests__/imports/external-imports.test.tsx'\"\n\n        \u001b[0m \u001b[90m 267 |\u001b[39m     it(\u001b[32m'should import TypeScript type packages'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 268 |\u001b[39m       \u001b[90m// These are type-only packages, so we just check they don't throw\u001b[39m\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 269 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 270 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/react-dom'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 271 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@types/node'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m 272 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at require (__tests__/imports/external-imports.test.tsx:269:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:269:49)\n      at Object.toThrow (__tests__/imports/external-imports.test.tsx:269:49)\n\n  \u25cf External NPM Dependencies Import Tests \u203a Critical imports batch test \u203a should successfully import all critical dependencies\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Array []\n    + Array [\n    +   \"react-markdown\",\n    + ]\n\n    \u001b[0m \u001b[90m 318 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 320 |\u001b[39m       expect(failedImports)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 321 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 323 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/imports/external-imports.test.tsx:320:29)\n\nFAIL __tests__/imports/internal-imports.test.tsx\n  \u25cf Internal Frontend Module Import Tests \u203a Component imports \u203a should import chat components\n\n    expect(received).not.toThrow()\n\n    Error name:    \"SyntaxError\"\n    Error message: \"Unexpected token 'export'\"\n\n        \u001b[0m \u001b[90m 13 |\u001b[39m   \u001b[36mconst\u001b[39m lastUpdateRef \u001b[33m=\u001b[39m useRef\u001b[33m<\u001b[39m\u001b[33mnumber\u001b[39m\u001b[33m>\u001b[39m(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow())\u001b[33m;\u001b[39m\n         \u001b[90m 14 |\u001b[39m   \n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 15 |\u001b[39m   \u001b[90m// Stream content character by character using requestAnimationFrame\u001b[39m\n         \u001b[90m    |\u001b[39m                                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 16 |\u001b[39m   useEffect(() \u001b[33m=>\u001b[39m {\n         \u001b[90m 17 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mdata\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mpartialContent) {\n         \u001b[90m 18 |\u001b[39m       setDisplayedContent(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Runtime.createScriptFromCode (node_modules/jest-runtime/build/index.js:1316:40)\n      at Object.<anonymous> (components/chat/layers/MediumLayer.tsx:15:63)\n      at Object.<anonymous> (components/chat/PersistentResponseCard.tsx:17:22)\n      at Object.<anonymous> (components/chat/MainChat.tsx:17:33)\n      at require (__tests__/imports/internal-imports.test.tsx:39:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:39:63)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:39:63)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Service imports \u203a should import API services\n\n    expect(received).toBeDefined()\n\n    Received: undefined\n\n    \u001b[0m \u001b[90m 154 |\u001b[39m       \u001b[90m// Verify service exports\u001b[39m\n     \u001b[90m 155 |\u001b[39m       \u001b[36mconst\u001b[39m api \u001b[33m=\u001b[39m require(\u001b[32m'@/services/api'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 156 |\u001b[39m       expect(api\u001b[33m.\u001b[39mapiClient)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 157 |\u001b[39m       \n     \u001b[90m 158 |\u001b[39m       \u001b[36mconst\u001b[39m threadService \u001b[33m=\u001b[39m require(\u001b[32m'@/services/threadService'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m       expect(threadService\u001b[33m.\u001b[39mthreadService)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDefined (__tests__/imports/internal-imports.test.tsx:156:29)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Utility imports \u203a should import configuration\n\n    expect(received).not.toThrow()\n\n    Error name:    \"\"\n    Error message: \"Configuration error:\u00b7\n    Could not locate module @/config/api mapped as:\n    C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\frontend\\\\$1.\u00b7\n    Please check your configuration for these entries:\n    {\n      \\\"moduleNameMapper\\\": {\n        \\\"/^@\\\\/(.*)$/\\\": \\\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\frontend\\\\$1\\\"\n      },\n      \\\"resolver\\\": undefined\n    }\"\n\n        \u001b[0m \u001b[90m 182 |\u001b[39m\n         \u001b[90m 183 |\u001b[39m     it(\u001b[32m'should import configuration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 184 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m require(\u001b[32m'@/config/api'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoThrow()\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 185 |\u001b[39m       \n         \u001b[90m 186 |\u001b[39m       \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m require(\u001b[32m'@/config/api'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m 187 |\u001b[39m       expect(config\u001b[33m.\u001b[39m\u001b[33mAPI_BASE_URL\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at require (__tests__/imports/internal-imports.test.tsx:184:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:184:49)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:184:49)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Critical internal imports batch test \u203a should successfully import all critical internal modules\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 5\n\n    - Array []\n    + Array [\n    +   \"@/components/chat/ChatInterface\",\n    +   \"@/store/useThreadStore\",\n    +   \"@/config/api\",\n    + ]\n\n    \u001b[0m \u001b[90m 256 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 |\u001b[39m       expect(failedImports)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 259 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 260 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 261 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/imports/internal-imports.test.tsx:258:29)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Circular dependency check \u203a should not have circular dependencies in critical modules\n\n    Configuration error:\n\n    Could not locate module @/store/useWebSocketStore mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/store\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 272 |\u001b[39m       \u001b[90m// Clear module cache\u001b[39m\n     \u001b[90m 273 |\u001b[39m       modules\u001b[33m.\u001b[39mforEach(mod \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 274 |\u001b[39m         \u001b[36mdelete\u001b[39m require\u001b[33m.\u001b[39mcache[require\u001b[33m.\u001b[39mresolve(mod)]\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 275 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 276 |\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \u001b[90m// Import in order A\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at resolve (__tests__/imports/internal-imports.test.tsx:274:38)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/imports/internal-imports.test.tsx:273:15)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Component export verification \u203a should export expected items from components\n\n    Configuration error:\n\n    Could not locate module @/components/ui/dialog mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m\n     \u001b[90m 310 |\u001b[39m       \u001b[90m// Dialog component\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       \u001b[36mconst\u001b[39m dialog \u001b[33m=\u001b[39m require(\u001b[32m'@/components/ui/dialog'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m       expect(dialog\u001b[33m.\u001b[39m\u001b[33mDialog\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m       expect(dialog\u001b[33m.\u001b[39m\u001b[33mDialogTrigger\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m       expect(dialog\u001b[33m.\u001b[39m\u001b[33mDialogContent\u001b[39m)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.require (__tests__/imports/internal-imports.test.tsx:311:22)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Store state verification \u203a should have expected state and actions in stores\n\n    Configuration error:\n\n    Could not locate module @/store/useThreadStore mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/store\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\store\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m   describe(\u001b[32m'Store state verification'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 323 |\u001b[39m     it(\u001b[32m'should have expected state and actions in stores'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m       \u001b[36mconst\u001b[39m { useThreadStore } \u001b[33m=\u001b[39m require(\u001b[32m'@/store/useThreadStore'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m       \u001b[36mconst\u001b[39m store \u001b[33m=\u001b[39m useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m       \n     \u001b[90m 327 |\u001b[39m       \u001b[90m// Check for expected state properties\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.require (__tests__/imports/internal-imports.test.tsx:324:34)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:27:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:44:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterAll\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mWebSocketProvider\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/providers/WebSocketProvider'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../test-utils/providers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Mock Next.js navigation\u001b[39m\n     \u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at Object.<anonymous> (node_modules/@testing-library/react/dist/index.js:48:5)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:23:17)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Critical Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 43 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 44 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 45 |\u001b[39m describe(\u001b[32m'Critical Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m     process\u001b[33m.\u001b[39menv \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mprocess\u001b[33m.\u001b[39menv\u001b[33m,\u001b[39m \u001b[33m...\u001b[39mmockEnv }\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/critical-integration.test.tsx:48:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/critical-integration.test.tsx:75:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. WebSocket Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should integrate WebSocket with authentication state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m\n     \u001b[90m 80 |\u001b[39m   describe(\u001b[32m'1. WebSocket Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     it(\u001b[32m'should integrate WebSocket with authentication state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'test-jwt-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 83 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'123'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:81:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reconnect WebSocket when authentication changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m { login } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Agent Provider Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 148 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendUserMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate agent state with WebSocket messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendUserMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[36mconst\u001b[39m [isProcessing\u001b[33m,\u001b[39m setIsProcessing] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync agent reports with chat messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 203 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m     it(\u001b[32m'should sync agent reports with chat messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 206 |\u001b[39m         \u001b[36mconst\u001b[39m { sendUserMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m         \u001b[36mconst\u001b[39m messages \u001b[33m=\u001b[39m useChatStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mmessages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:204:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. Authentication Flow Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 243 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 244 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 245 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 246 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 247 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:245:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete OAuth flow and establish WebSocket\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 244 |\u001b[39m\n     \u001b[90m 245 |\u001b[39m   describe(\u001b[32m'3. Authentication Flow Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 246 |\u001b[39m     it(\u001b[32m'should complete OAuth flow and establish WebSocket'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 247 |\u001b[39m       \u001b[36mconst\u001b[39m mockOAuthResponse \u001b[33m=\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         access_token\u001b[33m:\u001b[39m \u001b[32m'oauth-token'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 249 |\u001b[39m         user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'oauth-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'oauth@example.com'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:246:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:245:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist authentication across page refreshes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 273 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 275 |\u001b[39m     it(\u001b[32m'should persist authentication across page refreshes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 276 |\u001b[39m       \u001b[36mconst\u001b[39m mockUser \u001b[33m=\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'persist-user'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'persist@example.com'\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \u001b[36mconst\u001b[39m mockToken \u001b[33m=\u001b[39m \u001b[32m'persist-token'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 278 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:275:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:245:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Thread Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 297 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 298 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 299 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 300 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 301 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 302 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:299:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should create thread and sync with messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 298 |\u001b[39m\n     \u001b[90m 299 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 300 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 301 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m 302 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 303 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'New Thread'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:300:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:299:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch threads and load messages\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 342 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 343 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 344 |\u001b[39m     it(\u001b[32m'should switch threads and load messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 345 |\u001b[39m       \u001b[36mconst\u001b[39m thread1Messages \u001b[33m=\u001b[39m [\n     \u001b[90m 346 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m thread_id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Thread 1 message'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\n     \u001b[90m 347 |\u001b[39m       ]\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:344:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:299:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Real-time Message Streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 377 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 378 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 379 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 380 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 381 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 382 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should stream agent responses to chat\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 378 |\u001b[39m\n     \u001b[90m 379 |\u001b[39m   describe(\u001b[32m'5. Real-time Message Streaming'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 380 |\u001b[39m     it(\u001b[32m'should stream agent responses to chat'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 381 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 382 |\u001b[39m         \u001b[36mconst\u001b[39m { messages } \u001b[33m=\u001b[39m useChatStore()\u001b[33m;\u001b[39m\n     \u001b[90m 383 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:380:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle message interruption gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 430 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m     it(\u001b[32m'should handle message interruption gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 433 |\u001b[39m         \u001b[36mconst\u001b[39m { isProcessing\u001b[33m,\u001b[39m sendMessage\u001b[33m,\u001b[39m stopProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 434 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:431:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Error Recovery Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 475 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 476 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 477 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 478 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 479 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 480 |\u001b[39m         \u001b[36mconst\u001b[39m { isConnected\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from WebSocket disconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 476 |\u001b[39m\n     \u001b[90m 477 |\u001b[39m   describe(\u001b[32m'6. Error Recovery Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m     it(\u001b[32m'should recover from WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 479 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 480 |\u001b[39m         \u001b[36mconst\u001b[39m { isConnected\u001b[33m,\u001b[39m reconnect } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 481 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:478:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should retry failed API calls with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 516 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 517 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 518 |\u001b[39m     it(\u001b[32m'should retry failed API calls with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 519 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 520 |\u001b[39m       \n     \u001b[90m 521 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:518:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle session expiration gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 551 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 552 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 553 |\u001b[39m     it(\u001b[32m'should handle session expiration gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 554 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 555 |\u001b[39m         \u001b[36mconst\u001b[39m { logout } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\n     \u001b[90m 556 |\u001b[39m         \u001b[36mconst\u001b[39m { isAuthenticated } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:553:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. State Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 591 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 592 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 593 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 594 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 595 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 596 |\u001b[39m         threads\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:593:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync local state with server state\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 592 |\u001b[39m\n     \u001b[90m 593 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 594 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 595 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 596 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 597 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m\u001b[33m,\u001b[39m created_at\u001b[33m:\u001b[39m \u001b[32m'2024-01-01'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:594:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:593:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle concurrent state updates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 620 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 621 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 622 |\u001b[39m     it(\u001b[32m'should handle concurrent state updates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 623 |\u001b[39m       \u001b[36mconst\u001b[39m updates \u001b[33m=\u001b[39m [\n     \u001b[90m 624 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'thread_created'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Thread 1'\u001b[39m } }\u001b[33m,\u001b[39m\n     \u001b[90m 625 |\u001b[39m         { type\u001b[33m:\u001b[39m \u001b[32m'message_sent'\u001b[39m\u001b[33m,\u001b[39m data\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m'msg-1'\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'Message 1'\u001b[39m } }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:622:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:593:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. File Upload Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 661 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 662 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 663 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 664 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 665 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 666 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:663:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload file and process with agent\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 662 |\u001b[39m\n     \u001b[90m 663 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 664 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 665 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 666 |\u001b[39m       \u001b[36mconst\u001b[39m formData \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFormData\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 667 |\u001b[39m       formData\u001b[33m.\u001b[39mappend(\u001b[32m'file'\u001b[39m\u001b[33m,\u001b[39m file)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:664:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:663:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track upload progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 690 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 691 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 692 |\u001b[39m     it(\u001b[32m'should track upload progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 693 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'x'\u001b[39m\u001b[33m.\u001b[39mrepeat(\u001b[35m1000000\u001b[39m)]\u001b[33m,\u001b[39m \u001b[32m'large.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 694 |\u001b[39m       \u001b[36mlet\u001b[39m progress \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 695 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:692:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:663:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Optimization Recommendations Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 716 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 717 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 718 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 719 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 720 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 721 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should process optimization request end-to-end\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 717 |\u001b[39m\n     \u001b[90m 718 |\u001b[39m   describe(\u001b[32m'9. Optimization Recommendations Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 719 |\u001b[39m     it(\u001b[32m'should process optimization request end-to-end'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 720 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 721 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m optimizationResults } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 722 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:719:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should apply optimization and track results\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 763 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 764 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 765 |\u001b[39m     it(\u001b[32m'should apply optimization and track results'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 766 |\u001b[39m       \u001b[36mconst\u001b[39m recommendation \u001b[33m=\u001b[39m {\n     \u001b[90m 767 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'rec-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 768 |\u001b[39m         type\u001b[33m:\u001b[39m \u001b[32m'cost'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:765:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. Multi-Agent Coordination\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 794 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 795 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 796 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 797 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 798 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 799 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should coordinate multiple sub-agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 795 |\u001b[39m\n     \u001b[90m 796 |\u001b[39m   describe(\u001b[32m'10. Multi-Agent Coordination'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 797 |\u001b[39m     it(\u001b[32m'should coordinate multiple sub-agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 798 |\u001b[39m       \u001b[36mconst\u001b[39m agents \u001b[33m=\u001b[39m [\u001b[32m'triage'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'data'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'optimization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'reporting'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 799 |\u001b[39m       \u001b[36mconst\u001b[39m agentStatuses \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 800 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:797:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle agent pipeline failures\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 859 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 860 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 861 |\u001b[39m     it(\u001b[32m'should handle agent pipeline failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 862 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 863 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m error } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 864 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:861:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Performance Monitoring Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 898 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 899 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 900 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 901 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 902 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 903 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:900:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track and report performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 899 |\u001b[39m\n     \u001b[90m 900 |\u001b[39m   describe(\u001b[32m'11. Performance Monitoring Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 901 |\u001b[39m     it(\u001b[32m'should track and report performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 902 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m {\n     \u001b[90m 903 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\n     \u001b[90m 904 |\u001b[39m         api_response_time\u001b[33m:\u001b[39m []\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:901:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:900:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should detect and report performance degradation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 945 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 946 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 947 |\u001b[39m     it(\u001b[32m'should detect and report performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 948 |\u001b[39m       \u001b[36mconst\u001b[39m performanceThresholds \u001b[33m=\u001b[39m {\n     \u001b[90m 949 |\u001b[39m         api_latency\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 950 |\u001b[39m         websocket_latency\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:947:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:900:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Data Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 968 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 969 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 970 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 971 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 972 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 973 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:970:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and reuse API responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 969 |\u001b[39m\n     \u001b[90m 970 |\u001b[39m   describe(\u001b[32m'12. Data Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 971 |\u001b[39m     it(\u001b[32m'should cache and reuse API responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 972 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 973 |\u001b[39m       \n     \u001b[90m 974 |\u001b[39m       \u001b[36mconst\u001b[39m cachedFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (url\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:971:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:970:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should invalidate cache on mutations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m  998 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m  999 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1000 |\u001b[39m     it(\u001b[32m'should invalidate cache on mutations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1001 |\u001b[39m       \u001b[36mconst\u001b[39m cache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 1002 |\u001b[39m       cache\u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'/api/threads'\u001b[39m\u001b[33m,\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Old Thread'\u001b[39m }])\u001b[33m;\u001b[39m\n     \u001b[90m 1003 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1000:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:970:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Notification System Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1026 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1027 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1031 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should show notifications for important events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1027 |\u001b[39m\n     \u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'13. Notification System Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should show notifications for important events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m notifications \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1031 |\u001b[39m       \n     \u001b[90m 1032 |\u001b[39m       \u001b[36mconst\u001b[39m notify \u001b[33m=\u001b[39m (type\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m message\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1029:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue notifications when offline\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1079 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1080 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1081 |\u001b[39m     it(\u001b[32m'should queue notifications when offline'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1082 |\u001b[39m       \u001b[36mconst\u001b[39m notificationQueue \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1083 |\u001b[39m       \n     \u001b[90m 1084 |\u001b[39m       \u001b[36mconst\u001b[39m queueNotification \u001b[33m=\u001b[39m (notification\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1081:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Keyboard Shortcuts Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1106 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1107 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1108 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1109 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1110 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1111 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1108:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle global keyboard shortcuts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1107 |\u001b[39m\n     \u001b[90m 1108 |\u001b[39m   describe(\u001b[32m'14. Keyboard Shortcuts Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1109 |\u001b[39m     it(\u001b[32m'should handle global keyboard shortcuts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1110 |\u001b[39m       \u001b[36mconst\u001b[39m shortcuts \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m([\n     \u001b[90m 1111 |\u001b[39m         [\u001b[32m'cmd+k'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'openSearch'\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 1112 |\u001b[39m         [\u001b[32m'cmd+enter'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sendMessage'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1109:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1108:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should prevent shortcut conflicts in input fields\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1142 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1143 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1144 |\u001b[39m     it(\u001b[32m'should prevent shortcut conflicts in input fields'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1145 |\u001b[39m       \u001b[36mlet\u001b[39m actionTriggered \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1146 |\u001b[39m       \n     \u001b[90m 1147 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1144:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1108:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Accessibility Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1174 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1175 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1176 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1177 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1178 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1179 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/critical-integration.test.tsx:1176:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain focus management during navigation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1175 |\u001b[39m\n     \u001b[90m 1176 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1177 |\u001b[39m     it(\u001b[32m'should maintain focus management during navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1178 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1179 |\u001b[39m         \u001b[36mconst\u001b[39m [currentView\u001b[33m,\u001b[39m setCurrentView] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'chat'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1180 |\u001b[39m         \u001b[36mconst\u001b[39m chatRef \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museRef\u001b[33m<\u001b[39m\u001b[33mHTMLDivElement\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1177:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1176:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should announce dynamic content updates to screen readers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1212 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1213 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1214 |\u001b[39m     it(\u001b[32m'should announce dynamic content updates to screen readers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1215 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1216 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1217 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/critical-integration.test.tsx:1214:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1176:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n      at require (__tests__/imports/internal-imports.test.tsx:339:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:339:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Advanced Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \n     \u001b[90m 41 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 39 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 40 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 41 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 42 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 43 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 44 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/advanced-integration.test.tsx:41:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/advanced-integration.test.tsx:57:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Theme and Preferences Synchronization\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 62 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 63 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 64 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 65 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:62:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync theme preferences across components\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 61 |\u001b[39m\n     \u001b[90m 62 |\u001b[39m   describe(\u001b[32m'16. Theme and Preferences Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 63 |\u001b[39m     it(\u001b[32m'should sync theme preferences across components'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 64 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThemeContext\u001b[39m \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39mcreateContext({\n     \u001b[90m 65 |\u001b[39m         theme\u001b[33m:\u001b[39m \u001b[32m'light'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 66 |\u001b[39m         setTheme\u001b[33m:\u001b[39m (theme\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {}\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:63:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:62:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist user preferences across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m     it(\u001b[32m'should persist user preferences across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m       \u001b[36mconst\u001b[39m preferences \u001b[33m=\u001b[39m {\n     \u001b[90m 119 |\u001b[39m         notifications\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 120 |\u001b[39m         autoSave\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:117:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:62:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. Complex Form Validation Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 140 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 142 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 143 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 144 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 145 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:142:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate multi-step forms with dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m   describe(\u001b[32m'17. Complex Form Validation Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 143 |\u001b[39m     it(\u001b[32m'should validate multi-step forms with dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 144 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFormComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 145 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m         \u001b[36mconst\u001b[39m [formData\u001b[33m,\u001b[39m setFormData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:143:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:142:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle async validation with debouncing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 224 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 226 |\u001b[39m     it(\u001b[32m'should handle async validation with debouncing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 227 |\u001b[39m       \u001b[36mlet\u001b[39m validationCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 228 |\u001b[39m       \n     \u001b[90m 229 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAsyncValidationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:226:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:142:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Collaborative Features Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 290 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 291 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 292 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 293 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should sync cursor positions in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 291 |\u001b[39m\n     \u001b[90m 292 |\u001b[39m   describe(\u001b[32m'18. Collaborative Features Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 293 |\u001b[39m     it(\u001b[32m'should sync cursor positions in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m cursors \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \n     \u001b[90m 296 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:293:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle presence and activity status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 353 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 355 |\u001b[39m     it(\u001b[32m'should handle presence and activity status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 356 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mPresenceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 357 |\u001b[39m         \u001b[36mconst\u001b[39m [activeUsers\u001b[33m,\u001b[39m setActiveUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\n     \u001b[90m 358 |\u001b[39m         \u001b[36mconst\u001b[39m [typingUsers\u001b[33m,\u001b[39m setTypingUsers] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mSet\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mSet\u001b[39m())\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:355:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:292:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Offline Mode Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 415 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 416 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 417 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 418 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 419 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:417:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue actions when offline and sync when online\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m\n     \u001b[90m 417 |\u001b[39m   describe(\u001b[32m'19. Offline Mode Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m     it(\u001b[32m'should queue actions when offline and sync when online'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m       \u001b[36mconst\u001b[39m actionQueue\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m       \n     \u001b[90m 421 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineSyncComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:418:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:417:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should use local storage for offline persistence\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 508 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 509 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 510 |\u001b[39m     it(\u001b[32m'should use local storage for offline persistence'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 511 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOfflineStorageComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 512 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 513 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:510:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:417:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Complex Navigation Flows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 553 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 554 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 555 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 556 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 557 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 558 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:555:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle deep linking with state preservation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 554 |\u001b[39m\n     \u001b[90m 555 |\u001b[39m   describe(\u001b[32m'20. Complex Navigation Flows'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 556 |\u001b[39m     it(\u001b[32m'should handle deep linking with state preservation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 557 |\u001b[39m       \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\n     \u001b[90m 558 |\u001b[39m       \n     \u001b[90m 559 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mNavigationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:556:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:555:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle protected route redirects\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 609 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 610 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 611 |\u001b[39m     it(\u001b[32m'should handle protected route redirects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 612 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mProtectedRoute\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }) \u001b[33m=>\u001b[39m {\n     \u001b[90m 613 |\u001b[39m         \u001b[36mconst\u001b[39m { isAuthenticated } \u001b[33m=\u001b[39m useAuthStore()\u001b[33m;\u001b[39m\n     \u001b[90m 614 |\u001b[39m         \u001b[36mconst\u001b[39m router \u001b[33m=\u001b[39m require(\u001b[32m'next/navigation'\u001b[39m)\u001b[33m.\u001b[39museRouter()\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:611:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:555:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Advanced Search Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 656 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 657 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 658 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 659 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 661 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:658:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement fuzzy search with highlighting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 657 |\u001b[39m\n     \u001b[90m 658 |\u001b[39m   describe(\u001b[32m'21. Advanced Search Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 659 |\u001b[39m     it(\u001b[32m'should implement fuzzy search with highlighting'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 660 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 661 |\u001b[39m         \u001b[36mconst\u001b[39m [query\u001b[33m,\u001b[39m setQuery] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 662 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:659:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:658:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement search with filters and facets\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 722 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 723 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 724 |\u001b[39m     it(\u001b[32m'should implement search with filters and facets'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 725 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFilteredSearchComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 726 |\u001b[39m         \u001b[36mconst\u001b[39m [filters\u001b[33m,\u001b[39m setFilters] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 727 |\u001b[39m           category\u001b[33m:\u001b[39m \u001b[32m''\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:724:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:658:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Drag and Drop Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 784 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 785 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 786 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 787 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 788 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 789 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:786:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle file drag and drop with preview\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 785 |\u001b[39m\n     \u001b[90m 786 |\u001b[39m   describe(\u001b[32m'22. Drag and Drop Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 787 |\u001b[39m     it(\u001b[32m'should handle file drag and drop with preview'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 788 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mDragDropComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 789 |\u001b[39m         \u001b[36mconst\u001b[39m [isDragging\u001b[33m,\u001b[39m setIsDragging] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 790 |\u001b[39m         \u001b[36mconst\u001b[39m [files\u001b[33m,\u001b[39m setFiles] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mFile\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:787:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:786:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should reorder items with drag and drop\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 841 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 842 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 843 |\u001b[39m     it(\u001b[32m'should reorder items with drag and drop'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 844 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mReorderableList\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 845 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([\n     \u001b[90m 846 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'1'\u001b[39m\u001b[33m,\u001b[39m text\u001b[33m:\u001b[39m \u001b[32m'Item 1'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:843:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:786:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. Infinite Scroll Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 911 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 912 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 913 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 914 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 915 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 916 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:913:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load more content on scroll\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 912 |\u001b[39m\n     \u001b[90m 913 |\u001b[39m   describe(\u001b[32m'23. Infinite Scroll Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 914 |\u001b[39m     it(\u001b[32m'should load more content on scroll'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 915 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mInfiniteScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 916 |\u001b[39m         \u001b[36mconst\u001b[39m [items\u001b[33m,\u001b[39m setItems] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 917 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:914:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:913:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement virtual scrolling for large lists\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 976 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 977 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 978 |\u001b[39m     it(\u001b[32m'should implement virtual scrolling for large lists'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 979 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mVirtualScrollComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 980 |\u001b[39m         \u001b[36mconst\u001b[39m [visibleRange\u001b[33m,\u001b[39m setVisibleRange] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ start\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m end\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 981 |\u001b[39m         \u001b[36mconst\u001b[39m items \u001b[33m=\u001b[39m \u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m({ length\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m }\u001b[33m,\u001b[39m (_\u001b[33m,\u001b[39m i) \u001b[33m=>\u001b[39m \u001b[32m`Item ${i + 1}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:978:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:913:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Complex Animation Sequences\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1026 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1027 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1031 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should chain animations with proper timing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1027 |\u001b[39m\n     \u001b[90m 1028 |\u001b[39m   describe(\u001b[32m'24. Complex Animation Sequences'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1029 |\u001b[39m     it(\u001b[32m'should chain animations with proper timing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mAnimationComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1031 |\u001b[39m         \u001b[36mconst\u001b[39m [stage\u001b[33m,\u001b[39m setStage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1032 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1029:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle gesture-based animations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1074 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1075 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1076 |\u001b[39m     it(\u001b[32m'should handle gesture-based animations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1077 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mGestureComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1078 |\u001b[39m         \u001b[36mconst\u001b[39m [position\u001b[33m,\u001b[39m setPosition] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 1079 |\u001b[39m         \u001b[36mconst\u001b[39m [velocity\u001b[33m,\u001b[39m setVelocity] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ x\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m y\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1076:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Memory Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1128 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1129 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1130 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1131 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1132 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1133 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1130:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cleanup resources on unmount\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1129 |\u001b[39m\n     \u001b[90m 1130 |\u001b[39m   describe(\u001b[32m'25. Memory Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1131 |\u001b[39m     it(\u001b[32m'should cleanup resources on unmount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1132 |\u001b[39m       \u001b[36mconst\u001b[39m cleanupFunctions\u001b[33m:\u001b[39m (() \u001b[33m=>\u001b[39m \u001b[36mvoid\u001b[39m)[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1133 |\u001b[39m       \n     \u001b[90m 1134 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResourceComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1131:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1130:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage large data sets efficiently\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1163 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1164 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1165 |\u001b[39m     it(\u001b[32m'should manage large data sets efficiently'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1166 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mLargeDataComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1167 |\u001b[39m         \u001b[36mconst\u001b[39m [data\u001b[33m,\u001b[39m setData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 1168 |\u001b[39m         \u001b[36mconst\u001b[39m [isLoading\u001b[33m,\u001b[39m setIsLoading] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1165:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1130:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Real-time Collaboration Sync\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1216 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1217 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1218 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1219 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1220 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1221 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1218:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle conflict resolution in collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1217 |\u001b[39m\n     \u001b[90m 1218 |\u001b[39m   describe(\u001b[32m'26. Real-time Collaboration Sync'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1219 |\u001b[39m     it(\u001b[32m'should handle conflict resolution in collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1220 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mCollaborativeEditor\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1221 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'Initial content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1222 |\u001b[39m         \u001b[36mconst\u001b[39m [conflicts\u001b[33m,\u001b[39m setConflicts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1219:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1218:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should maintain operation history for undo/redo\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1279 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1280 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1281 |\u001b[39m     it(\u001b[32m'should maintain operation history for undo/redo'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1282 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mUndoRedoComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1283 |\u001b[39m         \u001b[36mconst\u001b[39m [history\u001b[33m,\u001b[39m setHistory] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m[]\u001b[33m>\u001b[39m([\u001b[32m'Initial'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 1284 |\u001b[39m         \u001b[36mconst\u001b[39m [currentIndex\u001b[33m,\u001b[39m setCurrentIndex] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1281:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1218:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Advanced Error Boundaries\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1334 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1335 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1336 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1337 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1338 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1339 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1336:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from component errors gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1335 |\u001b[39m\n     \u001b[90m 1336 |\u001b[39m   describe(\u001b[32m'27. Advanced Error Boundaries'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1337 |\u001b[39m     it(\u001b[32m'should recover from component errors gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1338 |\u001b[39m       \u001b[36mclass\u001b[39m \u001b[33mErrorBoundary\u001b[39m \u001b[36mextends\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mComponent\u001b[39m\u001b[33m<\u001b[39m\n     \u001b[90m 1339 |\u001b[39m         { children\u001b[33m:\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39m\u001b[33mReactNode\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1340 |\u001b[39m         { hasError\u001b[33m:\u001b[39m boolean\u001b[33m;\u001b[39m errorInfo\u001b[33m:\u001b[39m any }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1337:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1336:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should report errors to monitoring service\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1404 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1405 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1406 |\u001b[39m     it(\u001b[32m'should report errors to monitoring service'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1407 |\u001b[39m       \u001b[36mconst\u001b[39m errorReports\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1408 |\u001b[39m       \n     \u001b[90m 1409 |\u001b[39m       \u001b[36mconst\u001b[39m reportError \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (error\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1406:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1336:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Multi-language Support Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1451 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1452 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1453 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1454 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1455 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1456 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1453:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch languages dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1452 |\u001b[39m\n     \u001b[90m 1453 |\u001b[39m   describe(\u001b[32m'28. Multi-language Support Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1454 |\u001b[39m     it(\u001b[32m'should switch languages dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1455 |\u001b[39m       \u001b[36mconst\u001b[39m translations \u001b[33m=\u001b[39m {\n     \u001b[90m 1456 |\u001b[39m         en\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Welcome'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Goodbye'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1457 |\u001b[39m         es\u001b[33m:\u001b[39m { welcome\u001b[33m:\u001b[39m \u001b[32m'Bienvenido'\u001b[39m\u001b[33m,\u001b[39m goodbye\u001b[33m:\u001b[39m \u001b[32m'Adi\u00f3s'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1454:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1453:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle RTL languages correctly\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1493 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1494 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1495 |\u001b[39m     it(\u001b[32m'should handle RTL languages correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1496 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRTLComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1497 |\u001b[39m         \u001b[36mconst\u001b[39m [language\u001b[33m,\u001b[39m setLanguage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'en'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1498 |\u001b[39m         \u001b[36mconst\u001b[39m [direction\u001b[33m,\u001b[39m setDirection] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[32m'ltr'\u001b[39m \u001b[33m|\u001b[39m \u001b[32m'rtl'\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'ltr'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1495:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1453:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. WebSocket Resilience Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1533 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1534 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1535 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1536 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1537 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1538 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1535:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle WebSocket message buffering during reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1534 |\u001b[39m\n     \u001b[90m 1535 |\u001b[39m   describe(\u001b[32m'29. WebSocket Resilience Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1536 |\u001b[39m     it(\u001b[32m'should handle WebSocket message buffering during reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1537 |\u001b[39m       \u001b[36mconst\u001b[39m messageBuffer\u001b[33m:\u001b[39m any[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1538 |\u001b[39m       \n     \u001b[90m 1539 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mResilientWebSocketComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1536:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1535:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement exponential backoff for reconnection\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1611 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1612 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1613 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1614 |\u001b[39m       \u001b[36mconst\u001b[39m reconnectAttempts\u001b[33m:\u001b[39m number[] \u001b[33m=\u001b[39m []\u001b[33m;\u001b[39m\n     \u001b[90m 1615 |\u001b[39m       \n     \u001b[90m 1616 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mExponentialBackoffComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1613:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1535:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. End-to-End User Journey\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1669 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1670 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1671 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1672 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1673 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1674 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1671:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should complete full optimization workflow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1670 |\u001b[39m\n     \u001b[90m 1671 |\u001b[39m   describe(\u001b[32m'30. End-to-End User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1672 |\u001b[39m     it(\u001b[32m'should complete full optimization workflow'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1673 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mOptimizationWorkflow\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1674 |\u001b[39m         \u001b[36mconst\u001b[39m [step\u001b[33m,\u001b[39m setStep] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'upload'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1675 |\u001b[39m         \u001b[36mconst\u001b[39m [workloadData\u001b[33m,\u001b[39m setWorkloadData] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/advanced-integration.test.tsx:1672:5)\n      at describe (__tests__/integration/advanced-integration.test.tsx:1671:3)\n      at Object.describe (__tests__/integration/advanced-integration.test.tsx:38:1)\n      at require (__tests__/imports/internal-imports.test.tsx:340:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:340:77)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"Comprehensive Frontend Integration Tests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 81 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 82 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 83 |\u001b[39m describe(\u001b[32m'Comprehensive Frontend Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 84 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \n     \u001b[90m 86 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"beforeEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_API_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'http://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     process\u001b[33m.\u001b[39menv\u001b[33m.\u001b[39m\u001b[33mNEXT_PUBLIC_WS_URL\u001b[39m \u001b[33m=\u001b[39m \u001b[32m'ws://localhost:8000'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m     server \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at beforeEach (__tests__/integration/comprehensive-integration.test.tsx:86:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Hooks cannot be defined inside tests. Hook of type \"afterEach\" is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:111:44)\n      at afterEach (__tests__/integration/comprehensive-integration.test.tsx:102:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"1. Corpus Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 105 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 106 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 107 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 108 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 109 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 110 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:107:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should upload documents to corpus and process with embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 106 |\u001b[39m\n     \u001b[90m 107 |\u001b[39m   describe(\u001b[32m'1. Corpus Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 108 |\u001b[39m     it(\u001b[32m'should upload documents to corpus and process with embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 109 |\u001b[39m       \u001b[36mconst\u001b[39m mockDocument \u001b[33m=\u001b[39m {\n     \u001b[90m 110 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'doc-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 111 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'Test Document'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:108:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:107:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should search corpus with semantic similarity\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m       \u001b[36mconst\u001b[39m mockSearchResults \u001b[33m=\u001b[39m [\n     \u001b[90m 141 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 1'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.95\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 142 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'doc-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Result 2'\u001b[39m\u001b[33m,\u001b[39m similarity_score\u001b[33m:\u001b[39m \u001b[35m0.87\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:139:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:107:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"2. Synthetic Data Generation Flow\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 165 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 166 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:163:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should generate synthetic data based on templates\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m   describe(\u001b[32m'2. Synthetic Data Generation Flow'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 164 |\u001b[39m     it(\u001b[32m'should generate synthetic data based on templates'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 165 |\u001b[39m       \u001b[36mconst\u001b[39m mockGenerationJob \u001b[33m=\u001b[39m {\n     \u001b[90m 166 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'job-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 167 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'processing'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:164:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:163:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export generated synthetic data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 212 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 213 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 214 |\u001b[39m     it(\u001b[32m'should export generated synthetic data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 215 |\u001b[39m       \u001b[36mconst\u001b[39m mockExportData \u001b[33m=\u001b[39m {\n     \u001b[90m 216 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'json'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 217 |\u001b[39m         data\u001b[33m:\u001b[39m [{ id\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m content\u001b[33m:\u001b[39m \u001b[32m'synthetic'\u001b[39m }]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:214:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:163:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"3. LLM Cache Management Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 234 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 235 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 236 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 237 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 239 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:236:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache and retrieve LLM responses\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 235 |\u001b[39m\n     \u001b[90m 236 |\u001b[39m   describe(\u001b[32m'3. LLM Cache Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 237 |\u001b[39m     it(\u001b[32m'should cache and retrieve LLM responses'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 238 |\u001b[39m       \u001b[36mconst\u001b[39m mockCacheEntry \u001b[33m=\u001b[39m {\n     \u001b[90m 239 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'prompt-hash-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 240 |\u001b[39m         prompt\u001b[33m:\u001b[39m \u001b[32m'test prompt'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:237:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:236:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage cache invalidation and TTL\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 263 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 264 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 265 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 266 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 267 |\u001b[39m         \u001b[36mconst\u001b[39m { cacheSize\u001b[33m,\u001b[39m clearCache\u001b[33m,\u001b[39m setCacheTTL } \u001b[33m=\u001b[39m useLLMCacheStore()\u001b[33m;\u001b[39m\n     \u001b[90m 268 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:265:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:236:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"4. Supply Catalog Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 291 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 293 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 294 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 295 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 296 |\u001b[39m         models\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:293:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should browse and select AI models from catalog\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m\n     \u001b[90m 293 |\u001b[39m   describe(\u001b[32m'4. Supply Catalog Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m     it(\u001b[32m'should browse and select AI models from catalog'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m       \u001b[36mconst\u001b[39m mockCatalog \u001b[33m=\u001b[39m {\n     \u001b[90m 296 |\u001b[39m         models\u001b[33m:\u001b[39m [\n     \u001b[90m 297 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'gpt-4'\u001b[39m\u001b[33m,\u001b[39m provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m cost_per_1k\u001b[33m:\u001b[39m \u001b[35m0.03\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:294:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:293:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between model providers dynamically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 317 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 318 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 319 |\u001b[39m     it(\u001b[32m'should switch between model providers dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 320 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 321 |\u001b[39m         \u001b[36mconst\u001b[39m { activeModel\u001b[33m,\u001b[39m switchModel } \u001b[33m=\u001b[39m useSupplyStore()\u001b[33m;\u001b[39m\n     \u001b[90m 322 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:319:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:293:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"5. Reference Management with Embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 346 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 347 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 348 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 349 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 350 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 351 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:348:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage document references with vector search\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 347 |\u001b[39m\n     \u001b[90m 348 |\u001b[39m   describe(\u001b[32m'5. Reference Management with Embeddings'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 349 |\u001b[39m     it(\u001b[32m'should manage document references with vector search'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 350 |\u001b[39m       \u001b[36mconst\u001b[39m mockReference \u001b[33m=\u001b[39m {\n     \u001b[90m 351 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'ref-789'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 352 |\u001b[39m         title\u001b[33m:\u001b[39m \u001b[32m'API Documentation'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:349:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:348:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should find similar references using embeddings\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 377 |\u001b[39m     it(\u001b[32m'should find similar references using embeddings'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 378 |\u001b[39m       \u001b[36mconst\u001b[39m mockSimilarRefs \u001b[33m=\u001b[39m [\n     \u001b[90m 379 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-1'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 1'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.92\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 380 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'ref-2'\u001b[39m\u001b[33m,\u001b[39m title\u001b[33m:\u001b[39m \u001b[32m'Similar Doc 2'\u001b[39m\u001b[33m,\u001b[39m similarity\u001b[33m:\u001b[39m \u001b[35m0.85\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:377:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:348:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"6. Admin Functionality Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 398 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 399 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 400 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 401 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 402 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 403 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:400:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should manage users and permissions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 399 |\u001b[39m\n     \u001b[90m 400 |\u001b[39m   describe(\u001b[32m'6. Admin Functionality Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 401 |\u001b[39m     it(\u001b[32m'should manage users and permissions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 402 |\u001b[39m       \u001b[36mconst\u001b[39m mockUsers \u001b[33m=\u001b[39m [\n     \u001b[90m 403 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-1'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'admin@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'admin'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 404 |\u001b[39m         { id\u001b[33m:\u001b[39m \u001b[32m'user-2'\u001b[39m\u001b[33m,\u001b[39m email\u001b[33m:\u001b[39m \u001b[32m'user@example.com'\u001b[39m\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[32m'user'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:401:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:400:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor system metrics and usage\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 435 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 436 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 437 |\u001b[39m     it(\u001b[32m'should monitor system metrics and usage'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 438 |\u001b[39m       \u001b[36mconst\u001b[39m mockMetrics \u001b[33m=\u001b[39m {\n     \u001b[90m 439 |\u001b[39m         total_requests\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 440 |\u001b[39m         active_users\u001b[33m:\u001b[39m \u001b[35m50\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:437:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:400:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"7. Health Check Monitoring\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 461 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 462 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 463 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 464 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 465 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 466 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:463:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should monitor service health status\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 462 |\u001b[39m\n     \u001b[90m 463 |\u001b[39m   describe(\u001b[32m'7. Health Check Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 464 |\u001b[39m     it(\u001b[32m'should monitor service health status'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 465 |\u001b[39m       \u001b[36mconst\u001b[39m mockHealthStatus \u001b[33m=\u001b[39m {\n     \u001b[90m 466 |\u001b[39m         status\u001b[33m:\u001b[39m \u001b[32m'healthy'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 467 |\u001b[39m         services\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:464:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:463:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle degraded service states\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 490 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 491 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 492 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 493 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 494 |\u001b[39m         \u001b[36mconst\u001b[39m [health\u001b[33m,\u001b[39m setHealth] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 495 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:492:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:463:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"8. Configuration Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 531 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 532 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 533 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 534 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 535 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 536 |\u001b[39m         features\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:533:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load and apply dynamic configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 532 |\u001b[39m\n     \u001b[90m 533 |\u001b[39m   describe(\u001b[32m'8. Configuration Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 534 |\u001b[39m     it(\u001b[32m'should load and apply dynamic configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 535 |\u001b[39m       \u001b[36mconst\u001b[39m mockConfig \u001b[33m=\u001b[39m {\n     \u001b[90m 536 |\u001b[39m         features\u001b[33m:\u001b[39m {\n     \u001b[90m 537 |\u001b[39m           dark_mode\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:534:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:533:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should update configuration and propagate changes\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 562 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 563 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 564 |\u001b[39m     it(\u001b[32m'should update configuration and propagate changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 565 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 566 |\u001b[39m         \u001b[36mconst\u001b[39m { config\u001b[33m,\u001b[39m updateConfig } \u001b[33m=\u001b[39m useConfigStore()\u001b[33m;\u001b[39m\n     \u001b[90m 567 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:564:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:533:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"9. Generation Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 593 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 594 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 595 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 596 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 597 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 598 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle content generation with streaming\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 594 |\u001b[39m\n     \u001b[90m 595 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 596 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 597 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 598 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 599 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:596:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle generation templates and parameters\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 643 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 644 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 645 |\u001b[39m     it(\u001b[32m'should handle generation templates and parameters'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 646 |\u001b[39m       \u001b[36mconst\u001b[39m mockTemplate \u001b[33m=\u001b[39m {\n     \u001b[90m 647 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'template-1'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 648 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'Email Template'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:645:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"10. OAuth Secrets Management\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 674 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 675 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 676 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 677 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 678 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 679 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:676:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely manage OAuth provider configurations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 675 |\u001b[39m\n     \u001b[90m 676 |\u001b[39m   describe(\u001b[32m'10. OAuth Secrets Management'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 677 |\u001b[39m     it(\u001b[32m'should securely manage OAuth provider configurations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 678 |\u001b[39m       \u001b[36mconst\u001b[39m mockProviders \u001b[33m=\u001b[39m [\n     \u001b[90m 679 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'google'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'google-id'\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 680 |\u001b[39m         { provider\u001b[33m:\u001b[39m \u001b[32m'github'\u001b[39m\u001b[33m,\u001b[39m enabled\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m client_id\u001b[33m:\u001b[39m \u001b[32m'github-id'\u001b[39m }\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:677:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:676:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate OAuth secrets securely\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 697 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 698 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 699 |\u001b[39m     it(\u001b[32m'should rotate OAuth secrets securely'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 700 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockResolvedValueOnce({\n     \u001b[90m 701 |\u001b[39m         ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 702 |\u001b[39m         json\u001b[33m:\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:699:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:676:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"11. Multi-Model Provider Switching\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 720 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 721 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 722 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 723 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 724 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 725 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:722:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should switch between providers based on availability\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 721 |\u001b[39m\n     \u001b[90m 722 |\u001b[39m   describe(\u001b[32m'11. Multi-Model Provider Switching'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 723 |\u001b[39m     it(\u001b[32m'should switch between providers based on availability'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 724 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 725 |\u001b[39m         \u001b[36mconst\u001b[39m [provider\u001b[33m,\u001b[39m setProvider] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'openai'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 726 |\u001b[39m         \u001b[36mconst\u001b[39m [fallbackUsed\u001b[33m,\u001b[39m setFallbackUsed] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:723:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:722:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should load balance across multiple providers\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 757 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 758 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 759 |\u001b[39m     it(\u001b[32m'should load balance across multiple providers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 760 |\u001b[39m       \u001b[36mconst\u001b[39m providers \u001b[33m=\u001b[39m [\u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'anthropic'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'cohere'\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 761 |\u001b[39m       \u001b[36mlet\u001b[39m requestCount \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 762 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:759:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:722:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"12. Cost Tracking and Budgeting\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 780 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 781 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 782 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 783 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 785 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should track API usage costs in real-time\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 781 |\u001b[39m\n     \u001b[90m 782 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 783 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 785 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 786 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:783:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should enforce budget limits and alerts\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 827 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 828 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 829 |\u001b[39m     it(\u001b[32m'should enforce budget limits and alerts'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 830 |\u001b[39m       \u001b[36mconst\u001b[39m mockBudget \u001b[33m=\u001b[39m {\n     \u001b[90m 831 |\u001b[39m         monthly_limit\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 832 |\u001b[39m         current_usage\u001b[33m:\u001b[39m \u001b[35m950\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:829:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"13. Database Repository Pattern Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 857 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 858 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 859 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 860 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 861 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 862 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:859:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle unit of work pattern for transactions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 858 |\u001b[39m\n     \u001b[90m 859 |\u001b[39m   describe(\u001b[32m'13. Database Repository Pattern Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 860 |\u001b[39m     it(\u001b[32m'should handle unit of work pattern for transactions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 861 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 862 |\u001b[39m         \u001b[36mconst\u001b[39m [transactionStatus\u001b[33m,\u001b[39m setTransactionStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 863 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:860:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:859:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement repository caching layer\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 906 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 907 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 908 |\u001b[39m     it(\u001b[32m'should implement repository caching layer'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 909 |\u001b[39m       \u001b[36mconst\u001b[39m repositoryCache \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 910 |\u001b[39m       \n     \u001b[90m 911 |\u001b[39m       \u001b[36mconst\u001b[39m getCachedOrFetch \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (key\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m fetcher\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33mPromise\u001b[39m\u001b[33m<\u001b[39m\u001b[33many\u001b[39m\u001b[33m>\u001b[39m) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:908:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:859:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"14. Migration Handling\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 935 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 936 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 937 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 938 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 939 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 940 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:937:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should check and apply database migrations\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 936 |\u001b[39m\n     \u001b[90m 937 |\u001b[39m   describe(\u001b[32m'14. Migration Handling'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 938 |\u001b[39m     it(\u001b[32m'should check and apply database migrations'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 939 |\u001b[39m       \u001b[36mconst\u001b[39m mockMigrations \u001b[33m=\u001b[39m {\n     \u001b[90m 940 |\u001b[39m         current_version\u001b[33m:\u001b[39m \u001b[32m'003'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 941 |\u001b[39m         latest_version\u001b[33m:\u001b[39m \u001b[32m'005'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:938:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:937:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle migration rollback on failure\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 959 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 960 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 961 |\u001b[39m     it(\u001b[32m'should handle migration rollback on failure'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 962 |\u001b[39m       (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n     \u001b[90m 963 |\u001b[39m         \u001b[33m.\u001b[39mmockImplementationOnce(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m ({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m }))\n     \u001b[90m 964 |\u001b[39m         \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Migration failed'\u001b[39m))\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:961:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:937:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"15. Background Task Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 983 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 984 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 985 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 986 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 987 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 988 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:985:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should queue and process background tasks\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 984 |\u001b[39m\n     \u001b[90m 985 |\u001b[39m   describe(\u001b[32m'15. Background Task Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 986 |\u001b[39m     it(\u001b[32m'should queue and process background tasks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 987 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 988 |\u001b[39m         \u001b[36mconst\u001b[39m [taskStatus\u001b[33m,\u001b[39m setTaskStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m'idle'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 989 |\u001b[39m         \u001b[36mconst\u001b[39m [taskId\u001b[33m,\u001b[39m setTaskId] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:986:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:985:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle task retry with exponential backoff\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1046 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1047 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1048 |\u001b[39m     it(\u001b[32m'should handle task retry with exponential backoff'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1049 |\u001b[39m       \u001b[36mlet\u001b[39m attempts \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1050 |\u001b[39m       \u001b[36mconst\u001b[39m maxRetries \u001b[33m=\u001b[39m \u001b[35m3\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1051 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1048:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:985:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"16. Redis Caching Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1074 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1075 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1076 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1077 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1078 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1079 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1076:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should cache session data in Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1075 |\u001b[39m\n     \u001b[90m 1076 |\u001b[39m   describe(\u001b[32m'16. Redis Caching Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1077 |\u001b[39m     it(\u001b[32m'should cache session data in Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1078 |\u001b[39m       \u001b[36mconst\u001b[39m mockSession \u001b[33m=\u001b[39m {\n     \u001b[90m 1079 |\u001b[39m         session_id\u001b[33m:\u001b[39m \u001b[32m'sess-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1080 |\u001b[39m         user_id\u001b[33m:\u001b[39m \u001b[32m'user-456'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1077:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1076:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement distributed locking with Redis\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1101 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1102 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1103 |\u001b[39m     it(\u001b[32m'should implement distributed locking with Redis'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1104 |\u001b[39m       \u001b[36mconst\u001b[39m acquireLock \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (resource\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m ttl\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1105 |\u001b[39m         \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m fetch(\u001b[32m'/api/locks/acquire'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m 1106 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1103:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1076:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"17. ClickHouse Analytics Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1136 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1137 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1138 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1139 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1140 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1141 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1138:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should log and query time-series events\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1137 |\u001b[39m\n     \u001b[90m 1138 |\u001b[39m   describe(\u001b[32m'17. ClickHouse Analytics Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1139 |\u001b[39m     it(\u001b[32m'should log and query time-series events'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1140 |\u001b[39m       \u001b[36mconst\u001b[39m mockEvents \u001b[33m=\u001b[39m [\n     \u001b[90m 1141 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m3600000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m250\u001b[39m }\u001b[33m,\u001b[39m\n     \u001b[90m 1142 |\u001b[39m         { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m1800000\u001b[39m\u001b[33m,\u001b[39m event_type\u001b[33m:\u001b[39m \u001b[32m'api_call'\u001b[39m\u001b[33m,\u001b[39m latency\u001b[33m:\u001b[39m \u001b[35m180\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1139:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1138:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should aggregate metrics for dashboards\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1166 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1167 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1168 |\u001b[39m     it(\u001b[32m'should aggregate metrics for dashboards'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1169 |\u001b[39m       \u001b[36mconst\u001b[39m mockAggregates \u001b[33m=\u001b[39m {\n     \u001b[90m 1170 |\u001b[39m         avg_latency\u001b[33m:\u001b[39m \u001b[35m210\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1171 |\u001b[39m         p95_latency\u001b[33m:\u001b[39m \u001b[35m450\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1168:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1138:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"18. Error Context and Tracing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1192 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1193 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1194 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1195 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1196 |\u001b[39m       \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1193:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should propagate trace IDs through requests\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1192 |\u001b[39m\n     \u001b[90m 1193 |\u001b[39m   describe(\u001b[32m'18. Error Context and Tracing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1194 |\u001b[39m     it(\u001b[32m'should propagate trace IDs through requests'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1195 |\u001b[39m       \u001b[36mconst\u001b[39m traceId \u001b[33m=\u001b[39m \u001b[32m'trace-'\u001b[39m \u001b[33m+\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 1196 |\u001b[39m       \n     \u001b[90m 1197 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1194:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1193:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should capture error context with stack traces\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1228 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1229 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1230 |\u001b[39m     it(\u001b[32m'should capture error context with stack traces'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1231 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1232 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1233 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1230:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1193:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"19. Security Service Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1275 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1276 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1277 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1278 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1279 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1280 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1277:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and sanitize user inputs\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1276 |\u001b[39m\n     \u001b[90m 1277 |\u001b[39m   describe(\u001b[32m'19. Security Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1278 |\u001b[39m     it(\u001b[32m'should validate and sanitize user inputs'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1279 |\u001b[39m       \u001b[36mconst\u001b[39m validateInput \u001b[33m=\u001b[39m (input\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1280 |\u001b[39m         \u001b[90m// Remove script tags\u001b[39m\n     \u001b[90m 1281 |\u001b[39m         \u001b[36mconst\u001b[39m sanitized \u001b[33m=\u001b[39m input\u001b[33m.\u001b[39mreplace(\u001b[35m/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi\u001b[39m\u001b[33m,\u001b[39m \u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1278:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1277:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should implement rate limiting for API endpoints\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1303 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1304 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1305 |\u001b[39m     it(\u001b[32m'should implement rate limiting for API endpoints'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1306 |\u001b[39m       \u001b[36mconst\u001b[39m rateLimiter \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 1307 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mRATE_LIMIT\u001b[39m \u001b[33m=\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1308 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mWINDOW_MS\u001b[39m \u001b[33m=\u001b[39m \u001b[35m60000\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1305:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1277:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"20. Key Manager Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1340 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1341 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1342 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1343 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1344 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1345 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1342:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should securely store and retrieve API keys\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1341 |\u001b[39m\n     \u001b[90m 1342 |\u001b[39m   describe(\u001b[32m'20. Key Manager Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1343 |\u001b[39m     it(\u001b[32m'should securely store and retrieve API keys'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1344 |\u001b[39m       \u001b[36mconst\u001b[39m mockKey \u001b[33m=\u001b[39m {\n     \u001b[90m 1345 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'key-123'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1346 |\u001b[39m         provider\u001b[33m:\u001b[39m \u001b[32m'openai'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1343:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1342:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should rotate API keys periodically\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1368 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1369 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1370 |\u001b[39m     it(\u001b[32m'should rotate API keys periodically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1371 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1372 |\u001b[39m         \u001b[36mconst\u001b[39m [lastRotation\u001b[33m,\u001b[39m setLastRotation] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1373 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1370:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1342:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"21. Demo Mode Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1404 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1405 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1406 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1407 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1408 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1409 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1406:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should restrict features in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1405 |\u001b[39m\n     \u001b[90m 1406 |\u001b[39m   describe(\u001b[32m'21. Demo Mode Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1407 |\u001b[39m     it(\u001b[32m'should restrict features in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1408 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1409 |\u001b[39m         \u001b[36mconst\u001b[39m [isDemoMode\u001b[33m,\u001b[39m setIsDemoMode] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1410 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1407:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1406:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should provide sample data in demo mode\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1445 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1446 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1447 |\u001b[39m     it(\u001b[32m'should provide sample data in demo mode'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1448 |\u001b[39m       \u001b[36mconst\u001b[39m mockDemoData \u001b[33m=\u001b[39m {\n     \u001b[90m 1449 |\u001b[39m         threads\u001b[33m:\u001b[39m [\n     \u001b[90m 1450 |\u001b[39m           { id\u001b[33m:\u001b[39m \u001b[32m'demo-1'\u001b[39m\u001b[33m,\u001b[39m name\u001b[33m:\u001b[39m \u001b[32m'Demo Thread 1'\u001b[39m\u001b[33m,\u001b[39m messages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1447:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1406:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"22. Enterprise Demo Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1474 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1475 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1476 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1477 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1478 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1479 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1476:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should showcase enterprise-specific capabilities\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1475 |\u001b[39m\n     \u001b[90m 1476 |\u001b[39m   describe(\u001b[32m'22. Enterprise Demo Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1477 |\u001b[39m     it(\u001b[32m'should showcase enterprise-specific capabilities'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1478 |\u001b[39m       \u001b[36mconst\u001b[39m mockEnterpriseFeatures \u001b[33m=\u001b[39m {\n     \u001b[90m 1479 |\u001b[39m         sso_enabled\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1480 |\u001b[39m         audit_logging\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1477:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1476:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle team collaboration workflows\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1500 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1501 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1502 |\u001b[39m     it(\u001b[32m'should handle team collaboration workflows'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1503 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1504 |\u001b[39m         \u001b[36mconst\u001b[39m [team\u001b[33m,\u001b[39m setTeam] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1505 |\u001b[39m         \u001b[36mconst\u001b[39m [sharedThread\u001b[33m,\u001b[39m setSharedThread] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1502:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1476:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"23. PDF and Image Processing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1541 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1542 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1543 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1544 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1545 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1546 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1543:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should extract text from PDF documents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1542 |\u001b[39m\n     \u001b[90m 1543 |\u001b[39m   describe(\u001b[32m'23. PDF and Image Processing'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1544 |\u001b[39m     it(\u001b[32m'should extract text from PDF documents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1545 |\u001b[39m       \u001b[36mconst\u001b[39m mockPdfData \u001b[33m=\u001b[39m {\n     \u001b[90m 1546 |\u001b[39m         text\u001b[33m:\u001b[39m \u001b[32m'Extracted PDF content'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1547 |\u001b[39m         pages\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1544:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1543:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should analyze images with vision models\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1573 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1574 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1575 |\u001b[39m     it(\u001b[32m'should analyze images with vision models'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1576 |\u001b[39m       \u001b[36mconst\u001b[39m mockImageAnalysis \u001b[33m=\u001b[39m {\n     \u001b[90m 1577 |\u001b[39m         description\u001b[33m:\u001b[39m \u001b[32m'A chart showing revenue growth'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1578 |\u001b[39m         objects_detected\u001b[33m:\u001b[39m [\u001b[32m'chart'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'numbers'\u001b[39m]\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1575:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1543:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"24. Jupyter Notebook Support\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1605 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1606 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1607 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1608 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1609 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1610 |\u001b[39m         cells\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1607:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should parse and execute notebook cells\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1606 |\u001b[39m\n     \u001b[90m 1607 |\u001b[39m   describe(\u001b[32m'24. Jupyter Notebook Support'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1608 |\u001b[39m     it(\u001b[32m'should parse and execute notebook cells'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1609 |\u001b[39m       \u001b[36mconst\u001b[39m mockNotebook \u001b[33m=\u001b[39m {\n     \u001b[90m 1610 |\u001b[39m         cells\u001b[33m:\u001b[39m [\n     \u001b[90m 1611 |\u001b[39m           { type\u001b[33m:\u001b[39m \u001b[32m'code'\u001b[39m\u001b[33m,\u001b[39m source\u001b[33m:\u001b[39m \u001b[32m'print(\"Hello\")'\u001b[39m\u001b[33m,\u001b[39m output\u001b[33m:\u001b[39m \u001b[32m'Hello'\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1608:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1607:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should convert notebooks to different formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1631 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1632 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1633 |\u001b[39m     it(\u001b[32m'should convert notebooks to different formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1634 |\u001b[39m       \u001b[36mconst\u001b[39m mockConverted \u001b[33m=\u001b[39m {\n     \u001b[90m 1635 |\u001b[39m         format\u001b[33m:\u001b[39m \u001b[32m'html'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1636 |\u001b[39m         content\u001b[33m:\u001b[39m \u001b[32m'<html><body>Notebook content</body></html>'\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1633:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1607:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"25. Export Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1657 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1658 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1659 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1660 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1661 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1662 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1659:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should export data in multiple formats\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1658 |\u001b[39m\n     \u001b[90m 1659 |\u001b[39m   describe(\u001b[32m'25. Export Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1660 |\u001b[39m     it(\u001b[32m'should export data in multiple formats'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1661 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1662 |\u001b[39m         \u001b[36mconst\u001b[39m [exportStatus\u001b[33m,\u001b[39m setExportStatus] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1663 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1660:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1659:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle large data exports with progress\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1712 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1713 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1714 |\u001b[39m     it(\u001b[32m'should handle large data exports with progress'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1715 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1716 |\u001b[39m         \u001b[36mconst\u001b[39m [progress\u001b[33m,\u001b[39m setProgress] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1717 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1714:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1659:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"26. Import Functionality\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1744 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1745 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1746 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1747 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1748 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1749 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1746:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should validate and import data files\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1745 |\u001b[39m\n     \u001b[90m 1746 |\u001b[39m   describe(\u001b[32m'26. Import Functionality'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1747 |\u001b[39m     it(\u001b[32m'should validate and import data files'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1748 |\u001b[39m       \u001b[36mconst\u001b[39m mockImportResult \u001b[33m=\u001b[39m {\n     \u001b[90m 1749 |\u001b[39m         success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1750 |\u001b[39m         imported\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1747:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1746:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should preview import data before confirmation\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1778 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1779 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1780 |\u001b[39m     it(\u001b[32m'should preview import data before confirmation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1781 |\u001b[39m       \u001b[36mconst\u001b[39m mockPreview \u001b[33m=\u001b[39m {\n     \u001b[90m 1782 |\u001b[39m         total_rows\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1783 |\u001b[39m         sample_data\u001b[33m:\u001b[39m [\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1780:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1746:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"27. Collaboration Features\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1813 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1814 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1815 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1816 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1817 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1818 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle real-time collaborative editing\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1814 |\u001b[39m\n     \u001b[90m 1815 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1816 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1817 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1818 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1819 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1816:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should synchronize cursor positions between users\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1857 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1858 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1859 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1860 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1861 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1862 |\u001b[39m         \u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1859:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"28. Real-time Metrics Dashboard\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1916 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1917 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1918 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1919 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1920 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1921 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should display live performance metrics\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1917 |\u001b[39m\n     \u001b[90m 1918 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1919 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1920 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1921 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1922 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1919:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should visualize historical metrics with time series\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1961 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1962 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1963 |\u001b[39m     it(\u001b[32m'should visualize historical metrics with time series'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1964 |\u001b[39m       \u001b[36mconst\u001b[39m mockTimeSeries \u001b[33m=\u001b[39m {\n     \u001b[90m 1965 |\u001b[39m         timestamps\u001b[33m:\u001b[39m [\u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m2000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m3000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m4000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m5000\u001b[39m]\u001b[33m,\u001b[39m\n     \u001b[90m 1966 |\u001b[39m         values\u001b[33m:\u001b[39m [\u001b[35m100\u001b[39m\u001b[33m,\u001b[39m \u001b[35m120\u001b[39m\u001b[33m,\u001b[39m \u001b[35m115\u001b[39m\u001b[33m,\u001b[39m \u001b[35m130\u001b[39m\u001b[33m,\u001b[39m \u001b[35m125\u001b[39m]\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1963:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"29. Agent Tool Dispatcher Integration\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1984 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1985 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1986 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1987 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1988 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 1989 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1986:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should dynamically dispatch tools to agents\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 1985 |\u001b[39m\n     \u001b[90m 1986 |\u001b[39m   describe(\u001b[32m'29. Agent Tool Dispatcher Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1987 |\u001b[39m     it(\u001b[32m'should dynamically dispatch tools to agents'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1988 |\u001b[39m       \u001b[36mconst\u001b[39m mockToolExecution \u001b[33m=\u001b[39m {\n     \u001b[90m 1989 |\u001b[39m         tool\u001b[33m:\u001b[39m \u001b[32m'cost_analyzer'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 1990 |\u001b[39m         result\u001b[33m:\u001b[39m {\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1987:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1986:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should handle tool chaining and dependencies\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2017 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2018 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2019 |\u001b[39m     it(\u001b[32m'should handle tool chaining and dependencies'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2020 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2021 |\u001b[39m         \u001b[36mconst\u001b[39m [toolChain\u001b[33m,\u001b[39m setToolChain] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 2022 |\u001b[39m         \u001b[36mconst\u001b[39m [results\u001b[33m,\u001b[39m setResults] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2019:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1986:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Cannot nest a describe inside a test. Describe block \"30. State Persistence and Recovery\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2073 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 2074 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2075 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2076 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2077 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2078 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:58:44)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2075:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should persist application state across sessions\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2074 |\u001b[39m\n     \u001b[90m 2075 |\u001b[39m   describe(\u001b[32m'30. State Persistence and Recovery'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2076 |\u001b[39m     it(\u001b[32m'should persist application state across sessions'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2077 |\u001b[39m       \u001b[36mconst\u001b[39m mockPersistedState \u001b[33m=\u001b[39m {\n     \u001b[90m 2078 |\u001b[39m         version\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 2079 |\u001b[39m         timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2076:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2075:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\n  \u25cf Internal Frontend Module Import Tests \u203a Integration test imports \u203a should import integration test files\n\n    Tests cannot be nested. Test \"should recover from corrupted state gracefully\" cannot run because it is nested within \"should import integration test files\".\n\n    \u001b[0m \u001b[90m 2121 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 2122 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2123 |\u001b[39m     it(\u001b[32m'should recover from corrupted state gracefully'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2124 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 2125 |\u001b[39m         \u001b[36mconst\u001b[39m [state\u001b[33m,\u001b[39m setState] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2126 |\u001b[39m         \u001b[36mconst\u001b[39m [error\u001b[33m,\u001b[39m setError] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at eventHandler (node_modules/jest-circus/build/jestAdapterInit.js:145:44)\n      at it (__tests__/integration/comprehensive-integration.test.tsx:2123:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:2075:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n      at require (__tests__/imports/internal-imports.test.tsx:341:20)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/imports/internal-imports.test.tsx:341:82)\n\nFAIL __tests__/auth/context.test.tsx\n  \u25cf AuthContext \u203a Token Management \u203a should handle token refresh mechanism\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"mock-jwt-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m       \n     \u001b[90m 191 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m         expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.test.tsx:192:27)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext \u203a Development Mode \u203a should auto-login in development mode when not logged out\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8000/auth/callback\", \"dev_login\": \"http://localhost:8000/auth/dev-login\", \"login\": \"http://localhost:8000/auth/login\", \"logout\": \"http://localhost:8000/auth/logout\"}}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 211 |\u001b[39m       \n     \u001b[90m 212 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 213 |\u001b[39m         expect(authService\u001b[33m.\u001b[39mhandleDevLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 214 |\u001b[39m         expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m 215 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 216 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.test.tsx:213:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext \u203a Login Functionality \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 276 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 278 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 280 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 281 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:278:46)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8000/auth/callback\", \"dev_login\": \"http://localhost:8000/auth/dev-login\", \"login\": \"http://localhost:8000/auth/login\", \"logout\": \"http://localhost:8000/auth/logout\"}}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 323 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 324 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 325 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 326 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 328 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/context.test.tsx:325:40)\n\n  \u25cf AuthContext \u203a Logout Functionality \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 348 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 349 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 350 |\u001b[39m       expect(authService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 351 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(devConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 353 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:350:44)\n\n  \u25cf AuthContext \u203a Sync with Auth Store \u203a should sync logout with Zustand store\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 513 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 514 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 515 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 516 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 517 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 518 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:515:36)\n\n  \u25cf AuthContext \u203a Edge Cases \u203a should handle concurrent auth operations\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 584 |\u001b[39m       \n     \u001b[90m 585 |\u001b[39m       \u001b[90m// Verify operations were called\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 586 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 587 |\u001b[39m       expect(authService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 588 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 589 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/context.test.tsx:586:39)\n\nFAIL __tests__/components/ChatHistorySection.test.tsx (7.181 s)\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\n  \u25cf ChatHistorySection \u203a Edge Cases and Complete Coverage \u203a should handle router push failure\n\n    Navigation failed\n\n    \u001b[0m \u001b[90m 1280 |\u001b[39m       \n     \u001b[90m 1281 |\u001b[39m       \u001b[90m// Set up the rejection after render but before click\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1282 |\u001b[39m       mockRouter\u001b[33m.\u001b[39mpush\u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Navigation failed'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1283 |\u001b[39m       \n     \u001b[90m 1284 |\u001b[39m       \u001b[36mconst\u001b[39m secondThread \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Second Conversation'\u001b[39m)\u001b[33m.\u001b[39mclosest(\u001b[32m'.group'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1285 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(secondThread\u001b[33m!\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/components/ChatHistorySection.test.tsx:1282:45)\n\nFAIL __tests__/chat/chatUIUXCore.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nFAIL __tests__/components/chat/MainChat.test.tsx (12.119 s)\n  \u25cf MainChat \u203a Agent status updates \u203a should handle toggle collapse manually\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 362 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m     it(\u001b[32m'should handle toggle collapse manually'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m 365 |\u001b[39m         \u001b[33m...\u001b[39mmockStore\u001b[33m,\u001b[39m\n     \u001b[90m 366 |\u001b[39m         isProcessing\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:363:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:240:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:34:1)\n\n  \u25cf MainChat \u203a Error recovery and reconnection \u203a should handle store errors gracefully\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Store initialization failed\"\n\n        \u001b[0m \u001b[90m 388 |\u001b[39m     it(\u001b[32m'should handle store errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n         \u001b[90m 389 |\u001b[39m       (useUnifiedChatStore \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 390 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Store initialization failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 391 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 392 |\u001b[39m       \n         \u001b[90m 393 |\u001b[39m       \u001b[90m// Should not crash the component\u001b[39m\u001b[0m\n\n      at __tests__/components/chat/MainChat.test.tsx:390:15\n      at MainChat (components/chat/MainChat.tsx:22:26)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at __tests__/components/chat/MainChat.test.tsx:394:26\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:394:46)\n      at Object.toThrow (__tests__/components/chat/MainChat.test.tsx:394:46)\n\n  \u25cf MainChat \u203a Message history loading \u203a should update history when new messages arrive\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-testid=\"example-prompts\">Example Prompts</div> instead\n\n    \u001b[0m \u001b[90m 567 |\u001b[39m       \n     \u001b[90m 568 |\u001b[39m       \u001b[90m// Example prompts should disappear\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 569 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 570 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 571 |\u001b[39m\n     \u001b[90m 572 |\u001b[39m     it(\u001b[32m'should handle message deletion from history'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:569:59)\n\n  \u25cf MainChat \u203a UI layout and responsiveness \u203a should apply correct CSS classes\n\n    expect(element).toHaveClass(\"flex flex-col h-full\")\n\n    Expected the element to have class:\n      flex flex-col h-full\n    Received:\n      flex h-full bg-gradient-to-br from-gray-50 via-white to-gray-50\n\n    \u001b[0m \u001b[90m 611 |\u001b[39m       \n     \u001b[90m 612 |\u001b[39m       \u001b[36mconst\u001b[39m mainContainer \u001b[33m=\u001b[39m container\u001b[33m.\u001b[39mfirstChild\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 613 |\u001b[39m       expect(mainContainer)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'flex'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'flex-col'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'h-full'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 614 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 615 |\u001b[39m\n     \u001b[90m 616 |\u001b[39m     it(\u001b[32m'should handle window resize'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveClass (__tests__/components/chat/MainChat.test.tsx:613:29)\n\n  \u25cf MainChat \u203a Performance and optimization \u203a should clean up timers on unmount\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 708 |\u001b[39m       \n     \u001b[90m 709 |\u001b[39m       \u001b[90m// Any active timers should be cleared\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 710 |\u001b[39m       expect(clearTimeoutSpy)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 711 |\u001b[39m       \n     \u001b[90m 712 |\u001b[39m       clearTimeoutSpy\u001b[33m.\u001b[39mmockRestore()\u001b[33m;\u001b[39m\n     \u001b[90m 713 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/components/chat/MainChat.test.tsx:710:31)\n\n  \u25cf MainChat \u203a Integration with store and hooks \u203a should handle store reset\n\n    expect(element).not.toBeInTheDocument()\n\n    expected document not to contain element, found <div data-collapsed=\"false\" data-testid=\"response-card\"><button>Toggle</button>Response Card</div> instead\n\n    \u001b[0m \u001b[90m 777 |\u001b[39m       \u001b[90m// Should show example prompts again\u001b[39m\n     \u001b[90m 778 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'example-prompts'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 779 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mqueryByTestId(\u001b[32m'response-card'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 780 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 781 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 782 |\u001b[39m\u001b[0m\n\n      at Object.toBeInTheDocument (__tests__/components/chat/MainChat.test.tsx:779:57)\n\n  \u25cf MainChat \u203a Accessibility \u203a should support keyboard navigation\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 789 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 790 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 791 |\u001b[39m     it(\u001b[32m'should support keyboard navigation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 792 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mMainChat\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 793 |\u001b[39m       \n     \u001b[90m 794 |\u001b[39m       \u001b[90m// Tab through components\u001b[39m\u001b[0m\n\n      at it (__tests__/components/chat/MainChat.test.tsx:791:5)\n      at describe (__tests__/components/chat/MainChat.test.tsx:783:3)\n      at Object.describe (__tests__/components/chat/MainChat.test.tsx:34:1)\n\nFAIL __tests__/system/startup.test.tsx (12.725 s)\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should establish WebSocket connection on startup\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"ws://localhost:8000\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 167 |\u001b[39m       \n     \u001b[90m 168 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 169 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 170 |\u001b[39m           expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'ws://localhost:8000'\u001b[39m)\n     \u001b[90m 171 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 172 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/system/startup.test.tsx:169:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should handle WebSocket heartbeat\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"ping\\\"}\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 198 |\u001b[39m       \n     \u001b[90m 199 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 200 |\u001b[39m         expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 201 |\u001b[39m           \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'ping'\u001b[39m })\n     \u001b[90m 202 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 203 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/system/startup.test.tsx:200:36)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a WebSocket Connectivity \u203a should reconnect on connection loss\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 226 |\u001b[39m       \u001b[90m// Should attempt reconnection\u001b[39m\n     \u001b[90m 227 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 228 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 229 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 230 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/system/startup.test.tsx:228:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Frontend System Startup \u203a Store Initialization \u203a should restore persisted state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"test-token\"\n    Received: null\n\n    \u001b[0m \u001b[90m 273 |\u001b[39m       \n     \u001b[90m 274 |\u001b[39m       \u001b[90m// Verify restored state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 275 |\u001b[39m       expect(state\u001b[33m.\u001b[39mtoken)\u001b[33m.\u001b[39mtoBe(\u001b[32m'test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 276 |\u001b[39m       expect(state\u001b[33m.\u001b[39muser)\u001b[33m.\u001b[39mtoEqual(mockUser)\u001b[33m;\u001b[39m\n     \u001b[90m 277 |\u001b[39m       expect(state\u001b[33m.\u001b[39misAuthenticated)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 278 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/system/startup.test.tsx:275:27)\n\n  \u25cf Frontend System Startup \u203a Error Boundary \u203a should catch and handle startup errors\n\n    Startup error\n\n    \u001b[0m \u001b[90m 332 |\u001b[39m       \n     \u001b[90m 333 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mThrowError\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 334 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Startup error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 335 |\u001b[39m       }\u001b[33m;\u001b[39m\n     \u001b[90m 336 |\u001b[39m       \n     \u001b[90m 337 |\u001b[39m       \u001b[90m// Suppress console.error for this test\u001b[39m\u001b[0m\n\n      at ThrowError (__tests__/system/startup.test.tsx:334:15)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/system/startup.test.tsx:341:35)\n\n  \u25cf Frontend System Startup \u203a Performance Monitoring \u203a should measure startup performance\n\n    thrown: \"Exceeded timeout of 10000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 353 |\u001b[39m\n     \u001b[90m 354 |\u001b[39m   describe(\u001b[32m'Performance Monitoring'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 355 |\u001b[39m     it(\u001b[32m'should measure startup performance'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 356 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 357 |\u001b[39m       \n     \u001b[90m 358 |\u001b[39m       \u001b[90m// Simulate startup operations\u001b[39m\u001b[0m\n\n      at it (__tests__/system/startup.test.tsx:355:5)\n      at describe (__tests__/system/startup.test.tsx:354:3)\n      at Object.describe (__tests__/system/startup.test.tsx:30:1)\n\nFAIL __tests__/chat/ui-improvements.test.tsx\n  \u25cf Test suite failed to run\n\n    Jest worker encountered 4 child process exceptions, exceeding retry limit\n\n      at ChildProcessWorker.initialize (node_modules/jest-worker/build/index.js:805:21)\n\nFAIL __tests__/components/ChatComponents.test.tsx (21.306 s)\n  \u25cf test_MessageList_virtualization \u203a should implement virtual scrolling for large lists\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"/message-/\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"relative overflow-hidden h-[calc(100vh-250px)] px-6 py-4 overflow-y-auto\"\u001b[39m\n          \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n          \u001b[33mstyle\u001b[39m=\u001b[32m\"position: relative; --radix-scroll-area-corner-width: 0px; --radix-scroll-area-corner-height: 0px;\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"h-full w-full rounded-[inherit]\"\u001b[39m\n            \u001b[33mdata-radix-scroll-area-viewport\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[33mstyle\u001b[39m=\u001b[32m\"overflow-x: hidden; overflow-y: scroll;\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"min-width: 100%; display: table;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"mb-4 flex justify-start\"\u001b[39m\n                  \u001b[33mstyle\u001b[39m=\u001b[32m\"opacity: 1; transform: none;\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"rounded-lg border text-card-foreground w-full max-w-3xl shadow-sm hover:shadow-md transition-shadow duration-200 bg-white border-gray-200\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex flex-col space-y-1.5 p-6 pb-3 pt-4 px-5\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start justify-between\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<span\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"relative flex shrink-0 overflow-hidden rounded-full w-9 h-9 border-2 border-white shadow-sm\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<span\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex h-full w-full items-center justify-center rounded-full bg-muted font-bold text-sm bg-gradient-to-r from-purple-600 to-pink-600 text-white\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[0mAI\u001b[0m\n                            \u001b[36m</span>\u001b[39m\n                          \u001b[36m</span>\u001b[39m\n                          \u001b[36m<div>\u001b[39m\n                            \u001b[36m<div\u001b[39m\n                              \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2\"\u001b[39m\n                            \u001b[36m>\u001b[39m\n                              \u001b[36m<svg\u001b[39m\n                                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-bot w-4 h-4\"\u001b[39m\n                                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M12 8V4H8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<rect\u001b[39m\n                                  \u001b[33mheight\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                                  \u001b[33mrx\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                                  \u001b[33mwidth\u001b[39m=\u001b[32m\"16\"\u001b[39m\n                                  \u001b[33mx\u001b[39m=\u001b[32m\"4\"\u001b[39m\n                                  \u001b[33my\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M2 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M20 14h2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M15 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                                \u001b[36m<path\u001b[39m\n                                  \u001b[33md\u001b[39m=\u001b[32m\"M9 13v2\"\u001b[39m\n                                \u001b[36m/>\u001b[39m\n                              \u001b[36m</svg>\u001b[39m\n                              \u001b[36m<h3\u001b[39m\n                                \u001b[33mclass\u001b[39m=\u001b[32m\"tracking-tight text-base font-semibold text-gray-900\"\u001b[39m\n                              \u001b[36m>\u001b[39m\n                                \u001b[0mNetra Agent\u001b[0m\n                              \u001b[36m</h3>\u001b[39m\n                            \u001b[36m</div>\u001b[39m\n                          \u001b[36m</div>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                        \u001b[36m<div\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-2 text-xs text-gray-500\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<svg\u001b[39m\n                            \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                            \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-clock w-3 h-3\"\u001b[39m\n                            \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                            \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                            \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                            \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                            \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                          \u001b[36m>\u001b[39m\n                            \u001b[36m<path\u001b[39m\n                              \u001b[33md\u001b[39m=\u001b[32m\"M12 6v6l4 2\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                            \u001b[36m<circle\u001b[39m\n                              \u001b[33mcx\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mcy\u001b[39m=\u001b[32m\"12\"\u001b[39m\n                              \u001b[33mr\u001b[39m=\u001b[32m\"10\"\u001b[39m\n                            \u001b[36m/>\u001b[39m\n                          \u001b[36m</svg>\u001b[39m\n                          \u001b[36m<span>\u001b[39m\n                            \u001b[0m01:39:04 PM\u001b[0m\n                          \u001b[36m</span>\u001b[39m\n                        \u001b[36m</div>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"p-6 pt-0 px-5 pb-4\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<div\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"space-y-3\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<p\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"text-gray-800 leading-relaxed whitespace-pre-wrap\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[0mMessage 0\u001b[0m\n                        \u001b[36m</p>\u001b[39m\n                      \u001b[36m</div>\u001b[39m\n       ...\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m     \n     \u001b[90m 34 |\u001b[39m     \u001b[90m// MessageList renders all messages by default (no virtualization currently)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     \u001b[36mconst\u001b[39m renderedMessages \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByTestId(\u001b[35m/message-/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     expect(renderedMessages\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:109:15\n      at Object.getAllByTestId (__tests__/components/ChatComponents.test.tsx:35:37)\n\n  \u25cf test_MessageList_virtualization \u203a should maintain performance with large message lists\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 5000\n    Received:   9783.006000000001\n\n    \u001b[0m \u001b[90m 57 |\u001b[39m     \n     \u001b[90m 58 |\u001b[39m     \u001b[90m// Should render in reasonable time\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 59 |\u001b[39m     expect(renderTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m5000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 60 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 61 |\u001b[39m\n     \u001b[90m 62 |\u001b[39m   it(\u001b[32m'should handle scroll to bottom correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/components/ChatComponents.test.tsx:59:24)\n\n  \u25cf test_MessageInput_validation \u203a should validate input length\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m   it(\u001b[32m'should validate input length'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mMessageInput\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 118 |\u001b[39m     \n     \u001b[90m 119 |\u001b[39m     \u001b[36mconst\u001b[39m input \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'textbox'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/components/ChatComponents.test.tsx:116:3)\n      at Object.describe (__tests__/components/ChatComponents.test.tsx:107:1)\n\n  \u25cf test_MessageInput_validation \u203a should handle text input and sending\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 130 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 131 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 132 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 133 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:132:18)\n\n  \u25cf test_MessageInput_validation \u203a should handle keyboard shortcuts\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Test message\"\n    Received: \"aaaTaeasata amaeasasaaagaeaa\"\n\n    \u001b[0m \u001b[90m 155 |\u001b[39m     \n     \u001b[90m 156 |\u001b[39m     \u001b[90m// Message should still be in input (requires Ctrl+Enter to send)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 157 |\u001b[39m     expect(input\u001b[33m.\u001b[39mvalue)\u001b[33m.\u001b[39mtoBe(\u001b[32m'Test message'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 158 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m\n     \u001b[90m 160 |\u001b[39m   it(\u001b[32m'should prevent empty message submission'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/components/ChatComponents.test.tsx:157:25)\n\n  \u25cf test_MessageInput_validation \u203a should prevent empty message submission\n\n    TypeError: useWebSocket.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m     \u001b[36mconst\u001b[39m mockSendMessage \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m     \u001b[36mconst\u001b[39m useWebSocket \u001b[33m=\u001b[39m require(\u001b[32m'@/hooks/useWebSocket'\u001b[39m)\u001b[33m.\u001b[39museWebSocket \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m     useWebSocket\u001b[33m.\u001b[39mmockReturnValue({\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       sendMessage\u001b[33m:\u001b[39m mockSendMessage\u001b[33m,\u001b[39m\n     \u001b[90m 165 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     \u001b[0m\n\n      at Object.mockReturnValue (__tests__/components/ChatComponents.test.tsx:163:18)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx (32.234 s)\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should upload documents to corpus and process with embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 1\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 134 |\u001b[39m       \n     \u001b[90m 135 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'doc-123'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 136 |\u001b[39m       expect(useCorpusStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mdocuments)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 137 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n     \u001b[90m 139 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:136:51)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 2. Synthetic Data Generation Flow \u203a should generate synthetic data based on templates\n\n    TypeError: useSyntheticDataStore is not a function\n\n    \u001b[0m \u001b[90m 177 |\u001b[39m       \n     \u001b[90m 178 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 179 |\u001b[39m         \u001b[36mconst\u001b[39m { generateData\u001b[33m,\u001b[39m jobs } \u001b[33m=\u001b[39m useSyntheticDataStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 180 |\u001b[39m         \n     \u001b[90m 181 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 182 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useSyntheticDataStore (__tests__/integration/comprehensive-integration.test.tsx:179:40)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:193:13)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should cache and retrieve LLM responses\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 260 |\u001b[39m       \u001b[90m// Second call - cache hit\u001b[39m\n     \u001b[90m 261 |\u001b[39m       \u001b[36mconst\u001b[39m response2 \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m llmCacheService\u001b[33m.\u001b[39mquery(\u001b[32m'test prompt'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'gpt-4'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 262 |\u001b[39m       expect(response2\u001b[33m.\u001b[39mcached)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 263 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 264 |\u001b[39m\n     \u001b[90m 265 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:262:32)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should manage cache invalidation and TTL\n\n    TypeError: useLLMCacheStore is not a function\n\n    \u001b[0m \u001b[90m 265 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 266 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 267 |\u001b[39m         \u001b[36mconst\u001b[39m { cacheSize\u001b[33m,\u001b[39m clearCache\u001b[33m,\u001b[39m setCacheTTL } \u001b[33m=\u001b[39m useLLMCacheStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 268 |\u001b[39m         \n     \u001b[90m 269 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 270 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useLLMCacheStore (__tests__/integration/comprehensive-integration.test.tsx:267:56)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:283:35)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should browse and select AI models from catalog\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 313 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 315 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 316 |\u001b[39m       expect(useSupplyStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcatalog\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 317 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 318 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:315:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should switch between model providers dynamically\n\n    TypeError: useSupplyStore is not a function\n\n    \u001b[0m \u001b[90m 319 |\u001b[39m     it(\u001b[32m'should switch between model providers dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 320 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 321 |\u001b[39m         \u001b[36mconst\u001b[39m { activeModel\u001b[33m,\u001b[39m switchModel } \u001b[33m=\u001b[39m useSupplyStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 322 |\u001b[39m         \n     \u001b[90m 323 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 324 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useSupplyStore (__tests__/integration/comprehensive-integration.test.tsx:321:46)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:338:48)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should manage document references with vector search\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"ref-789\"\n    Received: \"ref-1\"\n\n    \u001b[0m \u001b[90m 371 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 372 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 373 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 374 |\u001b[39m       expect(result\u001b[33m.\u001b[39membedding)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m4\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 376 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:373:25)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should find similar references using embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 393 |\u001b[39m       \u001b[36mconst\u001b[39m results \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m findSimilar(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 394 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 395 |\u001b[39m       expect(results)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 396 |\u001b[39m       expect(results[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39msimilarity)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0.9\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 397 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 398 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:395:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should manage users and permissions\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2\n    Received:\n      0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mLoad Users\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"user-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 431 |\u001b[39m       \n     \u001b[90m 432 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 433 |\u001b[39m         expect(getByTestId(\u001b[32m'user-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 434 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 435 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 436 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive-integration.test.tsx:433:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should monitor system metrics and usage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 10000\n    Received: undefined\n\n    \u001b[0m \u001b[90m 456 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getSystemMetrics()\u001b[33m;\u001b[39m\n     \u001b[90m 457 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 458 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39mtotal_requests)\u001b[33m.\u001b[39mtoBe(\u001b[35m10000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 459 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39merror_rate)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m0.05\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 460 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:458:38)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should monitor service health status\n\n    TypeError: Cannot read properties of undefined (reading 'database')\n\n    \u001b[0m \u001b[90m 487 |\u001b[39m       \n     \u001b[90m 488 |\u001b[39m       expect(health\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'healthy'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 489 |\u001b[39m       expect(health\u001b[33m.\u001b[39mservices\u001b[33m.\u001b[39mdatabase)\u001b[33m.\u001b[39mtoBe(\u001b[32m'up'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 490 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 491 |\u001b[39m\n     \u001b[90m 492 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.database (__tests__/integration/comprehensive-integration.test.tsx:489:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should handle degraded service states\n\n    Unable to find an element by: [data-testid=\"alert\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"health-status\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mchecking\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 525 |\u001b[39m       \u001b[36mconst\u001b[39m { getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 526 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 527 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 528 |\u001b[39m         expect(getByTestId(\u001b[32m'alert'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 529 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 530 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:527:20)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should load and apply dynamic configurations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 558 |\u001b[39m       \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadConfig()\u001b[33m;\u001b[39m\n     \u001b[90m 559 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 560 |\u001b[39m       expect(config\u001b[33m.\u001b[39mfeatures\u001b[33m.\u001b[39mdark_mode)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 561 |\u001b[39m       expect(useConfigStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mconfig\u001b[33m.\u001b[39mlimits\u001b[33m.\u001b[39mmax_threads)\u001b[33m.\u001b[39mtoBe(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 562 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 563 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:560:41)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should update configuration and propagate changes\n\n    TypeError: useConfigStore is not a function\n\n    \u001b[0m \u001b[90m 564 |\u001b[39m     it(\u001b[32m'should update configuration and propagate changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 565 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 566 |\u001b[39m         \u001b[36mconst\u001b[39m { config\u001b[33m,\u001b[39m updateConfig } \u001b[33m=\u001b[39m useConfigStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 567 |\u001b[39m         \n     \u001b[90m 568 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 569 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useConfigStore (__tests__/integration/comprehensive-integration.test.tsx:566:42)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:585:48)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle content generation with streaming\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 594 |\u001b[39m\n     \u001b[90m 595 |\u001b[39m   describe(\u001b[32m'9. Generation Service Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 596 |\u001b[39m     it(\u001b[32m'should handle content generation with streaming'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 597 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 598 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 599 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:596:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:595:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle generation templates and parameters\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Generated email\"\n    Received string:    \"\"\n\n    \u001b[0m \u001b[90m 669 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 670 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 671 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcontent)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Generated email'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 672 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtokens_used)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 673 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 674 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toContain (__tests__/integration/comprehensive-integration.test.tsx:671:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 11. Multi-Model Provider Switching \u203a should switch between providers based on availability\n\n    TestingLibraryElementError: Unable to find an element with the text: Send Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 749 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 750 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 751 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Send Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 752 |\u001b[39m       \n     \u001b[90m 753 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 754 |\u001b[39m         expect(getByTestId(\u001b[32m'fallback'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:751:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 12. Cost Tracking and Budgeting \u203a should track API usage costs in real-time\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 781 |\u001b[39m\n     \u001b[90m 782 |\u001b[39m   describe(\u001b[32m'12. Cost Tracking and Budgeting'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 783 |\u001b[39m     it(\u001b[32m'should track API usage costs in real-time'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 784 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 785 |\u001b[39m         \u001b[36mconst\u001b[39m [costs\u001b[33m,\u001b[39m setCosts] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({ total\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m breakdown\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 786 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:783:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:782:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 13. Database Repository Pattern Integration \u203a should handle unit of work pattern for transactions\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Transaction. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 899 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 900 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 901 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Transaction'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 902 |\u001b[39m       \n     \u001b[90m 903 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 904 |\u001b[39m         expect(getByTestId(\u001b[32m'status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'committed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:901:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 14. Migration Handling \u203a should handle migration rollback on failure\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 978 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m applyMigration(\u001b[32m'004'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 979 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 980 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 981 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrolled_back)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 982 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 983 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:980:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 15. Background Task Processing \u203a should queue and process background tasks\n\n    TestingLibraryElementError: Unable to find an element with the text: Queue Task. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1039 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1040 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1041 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Queue Task'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1042 |\u001b[39m       \n     \u001b[90m 1043 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1044 |\u001b[39m         expect(getByTestId(\u001b[32m'task-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1041:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should propagate trace IDs through requests\n\n    TestingLibraryElementError: Unable to find an element with the text: Make Request. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1221 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1222 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1223 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Make Request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1224 |\u001b[39m       \n     \u001b[90m 1225 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1226 |\u001b[39m         expect(getByTestId(\u001b[32m'trace-id'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(traceId)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1223:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 18. Error Context and Tracing \u203a should capture error context with stack traces\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Error. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1267 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1268 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1269 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Trigger Error'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1270 |\u001b[39m       \n     \u001b[90m 1271 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1272 |\u001b[39m         expect(getByTestId(\u001b[32m'error-trace'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'trace-error-123'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1269:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 20. Key Manager Integration \u203a should rotate API keys periodically\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"rotation-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1400 |\u001b[39m       \n     \u001b[90m 1401 |\u001b[39m       \u001b[90m// Component would handle rotation in production\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1402 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'rotation-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1404 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1405 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1402:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 21. Demo Mode Functionality \u203a should restrict features in demo mode\n\n    TestingLibraryElementError: Unable to find an element with the text: Delete. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1431 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1432 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1433 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Delete'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1434 |\u001b[39m       \n     \u001b[90m 1435 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1436 |\u001b[39m         expect(getByTestId(\u001b[32m'message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disabled in demo mode'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1433:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 22. Enterprise Demo Features \u203a should handle team collaboration workflows\n\n    TestingLibraryElementError: Unable to find an element with the text: Share Thread. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1533 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1534 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1535 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Share Thread'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1536 |\u001b[39m       \n     \u001b[90m 1537 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1538 |\u001b[39m         expect(getByTestId(\u001b[32m'shared-status'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1535:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TestingLibraryElementError: Unable to find an element with the text: Export JSON. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1705 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1706 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1707 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Export JSON'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1708 |\u001b[39m       \n     \u001b[90m 1709 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1710 |\u001b[39m         expect(getByTestId(\u001b[32m'export-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:1707:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should handle large data exports with progress\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"progress\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1740 |\u001b[39m       \n     \u001b[90m 1741 |\u001b[39m       \u001b[90m// In real scenario, SSE would update progress\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1742 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'progress'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1743 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1744 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1745 |\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/comprehensive-integration.test.tsx:1742:21)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should handle real-time collaborative editing\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1814 |\u001b[39m\n     \u001b[90m 1815 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1816 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1817 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1818 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1819 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1816:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should synchronize cursor positions between users\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1857 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1858 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1859 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1860 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1861 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1862 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1859:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1815:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 28. Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1917 |\u001b[39m\n     \u001b[90m 1918 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1919 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1920 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1921 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1922 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1919:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1918:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:83:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 29. Agent Tool Dispatcher Integration \u203a should handle tool chaining and dependencies\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Chain. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2063 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2064 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2065 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Chain'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2066 |\u001b[39m       \n     \u001b[90m 2067 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2068 |\u001b[39m         expect(getByTestId(\u001b[32m'chain-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2065:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 30. State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TestingLibraryElementError: Unable to find an element with the text: Load State. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2172 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2173 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2174 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Load State'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2175 |\u001b[39m       \n     \u001b[90m 2176 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2177 |\u001b[39m         expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State corrupted, using defaults'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2174:23)\n\nFAIL __tests__/integration/critical-integration.test.tsx (53.343 s)\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m       \n     \u001b[90m 85 |\u001b[39m       \u001b[90m// Create a new server with token in URL\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m       \u001b[36mconst\u001b[39m wsServer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m`ws://localhost:8000/ws?token=${mockToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m       \n     \u001b[90m 88 |\u001b[39m       \u001b[90m// Set authenticated state\u001b[39m\n     \u001b[90m 89 |\u001b[39m       useAuthStore\u001b[33m.\u001b[39msetState({ \u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:86:24)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m     it(\u001b[32m'should reconnect WebSocket when authentication changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 118 |\u001b[39m         \u001b[36mconst\u001b[39m { status } \u001b[33m=\u001b[39m useWebSocket()\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m         \u001b[36mconst\u001b[39m login \u001b[33m=\u001b[39m useAuthStore((state) \u001b[33m=>\u001b[39m state\u001b[33m.\u001b[39mlogin)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:116:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:80:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m   describe(\u001b[32m'2. Agent Provider Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 151 |\u001b[39m     it(\u001b[32m'should coordinate agent state with WebSocket messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 153 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage\u001b[33m,\u001b[39m isProcessing } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:151:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 203 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'analyze this'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mAnalyze\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"message-count\"\u001b[39m\u001b[33m>\u001b[39m\u001b[33mMessages\u001b[39m\u001b[33m:\u001b[39m {messages\u001b[33m.\u001b[39mlength}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 206 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 207 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:204:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:150:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 292 |\u001b[39m   describe(\u001b[32m'4. Thread Management Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 293 |\u001b[39m     it(\u001b[32m'should create thread and sync with messages'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 294 |\u001b[39m       \u001b[36mconst\u001b[39m mockThread \u001b[33m=\u001b[39m {\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 295 |\u001b[39m         id\u001b[33m:\u001b[39m \u001b[32m'thread-456'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 296 |\u001b[39m         name\u001b[33m:\u001b[39m \u001b[32m'New Thread'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 297 |\u001b[39m         created_at\u001b[33m:\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mDate\u001b[39m()\u001b[33m.\u001b[39mtoISOString()\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical-integration.test.tsx:294:55)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'createThread')\n\n    \u001b[0m \u001b[90m 311 |\u001b[39m       \n     \u001b[90m 312 |\u001b[39m       \u001b[90m// Verify thread is active\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 313 |\u001b[39m       expect(useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mactiveThread)\u001b[33m.\u001b[39mtoBe(\u001b[32m'thread-456'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 314 |\u001b[39m       \n     \u001b[90m 315 |\u001b[39m       \u001b[90m// Send message to thread\u001b[39m\n     \u001b[90m 316 |\u001b[39m       \u001b[36mconst\u001b[39m mockMessage \u001b[33m=\u001b[39m {\u001b[0m\n\n      at Object.createThread (__tests__/integration/critical-integration.test.tsx:313:42)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: _messageService.messageService.getMessages is not a function\n\n    \u001b[0m \u001b[90m 363 |\u001b[39m       \u001b[90m// Switch to thread 2\u001b[39m\n     \u001b[90m 364 |\u001b[39m       \u001b[36mawait\u001b[39m messageService\u001b[33m.\u001b[39mgetMessages(\u001b[32m'thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 365 |\u001b[39m       useChatStore\u001b[33m.\u001b[39msetState({ messages\u001b[33m:\u001b[39m thread2Messages\u001b[33m,\u001b[39m currentThread\u001b[33m:\u001b[39m \u001b[32m'thread-2'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 366 |\u001b[39m       \n     \u001b[90m 367 |\u001b[39m       expect(useChatStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual(thread2Messages)\u001b[33m;\u001b[39m\n     \u001b[90m 368 |\u001b[39m       expect(useChatStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcurrentThread)\u001b[33m.\u001b[39mtoBe(\u001b[32m'thread-2'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getMessages (__tests__/integration/critical-integration.test.tsx:365:28)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 378 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 379 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 380 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'stream test'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mSend\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 381 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"messages\"\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 382 |\u001b[39m               {messages\u001b[33m.\u001b[39mmap(m \u001b[33m=>\u001b[39m (\n     \u001b[90m 383 |\u001b[39m                 \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m key\u001b[33m=\u001b[39m{m\u001b[33m.\u001b[39mid}\u001b[33m>\u001b[39m{m\u001b[33m.\u001b[39mcontent}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:380:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 430 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'long task'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mStart\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{stopProcessing}\u001b[33m>\u001b[39m\u001b[33mStop\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m{isProcessing \u001b[33m?\u001b[39m \u001b[32m'Running'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'Stopped'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 433 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 434 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:431:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:379:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 476 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 477 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m{isConnected \u001b[33m?\u001b[39m \u001b[32m'Online'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'Offline'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 479 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{reconnect}\u001b[33m>\u001b[39m\u001b[33mReconnect\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 480 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 481 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:478:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:477:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should retry failed API calls with exponential backoff\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    Unable to find an element with the text: Session Expired. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 586 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m   describe(\u001b[32m'7. State Synchronization'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     it(\u001b[32m'should sync local state with server state'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 589 |\u001b[39m       \u001b[36mconst\u001b[39m serverState \u001b[33m=\u001b[39m {\n     \u001b[90m 590 |\u001b[39m         threads\u001b[33m:\u001b[39m [\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:587:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should handle session expiration gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should sync local state with server state\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    Unable to find an element with the text: Threads: 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 654 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 655 |\u001b[39m   })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 656 |\u001b[39m\n     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 657 |\u001b[39m   describe(\u001b[32m'8. File Upload Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 658 |\u001b[39m     it(\u001b[32m'should upload file and process with agent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 659 |\u001b[39m       \u001b[36mconst\u001b[39m file \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFile\u001b[39m([\u001b[32m'test content'\u001b[39m]\u001b[33m,\u001b[39m \u001b[32m'test.txt'\u001b[39m\u001b[33m,\u001b[39m { type\u001b[33m:\u001b[39m \u001b[32m'text/plain'\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:656:20)\n\n  \u25cf Critical Frontend Integration Tests \u203a 7. State Synchronization \u203a should handle concurrent state updates\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should upload file and process with agent\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 8. File Upload Integration \u203a should track upload progress\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 717 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 718 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 719 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'optimize my workload'\u001b[39m)}\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 720 |\u001b[39m               \u001b[33mOptimize\u001b[39m\n     \u001b[90m 721 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 722 |\u001b[39m             {optimizationResults \u001b[33m&&\u001b[39m (\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:719:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:718:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should apply optimization and track results\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 795 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 796 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 797 |\u001b[39m         \u001b[36mconst\u001b[39m [statuses\u001b[33m,\u001b[39m setStatuses] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState\u001b[33m<\u001b[39m\u001b[33mMap\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>>\u001b[39m(\u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m())\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 798 |\u001b[39m         \n     \u001b[90m 799 |\u001b[39m         \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 800 |\u001b[39m           \u001b[36mconst\u001b[39m ws \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocket\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:797:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 859 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 860 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 861 |\u001b[39m             \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{() \u001b[33m=>\u001b[39m sendMessage(\u001b[32m'faulty request'\u001b[39m)}\u001b[33m>\u001b[39m\u001b[33mSend\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 862 |\u001b[39m             {error \u001b[33m&&\u001b[39m \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"error\"\u001b[39m\u001b[33m>\u001b[39m{error\u001b[33m.\u001b[39mmessage}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m}\n     \u001b[90m 863 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 864 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:861:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:796:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TestingLibraryElementError: Unable to find an element with the text: API Call. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 938 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 939 |\u001b[39m     })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 940 |\u001b[39m\n     \u001b[90m     |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 941 |\u001b[39m     it(\u001b[32m'should detect and report performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 942 |\u001b[39m       \u001b[36mconst\u001b[39m performanceThresholds \u001b[33m=\u001b[39m {\n     \u001b[90m 943 |\u001b[39m         api_latency\u001b[33m:\u001b[39m \u001b[35m1000\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:940:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should track and report performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 11. Performance Monitoring Integration \u203a should detect and report performance degradation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should cache and reuse API responses\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 12. Data Caching Integration \u203a should invalidate cache on mutations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1027 |\u001b[39m         notifications\u001b[33m.\u001b[39mpush({ type\u001b[33m,\u001b[39m message\u001b[33m,\u001b[39m timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() })\u001b[33m;\u001b[39m\n     \u001b[90m 1028 |\u001b[39m       }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1029 |\u001b[39m       \n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1030 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1031 |\u001b[39m         \u001b[36mconst\u001b[39m { sendMessage } \u001b[33m=\u001b[39m useAgent()\u001b[33m;\u001b[39m\n     \u001b[90m 1032 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/critical-integration.test.tsx:1029:5)\n      at describe (__tests__/integration/critical-integration.test.tsx:1028:3)\n      at Object.describe (__tests__/integration/critical-integration.test.tsx:45:1)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should queue notifications when offline\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"action\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1139 |\u001b[39m       \u001b[36mlet\u001b[39m actionTriggered \u001b[33m=\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1140 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1141 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1142 |\u001b[39m         \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museEffect(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 1143 |\u001b[39m           \u001b[36mconst\u001b[39m handleKeydown \u001b[33m=\u001b[39m (e\u001b[33m:\u001b[39m \u001b[33mKeyboardEvent\u001b[39m) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1144 |\u001b[39m             \u001b[36mif\u001b[39m (e\u001b[33m.\u001b[39mtarget \u001b[36minstanceof\u001b[39m \u001b[33mHTMLInputElement\u001b[39m) {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1141:14)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should handle global keyboard shortcuts\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"input\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1165 |\u001b[39m       \n     \u001b[90m 1166 |\u001b[39m       expect(actionTriggered)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1167 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1168 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1169 |\u001b[39m\n     \u001b[90m 1170 |\u001b[39m   describe(\u001b[32m'15. Accessibility Integration'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/critical-integration.test.tsx:1167:21)\n\n  \u25cf Critical Frontend Integration Tests \u203a 14. Keyboard Shortcuts Integration \u203a should prevent shortcut conflicts in input fields\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TestingLibraryElementError: Unable to find an element with the text: Settings. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1205 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 1206 |\u001b[39m     })\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1207 |\u001b[39m\n     \u001b[90m      |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1208 |\u001b[39m     it(\u001b[32m'should announce dynamic content updates to screen readers'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1209 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1210 |\u001b[39m         \u001b[36mconst\u001b[39m [message\u001b[33m,\u001b[39m setMessage] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1207:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should maintain focus management during navigation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TestingLibraryElementError: Unable to find an element with the text: Trigger Update. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 1230 |\u001b[39m         expect(announcer)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'New message received'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 1231 |\u001b[39m         expect(announcer)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'aria-live'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'polite'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1232 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1233 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1234 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 1235 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/critical-integration.test.tsx:1232:23)\n\n  \u25cf Critical Frontend Integration Tests \u203a 15. Accessibility Integration \u203a should announce dynamic content updates to screen readers\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m\n     \u001b[90m 75 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m     \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/critical-integration.test.tsx:76:8)\n\n\nTest Suites: 28 failed, 18 passed, 46 total\nTests:       308 failed, 455 passed, 763 total\nSnapshots:   0 total\nTime:        59.786 s\nRan all test suites.\n",
      "test_counts": {
        "total": 354,
        "passed": 18,
        "failed": 336,
        "skipped": 0,
        "errors": 0,
        "test_files": 43
      },
      "coverage": null
    },
    "e2e": {
      "status": "pending",
      "duration": 0,
      "exit_code": null,
      "output": "",
      "test_counts": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      },
      "coverage": null
    },
    "overall": {
      "status": "failed",
      "start_time": 1755031095.7701497,
      "end_time": 1755031200.0253284
    }
  }
}