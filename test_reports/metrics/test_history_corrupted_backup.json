{
  "runs": [
    {
      "timestamp": "2025-08-16T10:41:19.181907",
      "level": "unit",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 74.95547914505005,
          "exit_code": 2,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services\n================================================================================\n\u001b[1m============================= test session starts =============================\u001b[0m\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\antho\\miniconda3\\python.exe\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.4', 'Platform': 'Windows-11-10.0.26100-SP0', 'Packages': {'pytest': '8.4.1', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'Faker': '37.4.2', 'langsmith': '0.4.10', 'asyncio': '0.21.1', 'cov': '6.2.1', 'html': '4.1.1', 'json-report': '1.5.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'timeout': '2.4.0', 'xdist': '3.8.0', 'typeguard': '4.4.4'}}\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.4.2, langsmith-0.4.10, asyncio-0.21.1, cov-6.2.1, html-4.1.1, json-report-1.5.0, metadata-3.1.1, mock-3.14.1, timeout-2.4.0, xdist-3.8.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO\ncreated: 4/4 workers\n4 workers [2477 items]\n\nscheduling tests via LoadScheduling\n\napp\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_multi_model_workload_generation \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_stop_agent \napp\\tests\\services\\test_clickhouse_service.py::TestWorkloadEventsOperations::test_workload_events_operations \napp\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_multi_model_workload_generation \napp\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_compliance_aware_generation \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_compliance_aware_generation \napp\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_cost_optimized_generation \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_cost_optimized_generation \napp\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_versioned_corpus_generation \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_features.py::TestAdvancedFeatures::test_versioned_corpus_generation \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_temporal_patterns \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_temporal_patterns \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_tool_invocations \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_stop_agent \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_tool_invocations \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_unknown_type \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_errors \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_unknown_type \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_errors \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_disconnect_handling \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_trace_hierarchies \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_trace_hierarchies \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_domain_specific \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_disconnect_handling \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_domain_specific \napp\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_not_found \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_concurrent_agent_execution \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_distribution \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_not_found \napp\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_error \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_concurrent_agent_execution \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_distribution \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_message_parsing_string_input \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_custom_tools \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\agents\\test_tools.py::test_tool_dispatcher_tool_error \n[gw1]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_with_custom_tools \napp\\tests\\services\\apex_optimizer_agent\\test_tool_builder.py::test_tool_builder_and_dispatcher \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_message_parsing_string_input \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_incremental \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_message_parsing_dict_input \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_message_parsing_dict_input \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceBasic::test_run_agent_with_request_model \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceBasic::test_run_agent_with_request_model \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_agent_service_initialization \n[gw2]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_agent_service_initialization \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\test_tool_builder.py::test_tool_builder_and_dispatcher \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_agent_run_execution_basic \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_advanced_optimization_for_core_function.py::test_advanced_optimization_for_core_function_tool \n[gw0]\u001b[36m [  0%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_advanced_optimization_for_core_function.py::test_advanced_optimization_for_core_function_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_basic \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_basic \n[gw2]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_agent_run_execution_basic \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_full \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_creation_full \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_agent_run_with_model_dump_fallback \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_validation_missing_required \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_validation_missing_required \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_dict_conversion \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_dict_conversion \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_json_serialization \n[gw2]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_agent_run_with_model_dump_fallback \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_json_serialization \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_start_agent \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_edge_cases \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestToolMetadata::test_tool_metadata_edge_cases \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_instantiation \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_instantiation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_get_metadata \n[gw2]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_start_agent \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_get_metadata \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_wrapper \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_incremental \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_user_message \napp\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_from_corpus \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_wrapper \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_advanced_generation.py::TestAdvancedGenerationMethods::test_generate_from_corpus \n[gw2]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_user_message \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_failure \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_thread_operations \napp\\tests\\services\\synthetic_data\\test_content_generation.py::TestContentGeneration::test_generate_content_with_corpus \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_content_generation.py::TestContentGeneration::test_generate_content_with_corpus \napp\\tests\\services\\synthetic_data\\test_content_generation.py::TestContentGeneration::test_generate_content_synthetic \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_failure \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_concrete_tool_run_method \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_content_generation.py::TestContentGeneration::test_generate_content_synthetic \napp\\tests\\services\\synthetic_data\\test_content_generation.py::TestContentGeneration::test_generate_content_all_workload_types \n[gw2]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_thread_operations \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_concrete_tool_run_method \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_content_generation.py::TestContentGeneration::test_generate_content_all_workload_types \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_stop_agent \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_schema_validation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_llm_name \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_llm_name \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_schema_validation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_multiple_executions \n[gw2]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_stop_agent \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_statistical_distribution_validation \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_unknown_type \n[gw0]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_multiple_executions \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_concurrent_execution \n[gw2]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_unknown_type \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_concurrent_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_without_metadata_attribute \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_json_error \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_statistical_distribution_validation \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_execute_without_metadata_attribute \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_inheritance_chain \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_referential_integrity_validation \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_inheritance_chain \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_complex_kwargs \n[gw2]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_json_error \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_referential_integrity_validation \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_with_complex_kwargs \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_disconnect_handling \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_temporal_consistency_validation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_exception_types \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_temporal_consistency_validation \n[gw2]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_websocket_disconnect_handling \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_data_completeness_validation \n[gw0]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_exception_types \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_concurrent_agent_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_async_delay \n[gw2]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_concurrent_agent_execution \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_data_completeness_validation \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_message_parsing_string_input \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_anomaly_detection_in_generated_data \n[gw2]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_message_parsing_string_input \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_anomaly_detection_in_generated_data \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_message_parsing_dict_input \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_correlation_preservation \n[gw2]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceOrchestrationCore::test_message_parsing_dict_input \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_correlation_preservation \napp\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceBasic::test_run_agent_with_request_model \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_quality_metrics_calculation \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_quality_metrics_calculation \n[gw2]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_core.py::TestAgentServiceBasic::test_run_agent_with_request_model \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_data_diversity_validation \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_data_diversity_validation \napp\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_agent_failure_recovery \napp\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_validation_report_generation \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_data_quality_validation.py::TestDataQualityValidation::test_validation_report_generation \napp\\tests\\services\\synthetic_data\\test_error_handling.py::TestCircuitBreakerAndErrorHandling::test_get_circuit_breaker \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_handling.py::TestCircuitBreakerAndErrorHandling::test_get_circuit_breaker \napp\\tests\\services\\synthetic_data\\test_error_handling.py::TestCircuitBreakerAndErrorHandling::test_circuit_breaker_functionality \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_handling.py::TestCircuitBreakerAndErrorHandling::test_circuit_breaker_functionality \napp\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_generate_with_anomalies_method \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_generate_with_anomalies_method \napp\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_detect_anomalies \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_detect_anomalies \napp\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_calculate_correlation \n[gw1]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_calculate_correlation \napp\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_calculate_correlation_no_data \n[gw1]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_calculate_correlation_no_data \napp\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_calculate_correlation_invalid_data \n[gw1]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_handling.py::TestErrorScenarios::test_calculate_correlation_invalid_data \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_corpus_unavailable_fallback \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_base.py::TestBaseTool::test_base_tool_async_delay \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_basic_functionality \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_basic_functionality \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_empty_logs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_empty_logs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_single_log \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_single_log \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_large_costs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_large_costs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_zero_costs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_zero_costs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_fractional_cents \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_fractional_cents \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_exception_handling \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_exception_handling \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_async_execution \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_agent_failure_recovery \napp\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_agent_timeout_handling \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_async_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_concurrent_logs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_concurrent_logs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_negative_costs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_negative_costs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_mixed_model_types \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_mixed_model_types \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_partial_failure \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_partial_failure \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_rounding_edge_cases \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_agent_timeout_handling \napp\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_analyzer.py::TestCostAnalyzer::test_cost_analyzer_rounding_edge_cases \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_reduction_quality_preservation.py::test_cost_reduction_quality_preservation_tool \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_reduction_quality_preservation.py::test_cost_reduction_quality_preservation_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_simulation_for_increased_usage.py::test_cost_simulation_for_increased_usage_tool \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error \napp\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_circuit_breaker_pattern \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_cost_simulation_for_increased_usage.py::test_cost_simulation_for_increased_usage_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_kv_cache_optimization_audit.py::test_kv_cache_optimization_audit_tool \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_kv_cache_optimization_audit.py::test_kv_cache_optimization_audit_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_basic_functionality \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_basic_functionality \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_empty_logs \n[gw0]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_empty_logs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_single_log \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_single_log \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_high_latency_values \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_high_latency_values \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_zero_latency \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_zero_latency \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_circuit_breaker_pattern \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_sub_millisecond_latency \napp\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_graceful_degradation_under_load \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_graceful_degradation_under_load \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_sub_millisecond_latency \napp\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_error_propagation_and_isolation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_exception_handling \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_exception_handling \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_async_execution \n[gw0]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_async_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_large_dataset \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_workflows.py::TestAgentErrorRecovery::test_error_propagation_and_isolation \napp\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_thread_history_handling \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_thread_history_handling \napp\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_create_thread_handling \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_create_thread_handling \napp\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_switch_thread_handling \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_switch_thread_handling \napp\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_delete_thread_handling \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_delete_thread_handling \napp\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_list_threads_handling \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_list_threads_handling \napp\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_all_thread_operations_batch \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_all_thread_operations_batch \napp\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_websocket_message_handling_json_error \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_thread_operations.py::TestAgentServiceThreadOperations::test_websocket_message_handling_json_error \napp\\tests\\services\\test_apex_optimizer_tool_selection_part1.py::TestApexOptimizerToolSelection::test_tool_selection_cost_optimization \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part1.py::TestApexOptimizerToolSelection::test_tool_selection_cost_optimization \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_latency_optimization \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_latency_optimization \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_cache_optimization \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_cache_optimization \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_model_analysis \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_model_analysis \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_multi_objective \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_multi_objective \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_empty_query \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_empty_query \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_llm_failure \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_llm_failure \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_invalid_json_response \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_tool_selection_invalid_json_response \napp\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_custom_tool_selection \n[gw2]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part2.py::TestApexOptimizerAdvancedToolSelection::test_custom_tool_selection \napp\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_simple_tool_chain_execution \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_large_dataset \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_varied_latencies \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_varied_latencies \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_partial_failure \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_partial_failure \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_edge_case_rounding \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_edge_case_rounding \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_negative_latencies \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_negative_latencies \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_mixed_response_formats \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_mixed_response_formats \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_extreme_values \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_extreme_values \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_concurrent_execution_timing \n[gw1]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_corpus_unavailable_fallback \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_clickhouse_connection_recovery \n[gw1]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_clickhouse_connection_recovery \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_generation_checkpoint_recovery \n[gw2]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_simple_tool_chain_execution \n[gw1]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_generation_checkpoint_recovery \napp\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_conditional_tool_chaining \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_websocket_disconnect_recovery \n[gw1]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_websocket_disconnect_recovery \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_memory_overflow_handling \n[gw1]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_memory_overflow_handling \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_circuit_breaker_operation \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_latency_analyzer.py::TestLatencyAnalyzer::test_latency_analyzer_concurrent_execution_timing \n[gw2]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_conditional_tool_chaining \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_tool_metadata \napp\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_parallel_tool_execution \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_tool_metadata \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_run_complete_workflow \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_run_complete_workflow \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_define_optimization_goals \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_define_optimization_goals \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_analyze_trade_offs \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_analyze_trade_offs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_propose_balanced_optimizations \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_propose_balanced_optimizations \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_simulate_multi_objective_impact \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_simulate_multi_objective_impact \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_run_with_various_kwargs \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_run_with_various_kwargs \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_method_execution_order \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_method_execution_order \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_run_method_failure_propagation \n[gw0]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_run_method_failure_propagation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_concurrent_execution \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_concurrent_execution \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_async_behavior_timing \n[gw2]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_parallel_tool_execution \napp\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_tool_chain_error_handling \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_async_behavior_timing \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_execute_wrapper_integration \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_execute_wrapper_integration \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_tool_inheritance \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_tool_inheritance \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_context_parameter_passing \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_multi_objective_optimization.py::TestMultiObjectiveOptimizationTool::test_context_parameter_passing \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_new_model_effectiveness_analysis.py::test_new_model_effectiveness_analysis_tool \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_new_model_effectiveness_analysis.py::test_new_model_effectiveness_analysis_tool \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_empty_policies \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_empty_policies \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_single_policy \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_single_policy \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_multiple_policies_only_simulates_first \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_multiple_policies_only_simulates_first \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_simulation_failure \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_simulation_failure \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_with_complex_policy \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_with_complex_policy \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_learned_policy_model_validation \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_learned_policy_model_validation \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_learned_policy_model_serialization \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_learned_policy_model_serialization \napp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_async_behavior \n[gw0]\u001b[36m [  6%] \u001b[0m\u001b[31mFAILED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::TestPolicySimulator::test_policy_simulator_async_behavior \n[gw2]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_tool_chain_error_handling \napp\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_tool_chain_cycle_prevention \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_clickhouse_service.py::TestWorkloadEventsOperations::test_workload_events_operations \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_find_by_user_success \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_find_by_user_success \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_find_by_user_database_error \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_find_by_user_database_error \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_search_records_with_filters \n[gw2]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_tool_chain_cycle_prevention \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_search_records_with_filters \napp\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_dynamic_tool_chaining \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_count_records_success \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_count_records_success \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_get_summary_stats_success \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditRepository::test_get_summary_stats_success \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_log_operation_success \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_log_operation_success \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_log_operation_with_duration \n[gw3]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_log_operation_with_duration \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_log_operation_failure \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_log_operation_failure \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_search_audit_logs_success \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_search_audit_logs_success \napp\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_search_audit_logs_failure \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestCorpusAuditLogger::test_search_audit_logs_failure \napp\\tests\\services\\test_corpus_audit.py::TestAuditTimer::test_timer_measures_duration \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestAuditTimer::test_timer_measures_duration \napp\\tests\\services\\test_corpus_audit.py::TestAuditTimer::test_timer_without_context \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestAuditTimer::test_timer_without_context \napp\\tests\\services\\test_corpus_audit.py::TestAuditIntegration::test_create_audit_logger_factory \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestAuditIntegration::test_create_audit_logger_factory \n[gw2]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part3.py::TestApexOptimizerToolChaining::test_dynamic_tool_chaining \napp\\tests\\services\\test_corpus_audit.py::TestAuditIntegration::test_end_to_end_audit_workflow \napp\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_selection_performance \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestAuditIntegration::test_end_to_end_audit_workflow \napp\\tests\\services\\test_corpus_audit.py::TestAuditPerformance::test_large_result_data_handling \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestAuditPerformance::test_large_result_data_handling \napp\\tests\\services\\test_corpus_audit.py::TestAuditPerformance::test_metadata_edge_cases \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_audit.py::TestAuditPerformance::test_metadata_edge_cases \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_collector_initialization \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_collector_initialization \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_operation_tracking_context_manager \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_operation_tracking_context_manager \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_quality_assessment_recording \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_quality_assessment_recording \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_metrics_snapshot_generation \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_metrics_snapshot_generation \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_metrics_export_json \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_metrics_export_json \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_time_series_data_retrieval \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_time_series_data_retrieval \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_comprehensive_report_generation \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_comprehensive_report_generation \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_collector_status \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_collector_status \napp\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_monitoring_lifecycle \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCorpusMetricsCollector::test_monitoring_lifecycle \napp\\tests\\services\\test_corpus_metrics.py::TestCoreMetricsCollector::test_operation_timing \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestCoreMetricsCollector::test_operation_timing \napp\\tests\\services\\test_corpus_metrics.py::TestQualityMetricsCollector::test_quality_trend_tracking \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestQualityMetricsCollector::test_quality_trend_tracking \napp\\tests\\services\\test_corpus_metrics.py::TestMetricsExporter::test_json_export \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestMetricsExporter::test_json_export \napp\\tests\\services\\test_corpus_metrics.py::TestMetricsExporter::test_prometheus_export \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_metrics.py::TestMetricsExporter::test_prometheus_export \napp\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_status_enum \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_status_enum \napp\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_schema \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_schema \napp\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_create_schema \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_create_schema \napp\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_service_import \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service.py::TestCorpusService::test_corpus_service_import \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_index_single_document \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_index_single_document \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_batch_indexing_pipeline \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_batch_indexing_pipeline \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_reindex_corpus_with_new_model \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_reindex_corpus_with_new_model \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_incremental_indexing \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_incremental_indexing \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_document_deduplication \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusDocumentIndexing::test_document_deduplication \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_semantic_search \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_semantic_search \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_hybrid_search \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_hybrid_search \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_relevance_feedback \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_relevance_feedback \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_search_result_reranking \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusSearchRelevance::test_search_result_reranking \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusManagement::test_create_corpus_with_validation \n[gw2]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_selection_performance \napp\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_concurrent_tool_execution_scaling \n[gw2]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_concurrent_tool_execution_scaling \napp\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_chain_optimization_performance \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusManagement::test_create_corpus_with_validation \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusManagement::test_update_corpus_metadata \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestCorpusManagement::test_update_corpus_metadata \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestIndexOptimization::test_index_performance_monitoring \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestIndexOptimization::test_index_performance_monitoring \n[gw2]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_chain_optimization_performance \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_redis_connection_failure_recovery \napp\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_metrics_and_monitoring \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_redis_connection_failure_recovery \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_retry_on_failure \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_retry_on_failure \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_recover_from_partial_batch_failure \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_recover_from_partial_batch_failure \napp\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_database_connection_failure \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::TestErrorHandling::test_database_connection_failure \n[gw2]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_metrics_and_monitoring \napp\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_load_balancing \n[gw2]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_load_balancing \napp\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_resource_management \n[gw2]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_apex_optimizer_tool_selection_part4.py::TestApexOptimizerPerformanceAndScaling::test_tool_resource_management \napp\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_google_api_get \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_google_api_get \napp\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_google_api_post \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_google_api_post \napp\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_google_api_other_method \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_google_api_other_method \napp\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_openai_api_post \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_openai_api_post \napp\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_openai_api_get \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_openai_api_get \napp\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_openai_api_other_method \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_api_convenience_functions.py::TestConvenienceFunctions::test_call_openai_api_other_method \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_create \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_create \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_bulk_create \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_bulk_create \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_get_by_id \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_get_by_id \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_get_many \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_get_many \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_update \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_update \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_delete \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_delete \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_soft_delete \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_soft_delete \napp\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_pagination \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_base_repository.py::TestBaseRepository::test_repository_pagination \napp\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_successful_llm_call \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_successful_llm_call \napp\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_llm_circuit_breaker_opens \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_llm_circuit_breaker_opens \napp\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_llm_structured_output_protection \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_llm_structured_output_protection \napp\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_llm_health_check \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_circuit_breaker_integration.py::TestLLMClientCircuitBreaker::test_llm_health_check \napp\\tests\\services\\test_circuit_breaker_integration.py::TestDatabaseClientCircuitBreaker::test_successful_db_query \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_circuit_breaker_integration.py::TestDatabaseClientCircuitBreaker::test_successful_db_query \n[gw1]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_circuit_breaker_operation \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_dead_letter_queue_processing \n[gw1]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_dead_letter_queue_processing \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_transaction_rollback \n[gw1]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_transaction_rollback \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_idempotent_generation \n[gw1]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_idempotent_generation \napp\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_graceful_degradation \n[gw1]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_error_recovery.py::TestErrorRecovery::test_graceful_degradation \napp\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_retry_success \n[gw1]\u001b[36m [  9%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_retry_success \napp\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_retry_failure \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_retry_failure \napp\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_deduplication \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_deduplication \napp\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_transform \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_ingestion.py::TestIngestionMethods::test_ingest_with_transform \napp\\tests\\services\\synthetic_data\\test_initialization.py::TestServiceInitialization::test_initialization \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_initialization.py::TestServiceInitialization::test_initialization \napp\\tests\\services\\synthetic_data\\test_initialization.py::TestServiceInitialization::test_default_tools_structure \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_initialization.py::TestServiceInitialization::test_default_tools_structure \napp\\tests\\services\\synthetic_data\\test_initialization.py::TestWorkloadTypeSelection::test_select_workload_type \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_initialization.py::TestWorkloadTypeSelection::test_select_workload_type \napp\\tests\\services\\synthetic_data\\test_initialization.py::TestWorkloadTypeSelection::test_select_agent_type \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_initialization.py::TestWorkloadTypeSelection::test_select_agent_type \napp\\tests\\services\\synthetic_data\\test_table_operations.py::TestTableOperations::test_create_destination_table \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_table_operations.py::TestTableOperations::test_create_destination_table \napp\\tests\\services\\synthetic_data\\test_table_operations.py::TestTableOperations::test_ingest_batch_empty \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_table_operations.py::TestTableOperations::test_ingest_batch_empty \napp\\tests\\services\\synthetic_data\\test_table_operations.py::TestTableOperations::test_ingest_batch_with_data \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_table_operations.py::TestTableOperations::test_ingest_batch_with_data \napp\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_simple \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_simple \napp\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_orchestration \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_orchestration \napp\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_data_analysis \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_data_analysis \napp\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_error_scenarios \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_generate_tool_invocations_error_scenarios \napp\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_create_tool_invocation \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_tool_invocations.py::TestToolInvocations::test_create_tool_invocation \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_valid \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_valid \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_missing_fields \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_missing_fields \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_invalid_uuid \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_invalid_uuid \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_invalid_timestamp \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_schema_invalid_timestamp \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_distribution \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_distribution \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_referential_integrity \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_referential_integrity \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_temporal_consistency \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_temporal_consistency \napp\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_completeness \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestValidationMethods::test_validate_completeness \napp\\tests\\services\\synthetic_data\\test_validation.py::TestQualityAndDiversityMetrics::test_calculate_quality_metrics \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestQualityAndDiversityMetrics::test_calculate_quality_metrics \napp\\tests\\services\\synthetic_data\\test_validation.py::TestQualityAndDiversityMetrics::test_calculate_diversity \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestQualityAndDiversityMetrics::test_calculate_diversity \napp\\tests\\services\\synthetic_data\\test_validation.py::TestQualityAndDiversityMetrics::test_generate_validation_report \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_validation.py::TestQualityAndDiversityMetrics::test_generate_validation_report \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_connection_management \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_connection_management \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_generation_progress_broadcast \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_generation_progress_broadcast \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_batch_completion_notifications \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_batch_completion_notifications \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_error_notification_handling \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_error_notification_handling \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_reconnection_handling \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_reconnection_handling \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_multiple_client_subscriptions \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_multiple_client_subscriptions \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_message_queuing \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_message_queuing \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_heartbeat \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_heartbeat \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_generation_completion_notification \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_generation_completion_notification \napp\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_rate_limiting \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[33mSKIPPED\u001b[0m app\\tests\\services\\synthetic_data\\test_websocket_updates.py::TestWebSocketUpdates::test_websocket_rate_limiting \napp\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_conditional_tool_execution \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_conditional_tool_execution \napp\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_tool_chain_error_handling \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_tool_chain_error_handling \napp\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_tool_chain_timeout_handling \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_tool_chain_timeout_handling \napp\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_concurrent_chain_execution \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_concurrent_chain_execution \napp\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_orchestrator_execution_history \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_orchestrator_execution_history \napp\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_retry_mechanism_functionality \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_retry_mechanism_functionality \napp\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_orchestration_performance_benchmarking \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_advanced_orchestration.py::TestAdvancedOrchestration::test_orchestration_performance_benchmarking \napp\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_process_user_message \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_process_user_message \napp\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_handle_tool_execution \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_handle_tool_execution \napp\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_message_validation \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_message_processing.py::TestAgentMessageProcessing::test_message_validation \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_agent_failure_recovery \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_agent_failure_recovery \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_agent_timeout_handling \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_agent_timeout_handling \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_circuit_breaker_pattern \n[gw1]\u001b[36m [ 11%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentErrorRecovery::test_circuit_breaker_pattern \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_graceful_degradation_on_partial_failure \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_graceful_degradation_on_partial_failure \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_agent_recovery_after_transient_failure \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_agent_recovery_after_transient_failure \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_concurrent_failure_isolation \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_concurrent_failure_isolation \napp\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_error_propagation_containment \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_error_recovery.py::TestAgentResiliencePatterns::test_error_propagation_containment \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_pool_management \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_pool_management \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_task_failure_handling \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_task_failure_handling \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_state_transitions \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_agent_state_transitions \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_agent_pool_size_limits \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_agent_pool_size_limits \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_agent_state_reset_on_release \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_agent_state_reset_on_release \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_agent_cleanup_on_error \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_agent_cleanup_on_error \napp\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_concurrent_pool_access \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_lifecycle.py::TestAgentPoolOptimization::test_concurrent_pool_access \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_agent_service_initialization <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_agent_service_initialization <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_agent_run_execution_basic <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_agent_run_execution_basic <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_agent_run_with_model_dump_fallback <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_agent_run_with_model_dump_fallback <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_start_agent <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_start_agent <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_user_message <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_user_message <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_thread_operations <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_thread_operations <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_stop_agent <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_stop_agent <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_unknown_type <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 12%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_unknown_type <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_json_error <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_message_handling_json_error <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_disconnect_handling <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_websocket_disconnect_handling <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_concurrent_agent_execution <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_concurrent_agent_execution <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_message_parsing_string_input <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_message_parsing_string_input <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_message_parsing_dict_input <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceOrchestrationCore::test_message_parsing_dict_input <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceBasic::test_run_agent_with_request_model <- tests\\services\\test_agent_service_orchestration_core.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentServiceBasic::test_run_agent_with_request_model <- tests\\services\\test_agent_service_orchestration_core.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_pool_management <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_pool_management <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_failure_handling <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_task_failure_handling <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_state_transitions <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_agent_state_transitions <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation <- tests\\services\\test_agent_service_orchestration_agents.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation <- tests\\services\\test_agent_service_orchestration_agents.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_failure_recovery <- tests\\services\\test_agent_service_orchestration_workflows.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_failure_recovery <- tests\\services\\test_agent_service_orchestration_workflows.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_timeout_handling <- tests\\services\\test_agent_service_orchestration_workflows.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_timeout_handling <- tests\\services\\test_agent_service_orchestration_workflows.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error <- tests\\services\\test_agent_service_orchestration_workflows.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_agent_resource_cleanup_on_error <- tests\\services\\test_agent_service_orchestration_workflows.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_circuit_breaker_pattern <- tests\\services\\test_agent_service_orchestration_workflows.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_circuit_breaker_pattern <- tests\\services\\test_agent_service_orchestration_workflows.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_graceful_degradation_under_load <- tests\\services\\test_agent_service_orchestration_workflows.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_graceful_degradation_under_load <- tests\\services\\test_agent_service_orchestration_workflows.py \napp\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_error_propagation_and_isolation <- tests\\services\\test_agent_service_orchestration_workflows.py \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration.py::TestAgentErrorRecovery::test_error_propagation_and_isolation <- tests\\services\\test_agent_service_orchestration_workflows.py \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_creation_and_assignment \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_reuse_for_same_user \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_pool_management \n[gw1]\u001b[36m [ 13%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_pool_management \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_concurrent_agent_limit_enforcement \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_task_execution_tracking \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_task_failure_handling \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_task_failure_handling \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_concurrent_agent_orchestration \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_state_transitions \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_agent_state_transitions \napp\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_agents.py::TestAgentLifecycleManagement::test_orchestration_metrics_calculation \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_agent_service_initialization \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_agent_service_initialization \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_agent_run_execution \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_agent_run_execution \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_agent_run_with_model_dump_fallback \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_agent_run_with_model_dump_fallback \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_start_agent \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_start_agent \napp\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_user_message \n[gw1]\u001b[36m [ 14%] \u001b[0m\u001b[32mPASSED\u001b[0m app\\tests\\services\\test_agent_service_orchestration_basic.py::TestAgentServiceOrchestration::test_websocket_message_handling_user_message Loaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n\n\n================================== FAILURES ===================================\n\u001b[31m\u001b[1m__________ TestPolicySimulator.test_policy_simulator_async_behavior ___________\u001b[0m\n[gw0] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mapp\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py\u001b[0m:196: in test_policy_simulator_async_behavior\n    \u001b[0m\u001b[94massert\u001b[39;49;00m elapsed >= \u001b[94m0.009\u001b[39;49;00m  \u001b[90m# Allow for small timing variations\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n    ^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert 0.0 >= 0.009\u001b[0m\n---------------------------- Captured stderr setup ----------------------------\n2025-08-16 10:40:37.951 | DEBUG    | logging:handle:1028 | Using proactor: IocpProactor\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n-------------------------- Captured stderr teardown ---------------------------\n2025-08-16 10:40:38.044 | DEBUG    | logging:handle:1028 | Using proactor: IocpProactor\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[31m\u001b[1m_____________ TestErrorHandling.test_database_connection_failure ______________\u001b[0m\n[gw3] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mapp\\services\\corpus\\corpus_creation.py\u001b[0m:79: in _persist_corpus_to_db\n    \u001b[0mdb.add(db_corpus), db.commit(), db.refresh(db_corpus)\u001b[90m\u001b[39;49;00m\n                       ^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1134: in __call__\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._mock_call(*args, **kwargs)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1138: in _mock_call\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._execute_mock_call(*args, **kwargs)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1193: in _execute_mock_call\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m effect\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   Exception: Connection lost\u001b[0m\n\n\u001b[33mDuring handling of the above exception, another exception occurred:\u001b[0m\n\u001b[1m\u001b[31mapp\\tests\\services\\test_corpus_service_comprehensive.py\u001b[0m:415: in test_database_connection_failure\n    \u001b[0m\u001b[94mawait\u001b[39;49;00m corpus_service.create_corpus(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mapp\\services\\corpus_service.py\u001b[0m:65: in create_corpus\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._modular_service.create_corpus(db, corpus_data, user_id)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mapp\\services\\corpus\\core_unified.py\u001b[0m:30: in create_corpus\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[94mawait\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.creation_service.create_corpus(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mapp\\services\\corpus\\corpus_creation.py\u001b[0m:33: in create_corpus\n    \u001b[0m\u001b[96mself\u001b[39;49;00m._persist_and_schedule_creation(db, db_corpus, corpus_data.name, user_id, corpus_id, table_name)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mapp\\services\\corpus\\corpus_creation.py\u001b[0m:103: in _persist_and_schedule_creation\n    \u001b[0m\u001b[96mself\u001b[39;49;00m._persist_corpus_to_db(db, db_corpus, corpus_name, user_id)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mapp\\services\\corpus\\corpus_creation.py\u001b[0m:82: in _persist_corpus_to_db\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m._create_persistence_error(corpus_name, user_id, \u001b[96mstr\u001b[39;49;00m(e))\u001b[90m\u001b[39;49;00m\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mapp\\services\\corpus\\corpus_creation.py\u001b[0m:87: in _create_persistence_error\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m NetraException(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   TypeError: NetraException.__init__() got an unexpected keyword argument 'error_code'\u001b[0m\n\n\u001b[33mDuring handling of the above exception, another exception occurred:\u001b[0m\n\u001b[1m\u001b[31mapp\\tests\\services\\test_corpus_service_comprehensive.py\u001b[0m:414: in test_database_connection_failure\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m pytest.raises(\u001b[96mException\u001b[39;49;00m, match=\u001b[33m\"\u001b[39;49;00m\u001b[33mConnection lost\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m):\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AssertionError: Regex pattern did not match.\u001b[0m\n\u001b[1m\u001b[31mE    Regex: 'Connection lost'\u001b[0m\n\u001b[1m\u001b[31mE    Input: \"NetraException.__init__() got an unexpected keyword argument 'error_code'\"\u001b[0m\n---------------------------- Captured stderr setup ----------------------------\n2025-08-16 10:40:39.212 | DEBUG    | logging:handle:1028 | Using proactor: IocpProactor\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n-------------------------- Captured stderr teardown ---------------------------\n2025-08-16 10:40:39.513 | DEBUG    | logging:handle:1028 | Using proactor: IocpProactor\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[31m\u001b[1m__________ TestDatabaseClientCircuitBreaker.test_successful_db_query __________\u001b[0m\n[gw2] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\site-packages\\pytest_asyncio\\plugin.py\u001b[0m:532: in inner\n    \u001b[0m_loop.run_until_complete(task)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\asyncio\\base_events.py\u001b[0m:687: in run_until_complete\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m future.result()\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1404: in patched\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m \u001b[96mself\u001b[39;49;00m.decoration_helper(patched,\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\contextlib.py\u001b[0m:137: in __enter__\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m \u001b[96mnext\u001b[39;49;00m(\u001b[96mself\u001b[39;49;00m.gen)\u001b[90m\u001b[39;49;00m\n           ^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1369: in decoration_helper\n    \u001b[0marg = exit_stack.enter_context(patching)\u001b[90m\u001b[39;49;00m\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\contextlib.py\u001b[0m:526: in enter_context\n    \u001b[0mresult = _enter(cm)\u001b[90m\u001b[39;49;00m\n             ^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1458: in __enter__\n    \u001b[0moriginal, local = \u001b[96mself\u001b[39;49;00m.get_original()\u001b[90m\u001b[39;49;00m\n                      ^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1431: in get_original\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAttributeError\u001b[39;49;00m(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AttributeError: <module 'app.db.client' from 'C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\app\\\\db\\\\client.py'> does not have the attribute 'async_session_factory'\u001b[0m\n---------------------------- Captured stderr setup ----------------------------\n2025-08-16 10:40:41.512 | DEBUG    | logging:handle:1028 | Using proactor: IocpProactor\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n-------------------------- Captured stderr teardown ---------------------------\n2025-08-16 10:40:41.879 | DEBUG    | logging:handle:1028 | Using proactor: IocpProactor\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[36m\u001b[1m=========================== short test summary info ===========================\u001b[0m\n\u001b[31mFAILED\u001b[0m app\\tests\\services\\apex_optimizer_agent\\tools\\test_policy_simulator.py::\u001b[1mTestPolicySimulator::test_policy_simulator_async_behavior\u001b[0m - assert 0.0 >= 0.009\n\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_corpus_service_comprehensive.py::\u001b[1mTestErrorHandling::test_database_connection_failure\u001b[0m - AssertionError: Regex pattern did not match.\n Regex: 'Connection lost'\n Input: \"NetraException.__init__() got an unexpected keyword argument 'error_code'\"\n\u001b[31mFAILED\u001b[0m app\\tests\\services\\test_circuit_breaker_integration.py::\u001b[1mTestDatabaseClientCircuitBreaker::test_successful_db_query\u001b[0m - AttributeError: <module 'app.db.client' from 'C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\app\\\\db\\\\client.py'> does not have the attribute 'async_session_factory'\n\u001b[31m!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 3 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\u001b[0m\n!!!!!!!!!!!! xdist.dsession.Interrupted: stopping after 1 failures !!!!!!!!!!!!\n\u001b[31m============ \u001b[31m\u001b[1m3 failed\u001b[0m, \u001b[32m339 passed\u001b[0m, \u001b[33m15 skipped\u001b[0m\u001b[31m in 65.09s (0:01:05)\u001b[0m\u001b[31m =============\u001b[0m\n================================================================================\n[FAIL] TESTS FAILED with exit code 2 after 74.11s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\nC:\\Users\\antho\\miniconda3\\Lib\\site-packages\\_pytest\\unraisableexception.py:67: PytestUnraisableExceptionWarning: Exception ignored in: <coroutine object ClickHouseOperations.create_corpus_table at 0x00000202340E1E40>\n\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\db\\clickhouse.py\", line 114, in get_clickhouse_client\n    yield client\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\services\\corpus\\clickhouse_operations.py\", line 66, in _execute_table_creation\n    await client.execute(query)\nGeneratorExit\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\services\\corpus\\clickhouse_operations.py\", line 138, in create_corpus_table\n    await self._execute_table_creation(table_name, query)\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\services\\corpus\\clickhouse_operations.py\", line 65, in _execute_table_creation\n    async with get_clickhouse_client() as client:\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 231, in __aexit__\n    await self.gen.athrow(value)\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\db\\clickhouse.py\", line 116, in get_clickhouse_client\n    await _cleanup_client(client)\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\db\\clickhouse.py\", line 96, in _cleanup_client\n    await client.disconnect()\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\db\\clickhouse_base.py\", line 124, in disconnect\n    await asyncio.to_thread(self.client.close)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\threads.py\", line 22, in to_thread\n    loop = events.get_running_loop()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\nRuntimeError: no running event loop\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\services\\corpus\\clickhouse_operations.py\", line 141, in create_corpus_table\n    await self._handle_creation_error(corpus_id, e, db)\n  File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\services\\corpus\\clickhouse_operations.py\", line 124, in _handle_creation_error\n    raise ClickHouseOperationError(f\"Failed to create table: {str(error)}\")\napp.services.corpus.base.ClickHouseOperationError: Failed to create table: no running event loop\n\nEnable tracemalloc to get traceback where the object was allocated.\nSee https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.\n  warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))\n2025-08-16 10:40:07.860 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:40:07.860 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:40:07.863 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:40:07.863 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:40:07.863 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:40:07.870 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:40:07.871 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:40:07.871 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:40:07.871 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:40:07.871 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:40:07.874 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:40:07.874 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:40:07.874 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:40:07.915 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:40:07.915 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:40:07.915 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:40:07.965 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:40:08.531 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:40:08.777 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:40:09.896 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:40:09.975 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:40:10.762 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:40:11.426 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:40:11.449 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:40:11.488 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:40:11.586 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:40:11.586 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:40:11.586 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=60, microseconds=548632), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=27032, name='MainProcess'), 'thread': (id=1348, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 41, 16, 266321, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=60, microseconds=324612), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=9332, name='MainProcess'), 'thread': (id=13172, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 41, 16, 266321, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\n--- Logging error in Loguru Handler #1 ---\nTraceback (most recent call last):\nRecord was: {'elapsed': datetime.timedelta(seconds=60, microseconds=206546), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=18784, name='MainProcess'), 'thread': (id=38324, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 41, 16, 267318, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=60, microseconds=583190), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=21992, name='MainProcess'), 'thread': (id=20288, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 41, 16, 400435, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=71, microseconds=960158), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=36272, name='MainProcess'), 'thread': (id=39560, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 41, 18, 81295, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 357,
            "passed": 339,
            "failed": 3,
            "skipped": 15,
            "errors": 0,
            "test_files": 46
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "failed",
          "duration": 0.5194239616394043,
          "exit_code": 15,
          "output": "\n'hooks' is not recognized as an internal or external command,\noperable program or batch file.\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755366003.6697102,
          "end_time": 1755366079.1692965
        }
      },
      "summary": {
        "total": 357,
        "passed": 339,
        "failed": 3,
        "skipped": 15,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-16T10:41:19.470835",
      "level": "integration",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 26.07024097442627,
          "exit_code": 2,
          "output": "Loaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\nLoaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: integration\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest integration_tests app/tests/routes -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services\n================================================================================\n\u001b[1m============================= test session starts =============================\u001b[0m\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\antho\\miniconda3\\python.exe\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.4', 'Platform': 'Windows-11-10.0.26100-SP0', 'Packages': {'pytest': '8.4.1', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'Faker': '37.4.2', 'langsmith': '0.4.10', 'asyncio': '0.21.1', 'cov': '6.2.1', 'html': '4.1.1', 'json-report': '1.5.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'timeout': '2.4.0', 'xdist': '3.8.0', 'typeguard': '4.4.4'}}\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.4.2, langsmith-0.4.10, asyncio-0.21.1, cov-6.2.1, html-4.1.1, json-report-1.5.0, metadata-3.1.1, mock-3.14.1, timeout-2.4.0, xdist-3.8.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO\ncreated: 4/4 workers\n\n=================================== ERRORS ====================================\n\u001b[31m\u001b[1m_______________ ERROR collecting integration_tests/test_app.py ________________\u001b[0m\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\integration_tests\\test_app.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n..\\..\\..\\..\\miniconda3\\Lib\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\n..\\..\\..\\..\\miniconda3\\Lib\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n..\\..\\..\\..\\miniconda3\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n..\\..\\..\\..\\miniconda3\\Lib\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\nintegration_tests\\test_app.py:9: in <module>\n    from app.dependencies import get_async_db\nE   ImportError: cannot import name 'get_async_db' from 'app.dependencies' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\dependencies.py)\n------------------------------- Captured stdout -------------------------------\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n------------------------------- Captured stderr -------------------------------\n2025-08-16 10:40:24.409 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:40:24.409 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:40:24.409 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:40:24.409 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:40:24.409 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:40:24.412 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:40:24.412 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:40:24.412 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:40:24.412 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:40:24.412 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:40:24.412 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:40:24.412 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:40:24.415 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:40:24.416 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:40:24.416 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:40:24.417 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:40:24.417 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:40:24.417 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:40:24.417 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:40:24.419 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:40:24.419 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:40:24.419 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:40:24.419 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:40:24.419 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:40:24.463 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:40:24.463 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:40:24.463 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:40:24.525 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:40:25.200 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:40:25.481 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:40:26.871 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:40:26.964 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:40:27.944 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:40:28.972 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:40:29.014 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:40:29.074 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:40:29.215 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:40:29.217 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:40:29.217 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n\u001b[36m\u001b[1m=========================== short test summary info ===========================\u001b[0m\n\u001b[31mERROR\u001b[0m integration_tests/test_app.py\n\u001b[31m!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\u001b[0m\n!!!!!!!!!!!! xdist.dsession.Interrupted: stopping after 1 failures !!!!!!!!!!!!\n\u001b[31m============================== \u001b[31m\u001b[1m1 error\u001b[0m\u001b[31m in 15.45s\u001b[0m\u001b[31m ==============================\u001b[0m\n================================================================================\n[FAIL] TESTS FAILED with exit code 2 after 25.14s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-16 10:40:12.818 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:40:12.823 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:40:12.823 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:40:12.823 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:40:12.823 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:40:12.823 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:40:12.825 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:40:12.825 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:40:12.825 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:40:12.825 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:40:12.825 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:40:12.826 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:40:12.826 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:40:12.827 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:40:12.827 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:40:12.827 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:40:12.830 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:40:12.830 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:40:12.830 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:40:12.831 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:40:12.831 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:40:12.832 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:40:12.832 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:40:12.832 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:40:12.862 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:40:12.862 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:40:12.862 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:40:12.907 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:40:13.468 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:40:13.697 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:40:14.776 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:40:14.856 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:40:15.694 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:40:16.554 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:40:16.581 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:40:16.626 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:40:16.743 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:40:16.743 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:40:16.743 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=10, microseconds=569928), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=34644, name='MainProcess'), 'thread': (id=3448, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 40, 32, 709069, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\n--- Logging error in Loguru Handler #1 ---\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=10, microseconds=388623), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=21956, name='MainProcess'), 'thread': (id=13292, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 40, 32, 709069, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nRecord was: {'elapsed': datetime.timedelta(seconds=10, microseconds=182106), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=37636, name='MainProcess'), 'thread': (id=5404, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 40, 32, 709069, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=10, microseconds=320875), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\u2139\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=40268, name='MainProcess'), 'thread': (id=38664, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 40, 32, 710068, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nTraceback (most recent call last):\nValueError: I/O operation on closed file.\n--- End of logging error ---\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=22, microseconds=694045), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=25560, name='MainProcess'), 'thread': (id=21716, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 40, 33, 932828, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 1,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 1,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "failed",
          "duration": 44.86868095397949,
          "exit_code": 15,
          "output": "\n> netra-frontend-apex-v1@0.1.0 test\n> node run-jest.js --forceExit --detectOpenHandles --testMatch **/__tests__/integration/**/*.test.[jt]s?(x)\n\n================================================================================\nNETRA AI PLATFORM - FRONTEND TEST RUNNER\n================================================================================\n\n================================================================================\nRunning Jest Tests\n--------------------------------------------------------------------------------\nRunning: npm run test -- --forceExit --detectOpenHandles --testMatch **/__tests__/integration/**/*.test.[jt]s?(x)\n--------------------------------------------------------------------------------\n\n================================================================================\n[FAIL] CHECKS FAILED with exit code 15\n================================================================================\n\nCleaning up test processes...\n\nFAIL __tests__/integration/comprehensive/index.test.tsx (13.084 s)\n  \u25cf Console\n\n    console.error\n      Error: Component error for testing\n          at createMockError (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive\\test-utils.tsx:235:10)\n          at ProblematicComponent (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive\\performance-memory.test.tsx:541:32)\n          at Object.react_stack_bottom_frame (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:23863:20)\n          at renderWithHooks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:5529:22)\n          at updateFunctionComponent (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:8897:19)\n          at beginWork (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10522:18)\n          at runWithFiberInDEV (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:1522:13)\n          at performUnitOfWork (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15140:22)\n          at workLoopSync (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:14956:41)\n          at renderRootSync (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:14936:11)\n          at performWorkOnRoot (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:14462:44)\n          at performSyncWorkOnRoot (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16231:7)\n          at flushSyncWorkAcrossRoots_impl (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16079:21)\n          at processRootScheduleInMicrotask (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16116:7)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16241:11\n          at flushActQueue (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:566:34)\n          at process.env.NODE_ENV.exports.act (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:860:10)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n          at Object.eventWrapper (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:107:28)\n          at fireEvent (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\dom\\dist\\events.js:12:35)\n          at fireEvent.<computed> [as click] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\dom\\dist\\events.js:110:36)\n          at fireEvent.<computed> [as click] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\fire-event.js:15:52)\n          at Object.click (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive\\performance-memory.test.tsx:566:17)\n          at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n          at new Promise (<anonymous>)\n          at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n          at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n          at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n          at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n          at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n          at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n          at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\index.js:275:16)\n          at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\index.js:343:7) {\n        [stack]: [Getter/Setter],\n        [message]: 'Component error for testing'\n      }\n      \n      The above error occurred in the <ProblematicComponent> component.\n      \n      React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m   \n     \u001b[90m 128 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:125:19)\n      at defaultOnCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:8331:17)\n      at logCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:8367:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at ErrorBoundary.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:8414:11)\n      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:5363:16)\n      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:5383:11)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:12067:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12688:25)\n      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12727:11)\n      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12611:11)\n      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12693:11)\n      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15559:15)\n      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15402:9)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:16116:7)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16241:11\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at Object.click (__tests__/integration/comprehensive/performance-memory.test.tsx:566:17)\n\n    console.error\n      Error: Component error for testing\n          at createMockError (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive\\test-utils.tsx:235:10)\n          at ProblematicComponent (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive\\performance-memory.test.tsx:541:32)\n          at Object.react_stack_bottom_frame (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:23863:20)\n          at renderWithHooks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:5529:22)\n          at updateFunctionComponent (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:8897:19)\n          at beginWork (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:10522:18)\n          at runWithFiberInDEV (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:1522:13)\n          at performUnitOfWork (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:15140:22)\n          at workLoopSync (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:14956:41)\n          at renderRootSync (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:14936:11)\n          at performWorkOnRoot (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:14462:44)\n          at performSyncWorkOnRoot (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16231:7)\n          at flushSyncWorkAcrossRoots_impl (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16079:21)\n          at processRootScheduleInMicrotask (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16116:7)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react-dom\\cjs\\react-dom-client.development.js:16241:11\n          at flushActQueue (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:566:34)\n          at process.env.NODE_ENV.exports.act (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\react\\cjs\\react.development.js:860:10)\n          at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n          at Object.eventWrapper (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\pure.js:107:28)\n          at fireEvent (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\dom\\dist\\events.js:12:35)\n          at fireEvent.<computed> [as click] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\dom\\dist\\events.js:110:36)\n          at fireEvent.<computed> [as click] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@testing-library\\react\\dist\\fire-event.js:15:52)\n          at Object.click (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\comprehensive\\performance-memory.test.tsx:574:17) {\n        [stack]: [Getter/Setter],\n        [message]: 'Component error for testing'\n      }\n      \n      The above error occurred in the <ProblematicComponent> component.\n      \n      React will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m   \n     \u001b[90m 128 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:125:19)\n      at defaultOnCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:8331:17)\n      at logCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:8367:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at ErrorBoundary.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:8414:11)\n      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:5363:16)\n      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:5383:11)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:12067:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12688:25)\n      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12727:11)\n      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12611:11)\n      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)\n      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12693:11)\n      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15559:15)\n      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15402:9)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:16116:7)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16241:11\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at Object.click (__tests__/integration/comprehensive/performance-memory.test.tsx:574:17)\n\n  \u25cf Collaboration Features Integration Tests \u203a Real-time Cursor Synchronization \u203a should sync cursor positions in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'x')\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m             {\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(otherCursors\u001b[33m.\u001b[39mentries())\u001b[33m.\u001b[39mmap(([userId\u001b[33m,\u001b[39m pos]) \u001b[33m=>\u001b[39m (\n     \u001b[90m 89 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m key\u001b[33m=\u001b[39m{userId} data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m{\u001b[32m`cursor-${userId}`\u001b[39m}\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m                 \u001b[33mUser\u001b[39m {userId}\u001b[33m:\u001b[39m {pos\u001b[33m.\u001b[39mx}\u001b[33m,\u001b[39m {pos\u001b[33m.\u001b[39my}\n     \u001b[90m    |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 92 |\u001b[39m             ))}\n     \u001b[90m 93 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at x (__tests__/integration/comprehensive/collaboration-features.test.tsx:90:37)\n          at Array.map (<anonymous>)\n      at map (__tests__/integration/comprehensive/collaboration-features.test.tsx:88:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/comprehensive/collaboration-features.test.tsx:102:14)\n\n  \u25cf Collaboration Features Integration Tests \u203a Real-time Cursor Synchronization \u203a should handle multiple cursor updates efficiently\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.entries (<anonymous>)\n\n    \u001b[0m \u001b[90m 120 |\u001b[39m             \u001b[36mconst\u001b[39m message \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(event\u001b[33m.\u001b[39mdata)\u001b[33m;\u001b[39m\n     \u001b[90m 121 |\u001b[39m             \u001b[36mif\u001b[39m (message\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'multi_cursor_update'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 122 |\u001b[39m               setCursors(\u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(message\u001b[33m.\u001b[39mcursors)))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 123 |\u001b[39m             }\n     \u001b[90m 124 |\u001b[39m           }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m           \u001b[0m\n\n      at Proxy.entries (__tests__/integration/comprehensive/collaboration-features.test.tsx:122:41)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at Proxy.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at node_modules/mock-socket/dist/mock-socket.js:2133:16\n          at Array.forEach (<anonymous>)\n      at Server.emit (node_modules/mock-socket/dist/mock-socket.js:2121:16)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:166:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/comprehensive/collaboration-features.test.tsx:145:14)\n\n  \u25cf Collaboration Features Integration Tests \u203a Presence and Activity Status \u203a should handle presence and activity status\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2 users online\n    Received:\n      1 users online\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html\u001b[39m\n      \u001b[33mdata-theme\u001b[39m=\u001b[32m\"dark\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m users online\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"typing-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m users typing\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 210 |\u001b[39m       \n     \u001b[90m 211 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 212 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'active-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2 users online'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 213 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 214 |\u001b[39m       \n     \u001b[90m 215 |\u001b[39m       \u001b[90m// Simulate typing\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-features.test.tsx:212:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Collaboration Features Integration Tests \u203a Presence and Activity Status \u203a should handle user status with detailed information\n\n    TypeError: Cannot read properties of undefined (reading 'name')\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m             {\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(users\u001b[33m.\u001b[39mentries())\u001b[33m.\u001b[39mmap(([userId\u001b[33m,\u001b[39m status]) \u001b[33m=>\u001b[39m (\n     \u001b[90m 262 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m key\u001b[33m=\u001b[39m{userId} data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m{\u001b[32m`user-${userId}`\u001b[39m}\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m                 {status\u001b[33m.\u001b[39mname} \u001b[33m-\u001b[39m {status\u001b[33m.\u001b[39mactivity} ({status\u001b[33m.\u001b[39mlastSeen})\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 265 |\u001b[39m             ))}\n     \u001b[90m 266 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at name (__tests__/integration/comprehensive/collaboration-features.test.tsx:263:25)\n          at Array.map (<anonymous>)\n      at map (__tests__/integration/comprehensive/collaboration-features.test.tsx:261:42)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/comprehensive/collaboration-features.test.tsx:274:14)\n\n  \u25cf Navigation and Search Integration Tests \u203a Complex Navigation Flows \u203a should handle deep linking with state preservation\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-1\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 108 |\u001b[39m       \u001b[36mconst\u001b[39m savedState \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(sessionStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'nav_state'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'{}'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 109 |\u001b[39m       expect(savedState\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 110 |\u001b[39m       expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 111 |\u001b[39m       \n     \u001b[90m 112 |\u001b[39m       \u001b[90m// Test navigation to another path\u001b[39m\n     \u001b[90m 113 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Go to Settings'\u001b[39m))\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/comprehensive/navigation-search.test.tsx:110:31)\n\n  \u25cf Navigation and Search Integration Tests \u203a Complex Navigation Flows \u203a should handle protected route redirects\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/auth/login\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 160 |\u001b[39m       expect(getByText(\u001b[32m'Redirecting to login...'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 161 |\u001b[39m       expect(sessionStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'redirect_after_login'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[32m'/'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 162 |\u001b[39m       expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/auth/login'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \n     \u001b[90m 164 |\u001b[39m       \u001b[90m// Authenticate and rerender\u001b[39m\n     \u001b[90m 165 |\u001b[39m       act(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/comprehensive/navigation-search.test.tsx:162:31)\n\n  \u25cf Internationalization and WebSocket Resilience Tests \u203a WebSocket Resilience Integration \u203a should handle WebSocket message buffering during reconnection\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2 buffered\n    Received:\n      0 buffered\n\n    \u001b[0m \u001b[90m 444 |\u001b[39m       \n     \u001b[90m 445 |\u001b[39m       expect(messageBuffer\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 446 |\u001b[39m       expect(getByTestId(\u001b[32m'buffer-size'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2 buffered'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 447 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 448 |\u001b[39m\n     \u001b[90m 449 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/comprehensive/i18n-websocket.test.tsx:446:42)\n\n  \u25cf Internationalization and WebSocket Resilience Tests \u203a WebSocket Resilience Integration \u203a should handle WebSocket heartbeat and keep-alive\n\n    expect(element).not.toHaveTextContent()\n\n    Expected element not to have text content:\n      None\n    Received:\n      None\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html\u001b[39m\n      \u001b[33mdata-theme\u001b[39m=\u001b[32m\"dark\"\u001b[39m\n      \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n      \u001b[33mlang\u001b[39m=\u001b[32m\"zh\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body\u001b[39m\n        \u001b[33mstyle\u001b[39m=\u001b[32m\"text-align: left;\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-health\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mhealthy\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-heartbeat\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mNone\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"heartbeat-interval\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1000\u001b[0m\n              \u001b[0mms\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"manual-heartbeat\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Heartbeat\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"faster-heartbeat\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mFaster Heartbeat\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 615 |\u001b[39m       \n     \u001b[90m 616 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 617 |\u001b[39m         expect(getByTestId(\u001b[32m'last-heartbeat'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'None'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 618 |\u001b[39m         expect(getByTestId(\u001b[32m'connection-health'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'healthy'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 619 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 620 |\u001b[39m       \u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/i18n-websocket.test.tsx:617:51)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf End-to-End User Journey Integration Tests \u203a Complete Optimization Workflow \u203a should handle error scenarios in the workflow\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      complete\n    Received:\n      analyze\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html\u001b[39m\n      \u001b[33mdata-theme\u001b[39m=\u001b[32m\"dark\"\u001b[39m\n      \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n      \u001b[33mlang\u001b[39m=\u001b[32m\"zh\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body\u001b[39m\n        \u001b[33mstyle\u001b[39m=\u001b[32m\"text-align: left;\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-step\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0manalyze\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"error-messages\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"error-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mNetwork error. Please try again. (Attempt 1)\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"analyze\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mAnalyze\u001b[0m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"reset\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mStart Over\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 483 |\u001b[39m       \u001b[90m// Eventually should complete\u001b[39m\n     \u001b[90m 484 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 485 |\u001b[39m         expect(getByTestId(\u001b[32m'current-step'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'complete'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 486 |\u001b[39m       }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m.\u001b[39m\u001b[33mMEDIUM\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 487 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 488 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/user-journey.test.tsx:485:45)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf End-to-End User Journey Integration Tests \u203a Complex Multi-User Workflow \u203a should handle collaborative workflow with multiple users\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2 users\n    Received:\n      1 users\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html\u001b[39m\n      \u001b[33mdata-theme\u001b[39m=\u001b[32m\"dark\"\u001b[39m\n      \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n      \u001b[33mlang\u001b[39m=\u001b[32m\"zh\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body\u001b[39m\n        \u001b[33mstyle\u001b[39m=\u001b[32m\"text-align: left;\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-step\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mplanning\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"user-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m users\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"vote-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m votes\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"decision-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m decisions\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"vote-approve\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mVote Approve\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"vote-reject\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mVote Reject\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 653 |\u001b[39m       \n     \u001b[90m 654 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 655 |\u001b[39m         expect(getByTestId(\u001b[32m'user-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2 users'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 656 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 657 |\u001b[39m       \n     \u001b[90m 658 |\u001b[39m       \u001b[90m// Simulate voting\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/user-journey.test.tsx:655:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/comprehensive/user-journey.test.tsx (5.718 s)\n  \u25cf End-to-End User Journey Integration Tests \u203a Complete Optimization Workflow \u203a should handle error scenarios in the workflow\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      complete\n    Received:\n      analyze\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-step\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0manalyze\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"error-messages\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"error-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mNetwork error. Please try again. (Attempt 1)\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"analyze\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mAnalyze\u001b[0m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"reset\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mStart Over\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 483 |\u001b[39m       \u001b[90m// Eventually should complete\u001b[39m\n     \u001b[90m 484 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 485 |\u001b[39m         expect(getByTestId(\u001b[32m'current-step'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'complete'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 486 |\u001b[39m       }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m.\u001b[39m\u001b[33mMEDIUM\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 487 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 488 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/user-journey.test.tsx:485:45)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf End-to-End User Journey Integration Tests \u203a Complex Multi-User Workflow \u203a should handle collaborative workflow with multiple users\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2 users\n    Received:\n      1 users\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-step\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mplanning\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"user-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m users\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"vote-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m votes\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"decision-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m decisions\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"vote-approve\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mVote Approve\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"vote-reject\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mVote Reject\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 653 |\u001b[39m       \n     \u001b[90m 654 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 655 |\u001b[39m         expect(getByTestId(\u001b[32m'user-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2 users'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 656 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 657 |\u001b[39m       \n     \u001b[90m 658 |\u001b[39m       \u001b[90m// Simulate voting\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/user-journey.test.tsx:655:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/collaboration-state.test.tsx\n  \u25cf State Persistence and Recovery \u203a should persist application state across sessions\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"app_state\", \"{\\\"version\\\":2,\\\"timestamp\\\":1755366056576,\\\"data\\\":{\\\"user_preferences\\\":{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"en\\\"},\\\"session_data\\\":{\\\"last_thread\\\":\\\"thread-123\\\"},\\\"cached_results\\\":{\\\"optimization_1\\\":{\\\"result\\\":\\\"cached\\\"}}}}\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mSave State\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mLoad State\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mTheme: \u001b[0m\n                \u001b[0mdark\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mLast thread: \u001b[0m\n                \u001b[0mthread-123\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 373 |\u001b[39m     \n     \u001b[90m 374 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 375 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39msetItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 376 |\u001b[39m         \u001b[32m'app_state'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 377 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(mockPersistedState)\n     \u001b[90m 378 |\u001b[39m       )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/integration/collaboration-state.test.tsx:375:40)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"app_state\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mLoad State\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"error\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mState corrupted, using defaults\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mState loaded\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 436 |\u001b[39m       expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State corrupted, using defaults'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 437 |\u001b[39m       expect(getByTestId(\u001b[32m'state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State loaded'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 438 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'app_state'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 439 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 440 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 441 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/integration/collaboration-state.test.tsx:438:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf State Persistence and Recovery \u203a should migrate state between versions\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mMigrate State\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"migrated\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mState migrated to v2\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 482 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 483 |\u001b[39m       expect(getByTestId(\u001b[32m'migrated'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State migrated to v2'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 484 |\u001b[39m       expect(localStorageMock\u001b[33m.\u001b[39msetItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 485 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 486 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 487 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/collaboration-state.test.tsx:484:40)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/infrastructure.test.tsx\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Attempts: 3\n    Received:\n      Attempts: 1\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mExecute Task\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mAttempts: \u001b[0m\n              \u001b[0m1\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 428 |\u001b[39m     \n     \u001b[90m 429 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 430 |\u001b[39m       expect(getByTestId(\u001b[32m'retry-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Attempts: 3'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 431 |\u001b[39m       expect(getByTestId(\u001b[32m'final-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Success'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 432 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 433 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/infrastructure.test.tsx:430:42)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    Failed\n\n    \u001b[0m \u001b[90m 415 |\u001b[39m     \u001b[90m// Mock failures then success\u001b[39m\n     \u001b[90m 416 |\u001b[39m     (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 417 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 418 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m 419 |\u001b[39m       \u001b[33m.\u001b[39mmockResolvedValueOnce({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m     \u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:417:30)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    Failed\n\n    \u001b[0m \u001b[90m 415 |\u001b[39m     \u001b[90m// Mock failures then success\u001b[39m\n     \u001b[90m 416 |\u001b[39m     (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 417 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 418 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m 419 |\u001b[39m       \u001b[33m.\u001b[39mmockResolvedValueOnce({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m     \u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:417:30)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    Failed\n\n    \u001b[0m \u001b[90m 415 |\u001b[39m     \u001b[90m// Mock failures then success\u001b[39m\n     \u001b[90m 416 |\u001b[39m     (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 417 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 418 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m 419 |\u001b[39m       \u001b[33m.\u001b[39mmockResolvedValueOnce({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m     \u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:417:30)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    Failed\n\n    \u001b[0m \u001b[90m 415 |\u001b[39m     \u001b[90m// Mock failures then success\u001b[39m\n     \u001b[90m 416 |\u001b[39m     (fetch \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 417 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 418 |\u001b[39m       \u001b[33m.\u001b[39mmockRejectedValueOnce(\u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Failed'\u001b[39m))\n     \u001b[90m 419 |\u001b[39m       \u001b[33m.\u001b[39mmockResolvedValueOnce({ ok\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 420 |\u001b[39m     \u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:417:30)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Error: Internal server error\n    Received:\n      Error: FailedTrace: trace-789\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mTrigger Error\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"error\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mError: \u001b[0m\n                \u001b[0mFailed\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mTrace: \u001b[0m\n                \u001b[0mtrace-789\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 482 |\u001b[39m     \n     \u001b[90m 483 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 484 |\u001b[39m       expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Error: Internal server error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 485 |\u001b[39m       expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Trace: trace-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 486 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 487 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/infrastructure.test.tsx:484:36)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/comprehensive/i18n-websocket.test.tsx\n  \u25cf Internationalization and WebSocket Resilience Tests \u203a WebSocket Resilience Integration \u203a should handle WebSocket message buffering during reconnection\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2 buffered\n    Received:\n      0 buffered\n\n    \u001b[0m \u001b[90m 444 |\u001b[39m       \n     \u001b[90m 445 |\u001b[39m       expect(messageBuffer\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBe(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 446 |\u001b[39m       expect(getByTestId(\u001b[32m'buffer-size'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2 buffered'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 447 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 448 |\u001b[39m\n     \u001b[90m 449 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/comprehensive/i18n-websocket.test.tsx:446:42)\n\n  \u25cf Internationalization and WebSocket Resilience Tests \u203a WebSocket Resilience Integration \u203a should handle WebSocket heartbeat and keep-alive\n\n    expect(element).not.toHaveTextContent()\n\n    Expected element not to have text content:\n      None\n    Received:\n      None\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html\u001b[39m\n      \u001b[33mdir\u001b[39m=\u001b[32m\"ltr\"\u001b[39m\n      \u001b[33mlang\u001b[39m=\u001b[32m\"zh\"\u001b[39m\n    \u001b[36m>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body\u001b[39m\n        \u001b[33mstyle\u001b[39m=\u001b[32m\"text-align: left;\"\u001b[39m\n      \u001b[36m>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-health\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mhealthy\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-heartbeat\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mNone\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"heartbeat-interval\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1000\u001b[0m\n              \u001b[0mms\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"manual-heartbeat\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Heartbeat\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"faster-heartbeat\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mFaster Heartbeat\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 615 |\u001b[39m       \n     \u001b[90m 616 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 617 |\u001b[39m         expect(getByTestId(\u001b[32m'last-heartbeat'\u001b[39m))\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'None'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 618 |\u001b[39m         expect(getByTestId(\u001b[32m'connection-health'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'healthy'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 619 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 620 |\u001b[39m       \u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/i18n-websocket.test.tsx:617:51)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/comprehensive/collaboration-features.test.tsx\n  \u25cf Collaboration Features Integration Tests \u203a Real-time Cursor Synchronization \u203a should sync cursor positions in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'x')\n\n    \u001b[0m \u001b[90m 88 |\u001b[39m             {\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(otherCursors\u001b[33m.\u001b[39mentries())\u001b[33m.\u001b[39mmap(([userId\u001b[33m,\u001b[39m pos]) \u001b[33m=>\u001b[39m (\n     \u001b[90m 89 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m key\u001b[33m=\u001b[39m{userId} data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m{\u001b[32m`cursor-${userId}`\u001b[39m}\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 90 |\u001b[39m                 \u001b[33mUser\u001b[39m {userId}\u001b[33m:\u001b[39m {pos\u001b[33m.\u001b[39mx}\u001b[33m,\u001b[39m {pos\u001b[33m.\u001b[39my}\n     \u001b[90m    |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 91 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 92 |\u001b[39m             ))}\n     \u001b[90m 93 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at x (__tests__/integration/comprehensive/collaboration-features.test.tsx:90:37)\n          at Array.map (<anonymous>)\n      at map (__tests__/integration/comprehensive/collaboration-features.test.tsx:88:49)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/comprehensive/collaboration-features.test.tsx:102:14)\n\n  \u25cf Collaboration Features Integration Tests \u203a Real-time Cursor Synchronization \u203a should handle multiple cursor updates efficiently\n\n    TypeError: Cannot convert undefined or null to object\n        at Object.entries (<anonymous>)\n\n    \u001b[0m \u001b[90m 120 |\u001b[39m             \u001b[36mconst\u001b[39m message \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(event\u001b[33m.\u001b[39mdata)\u001b[33m;\u001b[39m\n     \u001b[90m 121 |\u001b[39m             \u001b[36mif\u001b[39m (message\u001b[33m.\u001b[39mtype \u001b[33m===\u001b[39m \u001b[32m'multi_cursor_update'\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 122 |\u001b[39m               setCursors(\u001b[36mnew\u001b[39m \u001b[33mMap\u001b[39m(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mentries(message\u001b[33m.\u001b[39mcursors)))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 123 |\u001b[39m             }\n     \u001b[90m 124 |\u001b[39m           }\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m           \u001b[0m\n\n      at Proxy.entries (__tests__/integration/comprehensive/collaboration-features.test.tsx:122:41)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at Proxy.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at node_modules/mock-socket/dist/mock-socket.js:2133:16\n          at Array.forEach (<anonymous>)\n      at Server.emit (node_modules/mock-socket/dist/mock-socket.js:2121:16)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:166:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/comprehensive/collaboration-features.test.tsx:145:14)\n\n  \u25cf Collaboration Features Integration Tests \u203a Presence and Activity Status \u203a should handle presence and activity status\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2 users online\n    Received:\n      1 users online\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m users online\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"typing-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n              \u001b[0m users typing\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 210 |\u001b[39m       \n     \u001b[90m 211 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 212 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'active-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2 users online'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 213 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 214 |\u001b[39m       \n     \u001b[90m 215 |\u001b[39m       \u001b[90m// Simulate typing\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-features.test.tsx:212:52)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Collaboration Features Integration Tests \u203a Presence and Activity Status \u203a should handle user status with detailed information\n\n    TypeError: Cannot read properties of undefined (reading 'name')\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m             {\u001b[33mArray\u001b[39m\u001b[33m.\u001b[39m\u001b[36mfrom\u001b[39m(users\u001b[33m.\u001b[39mentries())\u001b[33m.\u001b[39mmap(([userId\u001b[33m,\u001b[39m status]) \u001b[33m=>\u001b[39m (\n     \u001b[90m 262 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m key\u001b[33m=\u001b[39m{userId} data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m{\u001b[32m`user-${userId}`\u001b[39m}\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m                 {status\u001b[33m.\u001b[39mname} \u001b[33m-\u001b[39m {status\u001b[33m.\u001b[39mactivity} ({status\u001b[33m.\u001b[39mlastSeen})\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m               \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 265 |\u001b[39m             ))}\n     \u001b[90m 266 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at name (__tests__/integration/comprehensive/collaboration-features.test.tsx:263:25)\n          at Array.map (<anonymous>)\n      at map (__tests__/integration/comprehensive/collaboration-features.test.tsx:261:42)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/comprehensive/collaboration-features.test.tsx:274:14)\n\nPASS __tests__/integration/advanced-integration/offline-navigation.test.tsx\nFAIL __tests__/integration/comprehensive-integration-fixed.test.tsx\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should upload documents to corpus and process with embeddings\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: ArrayContaining [{\"content\": \"Document content for testing\", \"created_at\": \"2025-08-16T17:41:06.409Z\", \"embeddings\": [0.1, 0.2, 0.3], \"id\": \"doc-123\", \"title\": \"Test Document\"}]\n    Received: []\n\n    \u001b[0m \u001b[90m 53 |\u001b[39m\n     \u001b[90m 54 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertStoreState \u001b[33m=\u001b[39m (store\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m key\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m expectedValue\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 55 |\u001b[39m   expect(store\u001b[33m.\u001b[39mgetState()[key])\u001b[33m.\u001b[39mtoEqual(expectedValue)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 56 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m\n     \u001b[90m 58 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertFetchWasCalled \u001b[33m=\u001b[39m (url\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m options\u001b[33m?\u001b[39m\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toEqual (__tests__/helpers/test-assertion-helpers.ts:55:33)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration-fixed.test.tsx:143:23)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Synthetic Data Generation Flow \u203a should generate synthetic data based on user input\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Synthetic Data Generation Flow \u203a should generate synthetic data based on user input\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Synthetic Data Generation Flow \u203a should generate synthetic data based on user input\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Synthetic Data Generation Flow \u203a should generate synthetic data based on user input\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Synthetic Data Generation Flow \u203a should generate synthetic data based on user input\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf LLM Cache Management Integration \u203a should clear LLM cache and update UI\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf LLM Cache Management Integration \u203a should clear LLM cache and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf LLM Cache Management Integration \u203a should clear LLM cache and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf LLM Cache Management Integration \u203a should clear LLM cache and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf LLM Cache Management Integration \u203a should clear LLM cache and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf LLM Cache Management Integration \u203a should update cache TTL settings\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf LLM Cache Management Integration \u203a should update cache TTL settings\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf LLM Cache Management Integration \u203a should update cache TTL settings\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf LLM Cache Management Integration \u203a should update cache TTL settings\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf LLM Cache Management Integration \u203a should update cache TTL settings\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Supply Catalog Integration \u203a should load and display supply catalog\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Supply Catalog Integration \u203a should load and display supply catalog\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Supply Catalog Integration \u203a should load and display supply catalog\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Supply Catalog Integration \u203a should load and display supply catalog\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Supply Catalog Integration \u203a should load and display supply catalog\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Supply Catalog Integration \u203a should switch between different model providers\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Supply Catalog Integration \u203a should switch between different model providers\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Supply Catalog Integration \u203a should switch between different model providers\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Supply Catalog Integration \u203a should switch between different model providers\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Supply Catalog Integration \u203a should switch between different model providers\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Configuration Management \u203a should load and display configuration\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Configuration Management \u203a should load and display configuration\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Configuration Management \u203a should load and display configuration\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Configuration Management \u203a should load and display configuration\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Configuration Management \u203a should load and display configuration\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Configuration Management \u203a should update nested configuration values\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Configuration Management \u203a should update nested configuration values\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Configuration Management \u203a should update nested configuration values\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Configuration Management \u203a should update nested configuration values\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Configuration Management \u203a should update nested configuration values\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Health Check Monitoring \u203a should fetch and display system health status\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Health Check Monitoring \u203a should fetch and display system health status\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Health Check Monitoring \u203a should fetch and display system health status\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Health Check Monitoring \u203a should fetch and display system health status\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Health Check Monitoring \u203a should fetch and display system health status\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf OAuth Secrets Management \u203a should handle OAuth token refresh\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf OAuth Secrets Management \u203a should handle OAuth token refresh\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf OAuth Secrets Management \u203a should handle OAuth token refresh\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf OAuth Secrets Management \u203a should handle OAuth token refresh\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf OAuth Secrets Management \u203a should handle OAuth token refresh\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf OAuth Secrets Management \u203a should manage secrets securely\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf OAuth Secrets Management \u203a should manage secrets securely\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf OAuth Secrets Management \u203a should manage secrets securely\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf OAuth Secrets Management \u203a should manage secrets securely\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf OAuth Secrets Management \u203a should manage secrets securely\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Security Service Integration \u203a should validate user permissions for protected resources\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Security Service Integration \u203a should validate user permissions for protected resources\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Security Service Integration \u203a should validate user permissions for protected resources\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Security Service Integration \u203a should validate user permissions for protected resources\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Security Service Integration \u203a should validate user permissions for protected resources\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Security Service Integration \u203a should handle security token rotation\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Security Service Integration \u203a should handle security token rotation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Security Service Integration \u203a should handle security token rotation\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Security Service Integration \u203a should handle security token rotation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Security Service Integration \u203a should handle security token rotation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Key Manager Integration \u203a should manage API keys lifecycle\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Key Manager Integration \u203a should manage API keys lifecycle\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Key Manager Integration \u203a should manage API keys lifecycle\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Key Manager Integration \u203a should manage API keys lifecycle\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Key Manager Integration \u203a should manage API keys lifecycle\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Key Manager Integration \u203a should revoke compromised keys\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Key Manager Integration \u203a should revoke compromised keys\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Key Manager Integration \u203a should revoke compromised keys\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Key Manager Integration \u203a should revoke compromised keys\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Key Manager Integration \u203a should revoke compromised keys\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Admin Functionality Integration \u203a should manage user roles and permissions\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Admin Functionality Integration \u203a should manage user roles and permissions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Admin Functionality Integration \u203a should manage user roles and permissions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Admin Functionality Integration \u203a should manage user roles and permissions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Admin Functionality Integration \u203a should manage user roles and permissions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Admin Functionality Integration \u203a should access admin-only endpoints with proper auth\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Admin Functionality Integration \u203a should access admin-only endpoints with proper auth\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Admin Functionality Integration \u203a should access admin-only endpoints with proper auth\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Admin Functionality Integration \u203a should access admin-only endpoints with proper auth\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Admin Functionality Integration \u203a should access admin-only endpoints with proper auth\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Database Repository Pattern Integration \u203a should perform CRUD operations through repositories\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Database Repository Pattern Integration \u203a should perform CRUD operations through repositories\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Database Repository Pattern Integration \u203a should perform CRUD operations through repositories\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Database Repository Pattern Integration \u203a should perform CRUD operations through repositories\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Database Repository Pattern Integration \u203a should perform CRUD operations through repositories\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Database Repository Pattern Integration \u203a should handle database transactions\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Database Repository Pattern Integration \u203a should handle database transactions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Database Repository Pattern Integration \u203a should handle database transactions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Database Repository Pattern Integration \u203a should handle database transactions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Database Repository Pattern Integration \u203a should handle database transactions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Redis Caching Integration \u203a should invalidate cache on data updates\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Redis Caching Integration \u203a should invalidate cache on data updates\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Redis Caching Integration \u203a should invalidate cache on data updates\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Redis Caching Integration \u203a should invalidate cache on data updates\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Redis Caching Integration \u203a should invalidate cache on data updates\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf ClickHouse Analytics Integration \u203a should query analytics data from ClickHouse\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf ClickHouse Analytics Integration \u203a should query analytics data from ClickHouse\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf ClickHouse Analytics Integration \u203a should query analytics data from ClickHouse\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf ClickHouse Analytics Integration \u203a should query analytics data from ClickHouse\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf ClickHouse Analytics Integration \u203a should query analytics data from ClickHouse\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf ClickHouse Analytics Integration \u203a should aggregate metrics in real-time\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf ClickHouse Analytics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf ClickHouse Analytics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf ClickHouse Analytics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf ClickHouse Analytics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Background Task Processing \u203a should handle task failures and retries\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Demo Mode Functionality \u203a should enable demo mode with limited features\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Demo Mode Functionality \u203a should enable demo mode with limited features\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Demo Mode Functionality \u203a should enable demo mode with limited features\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Demo Mode Functionality \u203a should enable demo mode with limited features\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Demo Mode Functionality \u203a should enable demo mode with limited features\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Demo Mode Functionality \u203a should simulate data in demo mode\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Demo Mode Functionality \u203a should simulate data in demo mode\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Demo Mode Functionality \u203a should simulate data in demo mode\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Demo Mode Functionality \u203a should simulate data in demo mode\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Demo Mode Functionality \u203a should simulate data in demo mode\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Enterprise Demo Features \u203a should showcase enterprise optimization features\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Enterprise Demo Features \u203a should showcase enterprise optimization features\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Enterprise Demo Features \u203a should showcase enterprise optimization features\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Enterprise Demo Features \u203a should showcase enterprise optimization features\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Enterprise Demo Features \u203a should showcase enterprise optimization features\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Enterprise Demo Features \u203a should display ROI calculations\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Enterprise Demo Features \u203a should display ROI calculations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Enterprise Demo Features \u203a should display ROI calculations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Enterprise Demo Features \u203a should display ROI calculations\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Enterprise Demo Features \u203a should display ROI calculations\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf PDF and Image Processing \u203a should extract text from PDF files\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf PDF and Image Processing \u203a should extract text from PDF files\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf PDF and Image Processing \u203a should extract text from PDF files\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf PDF and Image Processing \u203a should extract text from PDF files\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf PDF and Image Processing \u203a should extract text from PDF files\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf PDF and Image Processing \u203a should analyze images using vision models\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf PDF and Image Processing \u203a should analyze images using vision models\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf PDF and Image Processing \u203a should analyze images using vision models\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf PDF and Image Processing \u203a should analyze images using vision models\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf PDF and Image Processing \u203a should analyze images using vision models\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Export and Import Functionality \u203a should export data in multiple formats\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Export and Import Functionality \u203a should export data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Export and Import Functionality \u203a should export data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Export and Import Functionality \u203a should export data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Export and Import Functionality \u203a should export data in multiple formats\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Export and Import Functionality \u203a should import and validate data\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Export and Import Functionality \u203a should import and validate data\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Export and Import Functionality \u203a should import and validate data\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Export and Import Functionality \u203a should import and validate data\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Export and Import Functionality \u203a should import and validate data\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Agent Tool Dispatcher Integration \u203a should dispatch tools to appropriate agents\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Agent Tool Dispatcher Integration \u203a should dispatch tools to appropriate agents\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Agent Tool Dispatcher Integration \u203a should dispatch tools to appropriate agents\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Agent Tool Dispatcher Integration \u203a should dispatch tools to appropriate agents\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Agent Tool Dispatcher Integration \u203a should dispatch tools to appropriate agents\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Collaboration Features \u203a should share threads with team members\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Collaboration Features \u203a should share threads with team members\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Collaboration Features \u203a should share threads with team members\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Collaboration Features \u203a should share threads with team members\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Collaboration Features \u203a should share threads with team members\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Collaboration Features \u203a should sync collaborative edits in real-time\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Collaboration Features \u203a should sync collaborative edits in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Collaboration Features \u203a should sync collaborative edits in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Collaboration Features \u203a should sync collaborative edits in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Collaboration Features \u203a should sync collaborative edits in real-time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Collaboration Features \u203a should handle presence awareness\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Collaboration Features \u203a should handle presence awareness\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Collaboration Features \u203a should handle presence awareness\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Collaboration Features \u203a should handle presence awareness\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Collaboration Features \u203a should handle presence awareness\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Jupyter Notebook Support \u203a should execute notebook cells\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Jupyter Notebook Support \u203a should execute notebook cells\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Jupyter Notebook Support \u203a should execute notebook cells\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Jupyter Notebook Support \u203a should execute notebook cells\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Jupyter Notebook Support \u203a should execute notebook cells\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Jupyter Notebook Support \u203a should render notebook visualizations\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Jupyter Notebook Support \u203a should render notebook visualizations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Jupyter Notebook Support \u203a should render notebook visualizations\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Jupyter Notebook Support \u203a should render notebook visualizations\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Jupyter Notebook Support \u203a should render notebook visualizations\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf State Persistence and Recovery \u203a should persist application state across sessions\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf State Persistence and Recovery \u203a should persist application state across sessions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf State Persistence and Recovery \u203a should persist application state across sessions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf State Persistence and Recovery \u203a should persist application state across sessions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf State Persistence and Recovery \u203a should persist application state across sessions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf State Persistence and Recovery \u203a should migrate state between versions\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf State Persistence and Recovery \u203a should migrate state between versions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf State Persistence and Recovery \u203a should migrate state between versions\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf State Persistence and Recovery \u203a should migrate state between versions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf State Persistence and Recovery \u203a should migrate state between versions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a should load all test suites\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m\n     \u001b[90m 18 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/infrastructure.test.tsx:19:12)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a should load all test suites\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m\n     \u001b[90m 42 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 45 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/data-generation.test.tsx:43:6)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a should load all test suites\n\n    TypeError: Cannot read properties of undefined (reading 'close')\n\n    \u001b[0m \u001b[90m 21 |\u001b[39m\n     \u001b[90m 22 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 23 |\u001b[39m   \u001b[33mWS\u001b[39m\u001b[33m.\u001b[39mclean()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 24 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\u001b[0m\n\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:172:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.close (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:171:5)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:80:16\n          at Array.forEach (<anonymous>)\n      at WS.clean (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:79:18)\n      at Object.clean (__tests__/integration/infrastructure.test.tsx:23:6)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a should load all test suites\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m\n     \u001b[90m 28 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/advanced-features.test.tsx:29:13)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a should load all test suites\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 31 |\u001b[39m\n     \u001b[90m 32 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 33 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 34 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m   localStorageMock\u001b[33m.\u001b[39mclear()\u001b[33m;\u001b[39m\n     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/collaboration-state.test.tsx:33:13)\n\nPASS __tests__/integration/data-generation.test.tsx\nFAIL __tests__/integration/tool-lifecycle-integration.test.ts\n  \u25cf Tool Lifecycle Integration \u203a should handle complete tool lifecycle: start -> display -> timeout -> cleanup\n\n    expect(received).not.toContain(expected) // indexOf\n\n    Matcher error: received value must not be null nor undefined\n\n    Received has value: undefined\n\n    \u001b[0m \u001b[90m 86 |\u001b[39m\n     \u001b[90m 87 |\u001b[39m     \u001b[90m// Verify tool was removed\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 88 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mactiveTools)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'data_analyzer'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 89 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtoolStatuses)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 90 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m\u001b[0m\n\n      at Object.toContain (__tests__/integration/tool-lifecycle-integration.test.ts:88:50)\n\n  \u25cf Tool Lifecycle Integration \u203a should prevent duplicate tools from being added\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 1\n    Received: 0\n\n    \u001b[0m \u001b[90m 122 |\u001b[39m     )\u001b[33m.\u001b[39mlength\u001b[33m;\u001b[39m\n     \u001b[90m 123 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 124 |\u001b[39m     expect(activeToolCount)\u001b[33m.\u001b[39mtoBe(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 125 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtoolStatuses)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 126 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/tool-lifecycle-integration.test.ts:124:29)\n\n  \u25cf Tool Lifecycle Integration \u203a should handle multiple tools simultaneously\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 3\n    Received length: 1\n    Received array:  [\"duplicate_tool\"]\n\n    \u001b[0m \u001b[90m 157 |\u001b[39m\n     \u001b[90m 158 |\u001b[39m     \u001b[90m// Verify all tools are active\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 159 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mactiveTools)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 160 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtoolStatuses)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 161 |\u001b[39m     \n     \u001b[90m 162 |\u001b[39m     tools\u001b[33m.\u001b[39mforEach(toolName \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/tool-lifecycle-integration.test.ts:159:46)\n\n  \u25cf Tool Lifecycle Integration \u203a should maintain backward compatibility with legacy activeTools array\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected value: \"new_tool\"\n    Received array: [\"duplicate_tool\", \"tool3\"]\n\n    \u001b[0m \u001b[90m 210 |\u001b[39m\n     \u001b[90m 211 |\u001b[39m     \u001b[90m// Should add to both activeTools and toolStatuses\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 212 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mactiveTools)\u001b[33m.\u001b[39mtoContain(\u001b[32m'new_tool'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 213 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtoolStatuses)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 214 |\u001b[39m     expect(store\u001b[33m.\u001b[39mfastLayerData\u001b[33m?\u001b[39m\u001b[33m.\u001b[39mtoolStatuses\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mname)\u001b[33m.\u001b[39mtoBe(\u001b[32m'new_tool'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 215 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toContain (__tests__/integration/tool-lifecycle-integration.test.ts:212:46)\n\nFAIL __tests__/integration/basic-integration-ui.test.tsx\n  \u25cf UI Interaction Integration Tests \u203a Form Interactions \u203a should handle form validation and submission\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Invalid email format\n    Received:\n      Email is required\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<form>\u001b[39m\n            \u001b[36m<input\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"email-input\"\u001b[39m\n              \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Enter email\"\u001b[39m\n              \u001b[33mtype\u001b[39m=\u001b[32m\"email\"\u001b[39m\n              \u001b[33mvalue\u001b[39m=\u001b[32m\"invalid-email\"\u001b[39m\n            \u001b[36m/>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mtype\u001b[39m=\u001b[32m\"submit\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSubmit\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"errors\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div>\u001b[39m\n                \u001b[0mEmail is required\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</form>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertTextContent \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (element\u001b[33m:\u001b[39m \u001b[33mHTMLElement\u001b[39m\u001b[33m,\u001b[39m expectedText\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     expect(element)\u001b[33m.\u001b[39mtoHaveTextContent(expectedText)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/helpers/test-assertions.ts:10:21)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/basic-integration-data.test.tsx\n  \u25cf Data Flow Integration Tests \u203a Chat Functionality \u203a should handle streaming messages\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Hello \n    Received:\n      Hello\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"streaming-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mHello \u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  8 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertTextContent \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m (element\u001b[33m:\u001b[39m \u001b[33mHTMLElement\u001b[39m\u001b[33m,\u001b[39m expectedText\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n     \u001b[90m  9 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     expect(element)\u001b[33m.\u001b[39mtoHaveTextContent(expectedText)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 11 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 13 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/helpers/test-assertions.ts:10:21)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/comprehensive-integration-refactored.test.tsx\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should upload documents to corpus and process with embeddings\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: ArrayContaining [{\"content\": \"Document content for testing\", \"created_at\": \"2025-08-16T17:41:11.854Z\", \"embeddings\": [0.1, 0.2, 0.3], \"id\": \"doc-123\", \"title\": \"Test Document\"}]\n    Received: []\n\n    \u001b[0m \u001b[90m 53 |\u001b[39m\n     \u001b[90m 54 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertStoreState \u001b[33m=\u001b[39m (store\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m key\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m expectedValue\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 55 |\u001b[39m   expect(store\u001b[33m.\u001b[39mgetState()[key])\u001b[33m.\u001b[39mtoEqual(expectedValue)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 56 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m\n     \u001b[90m 58 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m assertFetchWasCalled \u001b[33m=\u001b[39m (url\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m options\u001b[33m?\u001b[39m\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toEqual (__tests__/helpers/test-assertion-helpers.ts:55:33)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration-refactored.test.tsx:88:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 2. Synthetic Data Generation Flow \u203a should generate synthetic data based on templates\n\n    TypeError: (0 , _testcomponenthelpers.createGenerationTestComponent) is not a function\n\n    \u001b[0m \u001b[90m 105 |\u001b[39m       setupGenerationMock(mockGenerationJob)\u001b[33m;\u001b[39m\n     \u001b[90m 106 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 107 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m createGenerationTestComponent()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 108 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 109 |\u001b[39m       \n     \u001b[90m 110 |\u001b[39m       \u001b[36mawait\u001b[39m waitForElementText(\u001b[32m'ws-connected'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'connected'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration-refactored.test.tsx:107:58)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should cache and retrieve LLM responses\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 131 |\u001b[39m       \n     \u001b[90m 132 |\u001b[39m       expect(response1\u001b[33m.\u001b[39mcached)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 133 |\u001b[39m       expect(response2\u001b[33m.\u001b[39mcached)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m\n     \u001b[90m 136 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration-refactored.test.tsx:133:32)\n\nFAIL __tests__/integration/basic-integration-auth.test.tsx\n  \u25cf Console\n\n    console.error\n      An update to ErrorComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m   \n     \u001b[90m 128 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:125:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setError (__tests__/integration/basic-integration-auth.test.tsx:104:13)\n\n    console.error\n      An update to ErrorComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m   \n     \u001b[90m 128 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:125:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (__tests__/integration/basic-integration-auth.test.tsx:106:13)\n\n  \u25cf Authentication Integration Tests \u203a Error Handling \u203a should handle network errors gracefully\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"error\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<button>\u001b[39m\n            \u001b[0mFetch Data\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mLoading...\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Fetch Data'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m       \u001b[36mawait\u001b[39m assertTextContent(getByTestId(\u001b[32m'error'\u001b[39m)\u001b[33m,\u001b[39m \u001b[32m'Network error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m\n     \u001b[90m 128 |\u001b[39m     it(\u001b[32m'should handle WebSocket disconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/basic-integration-auth.test.tsx:125:31)\n\nFAIL __tests__/integration/auth-flow.test.tsx\n  \u25cf Console\n\n    console.error\n      An update to null inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m   \n     \u001b[90m 128 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:125:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:6109:41\n      at node_modules/zustand/vanilla.js:11:39\n          at Set.forEach (<anonymous>)\n      at setState (node_modules/zustand/vanilla.js:11:17)\n      at useBoundStore.store.setState (node_modules/zustand/middleware/immer.js:8:12)\n      at setState (__tests__/test-utils/integration-test-setup.ts:49:16)\n      at resetTestState (__tests__/test-utils/integration-test-setup.ts:120:3)\n      at Object.<anonymous> (__tests__/integration/auth-flow.test.tsx:39:23)\n\n    console.error\n      An update to null inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 123 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 124 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 125 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 126 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 127 |\u001b[39m   \n     \u001b[90m 128 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:125:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at forceStoreRerender (node_modules/react-dom/cjs/react-dom-client.development.js:6124:24)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:6109:41\n      at node_modules/zustand/vanilla.js:11:39\n          at Set.forEach (<anonymous>)\n      at setState (node_modules/zustand/vanilla.js:11:17)\n      at useBoundStore.store.setState (node_modules/zustand/middleware/immer.js:8:12)\n      at setState (__tests__/test-utils/integration-test-setup.ts:49:16)\n      at resetTestState (__tests__/test-utils/integration-test-setup.ts:120:3)\n      at Object.<anonymous> (__tests__/integration/auth-flow.test.tsx:39:23)\n\n  \u25cf Authentication Flow Integration \u203a should persist authentication state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"test-auth-token\"\n    Received: null\n\n    \u001b[0m \u001b[90m 148 |\u001b[39m\n     \u001b[90m 149 |\u001b[39m   \u001b[36mfunction\u001b[39m verifyStatePersistence() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 150 |\u001b[39m     expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth-token'\u001b[39m))\u001b[33m.\u001b[39mtoBe(mockAuthToken)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 151 |\u001b[39m     expect(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth-user'\u001b[39m) \u001b[33m||\u001b[39m \u001b[32m'{}'\u001b[39m))\u001b[33m.\u001b[39mtoEqual(mockUser)\u001b[33m;\u001b[39m\n     \u001b[90m 152 |\u001b[39m   }\n     \u001b[90m 153 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/integration/auth-flow.test.tsx:150:48)\n      at Object.verifyStatePersistence (__tests__/integration/auth-flow.test.tsx:68:5)\n\nPASS __tests__/integration/critical/error-recovery-refactored.test.tsx\nPASS __tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx\nPASS __tests__/integration/advanced-integration/index.test.tsx\nPASS __tests__/integration/advanced-integration.test.tsx\nPASS __tests__/integration/comprehensive/navigation-search.test.tsx\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 21
          },
          "coverage": null,
          "test_details": []
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755366008.4431117,
          "end_time": 1755366079.457106
        }
      },
      "summary": {
        "total": 1,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 1
      }
    },
    {
      "timestamp": "2025-08-16T10:41:26.227354",
      "level": "real_e2e",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 0.14359688758850098,
          "exit_code": 2,
          "output": "\nusage: test_backend.py [-h]\n                       [--category {unit,integration,agent,websocket,auth,database,critical,smoke}]\n                       [--keyword KEYWORD] [--markers MARKERS]\n                       [--parallel PARALLEL] [--fail-fast] [--failed-first]\n                       [--coverage] [--min-coverage MIN_COVERAGE] [--verbose]\n                       [--quiet] [--json-output] [--html-output] [--profile]\n                       [--check-deps] [--show-warnings] [--isolation]\n                       [tests ...]\ntest_backend.py: error: unrecognized arguments: --tb=short\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755366086.0632343,
          "end_time": 1755366086.2068312
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-16T10:42:15.712231",
      "level": "unit",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 11.73521637916565,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 10.65s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-16 10:42:07.682 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:42:07.682 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:42:07.683 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:42:07.683 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:42:07.683 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:42:07.683 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:42:07.683 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:42:07.684 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:42:07.684 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:42:07.684 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:42:07.684 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:42:07.684 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:42:07.684 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:42:07.685 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:42:07.685 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:42:07.685 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:42:07.687 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:42:07.687 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:42:07.688 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:42:07.688 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:42:07.689 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:42:07.690 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:42:07.690 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:42:07.690 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:42:07.714 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:42:07.714 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:42:07.714 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:42:07.749 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:42:08.187 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:42:08.381 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:42:09.263 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:42:09.327 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:42:10.927 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:42:12.759 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:42:12.826 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:42:12.910 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:42:13.173 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:42:13.173 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:42:13.173 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:48: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:168: in create_app\n    register_api_routes(app)\napp\\core\\app_factory.py:77: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:82: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:100: in _import_route_modules\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status.py:14: in <module>\n    from app.services.factory_status.factory_status_integration import (\napp\\services\\factory_status\\factory_status_integration.py:9: in <module>\n    from app.services.factory_status.spec_compliance_scorer import (\napp\\services\\factory_status\\spec_compliance_scorer.py:14: in <module>\n    from app.core.exceptions_validation import ValidationException\nE   ModuleNotFoundError: No module named 'app.core.exceptions_validation'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=8, microseconds=626812), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=39412, name='MainProcess'), 'thread': (id=35332, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 42, 14, 865610, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755366123.9212043,
          "end_time": 1755366135.6655872
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-16T10:43:01.504353",
      "level": "agents",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 6.1121320724487305,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: all\n  Parallel: 4\n  Coverage: disabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/agents/test_data_sub_agent.py tests/test_actions_sub_agent.py -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 5.27s\n================================================================================\n\n2025-08-16 10:42:58.392 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:42:58.393 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:42:58.393 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:42:58.393 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:42:58.394 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:42:58.394 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:42:58.394 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:42:58.394 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:42:58.394 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:42:58.394 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:42:58.395 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:42:58.395 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:42:58.395 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:42:58.395 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:42:58.395 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:42:58.396 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:42:58.396 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:42:58.397 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:42:58.397 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:42:58.397 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:42:58.398 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:42:58.398 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:42:58.399 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:42:58.400 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:42:58.417 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:42:58.417 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:42:58.417 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:42:58.435 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:42:58.768 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:42:58.885 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:42:59.362 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:42:59.427 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:42:59.863 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:43:00.333 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:00.347 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:00.371 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:43:00.402 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:43:00.402 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:43:00.402 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:48: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:168: in create_app\n    register_api_routes(app)\napp\\core\\app_factory.py:77: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:82: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:100: in _import_route_modules\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status.py:14: in <module>\n    from app.services.factory_status.factory_status_integration import (\napp\\services\\factory_status\\factory_status_integration.py:9: in <module>\n    from app.services.factory_status.spec_compliance_scorer import (\napp\\services\\factory_status\\spec_compliance_scorer.py:15: in <module>\n    from app.core.interfaces_monitoring import ComplianceMetrics\nE   ModuleNotFoundError: No module named 'app.core.interfaces_monitoring'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=3, microseconds=468006), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=2716, name='MainProcess'), 'thread': (id=38324, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 43, 0, 924718, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "skipped",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755366175.3694067,
          "end_time": 1755366181.4849148
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-16T10:43:06.207457",
      "level": "unit",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 10.623090744018555,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 9.68s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-16 10:42:59.559 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:42:59.560 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:42:59.560 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:42:59.565 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:42:59.565 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:42:59.599 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:42:59.599 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:42:59.599 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:42:59.643 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:43:00.205 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:43:00.445 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:43:01.721 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:43:01.805 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:43:02.930 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:43:03.983 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:04.002 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:04.055 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:43:04.178 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:43:04.178 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:43:04.178 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:48: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:168: in create_app\n    register_api_routes(app)\napp\\core\\app_factory.py:77: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:82: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:100: in _import_route_modules\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status.py:14: in <module>\n    from app.services.factory_status.factory_status_integration import (\napp\\services\\factory_status\\factory_status_integration.py:9: in <module>\n    from app.services.factory_status.spec_compliance_scorer import (\napp\\services\\factory_status\\spec_compliance_scorer.py:15: in <module>\n    from app.core.interfaces_monitoring import ComplianceMetrics\nE   ModuleNotFoundError: No module named 'app.core.interfaces_monitoring'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=7, microseconds=378544), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=512, name='MainProcess'), 'thread': (id=11160, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 43, 5, 183765, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "failed",
          "duration": 0.35574913024902344,
          "exit_code": 15,
          "output": "\n'hooks' is not recognized as an internal or external command,\noperable program or batch file.\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755366175.2028258,
          "end_time": 1755366186.1836717
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-16T10:43:06.463481",
      "level": "integration",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 10.295284509658813,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: integration\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest integration_tests app/tests/routes -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 9.36s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-16 10:42:59.313 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:42:59.315 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:42:59.315 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:42:59.319 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:42:59.319 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:42:59.321 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:42:59.321 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:42:59.321 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:42:59.321 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:42:59.322 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:42:59.322 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:42:59.323 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:42:59.352 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:42:59.352 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:42:59.352 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:42:59.394 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:42:59.914 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:43:00.174 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:43:01.388 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:43:01.525 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:43:02.618 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:43:03.673 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:03.701 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:03.752 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:43:03.871 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:43:03.871 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:43:03.871 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:48: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:168: in create_app\n    register_api_routes(app)\napp\\core\\app_factory.py:77: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:82: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:100: in _import_route_modules\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status.py:14: in <module>\n    from app.services.factory_status.factory_status_integration import (\napp\\services\\factory_status\\factory_status_integration.py:9: in <module>\n    from app.services.factory_status.spec_compliance_scorer import (\napp\\services\\factory_status\\spec_compliance_scorer.py:15: in <module>\n    from app.core.interfaces_monitoring import ComplianceMetrics\nE   ModuleNotFoundError: No module named 'app.core.interfaces_monitoring'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=7, microseconds=147531), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=8968, name='MainProcess'), 'thread': (id=3636, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 43, 4, 674105, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "frontend": {
          "status": "failed",
          "duration": 1.1213343143463135,
          "exit_code": 15,
          "output": "\n> netra-frontend-apex-v1@0.1.0 test\n> node run-jest.js --forceExit --detectOpenHandles --testMatch **/__tests__/integration/**/*.test.[jt]s?(x)\n\n================================================================================\nNETRA AI PLATFORM - FRONTEND TEST RUNNER\n================================================================================\n\n================================================================================\nRunning Jest Tests\n--------------------------------------------------------------------------------\nRunning: npm run test -- --forceExit --detectOpenHandles --testMatch **/__tests__/integration/**/*.test.[jt]s?(x)\n--------------------------------------------------------------------------------\n\n================================================================================\n[FAIL] CHECKS FAILED with exit code 15\n================================================================================\n\nCleaning up test processes...\n\n",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0,
            "test_files": 0
          },
          "coverage": null,
          "test_details": []
        },
        "e2e": {
          "status": "pending",
          "duration": 0,
          "exit_code": null,
          "output": "",
          "test_counts": {
            "total": 0,
            "passed": 0,
            "failed": 0,
            "skipped": 0,
            "errors": 0
          },
          "coverage": null
        },
        "overall": {
          "status": "failed",
          "start_time": 1755366175.0162148,
          "end_time": 1755366186.4393375
        }
      },
      "summary": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      }
    },
    {
      "timestamp": "2025-08-16T10:43:13.628239",
      "level": "unit",
      "results": {
        "backend": {
          "status": "failed",
          "duration": 10.290607690811157,
          "exit_code": 4,
          "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: unit\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest app/tests/services app/tests/core -vv -n 4 -x --maxfail=1 --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services\n================================================================================\nLoaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\nLoaded .env.development file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development\nLoaded .env.development.local file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.development.local\n================================================================================\n[FAIL] TESTS FAILED with exit code 4 after 9.42s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n2025-08-16 10:43:07.568 | INFO     | app.core.unified_logging:_emit_log:117 | Loading configuration for: testing\n2025-08-16 10:43:07.569 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set database_url from DATABASE_URL\n2025-08-16 10:43:07.569 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set redis_url from REDIS_URL\n2025-08-16 10:43:07.569 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set clickhouse_url from CLICKHOUSE_URL\n2025-08-16 10:43:07.569 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set secret_key from SECRET_KEY\n2025-08-16 10:43:07.569 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set jwt_secret_key from JWT_SECRET_KEY\n2025-08-16 10:43:07.569 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set fernet_key from FERNET_KEY\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set log_level from LOG_LEVEL\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set environment from ENVIRONMENT\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse host: localhost\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse port: 9000\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse password\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set ClickHouse user: default\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Set Gemini API key for LLM configs\n2025-08-16 10:43:07.571 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 13 env vars\n2025-08-16 10:43:07.571 | INFO     | app.core.unified_logging:_emit_log:117 | Loading secrets...\n2025-08-16 10:43:07.571 | INFO     | app.core.unified_logging:_emit_log:117 | Starting secret=REDACTED process for environment: development\n2025-08-16 10:43:07.571 | INFO     | app.core.unified_logging:_emit_log:117 | Loaded 9 secrets from environment variables\n2025-08-16 10:43:07.571 | DEBUG    | app.core.unified_logging:_emit_log:117 | Critical secrets present in env: gemini-api-key, jwt-secret-key, fernet-key\n2025-08-16 10:43:07.571 | INFO     | app.core.unified_logging:_emit_log:117 | Using only environment variables for secrets (local development mode): 9 secrets loaded\n2025-08-16 10:43:07.571 | INFO     | app.core.unified_logging:_emit_log:117 | Applying 9 secrets\n2025-08-16 10:43:07.571 | INFO     | app.core.unified_logging:_emit_log:117 | Applied 9 secrets (from 9 loaded)\n2025-08-16 10:43:07.576 | INFO     | app.core.unified_logging:_emit_log:117 | Critical secrets loaded: 3 (gemini-api-key, jwt-secret-key, fernet-key)\n2025-08-16 10:43:07.576 | INFO     | app.core.unified_logging:_emit_log:117 | Configuration validation completed successfully\n2025-08-16 10:43:07.610 | DEBUG    | logging:handle:1028 | loaded lazy attr 'SafeConfigParser': <class 'configparser.ConfigParser'>\n2025-08-16 10:43:07.611 | DEBUG    | logging:handle:1028 | loaded lazy attr 'NativeStringIO': <class '_io.StringIO'>\n2025-08-16 10:43:07.611 | DEBUG    | logging:handle:1028 | loaded lazy attr 'BytesIO': <class '_io.BytesIO'>\n2025-08-16 10:43:07.665 | DEBUG    | logging:handle:1028 | registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>\n2025-08-16 10:43:08.295 | INFO     | app.db.postgres_core:_create_and_setup_engine:258 | PostgreSQL async engine created with AsyncAdaptedQueuePool connection pooling\n2025-08-16 10:43:08.744 | DEBUG    | app.services.metrics.agent_metrics:__init__:24 | Initialized AgentMetricsCollector with buffer size 5000\n2025-08-16 10:43:09.921 | DEBUG    | logging:handle:1028 | Using orjson library for writing JSON byte strings\n2025-08-16 10:43:09.986 | DEBUG    | logging:handle:1028 | Looking up time zone info from registry\n2025-08-16 10:43:10.899 | INFO     | app.core.unified_logging:_emit_log:117 | SyntheticDataService initialized successfully\n2025-08-16 10:43:11.863 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:11.888 | INFO     | logging:handle:1028 | UnifiedToolRegistry initialized\n2025-08-16 10:43:11.936 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\n2025-08-16 10:43:12.030 | INFO     | app.services.quality_gate.quality_gate_core:__init__:34 | Quality Gate Service initialized\n2025-08-16 10:43:12.031 | INFO     | app.services.quality_monitoring.service:__init__:48 | Quality Monitoring Service initialized\n2025-08-16 10:43:12.031 | INFO     | app.services.fallback_response.response_generator:__init__:25 | Response Generator initialized\nImportError while loading conftest 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\tests\\conftest.py'.\napp\\tests\\conftest.py:52: in <module>\n    from app.main import app\napp\\main.py:48: in <module>\n    app = create_app()\n          ^^^^^^^^^^^^\napp\\core\\app_factory.py:168: in create_app\n    register_api_routes(app)\napp\\core\\app_factory.py:77: in register_api_routes\n    _import_and_register_routes(app)\napp\\core\\app_factory.py:82: in _import_and_register_routes\n    route_modules = _import_route_modules()\n                    ^^^^^^^^^^^^^^^^^^^^^^^\napp\\core\\app_factory.py:100: in _import_route_modules\n    from app.routes.factory_status import router as factory_status_router\napp\\routes\\factory_status.py:14: in <module>\n    from app.services.factory_status.factory_status_integration import (\napp\\services\\factory_status\\factory_status_integration.py:9: in <module>\n    from app.services.factory_status.spec_compliance_scorer import (\napp\\services\\factory_status\\spec_compliance_scorer.py:15: in <module>\n    from app.core.interfaces_monitoring import ComplianceMetrics\nE   ModuleNotFoundError: No module named 'app.core.interfaces_monitoring'\n--- Logging error in Loguru Handler #1 ---\nRecord was: {'elapsed': datetime.timedelta(seconds=6, microseconds=990604), 'exception': None, 'extra': {}, 'file': (name='__init__.py', path='C:\\\\Users\\\\antho\\\\miniconda3\\\\Lib\\\\logging\\\\__init__.py'), 'function': 'handle', 'level': (name='INFO', no=20, icon='\\u2139\\ufe0f'), 'line': 1028, 'message': 'Multiprocessing resources cleaned up', 'module': '__init__', 'name': 'logging', 'process': (id=40744, name='MainProcess'), 'thread': (id=9872, name='MainThread'), 'time': datetime(2025, 8, 16, 10, 43, 12, 578578, tzinfo=datetime.timezone(datetime.timedelta(days=-1, seconds=61200), 'Pacific Daylight Time'))}\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_handler.py\", line 315, in _queued_writer\n    self._sink.write(message)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\loguru\\_simple_sinks.py\", line 16, in write\n    self._stream.write(message)\nValueError: I/O operation on closed file.\n--- End of logging error ---\n"