{
  "timestamp": "2025-08-12T12:23:46.831725",
  "level": "integration",
  "metrics": {
    "total_tests": 131,
    "passed": 81,
    "failed": 49,
    "coverage": null
  },
  "results": {
    "backend": {
      "status": "failed",
      "duration": 32.30383777618408,
      "exit_code": 2,
      "output": "================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: integration\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: development\n\nRunning command:\n  pytest integration_tests app/tests/routes -vv -n 4 -x --maxfail=1 --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings\n================================================================================\n\u001b[1m============================= test session starts =============================\u001b[0m\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\antho\\miniconda3\\python.exe\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.4', 'Platform': 'Windows-11-10.0.26100-SP0', 'Packages': {'pytest': '8.4.1', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'Faker': '37.4.2', 'langsmith': '0.4.10', 'asyncio': '0.21.1', 'cov': '6.2.1', 'html': '4.1.1', 'json-report': '1.5.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'timeout': '2.4.0', 'xdist': '3.8.0', 'typeguard': '4.4.4'}}\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.4.2, langsmith-0.4.10, asyncio-0.21.1, cov-6.2.1, html-4.1.1, json-report-1.5.0, metadata-3.1.1, mock-3.14.1, timeout-2.4.0, xdist-3.8.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO\ncreated: 4/4 workers\n4 workers [85 items]\n\nscheduling tests via LoadScheduling\n\nintegration_tests/test_generation_service.py::test_save_and_get_corpus \napp/tests/routes/test_apex_optimizer_agent_route.py::test_apex_optimizer_agent[I need to reduce costs but keep quality the same. For feature X, I can accept a latency of 500ms. For feature Y, I need to maintain the current latency of 200ms.] \nintegration_tests/test_health.py::test_ready_endpoint_clickhouse_failure \nintegration_tests/test_app.py::test_read_main \n[gw2]\u001b[36m [  1%] \u001b[0m\u001b[31mERROR\u001b[0m integration_tests/test_health.py::test_ready_endpoint_clickhouse_failure \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m integration_tests/test_generation_service.py::test_save_and_get_corpus \nintegration_tests/test_generation_service.py::test_run_synthetic_data_generation_job_e2e \n[gw1]\u001b[36m [  3%] \u001b[0m\u001b[31mFAILED\u001b[0m integration_tests/test_generation_service.py::test_run_synthetic_data_generation_job_e2e \n[gw3]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_apex_optimizer_agent_route.py::test_apex_optimizer_agent[I need to reduce costs but keep quality the same. For feature X, I can accept a latency of 500ms. For feature Y, I need to maintain the current latency of 200ms.] \napp/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_endpoint_requires_authentication \n[gw3]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_endpoint_requires_authentication \napp/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_role_verification \n[gw3]\u001b[36m [  7%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_role_verification \napp/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_user_management \n[gw3]\u001b[36m [  8%] \u001b[0m\u001b[31mFAILED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_user_management \n[gw0] node down: Not properly terminated\n[gw0]\u001b[36m [  9%] \u001b[0m\u001b[31mFAILED\u001b[0m integration_tests/test_app.py::test_read_main \n\nreplacing crashed worker gw0\n\n=================================== ERRORS ====================================\n\u001b[31m\u001b[1m__________ ERROR at setup of test_ready_endpoint_clickhouse_failure ___________\u001b[0m\n[gw2] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\nfile C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\integration_tests\\test_health.py, line 37\n  def test_ready_endpoint_clickhouse_failure(client: TestClient):\nE       fixture 'client' not found\n>       available fixtures: _session_faker, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, class_mocker, cleanup_dependency_overrides, cov, doctest_namespace, event_loop, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mocker, module_mocker, monkeypatch, no_cover, package_mocker, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, session_mocker, testrun_uid, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, worker_id\n>       use 'pytest --fixtures [testpath]' for help on them.\n\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\integration_tests\\test_health.py:37\n================================== FAILURES ===================================\n\u001b[31m\u001b[1m_________________ test_run_synthetic_data_generation_job_e2e __________________\u001b[0m\n[gw1] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mintegration_tests\\test_generation_service.py\u001b[0m:178: in test_run_synthetic_data_generation_job_e2e\n    \u001b[0m\u001b[94massert\u001b[39;49;00m job_status \u001b[95mis\u001b[39;49;00m \u001b[95mnot\u001b[39;49;00m \u001b[94mNone\u001b[39;49;00m\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   assert None is not None\u001b[0m\n---------------------------- Captured stderr call -----------------------------\nC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\integration_tests\\test_generation_service.py:153: RuntimeWarning: coroutine 'JobStore.set' was never awaited\n  job_store.set(\"test\", {})\nRuntimeWarning: Enable tracemalloc to get the object allocation traceback\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[31m\u001b[1m__________________ TestAdminRoute.test_admin_user_management __________________\u001b[0m\n[gw3] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mapp\\tests\\routes\\test_api_routes_21_30.py\u001b[0m:45: in test_admin_user_management\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m patch(\u001b[33m'\u001b[39;49;00m\u001b[33mapp.services.user_service.get_all_users\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m) \u001b[94mas\u001b[39;49;00m mock_get:\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1458: in __enter__\n    \u001b[0moriginal, local = \u001b[96mself\u001b[39;49;00m.get_original()\u001b[90m\u001b[39;49;00m\n                      ^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1431: in get_original\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAttributeError\u001b[39;49;00m(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AttributeError: <module 'app.services.user_service' from 'C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\app\\\\services\\\\user_service.py'> does not have the attribute 'get_all_users'\u001b[0m\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n---------------------------- Captured log teardown ----------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[31m\u001b[1m________________________ integration_tests/test_app.py ________________________\u001b[0m\n[gw0] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\nworker 'gw0' crashed while running 'integration_tests/test_app.py::test_read_main'\n\u001b[36m\u001b[1m=========================== short test summary info ===========================\u001b[0m\n\u001b[31mFAILED\u001b[0m integration_tests/test_generation_service.py::\u001b[1mtest_run_synthetic_data_generation_job_e2e\u001b[0m - assert None is not None\n\u001b[31mFAILED\u001b[0m app/tests/routes/test_api_routes_21_30.py::\u001b[1mTestAdminRoute::test_admin_user_management\u001b[0m - AttributeError: <module 'app.services.user_service' from 'C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\app\\\\services\\\\user_service.py'> does not have the attribute 'get_all_users'\n\u001b[31mFAILED\u001b[0m integration_tests/test_app.py::\u001b[1mtest_read_main\u001b[0m\n\u001b[31mERROR\u001b[0m integration_tests/test_health.py::\u001b[1mtest_ready_endpoint_clickhouse_failure\u001b[0m\n\u001b[31m!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 4 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\u001b[0m\n!!!!!!!!!!!! xdist.dsession.Interrupted: stopping after 1 failures !!!!!!!!!!!!\n\u001b[31m==================== \u001b[31m\u001b[1m3 failed\u001b[0m, \u001b[32m4 passed\u001b[0m, \u001b[31m\u001b[1m1 error\u001b[0m\u001b[31m in 23.38s\u001b[0m\u001b[31m ====================\u001b[0m\n================================================================================\n[FAIL] TESTS FAILED with exit code 2 after 31.45s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n",
      "test_counts": {
        "total": 8,
        "passed": 4,
        "failed": 3,
        "skipped": 0,
        "errors": 1,
        "test_files": 6
      },
      "coverage": null
    },
    "frontend": {
      "status": "failed",
      "duration": 26.808322429656982,
      "exit_code": 1,
      "output": "\n> netra-frontend-apex-v1@0.1.0 test\n> jest __tests__/integration __tests__/api\n\n================================================================================\nNETRA AI PLATFORM - FRONTEND TEST RUNNER\n================================================================================\n\n================================================================================\nRunning Jest Tests\n--------------------------------------------------------------------------------\nRunning: npm run test -- __tests__/integration __tests__/api\n--------------------------------------------------------------------------------\n\n================================================================================\n[FAIL] CHECKS FAILED with exit code 1\n================================================================================\n\nFAIL __tests__/integration/critical-integration.test.tsx\n  \u25cf Console\n\n    console.warn\n      Performance degradation: api_latency = 1500ms (threshold: 1000ms)\n\n    \u001b[0m \u001b[90m 111 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 112 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 113 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 114 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.ts:113:18)\n      at warn (__tests__/integration/critical-integration.test.tsx:929:19)\n      at Object.checkPerformance (__tests__/integration/critical-integration.test.tsx:936:22)\n\n    console.log\n      Flushed notification: { type: 'info', message: 'Offline notification 1' }\n\n      at log (__tests__/integration/critical-integration.test.tsx:1063:19)\n\n    console.log\n      Flushed notification: { type: 'warning', message: 'Offline notification 2' }\n\n      at log (__tests__/integration/critical-integration.test.tsx:1063:19)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should integrate WebSocket with authentication state\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:83:13)\n\n  \u25cf Critical Frontend Integration Tests \u203a 1. WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:110:35)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should coordinate agent state with WebSocket messages\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:142:35)\n\n  \u25cf Critical Frontend Integration Tests \u203a 2. Agent Provider Integration \u203a should sync agent reports with chat messages\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:189:35)\n\n  \u25cf Critical Frontend Integration Tests \u203a 3. Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 264 |\u001b[39m       }\n     \u001b[90m 265 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 266 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39misAuthenticated)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 267 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39muser)\u001b[33m.\u001b[39mtoEqual(mockUser)\u001b[33m;\u001b[39m\n     \u001b[90m 268 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 269 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical-integration.test.tsx:266:55)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should create thread and sync with messages\n\n    TypeError: Cannot read properties of undefined (reading 'createThread')\n\n    \u001b[0m \u001b[90m 283 |\u001b[39m       \n     \u001b[90m 284 |\u001b[39m       \u001b[90m// Create thread through service\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 285 |\u001b[39m       \u001b[36mconst\u001b[39m thread \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m threadService\u001b[33m.\u001b[39mcreateThread(\u001b[32m'New Thread'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 286 |\u001b[39m       \n     \u001b[90m 287 |\u001b[39m       \u001b[90m// Update store\u001b[39m\n     \u001b[90m 288 |\u001b[39m       useThreadStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39maddThread(thread)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createThread (__tests__/integration/critical-integration.test.tsx:285:42)\n\n  \u25cf Critical Frontend Integration Tests \u203a 4. Thread Management Integration \u203a should switch threads and load messages\n\n    TypeError: _messageService.messageService.getMessages is not a function\n\n    \u001b[0m \u001b[90m 335 |\u001b[39m       \n     \u001b[90m 336 |\u001b[39m       \u001b[90m// Load thread 1\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 337 |\u001b[39m       \u001b[36mawait\u001b[39m messageService\u001b[33m.\u001b[39mgetMessages(\u001b[32m'thread-1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 338 |\u001b[39m       useChatStore\u001b[33m.\u001b[39msetState({ messages\u001b[33m:\u001b[39m thread1Messages\u001b[33m,\u001b[39m currentThread\u001b[33m:\u001b[39m \u001b[32m'thread-1'\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 339 |\u001b[39m       \n     \u001b[90m 340 |\u001b[39m       expect(useChatStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual(thread1Messages)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getMessages (__tests__/integration/critical-integration.test.tsx:337:28)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should stream agent responses to chat\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:369:13)\n\n  \u25cf Critical Frontend Integration Tests \u203a 5. Real-time Message Streaming \u203a should handle message interruption gracefully\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:416:35)\n\n  \u25cf Critical Frontend Integration Tests \u203a 6. Error Recovery Integration \u203a should recover from WebSocket disconnection\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:462:35)\n\n  \u25cf Critical Frontend Integration Tests \u203a 9. Optimization Recommendations Flow \u203a should process optimization request end-to-end\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:709:13)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should coordinate multiple sub-agents\n\n    useWebSocketContext must be used within a WebSocketProvider\n\n    \u001b[0m \u001b[90m 16 |\u001b[39m   \u001b[36mconst\u001b[39m context \u001b[33m=\u001b[39m useContext(\u001b[33mWebSocketContext\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 17 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mcontext) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 18 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'useWebSocketContext must be used within a WebSocketProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\n     \u001b[90m 20 |\u001b[39m   \u001b[36mreturn\u001b[39m context\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at useWebSocketContext (providers/WebSocketProvider.tsx:18:11)\n      at useWebSocket (hooks/useWebSocket.ts:7:38)\n      at useAgent (hooks/useAgent.ts:7:33)\n      at TestComponent (__tests__/integration/critical-integration.test.tsx:774:41)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:805:13)\n\n  \u25cf Critical Frontend Integration Tests \u203a 10. Multi-Agent Coordination \u203a should handle agent pipeline failures\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:845:13)\n\n  \u25cf Critical Frontend Integration Tests \u203a 13. Notification System Integration \u203a should show notifications for important events\n\n    useWebSocketContext must be used within a WebSocketProvider\n\n    \u001b[0m \u001b[90m 16 |\u001b[39m   \u001b[36mconst\u001b[39m context \u001b[33m=\u001b[39m useContext(\u001b[33mWebSocketContext\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 17 |\u001b[39m   \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mcontext) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 18 |\u001b[39m     \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'useWebSocketContext must be used within a WebSocketProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 19 |\u001b[39m   }\n     \u001b[90m 20 |\u001b[39m   \u001b[36mreturn\u001b[39m context\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at useWebSocketContext (providers/WebSocketProvider.tsx:18:11)\n      at useWebSocket (hooks/useWebSocket.ts:7:38)\n      at useAgent (hooks/useAgent.ts:7:33)\n      at TestComponent (__tests__/integration/critical-integration.test.tsx:1009:41)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/critical-integration.test.tsx:1038:13)\n\nFAIL __tests__/integration/advanced-integration.test.tsx\n  \u25cf Console\n\n    console.error\n      An update to AsyncValidationComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 101 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 103 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 104 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m   \n     \u001b[90m 106 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:103:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setIsValidating (__tests__/integration/advanced-integration.test.tsx:235:11)\n      at validateEmail (__tests__/integration/advanced-integration.test.tsx:253:24)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n    console.error\n      An update to OfflineSyncComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 101 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 103 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 104 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m   \n     \u001b[90m 106 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:103:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setIsOnline (__tests__/integration/advanced-integration.test.tsx:438:39)\n      at callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at EventTargetImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at EventTargetImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at Object.dispatchEvent (__tests__/integration/advanced-integration.test.tsx:478:14)\n\n    console.error\n      An update to OfflineSyncComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 101 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 103 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 104 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m   \n     \u001b[90m 106 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:103:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setIsOnline (__tests__/integration/advanced-integration.test.tsx:427:13)\n      at callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at EventTargetImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at EventTargetImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at Object.dispatchEvent (__tests__/integration/advanced-integration.test.tsx:493:14)\n\n    console.error\n      An update to OfflineSyncComponent inside a test was not wrapped in act(...).\n      \n      When testing, code that causes React state updates should be wrapped into act(...):\n      \n      act(() => {\n        /* fire events that update state */\n      });\n      /* assert on the output */\n      \n      This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 101 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 102 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 103 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 104 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 105 |\u001b[39m   \n     \u001b[90m 106 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs\u001b[33m:\u001b[39m any[]) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.ts:103:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setQueuedActions (__tests__/integration/advanced-integration.test.tsx:435:13)\n      at callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at EventTargetImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at EventTargetImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at Object.dispatchEvent (__tests__/integration/advanced-integration.test.tsx:493:14)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 23. Infinite Scroll Integration \u203a should load more content on scroll\n\n    TypeError: Cannot set property scrollHeight of #<Element> which has only a getter\n        at Object.assign (<anonymous>)\n\n    \u001b[0m \u001b[90m 960 |\u001b[39m       \u001b[90m// Simulate scroll near bottom\u001b[39m\n     \u001b[90m 961 |\u001b[39m       \u001b[36mconst\u001b[39m container \u001b[33m=\u001b[39m getByTestId(\u001b[32m'scroll-container'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 962 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mscroll(container\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 963 |\u001b[39m         target\u001b[33m:\u001b[39m {\n     \u001b[90m 964 |\u001b[39m           scrollTop\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 965 |\u001b[39m           scrollHeight\u001b[33m:\u001b[39m \u001b[35m200\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at createEvent (node_modules/@testing-library/dom/dist/events.js:54:10)\n      at createEvent.<computed> [as scroll] (node_modules/@testing-library/dom/dist/events.js:106:38)\n      at fireEvent.<computed> [as scroll] (node_modules/@testing-library/dom/dist/events.js:110:68)\n      at fireEvent.<computed> [as scroll] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at Object.scroll (__tests__/integration/advanced-integration.test.tsx:962:17)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 27. Advanced Error Boundaries \u203a should recover from component errors gracefully\n\n    Component error\n\n    \u001b[0m \u001b[90m 1370 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mFaultyComponent\u001b[39m \u001b[33m=\u001b[39m ({ shouldError }\u001b[33m:\u001b[39m { shouldError\u001b[33m:\u001b[39m boolean }) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1371 |\u001b[39m         \u001b[36mif\u001b[39m (shouldError) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1372 |\u001b[39m           \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Component error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1373 |\u001b[39m         }\n     \u001b[90m 1374 |\u001b[39m         \u001b[36mreturn\u001b[39m \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[33mWorking\u001b[39m component\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 1375 |\u001b[39m       }\u001b[33m;\u001b[39m\u001b[0m\n\n      at FaultyComponent (__tests__/integration/advanced-integration.test.tsx:1372:17)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:16116:7)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16241:11\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at Object.click (__tests__/integration/advanced-integration.test.tsx:1393:17)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 27. Advanced Error Boundaries \u203a should report errors to monitoring service\n\n    Monitored error\n\n    \u001b[0m \u001b[90m 1416 |\u001b[39m         \u001b[36mconst\u001b[39m handleError \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1417 |\u001b[39m           \u001b[36mtry\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1418 |\u001b[39m             \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Monitored error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1419 |\u001b[39m           } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 1420 |\u001b[39m             reportError(error)\u001b[33m;\u001b[39m\n     \u001b[90m 1421 |\u001b[39m             \u001b[36mthrow\u001b[39m error\u001b[33m;\u001b[39m\u001b[0m\n\n      at handleError (__tests__/integration/advanced-integration.test.tsx:1418:19)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:789:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at Object.click (__tests__/integration/advanced-integration.test.tsx:1438:19)\n\n  \u25cf Advanced Frontend Integration Tests \u203a 29. WebSocket Resilience Integration \u203a should handle WebSocket message buffering during reconnection\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1 buffered\n    Received:\n      0 buffered\n\n    \u001b[0m \u001b[90m 1605 |\u001b[39m       \n     \u001b[90m 1606 |\u001b[39m       expect(messageBuffer)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1607 |\u001b[39m       expect(getByTestId(\u001b[32m'buffer-size'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1 buffered'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1608 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1609 |\u001b[39m\n     \u001b[90m 1610 |\u001b[39m     it(\u001b[32m'should implement exponential backoff for reconnection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/advanced-integration.test.tsx:1607:42)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx (24.255 s)\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should upload documents to corpus and process with embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 1\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 125 |\u001b[39m       \n     \u001b[90m 126 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'doc-123'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 127 |\u001b[39m       expect(useCorpusStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mdocuments)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 128 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n     \u001b[90m 130 |\u001b[39m     it(\u001b[32m'should search corpus with semantic similarity'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:127:51)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 1. Corpus Management Integration \u203a should search corpus with semantic similarity\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 146 |\u001b[39m       \u001b[36mconst\u001b[39m results \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m searchCorpus(\u001b[32m'test query'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 148 |\u001b[39m       expect(results)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 149 |\u001b[39m       expect(results[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39msimilarity_score)\u001b[33m.\u001b[39mtoBeGreaterThan(results[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39msimilarity_score)\u001b[33m;\u001b[39m\n     \u001b[90m 150 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 151 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:148:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 2. Synthetic Data Generation Flow \u203a should generate synthetic data based on templates\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:183:13)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should cache and retrieve LLM responses\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 250 |\u001b[39m       \u001b[90m// Second call - cache hit\u001b[39m\n     \u001b[90m 251 |\u001b[39m       \u001b[36mconst\u001b[39m response2 \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m llmCacheService\u001b[33m.\u001b[39mquery(\u001b[32m'test prompt'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'gpt-4'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 252 |\u001b[39m       expect(response2\u001b[33m.\u001b[39mcached)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 253 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 254 |\u001b[39m\n     \u001b[90m 255 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:252:32)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 3. LLM Cache Management Integration \u203a should manage cache invalidation and TTL\n\n    TypeError: useLLMCacheStore is not a function\n\n    \u001b[0m \u001b[90m 255 |\u001b[39m     it(\u001b[32m'should manage cache invalidation and TTL'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 256 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 257 |\u001b[39m         \u001b[36mconst\u001b[39m { cacheSize\u001b[33m,\u001b[39m clearCache\u001b[33m,\u001b[39m setCacheTTL } \u001b[33m=\u001b[39m useLLMCacheStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 258 |\u001b[39m         \n     \u001b[90m 259 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 260 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useLLMCacheStore (__tests__/integration/comprehensive-integration.test.tsx:257:56)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:273:35)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should browse and select AI models from catalog\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 303 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadCatalog()\u001b[33m;\u001b[39m\n     \u001b[90m 304 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 305 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 306 |\u001b[39m       expect(useSupplyStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mcatalog\u001b[33m.\u001b[39mmodels)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 308 |\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:305:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 4. Supply Catalog Integration \u203a should switch between model providers dynamically\n\n    TypeError: useSupplyStore is not a function\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m     it(\u001b[32m'should switch between model providers dynamically'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 310 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m         \u001b[36mconst\u001b[39m { activeModel\u001b[33m,\u001b[39m switchModel } \u001b[33m=\u001b[39m useSupplyStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m         \n     \u001b[90m 313 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 314 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useSupplyStore (__tests__/integration/comprehensive-integration.test.tsx:311:46)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:328:48)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should manage document references with vector search\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"ref-789\"\n    Received: \"ref-1\"\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 362 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m       expect(result\u001b[33m.\u001b[39mid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       expect(result\u001b[33m.\u001b[39membedding)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m4\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 366 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:363:25)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 5. Reference Management with Embeddings \u203a should find similar references using embeddings\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 2\n    Received length: 0\n    Received array:  []\n\n    \u001b[0m \u001b[90m 383 |\u001b[39m       \u001b[36mconst\u001b[39m results \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m findSimilar(\u001b[32m'ref-789'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 384 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 385 |\u001b[39m       expect(results)\u001b[33m.\u001b[39mtoHaveLength(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 386 |\u001b[39m       expect(results[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39msimilarity)\u001b[33m.\u001b[39mtoBeGreaterThan(\u001b[35m0.9\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 387 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 388 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveLength (__tests__/integration/comprehensive-integration.test.tsx:385:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should manage users and permissions\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      2\n    Received:\n      0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mLoad Users\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"user-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m0\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 421 |\u001b[39m       \n     \u001b[90m 422 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 423 |\u001b[39m         expect(getByTestId(\u001b[32m'user-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 424 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 425 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 426 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive-integration.test.tsx:423:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 6. Admin Functionality Integration \u203a should monitor system metrics and usage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 10000\n    Received: undefined\n\n    \u001b[0m \u001b[90m 446 |\u001b[39m       \u001b[36mconst\u001b[39m metrics \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m getSystemMetrics()\u001b[33m;\u001b[39m\n     \u001b[90m 447 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 448 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39mtotal_requests)\u001b[33m.\u001b[39mtoBe(\u001b[35m10000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 449 |\u001b[39m       expect(metrics\u001b[33m.\u001b[39merror_rate)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m0.05\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 450 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 451 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:448:38)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should monitor service health status\n\n    TypeError: Cannot read properties of undefined (reading 'database')\n\n    \u001b[0m \u001b[90m 477 |\u001b[39m       \n     \u001b[90m 478 |\u001b[39m       expect(health\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'healthy'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 479 |\u001b[39m       expect(health\u001b[33m.\u001b[39mservices\u001b[33m.\u001b[39mdatabase)\u001b[33m.\u001b[39mtoBe(\u001b[32m'up'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 480 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 481 |\u001b[39m\n     \u001b[90m 482 |\u001b[39m     it(\u001b[32m'should handle degraded service states'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.database (__tests__/integration/comprehensive-integration.test.tsx:479:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 7. Health Check Monitoring \u203a should handle degraded service states\n\n    Unable to find an element by: [data-testid=\"alert\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"health-status\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mchecking\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 515 |\u001b[39m       \u001b[36mconst\u001b[39m { getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 516 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 517 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 518 |\u001b[39m         expect(getByTestId(\u001b[32m'alert'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 519 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 520 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:517:20)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should load and apply dynamic configurations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 548 |\u001b[39m       \u001b[36mconst\u001b[39m config \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m loadConfig()\u001b[33m;\u001b[39m\n     \u001b[90m 549 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 550 |\u001b[39m       expect(config\u001b[33m.\u001b[39mfeatures\u001b[33m.\u001b[39mdark_mode)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 551 |\u001b[39m       expect(useConfigStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mconfig\u001b[33m.\u001b[39mlimits\u001b[33m.\u001b[39mmax_threads)\u001b[33m.\u001b[39mtoBe(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 552 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 553 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:550:41)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 8. Configuration Management \u203a should update configuration and propagate changes\n\n    TypeError: useConfigStore is not a function\n\n    \u001b[0m \u001b[90m 554 |\u001b[39m     it(\u001b[32m'should update configuration and propagate changes'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 555 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 556 |\u001b[39m         \u001b[36mconst\u001b[39m { config\u001b[33m,\u001b[39m updateConfig } \u001b[33m=\u001b[39m useConfigStore()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 557 |\u001b[39m         \n     \u001b[90m 558 |\u001b[39m         \u001b[36mreturn\u001b[39m (\n     \u001b[90m 559 |\u001b[39m           \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at useConfigStore (__tests__/integration/comprehensive-integration.test.tsx:556:42)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:575:48)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle content generation with streaming\n\n    TypeError: Cannot destructure property 'token' of '(0 , _react.useContext)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mWebSocketProvider\u001b[39m \u001b[33m=\u001b[39m ({ children }\u001b[33m:\u001b[39m \u001b[33mWebSocketProviderProps\u001b[39m) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m   \u001b[36mconst\u001b[39m { token } \u001b[33m=\u001b[39m useContext(\u001b[33mAuthContext\u001b[39m)\u001b[33m!\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m   \u001b[36mconst\u001b[39m [status\u001b[33m,\u001b[39m setStatus] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketStatus\u001b[39m\u001b[33m>\u001b[39m(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   \u001b[36mconst\u001b[39m [messages\u001b[33m,\u001b[39m setMessages] \u001b[33m=\u001b[39m useState\u001b[33m<\u001b[39m\u001b[33mWebSocketMessage\u001b[39m[]\u001b[33m>\u001b[39m([])\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m\u001b[0m\n\n      at token (providers/WebSocketProvider.tsx:30:11)\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:609:13)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 9. Generation Service Integration \u203a should handle generation templates and parameters\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"Generated email\"\n    Received string:    \"\"\n\n    \u001b[0m \u001b[90m 659 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 660 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 661 |\u001b[39m       expect(result\u001b[33m.\u001b[39mcontent)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Generated email'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 662 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtokens_used)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 663 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 664 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toContain (__tests__/integration/comprehensive-integration.test.tsx:661:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 14. Migration Handling \u203a should handle migration rollback on failure\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n    \u001b[0m \u001b[90m 968 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m applyMigration(\u001b[32m'004'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 969 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 970 |\u001b[39m       expect(result\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mfalse\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 971 |\u001b[39m       expect(result\u001b[33m.\u001b[39mrolled_back)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 972 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 973 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/comprehensive-integration.test.tsx:970:30)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      completed\n    Received:\n      exporting\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mExport JSON\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mExport CSV\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mExport PDF\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"export-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mexporting\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 1698 |\u001b[39m       \n     \u001b[90m 1699 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1700 |\u001b[39m         expect(getByTestId(\u001b[32m'export-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'completed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1701 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 1702 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1703 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive-integration.test.tsx:1700:46)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TypeError: URL.createObjectURL is not a function\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m           \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mok) {\n     \u001b[90m 1667 |\u001b[39m             \u001b[36mconst\u001b[39m blob \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mblob()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m             \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[33mURL\u001b[39m\u001b[33m.\u001b[39mcreateObjectURL(blob)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m             \n     \u001b[90m 1670 |\u001b[39m             \u001b[90m// Trigger download\u001b[39m\n     \u001b[90m 1671 |\u001b[39m             \u001b[36mconst\u001b[39m a \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mcreateElement(\u001b[32m'a'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at createObjectURL (__tests__/integration/comprehensive-integration.test.tsx:1668:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TypeError: URL.createObjectURL is not a function\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m           \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mok) {\n     \u001b[90m 1667 |\u001b[39m             \u001b[36mconst\u001b[39m blob \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mblob()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m             \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[33mURL\u001b[39m\u001b[33m.\u001b[39mcreateObjectURL(blob)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m             \n     \u001b[90m 1670 |\u001b[39m             \u001b[90m// Trigger download\u001b[39m\n     \u001b[90m 1671 |\u001b[39m             \u001b[36mconst\u001b[39m a \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mcreateElement(\u001b[32m'a'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at createObjectURL (__tests__/integration/comprehensive-integration.test.tsx:1668:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TypeError: URL.createObjectURL is not a function\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m           \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mok) {\n     \u001b[90m 1667 |\u001b[39m             \u001b[36mconst\u001b[39m blob \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mblob()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m             \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[33mURL\u001b[39m\u001b[33m.\u001b[39mcreateObjectURL(blob)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m             \n     \u001b[90m 1670 |\u001b[39m             \u001b[90m// Trigger download\u001b[39m\n     \u001b[90m 1671 |\u001b[39m             \u001b[36mconst\u001b[39m a \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mcreateElement(\u001b[32m'a'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at createObjectURL (__tests__/integration/comprehensive-integration.test.tsx:1668:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should export data in multiple formats\n\n    TypeError: URL.createObjectURL is not a function\n\n    \u001b[0m \u001b[90m 1666 |\u001b[39m           \u001b[36mif\u001b[39m (response\u001b[33m.\u001b[39mok) {\n     \u001b[90m 1667 |\u001b[39m             \u001b[36mconst\u001b[39m blob \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mblob()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1668 |\u001b[39m             \u001b[36mconst\u001b[39m url \u001b[33m=\u001b[39m \u001b[33mURL\u001b[39m\u001b[33m.\u001b[39mcreateObjectURL(blob)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1669 |\u001b[39m             \n     \u001b[90m 1670 |\u001b[39m             \u001b[90m// Trigger download\u001b[39m\n     \u001b[90m 1671 |\u001b[39m             \u001b[36mconst\u001b[39m a \u001b[33m=\u001b[39m document\u001b[33m.\u001b[39mcreateElement(\u001b[32m'a'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at createObjectURL (__tests__/integration/comprehensive-integration.test.tsx:1668:29)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 25. Export Functionality \u203a should handle large data exports with progress\n\n    ReferenceError: EventSource is not defined\n\n    \u001b[0m \u001b[90m 1707 |\u001b[39m         \n     \u001b[90m 1708 |\u001b[39m         \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museEffect(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1709 |\u001b[39m           \u001b[36mconst\u001b[39m eventSource \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mEventSource\u001b[39m(\u001b[32m'/api/export/stream'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1710 |\u001b[39m           \n     \u001b[90m 1711 |\u001b[39m           eventSource\u001b[33m.\u001b[39monmessage \u001b[33m=\u001b[39m (event) \u001b[33m=>\u001b[39m {\n     \u001b[90m 1712 |\u001b[39m             \u001b[36mconst\u001b[39m data \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(event\u001b[33m.\u001b[39mdata)\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/comprehensive-integration.test.tsx:1709:31\n      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:1729:13)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should handle real-time collaborative editing\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1804 |\u001b[39m\n     \u001b[90m 1805 |\u001b[39m   describe(\u001b[32m'27. Collaboration Features'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1806 |\u001b[39m     it(\u001b[32m'should handle real-time collaborative editing'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1807 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1808 |\u001b[39m         \u001b[36mconst\u001b[39m [collaborators\u001b[33m,\u001b[39m setCollaborators] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState([])\u001b[33m;\u001b[39m\n     \u001b[90m 1809 |\u001b[39m         \u001b[36mconst\u001b[39m [content\u001b[33m,\u001b[39m setContent] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1806:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1805:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:74:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 27. Collaboration Features \u203a should synchronize cursor positions between users\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1847 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 1848 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1849 |\u001b[39m     it(\u001b[32m'should synchronize cursor positions between users'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1850 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1851 |\u001b[39m         \u001b[36mconst\u001b[39m [cursors\u001b[33m,\u001b[39m setCursors] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({})\u001b[33m;\u001b[39m\n     \u001b[90m 1852 |\u001b[39m         \u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1849:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1805:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:74:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 28. Real-time Metrics Dashboard \u203a should display live performance metrics\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 1907 |\u001b[39m\n     \u001b[90m 1908 |\u001b[39m   describe(\u001b[32m'28. Real-time Metrics Dashboard'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1909 |\u001b[39m     it(\u001b[32m'should display live performance metrics'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m      |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 1910 |\u001b[39m       \u001b[36mconst\u001b[39m \u001b[33mTestComponent\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 1911 |\u001b[39m         \u001b[36mconst\u001b[39m [metrics\u001b[33m,\u001b[39m setMetrics] \u001b[33m=\u001b[39m \u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museState({\n     \u001b[90m 1912 |\u001b[39m           requests_per_second\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/comprehensive-integration.test.tsx:1909:5)\n      at describe (__tests__/integration/comprehensive-integration.test.tsx:1908:3)\n      at Object.describe (__tests__/integration/comprehensive-integration.test.tsx:74:1)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 29. Agent Tool Dispatcher Integration \u203a should handle tool chaining and dependencies\n\n    TestingLibraryElementError: Unable to find an element with the text: Execute Chain. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2053 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2054 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2055 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Execute Chain'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2056 |\u001b[39m       \n     \u001b[90m 2057 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2058 |\u001b[39m         expect(getByTestId(\u001b[32m'chain-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2055:23)\n\n  \u25cf Comprehensive Frontend Integration Tests \u203a 30. State Persistence and Recovery \u203a should recover from corrupted state gracefully\n\n    TestingLibraryElementError: Unable to find an element with the text: Load State. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 2162 |\u001b[39m       \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[33m<\u001b[39m\u001b[33mTestComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2163 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2164 |\u001b[39m       fireEvent\u001b[33m.\u001b[39mclick(getByText(\u001b[32m'Load State'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m      |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2165 |\u001b[39m       \n     \u001b[90m 2166 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 2167 |\u001b[39m         expect(getByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'State corrupted, using defaults'\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByText (__tests__/integration/comprehensive-integration.test.tsx:2164:23)\n\nTest Suites: 3 failed, 3 total\nTests:       43 failed, 77 passed, 120 total\nSnapshots:   0 total\nTime:        25.36 s, estimated 26 s\nRan all test suites matching __tests__/integration|__tests__/api.\n",
      "test_counts": {
        "total": 123,
        "passed": 77,
        "failed": 46,
        "skipped": 0,
        "errors": 0,
        "test_files": 3
      },
      "coverage": null
    },
    "e2e": {
      "status": "pending",
      "duration": 0,
      "exit_code": null,
      "output": "",
      "test_counts": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      },
      "coverage": null
    },
    "overall": {
      "status": "failed",
      "start_time": 1755026567.6829565,
      "end_time": 1755026626.8299196
    }
  }
}