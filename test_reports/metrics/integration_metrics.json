{
  "timestamp": "2025-08-14T21:29:12.465045",
  "level": "integration",
  "metrics": {
    "total_tests": 11,
    "passed": 7,
    "failed": 1,
    "coverage": null
  },
  "results": {
    "backend": {
      "status": "failed",
      "duration": 25.96988344192505,
      "exit_code": 2,
      "output": "Loaded test environment from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env.test\n================================================================================\nNETRA AI PLATFORM - BACKEND TEST RUNNER\n================================================================================\nTest Configuration:\n  Category: integration\n  Parallel: 4\n  Coverage: enabled\n  Fail Fast: enabled\n  Environment: testing\n\nRunning command:\n  pytest integration_tests app/tests/routes -vv -n 4 -x --maxfail=1 --cov=app --cov-report=html:reports/coverage/html --cov-report=term-missing --cov-report=json:reports/coverage/coverage.json --cov-fail-under=70 -m not real_services --tb=short --asyncio-mode=auto --color=yes --strict-markers --disable-warnings -p no:warnings\n================================================================================\n\u001b[1m============================= test session starts =============================\u001b[0m\nplatform win32 -- Python 3.12.4, pytest-8.4.1, pluggy-1.6.0 -- C:\\Users\\antho\\miniconda3\\python.exe\ncachedir: .pytest_cache\nmetadata: {'Python': '3.12.4', 'Platform': 'Windows-11-10.0.26100-SP0', 'Packages': {'pytest': '8.4.1', 'pluggy': '1.6.0'}, 'Plugins': {'anyio': '4.9.0', 'Faker': '37.4.2', 'langsmith': '0.4.10', 'asyncio': '0.21.1', 'cov': '6.2.1', 'html': '4.1.1', 'json-report': '1.5.0', 'metadata': '3.1.1', 'mock': '3.14.1', 'timeout': '2.4.0', 'xdist': '3.8.0', 'typeguard': '4.4.4'}}\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.4.2, langsmith-0.4.10, asyncio-0.21.1, cov-6.2.1, html-4.1.1, json-report-1.5.0, metadata-3.1.1, mock-3.14.1, timeout-2.4.0, xdist-3.8.0, typeguard-4.4.4\nasyncio: mode=Mode.AUTO\ncreated: 4/4 workers\n4 workers [86 items]\n\nscheduling tests via LoadScheduling\n\nintegration_tests/test_app.py::test_read_main \nintegration_tests/test_health.py::test_ready_endpoint_clickhouse_failure \nintegration_tests/test_generation_service.py::test_save_and_get_corpus \napp/tests/routes/test_apex_optimizer_agent_route.py::test_apex_optimizer_agent[I need to reduce costs but keep quality the same. For feature X, I can accept a latency of 500ms. For feature Y, I need to maintain the current latency of 200ms.] \n[gw1]\u001b[36m [  1%] \u001b[0m\u001b[32mPASSED\u001b[0m integration_tests/test_generation_service.py::test_save_and_get_corpus \nintegration_tests/test_generation_service.py::test_run_synthetic_data_generation_job_e2e \n[gw1]\u001b[36m [  2%] \u001b[0m\u001b[32mPASSED\u001b[0m integration_tests/test_generation_service.py::test_run_synthetic_data_generation_job_e2e \nintegration_tests/test_health.py::test_live_endpoint \n[gw2]\u001b[36m [  3%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_apex_optimizer_agent_route.py::test_apex_optimizer_agent[I need to reduce costs but keep quality the same. For feature X, I can accept a latency of 500ms. For feature Y, I need to maintain the current latency of 200ms.] \napp/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_endpoint_requires_authentication \n[gw2]\u001b[36m [  4%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_endpoint_requires_authentication \napp/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_role_verification \n[gw2]\u001b[36m [  5%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_role_verification \napp/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_user_management \n[gw2]\u001b[36m [  6%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestAdminRoute::test_admin_user_management \napp/tests/routes/test_api_routes_21_30.py::TestAgentRoute::test_agent_message_processing \n[gw2]\u001b[36m [  8%] \u001b[0m\u001b[32mPASSED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestAgentRoute::test_agent_message_processing \napp/tests/routes/test_api_routes_21_30.py::TestCorpusRoute::test_corpus_create \n[gw2]\u001b[36m [  9%] \u001b[0m\u001b[31mFAILED\u001b[0m app/tests/routes/test_api_routes_21_30.py::TestCorpusRoute::test_corpus_create \n[gw1]\u001b[36m [ 10%] \u001b[0m\u001b[31mERROR\u001b[0m integration_tests/test_health.py::test_live_endpoint \n[gw3]\u001b[36m [ 11%] \u001b[0m\u001b[31mERROR\u001b[0m integration_tests/test_health.py::test_ready_endpoint_clickhouse_failure \n[gw0]\u001b[36m [ 12%] \u001b[0m\u001b[31mERROR\u001b[0m integration_tests/test_app.py::test_read_main Loaded .env file from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.env\n\n\n=================================== ERRORS ====================================\n\u001b[31m\u001b[1m____________________ ERROR at setup of test_live_endpoint _____________________\u001b[0m\n[gw1] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mintegration_tests\\test_health.py\u001b[0m:10: in client\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m TestClient(app) \u001b[94mas\u001b[39;49;00m c:\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\site-packages\\starlette\\testclient.py\u001b[0m:694: in __enter__\n    \u001b[0mportal.call(\u001b[96mself\u001b[39;49;00m.wait_startup)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\u001b[0m:290: in call\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m cast(T_Retval, \u001b[96mself\u001b[39;49;00m.start_task_soon(func, *args).result())\u001b[90m\u001b[39;49;00m\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\concurrent\\futures\\_base.py\u001b[0m:454: in result\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m CancelledError()\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   concurrent.futures._base.CancelledError\u001b[0m\n---------------------------- Captured stderr setup ----------------------------\n2025-08-14 21:29:06.842 | ERROR    | app.core.unified_logging:_emit_log:117 | Critical startup checks failed:\n2025-08-14 21:29:06.842 | ERROR    | app.core.unified_logging:_emit_log:117 |   - configuration: SECRET_KEY must be at least 32 characters\n2025-08-14 21:29:06.843 | ERROR    | app.core.unified_logging:_emit_log:117 |   - database_connection: Database check failed: password=REDACTED failed for user \"test\"\n2025-08-14 21:29:06.843 | CRITICAL | app.startup:_handle_startup_failure:222 | CRITICAL: Startup checks failed: Startup failed: 2 critical checks failed\n2025-08-14 21:29:06.851 | ERROR    | logging:handle:1028 | unhandled exception during asyncio.run() shutdown\ntask: <Task finished name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_portal() done, defined at C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py:2291> exception=BaseExceptionGroup('unhandled errors in a TaskGroup', [SystemExit(1)])>\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1030, in _bootstrap\n    self._bootstrap_inner()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n    self.run()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n    self._target(*self._args, **self._kwargs)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2309, in run\n    with Runner(debug=debug, loop_factory=loop_factory) as runner:\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 62, in __exit__\n    self.close()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 70, in close\n    _cancel_all_tasks(loop)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 211, in _cancel_all_tasks\n    loop.call_exception_handler({\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 687, in run_until_complete\n    return future.result()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\windows_events.py\", line 335, in run_forever\n    self._self_reading_future = None\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 649, in run_forever\n    sys.set_asyncgen_hooks(*old_agen_hooks)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 1988, in _run_once\n    handle = None  # Needed to break cycles when an exception occurs.\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\events.py\", line 103, in _run\n    self = None  # Needed to break cycles when an exception occurs.\n> File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2298, in wrapper\n    return await func(*args)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 474, in run_portal\n    async with BlockingPortal() as portal_:\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 168, in __aexit__\n    return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n    raise BaseExceptionGroup(\nBaseExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[32mINFO    \u001b[0m app.utils.multiprocessing_cleanup:multiprocessing_cleanup.py:140 Multiprocessing configured with method: spawn\n\u001b[32mINFO    \u001b[0m app.utils.multiprocessing_cleanup:multiprocessing_cleanup.py:108 Multiprocessing resources cleaned up\n\u001b[31m\u001b[1mERROR   \u001b[0m asyncio:base_events.py:1821 unhandled exception during asyncio.run() shutdown\ntask: <Task finished name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_portal() done, defined at C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py:2291> exception=BaseExceptionGroup('unhandled errors in a TaskGroup', [SystemExit(1)])>\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2298, in wrapper\n  |     return await func(*args)\n  |            ^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 474, in run_portal\n  |     async with BlockingPortal() as portal_:\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 168, in __aexit__\n  |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | BaseExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 215, in startup_health_checks\n    |     await run_startup_checks(app)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup_checks\\utils.py\", line 23, in run_startup_checks\n    |     raise RuntimeError(f\"Startup failed: {results['failed_critical']} critical checks failed\")\n    | RuntimeError: Startup failed: 2 critical checks failed\n    | \n    | During handling of the above exception, another exception occurred:\n    | \n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    |     return runner.run(wrapper())\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 118, in run\n    |     return self._loop.run_until_complete(task)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 674, in run_until_complete\n    |     self.run_forever()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\windows_events.py\", line 322, in run_forever\n    |     super().run_forever()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 641, in run_forever\n    |     self._run_once()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 1987, in _run_once\n    |     handle._run()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\events.py\", line 88, in _run\n    |     self._context.run(self._callback, *self._args)\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    |     retval = await retval_or_awaitable\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\testclient.py\", line 710, in lifespan\n    |     await self.app(scope, self.stream_receive.receive, self.stream_send.send)\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 151, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\sessions.py\", line 40, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 77, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 49, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 725, in app\n    |     await self.lifespan(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 694, in lifespan\n    |     async with self.lifespan_context(app) as maybe_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 571, in __aenter__\n    |     await self._router.startup()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 671, in startup\n    |     await handler()\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\core\\app_factory.py\", line 43, in startup_event\n    |     _, _startup_logger = await run_complete_startup(app)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 318, in run_complete_startup\n    |     await _run_startup_phase_three(app, logger)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 307, in _run_startup_phase_three\n    |     await startup_health_checks(app, logger)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 217, in startup_health_checks\n    |     await _handle_startup_failure(logger, e)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 225, in _handle_startup_failure\n    |     sys.exit(1)\n    | SystemExit: 1\n    +------------------------------------\n\u001b[31m\u001b[1m__________ ERROR at setup of test_ready_endpoint_clickhouse_failure ___________\u001b[0m\n[gw3] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mintegration_tests\\test_health.py\u001b[0m:10: in client\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m TestClient(app) \u001b[94mas\u001b[39;49;00m c:\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\site-packages\\starlette\\testclient.py\u001b[0m:694: in __enter__\n    \u001b[0mportal.call(\u001b[96mself\u001b[39;49;00m.wait_startup)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\u001b[0m:290: in call\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m cast(T_Retval, \u001b[96mself\u001b[39;49;00m.start_task_soon(func, *args).result())\u001b[90m\u001b[39;49;00m\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\concurrent\\futures\\_base.py\u001b[0m:454: in result\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m CancelledError()\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   concurrent.futures._base.CancelledError\u001b[0m\n---------------------------- Captured stderr setup ----------------------------\n2025-08-14 21:29:06.747 | ERROR    | app.core.unified_logging:_emit_log:117 | Critical startup checks failed:\n2025-08-14 21:29:06.748 | ERROR    | app.core.unified_logging:_emit_log:117 |   - configuration: SECRET_KEY must be at least 32 characters\n2025-08-14 21:29:06.749 | ERROR    | app.core.unified_logging:_emit_log:117 |   - database_connection: Database check failed: password=REDACTED failed for user \"test\"\n2025-08-14 21:29:06.749 | CRITICAL | app.startup:_handle_startup_failure:222 | CRITICAL: Startup checks failed: Startup failed: 2 critical checks failed\n2025-08-14 21:29:06.872 | ERROR    | logging:handle:1028 | unhandled exception during asyncio.run() shutdown\ntask: <Task finished name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_portal() done, defined at C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py:2291> exception=BaseExceptionGroup('unhandled errors in a TaskGroup', [SystemExit(1)])>\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1030, in _bootstrap\n    self._bootstrap_inner()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n    self.run()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n    self._target(*self._args, **self._kwargs)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2309, in run\n    with Runner(debug=debug, loop_factory=loop_factory) as runner:\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 62, in __exit__\n    self.close()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 70, in close\n    _cancel_all_tasks(loop)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 211, in _cancel_all_tasks\n    loop.call_exception_handler({\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 687, in run_until_complete\n    return future.result()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\windows_events.py\", line 335, in run_forever\n    self._self_reading_future = None\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 649, in run_forever\n    sys.set_asyncgen_hooks(*old_agen_hooks)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 1988, in _run_once\n    handle = None  # Needed to break cycles when an exception occurs.\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\events.py\", line 103, in _run\n    self = None  # Needed to break cycles when an exception occurs.\n> File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2298, in wrapper\n    return await func(*args)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 474, in run_portal\n    async with BlockingPortal() as portal_:\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 168, in __aexit__\n    return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n    raise BaseExceptionGroup(\nBaseExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[32mINFO    \u001b[0m app.utils.multiprocessing_cleanup:multiprocessing_cleanup.py:140 Multiprocessing configured with method: spawn\n\u001b[32mINFO    \u001b[0m app.utils.multiprocessing_cleanup:multiprocessing_cleanup.py:108 Multiprocessing resources cleaned up\n\u001b[31m\u001b[1mERROR   \u001b[0m asyncio:base_events.py:1821 unhandled exception during asyncio.run() shutdown\ntask: <Task finished name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_portal() done, defined at C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py:2291> exception=BaseExceptionGroup('unhandled errors in a TaskGroup', [SystemExit(1)])>\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2298, in wrapper\n  |     return await func(*args)\n  |            ^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 474, in run_portal\n  |     async with BlockingPortal() as portal_:\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 168, in __aexit__\n  |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | BaseExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 215, in startup_health_checks\n    |     await run_startup_checks(app)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup_checks\\utils.py\", line 23, in run_startup_checks\n    |     raise RuntimeError(f\"Startup failed: {results['failed_critical']} critical checks failed\")\n    | RuntimeError: Startup failed: 2 critical checks failed\n    | \n    | During handling of the above exception, another exception occurred:\n    | \n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    |     return runner.run(wrapper())\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 118, in run\n    |     return self._loop.run_until_complete(task)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 674, in run_until_complete\n    |     self.run_forever()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\windows_events.py\", line 322, in run_forever\n    |     super().run_forever()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 641, in run_forever\n    |     self._run_once()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 1987, in _run_once\n    |     handle._run()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\events.py\", line 88, in _run\n    |     self._context.run(self._callback, *self._args)\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    |     retval = await retval_or_awaitable\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\testclient.py\", line 710, in lifespan\n    |     await self.app(scope, self.stream_receive.receive, self.stream_send.send)\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 151, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\sessions.py\", line 40, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 77, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 49, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 725, in app\n    |     await self.lifespan(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 694, in lifespan\n    |     async with self.lifespan_context(app) as maybe_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 571, in __aenter__\n    |     await self._router.startup()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 671, in startup\n    |     await handler()\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\core\\app_factory.py\", line 43, in startup_event\n    |     _, _startup_logger = await run_complete_startup(app)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 318, in run_complete_startup\n    |     await _run_startup_phase_three(app, logger)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 307, in _run_startup_phase_three\n    |     await startup_health_checks(app, logger)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 217, in startup_health_checks\n    |     await _handle_startup_failure(logger, e)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 225, in _handle_startup_failure\n    |     sys.exit(1)\n    | SystemExit: 1\n    +------------------------------------\n\u001b[31m\u001b[1m______________________ ERROR at setup of test_read_main _______________________\u001b[0m\n[gw0] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mintegration_tests\\test_app.py\u001b[0m:27: in test_client\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m TestClient(app=app, base_url=\u001b[33m\"\u001b[39;49;00m\u001b[33mhttp://test\u001b[39;49;00m\u001b[33m\"\u001b[39;49;00m) \u001b[94mas\u001b[39;49;00m c:\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\site-packages\\starlette\\testclient.py\u001b[0m:694: in __enter__\n    \u001b[0mportal.call(\u001b[96mself\u001b[39;49;00m.wait_startup)\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\u001b[0m:290: in call\n    \u001b[0m\u001b[94mreturn\u001b[39;49;00m cast(T_Retval, \u001b[96mself\u001b[39;49;00m.start_task_soon(func, *args).result())\u001b[90m\u001b[39;49;00m\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\concurrent\\futures\\_base.py\u001b[0m:454: in result\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m CancelledError()\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   concurrent.futures._base.CancelledError\u001b[0m\n---------------------------- Captured stderr setup ----------------------------\n2025-08-14 21:29:06.916 | ERROR    | app.core.unified_logging:_emit_log:117 | Critical startup checks failed:\n2025-08-14 21:29:06.918 | ERROR    | app.core.unified_logging:_emit_log:117 |   - configuration: SECRET_KEY must be at least 32 characters\n2025-08-14 21:29:06.919 | ERROR    | app.core.unified_logging:_emit_log:117 |   - database_connection: Database check failed: password=REDACTED failed for user \"test\"\n2025-08-14 21:29:06.919 | CRITICAL | app.startup:_handle_startup_failure:222 | CRITICAL: Startup checks failed: Startup failed: 2 critical checks failed\n2025-08-14 21:29:06.926 | ERROR    | logging:handle:1028 | unhandled exception during asyncio.run() shutdown\ntask: <Task finished name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_portal() done, defined at C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py:2291> exception=BaseExceptionGroup('unhandled errors in a TaskGroup', [SystemExit(1)])>\nTraceback (most recent call last):\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1030, in _bootstrap\n    self._bootstrap_inner()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1073, in _bootstrap_inner\n    self.run()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\threading.py\", line 1010, in run\n    self._target(*self._args, **self._kwargs)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_core\\_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2309, in run\n    with Runner(debug=debug, loop_factory=loop_factory) as runner:\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 62, in __exit__\n    self.close()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 70, in close\n    _cancel_all_tasks(loop)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 211, in _cancel_all_tasks\n    loop.call_exception_handler({\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 687, in run_until_complete\n    return future.result()\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\windows_events.py\", line 335, in run_forever\n    self._self_reading_future = None\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 649, in run_forever\n    sys.set_asyncgen_hooks(*old_agen_hooks)\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 1988, in _run_once\n    handle = None  # Needed to break cycles when an exception occurs.\n  File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\events.py\", line 103, in _run\n    self = None  # Needed to break cycles when an exception occurs.\n> File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2298, in wrapper\n    return await func(*args)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 474, in run_portal\n    async with BlockingPortal() as portal_:\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 168, in __aexit__\n    return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n  File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n    raise BaseExceptionGroup(\nBaseExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n----------------------------- Captured log setup ------------------------------\n\u001b[35mDEBUG   \u001b[0m asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\u001b[32mINFO    \u001b[0m app.utils.multiprocessing_cleanup:multiprocessing_cleanup.py:140 Multiprocessing configured with method: spawn\n\u001b[32mINFO    \u001b[0m app.utils.multiprocessing_cleanup:multiprocessing_cleanup.py:108 Multiprocessing resources cleaned up\n\u001b[1m\u001b[31mERROR   \u001b[0m asyncio:base_events.py:1821 unhandled exception during asyncio.run() shutdown\ntask: <Task finished name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_portal() done, defined at C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py:2291> exception=BaseExceptionGroup('unhandled errors in a TaskGroup', [SystemExit(1)])>\n  + Exception Group Traceback (most recent call last):\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2298, in wrapper\n  |     return await func(*args)\n  |            ^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 474, in run_portal\n  |     async with BlockingPortal() as portal_:\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 168, in __aexit__\n  |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)\n  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | BaseExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 215, in startup_health_checks\n    |     await run_startup_checks(app)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup_checks\\utils.py\", line 23, in run_startup_checks\n    |     raise RuntimeError(f\"Startup failed: {results['failed_critical']} critical checks failed\")\n    | RuntimeError: Startup failed: 2 critical checks failed\n    | \n    | During handling of the above exception, another exception occurred:\n    | \n    | Traceback (most recent call last):\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2310, in run\n    |     return runner.run(wrapper())\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\runners.py\", line 118, in run\n    |     return self._loop.run_until_complete(task)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 674, in run_until_complete\n    |     self.run_forever()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\windows_events.py\", line 322, in run_forever\n    |     super().run_forever()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 641, in run_forever\n    |     self._run_once()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\base_events.py\", line 1987, in _run_once\n    |     handle._run()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\asyncio\\events.py\", line 88, in _run\n    |     self._context.run(self._callback, *self._args)\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\anyio\\from_thread.py\", line 221, in _call_func\n    |     retval = await retval_or_awaitable\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\testclient.py\", line 710, in lifespan\n    |     await self.app(scope, self.stream_receive.receive, self.stream_send.send)\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\applications.py\", line 1054, in __call__\n    |     await super().__call__(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\applications.py\", line 113, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 151, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\sessions.py\", line 40, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 103, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 77, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 49, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 725, in app\n    |     await self.lifespan(scope, receive, send)\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 694, in lifespan\n    |     async with self.lifespan_context(app) as maybe_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\contextlib.py\", line 210, in __aenter__\n    |     return await anext(self.gen)\n    |            ^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\fastapi\\routing.py\", line 134, in merged_lifespan\n    |     async with original_context(app) as maybe_original_state:\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 571, in __aenter__\n    |     await self._router.startup()\n    |   File \"C:\\Users\\antho\\miniconda3\\Lib\\site-packages\\starlette\\routing.py\", line 671, in startup\n    |     await handler()\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\core\\app_factory.py\", line 43, in startup_event\n    |     _, _startup_logger = await run_complete_startup(app)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 318, in run_complete_startup\n    |     await _run_startup_phase_three(app, logger)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 307, in _run_startup_phase_three\n    |     await startup_health_checks(app, logger)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 217, in startup_health_checks\n    |     await _handle_startup_failure(logger, e)\n    |   File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\app\\startup.py\", line 225, in _handle_startup_failure\n    |     sys.exit(1)\n    | SystemExit: 1\n    +------------------------------------\n================================== FAILURES ===================================\n\u001b[31m\u001b[1m_____________________ TestCorpusRoute.test_corpus_create ______________________\u001b[0m\n[gw2] win32 -- Python 3.12.4 C:\\Users\\antho\\miniconda3\\python.exe\n\u001b[1m\u001b[31mapp\\tests\\routes\\test_api_routes_21_30.py\u001b[0m:228: in test_corpus_create\n    \u001b[0m\u001b[94mwith\u001b[39;49;00m patch(\u001b[33m'\u001b[39;49;00m\u001b[33mapp.services.corpus_service.create_document\u001b[39;49;00m\u001b[33m'\u001b[39;49;00m) \u001b[94mas\u001b[39;49;00m mock_create:\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1458: in __enter__\n    \u001b[0moriginal, local = \u001b[96mself\u001b[39;49;00m.get_original()\u001b[90m\u001b[39;49;00m\n                      ^^^^^^^^^^^^^^^^^^^\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31m..\\..\\..\\..\\miniconda3\\Lib\\unittest\\mock.py\u001b[0m:1431: in get_original\n    \u001b[0m\u001b[94mraise\u001b[39;49;00m \u001b[96mAttributeError\u001b[39;49;00m(\u001b[90m\u001b[39;49;00m\n\u001b[1m\u001b[31mE   AttributeError: <module 'app.services.corpus_service' from 'C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\app\\\\services\\\\corpus_service.py'> does not have the attribute 'create_document'\u001b[0m\n\u001b[36m\u001b[1m=========================== short test summary info ===========================\u001b[0m\n\u001b[31mFAILED\u001b[0m app/tests/routes/test_api_routes_21_30.py::\u001b[1mTestCorpusRoute::test_corpus_create\u001b[0m - AttributeError: <module 'app.services.corpus_service' from 'C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\app\\\\services\\\\corpus_service.py'> does not have the attribute 'create_document'\n\u001b[31mERROR\u001b[0m integration_tests/test_health.py::\u001b[1mtest_live_endpoint\u001b[0m - concurrent.futures._base.CancelledError\n\u001b[31mERROR\u001b[0m integration_tests/test_health.py::\u001b[1mtest_ready_endpoint_clickhouse_failure\u001b[0m - concurrent.futures._base.CancelledError\n\u001b[31mERROR\u001b[0m integration_tests/test_app.py::\u001b[1mtest_read_main\u001b[0m - concurrent.futures._base.CancelledError\n\u001b[31m!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 4 failures !!!!!!!!!!!!!!!!!!!!!!!!!!\u001b[0m\n!!!!!!!!!!!! xdist.dsession.Interrupted: stopping after 1 failures !!!!!!!!!!!!\n\u001b[31m=================== \u001b[31m\u001b[1m1 failed\u001b[0m, \u001b[32m7 passed\u001b[0m, \u001b[31m\u001b[1m3 errors\u001b[0m\u001b[31m in 16.97s\u001b[0m\u001b[31m ====================\u001b[0m\n================================================================================\n[FAIL] TESTS FAILED with exit code 2 after 25.04s\n[Coverage] Coverage Report: reports/coverage/html/index.html\n================================================================================\n\n",
      "test_counts": {
        "total": 11,
        "passed": 7,
        "failed": 1,
        "skipped": 0,
        "errors": 3,
        "test_files": 5
      },
      "coverage": null,
      "test_details": []
    },
    "frontend": {
      "status": "skipped",
      "duration": 0,
      "exit_code": null,
      "output": "",
      "test_counts": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      },
      "coverage": null
    },
    "e2e": {
      "status": "pending",
      "duration": 0,
      "exit_code": null,
      "output": "",
      "test_counts": {
        "total": 0,
        "passed": 0,
        "failed": 0,
        "skipped": 0,
        "errors": 0
      },
      "coverage": null
    },
    "overall": {
      "status": "failed",
      "start_time": 1755232126.4696743,
      "end_time": 1755232152.4563775
    }
  }
}