{
  "timestamp": "20250822_161001",
  "level": "integration",
  "environment": "local",
  "services": {
    "backend": {
      "success": false,
      "duration": 46.97075533866882,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=session, asyncio_default_test_loop_scope=function\ncollected 8013 items / 227 errors / 1 skipped\n\n=================================== ERRORS ====================================\n_ ERROR collecting tests/integration/critical_paths/test_jwt_token_expiry_handling.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_jwt_token_expiry_handling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_jwt_token_expiry_handling.py:35: in <module>\n    import freezegun\nE   ModuleNotFoundError: No module named 'freezegun'\n_ ERROR collecting tests/integration/critical_paths/test_multi_service_startup_sequence.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_service_startup_sequence.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_service_startup_sequence.py:38: in <module>\n    from test_framework.docker_testing.compose_manager import DockerComposeManager\n..\\test_framework\\docker_testing\\compose_manager.py:16: in <module>\n    import aiofiles\nE   ModuleNotFoundError: No module named 'aiofiles'\n_ ERROR collecting tests/integration/critical_paths/test_multi_tenant_config_isolation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_tenant_config_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_tenant_config_isolation.py:32: in <module>\n    from netra_backend.app.core.cache.cache_manager import CacheManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.cache.cache_manager'; 'netra_backend.app.core.cache' is not a package\n_ ERROR collecting tests/integration/critical_paths/test_multi_tenant_isolation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_tenant_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_tenant_isolation.py:35: in <module>\n    from netra_backend.app.core.security import SecurityContext\nE   ImportError: cannot import name 'SecurityContext' from 'netra_backend.app.core.security' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\security.py)\n_ ERROR collecting tests/integration/critical_paths/test_multi_tenant_workspace_isolation.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multi_tenant_workspace_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_multi_tenant_workspace_isolation.py:38: in <module>\n    from netra_backend.app.services.database.connection_manager import (\nE   ImportError: cannot import name 'DatabaseConnectionManager' from 'netra_backend.app.services.database.connection_manager' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\database\\connection_manager.py)\n_ ERROR collecting tests/integration/critical_paths/test_payment_processing_e2e_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_payment_processing_e2e_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_payment_processing_e2e_l4.py:42: in <module>\n    from netra_backend.tests.integration.critical_paths.test_base import (\nE   ImportError: cannot import name 'CriticalPathMetrics' from 'netra_backend.tests.integration.critical_paths.test_base' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_base.py)\n_ ERROR collecting tests/integration/critical_paths/test_prometheus_metrics_accuracy.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_prometheus_metrics_accuracy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_prometheus_metrics_accuracy.py:34: in <module>\n    from netra_backend.tests.integration.critical_paths.integration.metrics.shared_fixtures import MetricEvent\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.critical_paths.integration.metrics'; 'netra_backend.tests.integration.critical_paths.integration' is not a package\n_ ERROR collecting tests/integration/critical_paths/test_prometheus_metrics_collection.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_prometheus_metrics_collection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_prometheus_metrics_collection.py:25: in <module>\n    from prometheus_client.parser import text_string_to_metric_families\nE   ModuleNotFoundError: No module named 'prometheus_client'\n_ ERROR collecting tests/integration/critical_paths/test_service_mesh_discovery.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_service_mesh_discovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_service_mesh_discovery.py:26: in <module>\n    from netra_backend.tests.integration.service_mesh_fixtures import service_mesh_l4\ntests\\integration\\service_mesh_fixtures.py:19: in <module>\n    from netra_backend.app.services.mesh.service_discovery import ServiceRegistry\nE   ImportError: cannot import name 'ServiceRegistry' from 'netra_backend.app.services.mesh.service_discovery' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\mesh\\service_discovery.py)\n_ ERROR collecting tests/integration/critical_paths/test_service_mesh_routing.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_service_mesh_routing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_service_mesh_routing.py:27: in <module>\n    from netra_backend.tests.integration.service_mesh_fixtures import (\ntests\\integration\\service_mesh_fixtures.py:19: in <module>\n    from netra_backend.app.services.mesh.service_discovery import ServiceRegistry\nE   ImportError: cannot import name 'ServiceRegistry' from 'netra_backend.app.services.mesh.service_discovery' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\mesh\\service_discovery.py)\n_ ERROR collecting tests/integration/critical_paths/test_session_invalidation_across_services_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_invalidation_across_services_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_invalidation_across_services_l4.py:30: in <module>\n    from l4_staging_critical_base import L4StagingCriticalPathTestBase\nE   ImportError: cannot import name 'L4StagingCriticalPathTestBase' from 'l4_staging_critical_base' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\l4_staging_critical_base.py). Did you mean: 'L4StagingCriticalBase'?\n_ ERROR collecting tests/integration/critical_paths/test_session_invalidation_cascade.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_invalidation_cascade.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_invalidation_cascade.py:41: in <module>\n    from netra_backend.app.database.models import User, Session\nE   ModuleNotFoundError: No module named 'netra_backend.app.database.models'\n_ ERROR collecting tests/integration/critical_paths/test_session_persistence_restart.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_session_persistence_restart.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_session_persistence_restart.py:42: in <module>\n    from netra_backend.app.database.models import User, Session\nE   ModuleNotFoundError: No module named 'netra_backend.app.database.models'\n_ ERROR collecting tests/integration/critical_paths/test_subscription_tier_enforcement.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_subscription_tier_enforcement.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_subscription_tier_enforcement.py:30: in <module>\n    from netra_backend.app.core.rate_limiting.tier_enforcer import TierEnforcementService\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.rate_limiting'\n_ ERROR collecting tests/integration/critical_paths/test_token_validation_chain_complete_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_token_validation_chain_complete_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_token_validation_chain_complete_l4.py:23: in <module>\n    from netra_backend.app.core.exceptions import (\nE   ImportError: cannot import name 'InvalidTokenError' from 'netra_backend.app.core.exceptions' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\exceptions.py)\n_ ERROR collecting tests/integration/critical_paths/test_user_state_persistence_complete_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_user_state_persistence_complete_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_user_state_persistence_complete_l4.py:22: in <module>\n    from netra_backend.app.models.user import User, UserPreferences, UserState\nE   ImportError: cannot import name 'UserPreferences' from 'netra_backend.app.models.user' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\models\\user.py)\n_ ERROR collecting tests/integration/critical_paths/test_websocket_heartbeat_zombie.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_heartbeat_zombie.py\", line 1069\nE       \nE       ^\nE   SyntaxError: invalid syntax\n_ ERROR collecting tests/integration/critical_paths/test_websocket_message_delivery_guarantees_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_message_delivery_guarantees_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_message_delivery_guarantees_l4.py:25: in <module>\n    from netra_backend.app.models.websocket_message import WebSocketMessage\nE   ModuleNotFoundError: No module named 'netra_backend.app.models.websocket_message'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_reconnection_resilience_l4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_resilience_l4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_reconnection_resilience_l4.py:26: in <module>\n    from netra_backend.app.services.message_queue_service import MessageQueueService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.message_queue_service'\n_ ERROR collecting tests/integration/critical_paths/test_websocket_resilience_recovery.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_resilience_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\critical_paths\\test_websocket_resilience_recovery.py:31: in <module>\n    from netra_backend.app.services.websocket.connection_recovery import ConnectionRecovery\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.websocket.connection_recovery'\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_agent_lifecycle_management.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_agent_lifecycle_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_agent_lifecycle_management.py:39: in <module>\n    from netra_backend.app.agents.supervisor_agent_modern import SupervisorAgent\nE   ImportError: cannot import name 'SupervisorAgent' from 'netra_backend.app.agents.supervisor_agent_modern' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\supervisor_agent_modern.py)\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_api_gateway_rate_limiting_accuracy.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_api_gateway_rate_limiting_accuracy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_api_gateway_rate_limiting_accuracy.py:22: in <module>\n    from netra_backend.app.middleware.rate_limiting import RateLimiter\nE   ModuleNotFoundError: No module named 'netra_backend.app.middleware.rate_limiting'\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_cross_database_transaction_consistency.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_cross_database_transaction_consistency.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_cross_database_transaction_consistency.py:40: in <module>\n    from netra_backend.app.clickhouse.clickhouse_manager import ClickHouseManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.clickhouse'\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_database_migration_failure_recovery.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_database_migration_failure_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_database_migration_failure_recovery.py:27: in <module>\n    from netra_backend.app.core.database import DatabaseManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.database'\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_llm_service_integration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_llm_service_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_llm_service_integration.py:37: in <module>\n    from netra_backend.app.llm.client import LLMClient\nE   ImportError: cannot import name 'LLMClient' from 'netra_backend.app.llm.client' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\llm\\client.py)\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_message_persistence_and_retrieval.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_message_persistence_and_retrieval.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_message_persistence_and_retrieval.py:38: in <module>\n    from test_framework.real_services_test_fixtures import create_real_test_user\nE   ModuleNotFoundError: No module named 'test_framework.real_services_test_fixtures'\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_oauth_database_consistency.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_oauth_database_consistency.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_oauth_database_consistency.py:40: in <module>\n    from netra_backend.app.db.models import User, Organization  # Main backend models\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   ModuleNotFoundError: No module named 'netra_backend.app.db.models'\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_service_discovery_failure_cascades.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_service_discovery_failure_cascades.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_service_discovery_failure_cascades.py:24: in <module>\n    from netra_backend.app.core.health_checkers import HealthChecker, ServiceHealthStatus\nE   ImportError: cannot import name 'ServiceHealthStatus' from 'netra_backend.app.core.health_checkers' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\health_checkers.py)\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_thread_crud_operations_data_consistency.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_thread_crud_operations_data_consistency.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_thread_crud_operations_data_consistency.py:19: in <module>\n    from netra_backend.app.core.database import DatabaseManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.database'\n_ ERROR collecting tests/integration/red_team/tier1_catastrophic/test_websocket_authentication_integration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier1_catastrophic\\test_websocket_authentication_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier1_catastrophic\\test_websocket_authentication_integration.py:25: in <module>\n    from netra_backend.app.websocket.ws_auth import WebSocketAuth\nE   ModuleNotFoundError: No module named 'netra_backend.app.websocket.ws_auth'\n_ ERROR collecting tests/integration/red_team/tier2_major_failures/test_background_job_processing.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier2_major_failures\\test_background_job_processing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier2_major_failures\\test_background_job_processing.py:35: in <module>\n    from netra_backend.app.services.generation_job_manager import GenerationJobManager\nE   ImportError: cannot import name 'GenerationJobManager' from 'netra_backend.app.services.generation_job_manager' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\generation_job_manager.py)\n_ ERROR collecting tests/integration/red_team/tier2_major_failures/test_circuit_breaker_state_management.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier2_major_failures\\test_circuit_breaker_state_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier2_major_failures\\test_circuit_breaker_state_management.py:38: in <module>\n    from netra_backend.app.core.reliability_circuit_breaker import ReliabilityCircuitBreaker\nE   ImportError: cannot import name 'ReliabilityCircuitBreaker' from 'netra_backend.app.core.reliability_circuit_breaker' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\reliability_circuit_breaker.py)\n_ ERROR collecting tests/integration/red_team/tier2_major_failures/test_clickhouse_data_ingestion_pipeline.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier2_major_failures\\test_clickhouse_data_ingestion_pipeline.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier2_major_failures\\test_clickhouse_data_ingestion_pipeline.py:34: in <module>\n    from netra_backend.app.services.data_ingestion_service import DataIngestionService\nE   ImportError: cannot import name 'DataIngestionService' from 'netra_backend.app.services.data_ingestion_service' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\services\\data_ingestion_service.py)\n_ ERROR collecting tests/integration/red_team/tier2_major_failures/test_file_upload_and_storage.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier2_major_failures\\test_file_upload_and_storage.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier2_major_failures\\test_file_upload_and_storage.py:39: in <module>\n    from netra_backend.app.services.file_storage_service import FileStorageService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.file_storage_service'\n_ ERROR collecting tests/integration/red_team/tier2_major_failures/test_transaction_rollback_coordination.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\red_team\\tier2_major_failures\\test_transaction_rollback_coordination.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\red_team\\tier2_major_failures\\test_transaction_rollback_coordination.py:37: in <module>\n    from netra_backend.app.core.transaction_core import TransactionCoordinator\nE   ModuleNotFoundError: No module named 'netra_backend.app.core.transaction_core'\n_ ERROR collecting tests/integration/staging/test_staging_database_connection_resilience.py _\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging\\test_staging_database_connection_resilience.py\", line 35\nE       DatabaseErrorSimulator,\nE   IndentationError: unexpected indent\n__ ERROR collecting tests/integration/staging_config/test_cloud_sql_proxy.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_cloud_sql_proxy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_cloud_sql_proxy.py:21: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n_ ERROR collecting tests/integration/staging_config/test_cors_configuration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_cors_configuration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_cors_configuration.py:18: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n_ ERROR collecting tests/integration/staging_config/test_database_migrations.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_database_migrations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_database_migrations.py:22: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n_ ERROR collecting tests/integration/staging_config/test_environment_precedence.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_environment_precedence.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_environment_precedence.py:21: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n___ ERROR collecting tests/integration/staging_config/test_health_checks.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_health_checks.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_health_checks.py:18: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n__ ERROR collecting tests/integration/staging_config/test_llm_integration.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_llm_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_llm_integration.py:19: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n_ ERROR collecting tests/integration/staging_config/test_multi_service_secrets.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_multi_service_secrets.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_multi_service_secrets.py:20: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n_ ERROR collecting tests/integration/staging_config/test_observability_pipeline.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_observability_pipeline.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_observability_pipeline.py:20: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n__ ERROR collecting tests/integration/staging_config/test_redis_lifecycle.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_redis_lifecycle.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_redis_lifecycle.py:21: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n__ ERROR collecting tests/integration/staging_config/test_resource_limits.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_resource_limits.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_resource_limits.py:21: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n_ ERROR collecting tests/integration/staging_config/test_secret_manager_integration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_secret_manager_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_secret_manager_integration.py:17: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n__ ERROR collecting tests/integration/staging_config/test_staging_startup.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_staging_startup.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_staging_startup.py:18: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n_ ERROR collecting tests/integration/staging_config/test_websocket_load_balancer.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\staging_config\\test_websocket_load_balancer.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\staging_config\\test_websocket_load_balancer.py:20: in <module>\n    from netra_backend.tests.integration.base import StagingConfigTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.base'\n___ ERROR collecting tests/integration/test_background_jobs_redis_queue.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_background_jobs_redis_queue.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_background_jobs_redis_queue.py:24: in <module>\n    from background_jobs.job_manager import JobManager\nE   ModuleNotFoundError: No module named 'background_jobs'\n_ ERROR collecting tests/integration/test_circuit_breaker_service_failures.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_circuit_breaker_service_failures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_circuit_breaker_service_failures.py:23: in <module>\n    from netra_backend.app.services.external_service_client import ExternalServiceClient\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.external_service_client'\n____ ERROR collecting tests/integration/test_critical_auth_integration.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_critical_auth_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_critical_auth_integration.py:27: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import MockAuthService\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n___ ERROR collecting tests/integration/test_database_migration_rollback.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_database_migration_rollback.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_database_migration_rollback.py:22: in <module>\n    from netra_backend.app.database.migration_manager import MigrationManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.database.migration_manager'\n_____ ERROR collecting tests/integration/test_distributed_tracing_otel.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_distributed_tracing_otel.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_distributed_tracing_otel.py:37: in <module>\n    from tracing.span_processor import CustomSpanProcessor\nE   ModuleNotFoundError: No module named 'tracing'\n____ ERROR collecting tests/integration/test_enterprise_domain_network.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_enterprise_domain_network.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_enterprise_domain_network.py:18: in <module>\n    from netra_backend.tests.integration.deployment_config_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.deployment_config_fixtures'\n__ ERROR collecting tests/integration/test_enterprise_environment_config.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_enterprise_environment_config.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_enterprise_environment_config.py:18: in <module>\n    from netra_backend.tests.integration.deployment_config_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.deployment_config_fixtures'\n____ ERROR collecting tests/integration/test_enterprise_resource_health.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_enterprise_resource_health.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_enterprise_resource_health.py:18: in <module>\n    from netra_backend.tests.integration.deployment_config_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.deployment_config_fixtures'\n____ ERROR collecting tests/integration/test_error_handling_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_error_handling_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_error_handling_integration.py:24: in <module>\n    from netra_backend.tests.integration.helpers.user_flow_helpers import (\nE   ImportError: cannot import name 'AgentTestHelpers' from 'netra_backend.tests.integration.helpers.user_flow_helpers' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\user_flow_helpers.py)\n_____ ERROR collecting tests/integration/test_first_time_user_advanced.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_advanced.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_advanced.py:24: in <module>\n    from netra_backend.tests.integration.first_time_user_fixtures import FirstTimeUserFixtures\nE   ImportError: cannot import name 'FirstTimeUserFixtures' from 'netra_backend.tests.integration.first_time_user_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\first_time_user_fixtures.py)\n_______ ERROR collecting tests/integration/test_first_time_user_core.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_core.py:24: in <module>\n    from netra_backend.tests.integration.first_time_user_fixtures import FirstTimeUserFixtures\nE   ImportError: cannot import name 'FirstTimeUserFixtures' from 'netra_backend.tests.integration.first_time_user_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\first_time_user_fixtures.py)\n____ ERROR collecting tests/integration/test_first_time_user_experience.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_experience.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_experience.py:24: in <module>\n    from netra_backend.tests.integration.first_time_user_fixtures import FirstTimeUserFixtures\nE   ImportError: cannot import name 'FirstTimeUserFixtures' from 'netra_backend.tests.integration.first_time_user_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\first_time_user_fixtures.py)\n___ ERROR collecting tests/integration/test_first_time_user_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_integration.py:22: in <module>\n    from test_unified_first_time_user import FirstTimeUserTester\nE   ModuleNotFoundError: No module named 'test_unified_first_time_user'\n____ ERROR collecting tests/integration/test_first_time_user_onboarding.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_onboarding.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_first_time_user_onboarding.py:27: in <module>\n    from netra_backend.app.models.message import Message\nE   ModuleNotFoundError: No module named 'netra_backend.app.models.message'\n____ ERROR collecting tests/integration/test_llm_response_caching_redis.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_llm_response_caching_redis.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_llm_response_caching_redis.py:25: in <module>\n    from caching.cache_strategies import CacheStrategy\nE   ModuleNotFoundError: No module named 'caching'\n______ ERROR collecting tests/integration/test_message_flow_auth_core.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_auth_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_auth_core.py:20: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n____ ERROR collecting tests/integration/test_message_flow_auth_helpers.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_auth_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_auth_helpers.py:20: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n_____ ERROR collecting tests/integration/test_message_flow_errors_core.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_errors_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_errors_core.py:24: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n___ ERROR collecting tests/integration/test_message_flow_errors_helpers.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_errors_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_errors_helpers.py:24: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n__ ERROR collecting tests/integration/test_message_flow_performance_core.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_performance_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_performance_core.py:19: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n_ ERROR collecting tests/integration/test_message_flow_performance_helpers.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_performance_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_performance_helpers.py:19: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n____ ERROR collecting tests/integration/test_message_flow_routing_core.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_routing_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_routing_core.py:24: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n___ ERROR collecting tests/integration/test_message_flow_routing_helpers.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_message_flow_routing_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_message_flow_routing_helpers.py:24: in <module>\n    from netra_backend.tests.integration.test_unified_message_flow import MessageFlowTracker\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_unified_message_flow'\n___ ERROR collecting tests/integration/test_metrics_pipeline_prometheus.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_metrics_pipeline_prometheus.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_metrics_pipeline_prometheus.py:24: in <module>\n    from netra_backend.app.monitoring.prometheus_exporter import PrometheusExporter\nE   ModuleNotFoundError: No module named 'netra_backend.app.monitoring.prometheus_exporter'\n______ ERROR collecting tests/integration/test_multi_tenant_isolation.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_multi_tenant_isolation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_multi_tenant_isolation.py:26: in <module>\n    from netra_backend.app.services.tenant_service import TenantService\nE   ModuleNotFoundError: No module named 'netra_backend.app.services.tenant_service'\n_____ ERROR collecting tests/integration/test_payment_gateway_sandbox.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_payment_gateway_sandbox.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_payment_gateway_sandbox.py:25: in <module>\n    from payments.gateway_manager import PaymentGatewayManager\nE   ModuleNotFoundError: No module named 'payments'\n_ ERROR collecting tests/integration/test_service_discovery_health_checks.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_service_discovery_health_checks.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_service_discovery_health_checks.py:23: in <module>\n    from discovery.consul_client import ConsulClient\nE   ModuleNotFoundError: No module named 'discovery'\n____ ERROR collecting tests/integration/test_sla_compliance_monitoring.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_sla_compliance_monitoring.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_sla_compliance_monitoring.py:31: in <module>\n    from netra_backend.tests.integration.helpers.user_flow_helpers import (\nE   ImportError: cannot import name 'MonitoringTestHelpers' from 'netra_backend.tests.integration.helpers.user_flow_helpers' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\user_flow_helpers.py)\n_____ ERROR collecting tests/integration/test_sso_saml_error_scenarios.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_sso_saml_error_scenarios.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_sso_saml_error_scenarios.py:27: in <module>\n    from netra_backend.tests.integration.sso_saml_components import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.sso_saml_components'\n_______ ERROR collecting tests/integration/test_sso_saml_integration.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_sso_saml_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_sso_saml_integration.py:50: in <module>\n    from netra_backend.tests.integration.sso_saml_components import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.sso_saml_components'\n_____ ERROR collecting tests/integration/test_supervisor_observability.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_supervisor_observability.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_supervisor_observability.py:20: in <module>\n    from netra_backend.app.agents.base.execution_context import (\nE   ImportError: cannot import name 'PipelineStep' from 'netra_backend.app.agents.base.execution_context' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\agents\\base\\execution_context.py)\n__ ERROR collecting tests/integration/test_team_collaboration_permissions.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_team_collaboration_permissions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_team_collaboration_permissions.py:37: in <module>\n    from netra_backend.tests.integration.integration.critical_paths.test_concurrent_editing_performance import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_ ERROR collecting tests/integration/test_transaction_coordination_integration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_transaction_coordination_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_transaction_coordination_integration.py:37: in <module>\n    from netra_backend.tests.integration.helpers.user_flow_helpers import (\nE   ImportError: cannot import name 'DatabaseTestHelpers' from 'netra_backend.tests.integration.helpers.user_flow_helpers' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\helpers\\user_flow_helpers.py)\n____ ERROR collecting tests/integration/test_unified_message_flow_core.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_unified_message_flow_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_unified_message_flow_core.py:24: in <module>\n    from netra_backend.tests.integration.test_ws_connection_mocks import MockWebSocket\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_ws_connection_mocks'\n__ ERROR collecting tests/integration/test_unified_message_flow_fixtures.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_unified_message_flow_fixtures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_unified_message_flow_fixtures.py:24: in <module>\n    from netra_backend.tests.integration.test_ws_connection_mocks import MockWebSocket\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_ws_connection_mocks'\n___ ERROR collecting tests/integration/test_unified_message_flow_helpers.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_unified_message_flow_helpers.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_unified_message_flow_helpers.py:24: in <module>\n    from netra_backend.tests.integration.test_ws_connection_mocks import MockWebSocket\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.test_ws_connection_mocks'\n_________ ERROR collecting tests/integration/test_user_flows_main.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_flows_main.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_flows_main.py:35: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_______ ERROR collecting tests/integration/test_user_onboarding_flow.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_onboarding_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_onboarding_flow.py:28: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n______ ERROR collecting tests/integration/test_user_registration_flow.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_registration_flow.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_registration_flow.py:32: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_______ ERROR collecting tests/integration/test_user_tier_management.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_tier_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_tier_management.py:26: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n_____ ERROR collecting tests/integration/test_user_websocket_lifecycle.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_user_websocket_lifecycle.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\integration\\test_user_websocket_lifecycle.py:27: in <module>\n    from netra_backend.tests.integration.integration.helpers.user_flow_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.integration.integration'\n__ ERROR collecting tests/integration/test_websocket_connection_recovery.py ___\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_websocket_connection_recovery.py:30: in <module>\n    from netra_backend.tests.integration.websocket_recovery_fixtures import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\websocket_recovery_fixtures.py\", line 23\nE       from starlette.websockets import WebSocketDisconnect, WebSocketState\nE       ^^^^\nE   SyntaxError: invalid syntax\n_____ ERROR collecting tests/integration/test_websocket_error_recovery.py _____\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_websocket_error_recovery.py:29: in <module>\n    from netra_backend.tests.integration.websocket_recovery_fixtures import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\websocket_recovery_fixtures.py\", line 23\nE       from starlette.websockets import WebSocketDisconnect, WebSocketState\nE       ^^^^\nE   SyntaxError: invalid syntax\n___ ERROR collecting tests/integration/test_websocket_state_persistence.py ____\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests\\integration\\test_websocket_state_persistence.py:31: in <module>\n    from netra_backend.tests.integration.websocket_recovery_fixtures import (\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\websocket_recovery_fixtures.py\", line 23\nE       from starlette.websockets import WebSocketDisconnect, WebSocketState\nE       ^^^^\nE   SyntaxError: invalid syntax\n__________ ERROR collecting tests/llm/test_structured_generation.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\llm\\test_structured_generation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\llm\\test_structured_generation.py:20: in <module>\n    from netra_backend.tests.llm_mocks import MockLLM, MockStructuredLLM\nE   ModuleNotFoundError: No module named 'netra_backend.tests.llm_mocks'\n_ ERROR collecting tests/performance/test_comprehensive_backend_performance.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\performance\\test_comprehensive_backend_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\performance\\test_comprehensive_backend_performance.py:33: in <module>\n    from netra_backend.app.websocket.performance_monitor import PerformanceMonitor\napp\\websocket\\performance_monitor.py:7: in <module>\n    from netra_backend.app.performance_monitor_collector import MetricCollector\nE   ModuleNotFoundError: No module named 'netra_backend.app.performance_monitor_collector'\n_______ ERROR collecting tests/performance/test_performance_batching.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\performance\\test_performance_batching.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\performance\\test_performance_batching.py:20: in <module>\n    from netra_backend.app.websocket.batch_message_handler import (\napp\\websocket\\batch_message_handler.py:7: in <module>\n    from netra_backend.app.websocket.batch_broadcast_manager import BatchedBroadcastManager\napp\\websocket\\batch_broadcast_manager.py:8: in <module>\n    from netra_backend.app.batch_message_core import MessageBatcher\nE   ModuleNotFoundError: No module named 'netra_backend.app.batch_message_core'\n____ ERROR collecting tests/performance/test_performance_optimizations.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\performance\\test_performance_optimizations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\performance\\test_performance_optimizations.py:14: in <module>\n    from netra_backend.tests.test_performance_batching import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_performance_batching'\n_____________ ERROR collecting tests/routes/test_admin_routes.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_admin_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_admin_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_agent_routes.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_agent_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_agent_routes.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_cache_routes.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_cache_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_cache_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_config_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_config_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_config_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_corpus_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_corpus_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_corpus_routes.py:26: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n___________ ERROR collecting tests/routes/test_llm_cache_routes.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_llm_cache_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_llm_cache_routes.py:15: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n______________ ERROR collecting tests/routes/test_mcp_routes.py _______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_mcp_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_mcp_routes.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n____________ ERROR collecting tests/routes/test_quality_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_quality_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_quality_routes.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n___________ ERROR collecting tests/routes/test_supply_management.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_supply_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_supply_management.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n____________ ERROR collecting tests/routes/test_supply_research.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_supply_research.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_supply_research.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_____________ ERROR collecting tests/routes/test_supply_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_supply_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_supply_routes.py:15: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n_______ ERROR collecting tests/routes/test_synthetic_data_generation.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_synthetic_data_generation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_synthetic_data_generation.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_______ ERROR collecting tests/routes/test_synthetic_data_management.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_synthetic_data_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_synthetic_data_management.py:21: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n_________ ERROR collecting tests/routes/test_synthetic_data_routes.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_synthetic_data_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_synthetic_data_routes.py:15: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n___________ ERROR collecting tests/routes/test_thread_analytics.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_thread_analytics.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_thread_analytics.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n______________ ERROR collecting tests/routes/test_thread_crud.py ______________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_thread_crud.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_thread_crud.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n___________ ERROR collecting tests/routes/test_thread_messaging.py ____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_thread_messaging.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_thread_messaging.py:22: in <module>\n    from netra_backend.tests.test_route_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_route_fixtures'\n____________ ERROR collecting tests/routes/test_threads_routes.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\routes\\test_threads_routes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\routes\\test_threads_routes.py:16: in <module>\n    from netra_backend.tests.test_utilities import base_client\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_utilities'\n_ ERROR collecting tests/services/test_agent_service_orchestration_agents.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_orchestration_agents.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_orchestration_agents.py:35: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import (\nE   ImportError: cannot import name 'AgentOrchestrator' from 'netra_backend.tests.test_agent_service_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_agent_service_fixtures.py)\n__ ERROR collecting tests/services/test_agent_service_orchestration_core.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_orchestration_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_orchestration_core.py:36: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import (\nE   ImportError: cannot import name 'agent_service' from 'netra_backend.tests.test_agent_service_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_agent_service_fixtures.py)\n_ ERROR collecting tests/services/test_agent_service_orchestration_workflows.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_agent_service_orchestration_workflows.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_agent_service_orchestration_workflows.py:32: in <module>\n    from netra_backend.tests.test_agent_service_fixtures import (\nE   ImportError: cannot import name 'AgentOrchestrator' from 'netra_backend.tests.test_agent_service_fixtures' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_agent_service_fixtures.py)\n_ ERROR collecting tests/services/test_apex_optimizer_tool_selection_part2.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_apex_optimizer_tool_selection_part2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_apex_optimizer_tool_selection_part2.py:34: in <module>\n    from netra_backend.tests.test_apex_optimizer_tool_selection_part1 import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_apex_optimizer_tool_selection_part1'\n_ ERROR collecting tests/services/test_apex_optimizer_tool_selection_part3.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_apex_optimizer_tool_selection_part3.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_apex_optimizer_tool_selection_part3.py:34: in <module>\n    from netra_backend.tests.test_apex_optimizer_tool_selection_part1 import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_apex_optimizer_tool_selection_part1'\n_ ERROR collecting tests/services/test_apex_optimizer_tool_selection_part4.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_apex_optimizer_tool_selection_part4.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_apex_optimizer_tool_selection_part4.py:36: in <module>\n    from netra_backend.tests.test_apex_optimizer_tool_selection_part1 import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_apex_optimizer_tool_selection_part1'\n____ ERROR collecting tests/services/test_clickhouse_array_syntax_fixer.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_clickhouse_array_syntax_fixer.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_clickhouse_array_syntax_fixer.py:14: in <module>\n    from netra_backend.tests.clickhouse_query_fixtures import get_all_test_queries\nE   ModuleNotFoundError: No module named 'netra_backend.tests.clickhouse_query_fixtures'\n__ ERROR collecting tests/services/test_database_repository_transactions.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_database_repository_transactions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_database_repository_transactions.py:21: in <module>\n    from netra_backend.tests.database_transaction_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_transaction_test_helpers'\n__ ERROR collecting tests/services/test_database_transaction_performance.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_database_transaction_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_database_transaction_performance.py:19: in <module>\n    from netra_backend.tests.database_transaction_test_mocks import MockRepository\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_transaction_test_mocks'\n_ ERROR collecting tests/services/test_database_unit_of_work_transactions.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_database_unit_of_work_transactions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_database_unit_of_work_transactions.py:17: in <module>\n    from netra_backend.tests.database_transaction_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.database_transaction_test_helpers'\n_________ ERROR collecting tests/services/test_external_api_client.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_external_api_client.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_external_api_client.py:16: in <module>\n    from netra_backend.tests.test_api_convenience_functions import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_api_convenience_functions'\n______ ERROR collecting tests/services/test_external_api_integration.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_external_api_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_external_api_integration.py:16: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n_________ ERROR collecting tests/services/test_llm_load_balancing.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_llm_load_balancing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_llm_load_balancing.py:18: in <module>\n    from netra_backend.tests.enhanced_llm_manager import EnhancedLLMManager\nE   ModuleNotFoundError: No module named 'netra_backend.tests.enhanced_llm_manager'\n_______ ERROR collecting tests/services/test_llm_provider_switching.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_llm_provider_switching.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_llm_provider_switching.py:18: in <module>\n    from netra_backend.tests.enhanced_llm_manager import EnhancedLLMManager\nE   ModuleNotFoundError: No module named 'netra_backend.tests.enhanced_llm_manager'\n________ ERROR collecting tests/services/test_llm_structured_output.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_llm_structured_output.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_llm_structured_output.py:18: in <module>\n    from netra_backend.tests.enhanced_llm_manager import EnhancedLLMManager\nE   ModuleNotFoundError: No module named 'netra_backend.tests.enhanced_llm_manager'\n___ ERROR collecting tests/services/test_permission_service_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_permission_service_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_permission_service_integration.py:26: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n________ ERROR collecting tests/services/test_quality_gate_advanced.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_advanced.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_advanced.py:17: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n_________ ERROR collecting tests/services/test_quality_gate_basic.py __________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_basic.py:14: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n___ ERROR collecting tests/services/test_quality_gate_clarity_redundancy.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_clarity_redundancy.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_clarity_redundancy.py:11: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n__ ERROR collecting tests/services/test_quality_gate_completeness_novelty.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_completeness_novelty.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_completeness_novelty.py:20: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n________ ERROR collecting tests/services/test_quality_gate_content.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_content.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_content.py:14: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n______ ERROR collecting tests/services/test_quality_gate_dataclasses.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_dataclasses.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_dataclasses.py:17: in <module>\n    from netra_backend.tests.quality_gate_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_fixtures'\n_ ERROR collecting tests/services/test_quality_gate_hallucination_scoring.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_hallucination_scoring.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_hallucination_scoring.py:14: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n___ ERROR collecting tests/services/test_quality_gate_integration_core_1.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_core_1.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_core_1.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n___ ERROR collecting tests/services/test_quality_gate_integration_core_2.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_core_2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_core_2.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n__ ERROR collecting tests/services/test_quality_gate_integration_fixtures.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_fixtures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_fixtures.py:16: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n_ ERROR collecting tests/services/test_quality_gate_integration_utilities_1.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_utilities_1.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_utilities_1.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n_ ERROR collecting tests/services/test_quality_gate_integration_utilities_2.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_integration_utilities_2.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_integration_utilities_2.py:15: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n________ ERROR collecting tests/services/test_quality_gate_metrics.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_metrics.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_metrics.py:14: in <module>\n    from netra_backend.tests.quality_gate_content import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_content'\n_ ERROR collecting tests/services/test_quality_gate_quantification_relevance.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_quantification_relevance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_quantification_relevance.py:11: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n_ ERROR collecting tests/services/test_quality_gate_specificity_actionability.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_gate_specificity_actionability.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_gate_specificity_actionability.py:14: in <module>\n    from netra_backend.tests.quality_gate_comprehensive_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_gate_comprehensive_helpers'\n______ ERROR collecting tests/services/test_quality_monitoring_alerts.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_alerts.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_alerts.py:21: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n______ ERROR collecting tests/services/test_quality_monitoring_basic.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_basic.py:20: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n___ ERROR collecting tests/services/test_quality_monitoring_integration.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_integration.py:25: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n_____ ERROR collecting tests/services/test_quality_monitoring_metrics.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_metrics.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_metrics.py:22: in <module>\n    from netra_backend.tests.quality_monitoring_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.quality_monitoring_fixtures'\n_____ ERROR collecting tests/services/test_quality_monitoring_service.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_quality_monitoring_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_quality_monitoring_service.py:14: in <module>\n    from netra_backend.tests.test_quality_monitoring_alerts import *\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_quality_monitoring_alerts'\n___ ERROR collecting tests/services/test_redis_manager_basic_operations.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_basic_operations.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_basic_operations.py:17: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n______ ERROR collecting tests/services/test_redis_manager_performance.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_performance.py:17: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n________ ERROR collecting tests/services/test_redis_manager_pooling.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_pooling.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_pooling.py:15: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n_________ ERROR collecting tests/services/test_redis_manager_retry.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_redis_manager_retry.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_redis_manager_retry.py:16: in <module>\n    from netra_backend.tests.redis_test_fixtures import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.redis_test_fixtures'\n____ ERROR collecting tests/services/test_repository_basic_transactions.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_repository_basic_transactions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_repository_basic_transactions.py:20: in <module>\n    from netra_backend.tests.services.services.shared.transaction_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.services.services'\n______ ERROR collecting tests/services/test_resilient_client_circuit.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_circuit.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_circuit.py:13: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n_______ ERROR collecting tests/services/test_resilient_client_health.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_health.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_health.py:13: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n______ ERROR collecting tests/services/test_resilient_client_response.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_response.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_response.py:14: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n______ ERROR collecting tests/services/test_resilient_client_session.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_resilient_client_session.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_resilient_client_session.py:13: in <module>\n    from netra_backend.tests.external_api_client_utils import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.external_api_client_utils'\n___ ERROR collecting tests/services/test_security_service_authentication.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_security_service_authentication.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_security_service_authentication.py:19: in <module>\n    from netra_backend.tests.security_service_test_mocks import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.security_service_test_mocks'\n_______ ERROR collecting tests/services/test_security_service_oauth.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_security_service_oauth.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_security_service_oauth.py:17: in <module>\n    from netra_backend.tests.security_service_test_mocks import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.security_service_test_mocks'\n____ ERROR collecting tests/services/test_security_service_permissions.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_security_service_permissions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_security_service_permissions.py:16: in <module>\n    from netra_backend.tests.security_service_test_mocks import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.security_service_test_mocks'\n_______ ERROR collecting tests/services/test_supply_catalog_service.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_supply_catalog_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_supply_catalog_service.py:13: in <module>\n    from netra_backend.app.schemas.unified_tools import (\nE   ImportError: cannot import name 'SupplyOptionCreate' from 'netra_backend.app.schemas.unified_tools' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\schemas\\unified_tools.py)\n_ ERROR collecting tests/services/test_supply_research_scheduler_jobs_index.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_supply_research_scheduler_jobs_index.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_supply_research_scheduler_jobs_index.py:14: in <module>\n    from netra_backend.tests.test_scheduler_concurrency import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_scheduler_concurrency'\n____ ERROR collecting tests/services/test_synthetic_data_service_admin.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_admin.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_admin.py:19: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n___ ERROR collecting tests/services/test_synthetic_data_service_advanced.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_advanced.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_advanced.py:27: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n____ ERROR collecting tests/services/test_synthetic_data_service_basic.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_basic.py:21: in <module>\n    from netra_backend.tests.test_synthetic_data_service_fixtures import *\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_fixtures'\n__ ERROR collecting tests/services/test_synthetic_data_service_generation.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_generation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_generation.py:19: in <module>\n    from netra_backend.tests.test_synthetic_data_service_fixtures import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_fixtures'\n__ ERROR collecting tests/services/test_synthetic_data_service_ingestion.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_ingestion.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_ingestion.py:19: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import IngestionMetrics\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n_ ERROR collecting tests/services/test_synthetic_data_service_integration.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_integration.py:23: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegration' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n_ ERROR collecting tests/services/test_synthetic_data_service_performance.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_performance.py:18: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n___ ERROR collecting tests/services/test_synthetic_data_service_recovery.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_recovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_recovery.py:18: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import GenerationConfig\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n__ ERROR collecting tests/services/test_synthetic_data_service_validation.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_synthetic_data_service_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_synthetic_data_service_validation.py:27: in <module>\n    from netra_backend.tests.test_synthetic_data_service_basic import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_synthetic_data_service_basic'\n____ ERROR collecting tests/services/test_tool_permission_availability.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_availability.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_availability.py:18: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_ ERROR collecting tests/services/test_tool_permission_business_requirements.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_business_requirements.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_business_requirements.py:21: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n______ ERROR collecting tests/services/test_tool_permission_checking.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_checking.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_checking.py:20: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_____ ERROR collecting tests/services/test_tool_permission_integration.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_integration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_integration.py:23: in <module>\n    from netra_backend.tests.services.helpers.shared_test_types import (\nE   ImportError: cannot import name 'TestIntegrationScenarios' from 'netra_backend.tests.services.helpers.shared_test_types' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\helpers\\shared_test_types.py)\n____ ERROR collecting tests/services/test_tool_permission_rate_limiting.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_rate_limiting.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_rate_limiting.py:17: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_ ERROR collecting tests/services/test_tool_permission_service_initialization.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_service_initialization.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_service_initialization.py:17: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_____ ERROR collecting tests/services/test_tool_permission_user_plans.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_permission_user_plans.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_permission_user_plans.py:21: in <module>\n    from netra_backend.tests.tool_permission_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_permission_helpers'\n_______ ERROR collecting tests/services/test_tool_registry_discovery.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_registry_discovery.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_registry_discovery.py:18: in <module>\n    from netra_backend.tests.test_tool_registry_registration_core import MockTool\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_tool_registry_registration_core'\n______ ERROR collecting tests/services/test_tool_registry_performance.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_registry_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_registry_performance.py:19: in <module>\n    from netra_backend.tests.test_tool_registry_registration_core import MockTool\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_tool_registry_registration_core'\n______ ERROR collecting tests/services/test_tool_registry_validation.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_tool_registry_validation.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_tool_registry_validation.py:22: in <module>\n    from netra_backend.tests.test_tool_registry_registration_core import MockTool\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_tool_registry_registration_core'\n__ ERROR collecting tests/services/test_unified_tool_registry_management.py ___\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_unified_tool_registry_management.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_unified_tool_registry_management.py:16: in <module>\n    from netra_backend.tests.tool_registry_management_core import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_registry_management_core'\n_ ERROR collecting tests/services/test_unified_tool_registry_orchestration.py _\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_unified_tool_registry_orchestration.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_unified_tool_registry_orchestration.py:14: in <module>\n    from netra_backend.tests.tool_registry_management_core import ToolOrchestrator\nE   ModuleNotFoundError: No module named 'netra_backend.tests.tool_registry_management_core'\n____________ ERROR collecting tests/services/test_user_service.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_user_service.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_user_service.py:19: in <module>\n    from netra_backend.app.schemas.User import UserUpdate\nE   ModuleNotFoundError: No module named 'netra_backend.app.schemas.User'\n______ ERROR collecting tests/services/test_websocket_handler_routing.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_websocket_handler_routing.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_websocket_handler_routing.py:20: in <module>\n    from netra_backend.tests.websocket_test_utilities import MockMessageHandler\nE   ModuleNotFoundError: No module named 'netra_backend.tests.websocket_test_utilities'\n_________ ERROR collecting tests/services/test_ws_connection_basic.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_connection_basic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_connection_basic.py:23: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n_________ ERROR collecting tests/services/test_ws_connection_mocks.py _________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_connection_mocks.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_connection_mocks.py:22: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n______ ERROR collecting tests/services/test_ws_connection_performance.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_connection_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_connection_performance.py:24: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n_____ ERROR collecting tests/services/test_ws_manager_connection_pool.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\services\\test_ws_manager_connection_pool.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\services\\test_ws_manager_connection_pool.py:13: in <module>\n    from netra_backend.tests.test_ws_connection_basic import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_ws_connection_basic'\n_____________ ERROR collecting tests/startup/test_config_core.py ______________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_config_core.py\", line 22\nE       ConfigStatus,\nE   IndentationError: unexpected indent\n____________ ERROR collecting tests/startup/test_config_engine.py _____________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_config_engine.py\", line 20\nE       ConfigDecisionEngine,\nE   IndentationError: unexpected indent\n__________ ERROR collecting tests/startup/test_config_validation.py ___________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_config_validation.py\", line 21\nE       ConfigStatus,\nE   IndentationError: unexpected indent\n___________ ERROR collecting tests/startup/test_config_validator.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_config_validator.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_config_validator.py:14: in <module>\n    from netra_backend.tests.test_config_core import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_config_core'\n___________ ERROR collecting tests/startup/test_error_aggregator.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_error_aggregator.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_error_aggregator.py:30: in <module>\n    from netra_backend.app.startup.error_aggregator import ErrorAggregator\napp\\startup\\__init__.py:8: in <module>\n    from netra_backend.app.error_aggregator import ErrorAggregator, error_aggregator\nE   ModuleNotFoundError: No module named 'netra_backend.app.error_aggregator'\n_______ ERROR collecting tests/startup/test_health_monitor_adaptive.py ________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_health_monitor_adaptive.py\", line 18\nE       HealthCheckResult,\nE   IndentationError: unexpected indent\n________ ERROR collecting tests/startup/test_health_monitor_checks.py _________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_health_monitor_checks.py\", line 18\nE       HealthCheckResult,\nE   IndentationError: unexpected indent\n_________ ERROR collecting tests/startup/test_health_monitor_core.py __________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_health_monitor_core.py\", line 18\nE       HealthCheckResult,\nE   IndentationError: unexpected indent\n_______ ERROR collecting tests/startup/test_health_monitor_lifecycle.py _______\ntests\\startup\\test_health_monitor_lifecycle.py:19: in <module>\n    def health_monitor() -> StagedHealthMonitor:\n                            ^^^^^^^^^^^^^^^^^^^\nE   NameError: name 'StagedHealthMonitor' is not defined\n__________ ERROR collecting tests/startup/test_migration_tracker.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_migration_tracker.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_migration_tracker.py:23: in <module>\n    from netra_backend.app.startup.migration_tracker import (\napp\\startup\\__init__.py:8: in <module>\n    from netra_backend.app.error_aggregator import ErrorAggregator, error_aggregator\nE   ModuleNotFoundError: No module named 'netra_backend.app.error_aggregator'\n________ ERROR collecting tests/startup/test_staged_health_monitor.py _________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_staged_health_monitor.py\", line 21\nE       HealthCheckResult,\nE   IndentationError: unexpected indent\n_____ ERROR collecting tests/startup/test_staged_health_monitor_index.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_staged_health_monitor_index.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_staged_health_monitor_index.py:14: in <module>\n    from netra_backend.tests.test_health_monitor_adaptive import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_health_monitor_adaptive'\n________ ERROR collecting tests/startup/test_startup_status_manager.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\startup\\test_startup_status_manager.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\startup\\test_startup_status_manager.py:37: in <module>\n    from netra_backend.app.startup.status_manager import StartupStatusManager\napp\\startup\\__init__.py:8: in <module>\n    from netra_backend.app.error_aggregator import ErrorAggregator, error_aggregator\nE   ModuleNotFoundError: No module named 'netra_backend.app.error_aggregator'\n_____________ ERROR collecting tests/test_mcp_integration_core.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_mcp_integration_core.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_mcp_integration_core.py:13: in <module>\n    from netra_mcp.netra_mcp_server import NetraMCPServer\nE   ModuleNotFoundError: No module named 'netra_mcp'\n___________ ERROR collecting tests/test_mcp_integration_fixtures.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_mcp_integration_fixtures.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_mcp_integration_fixtures.py:13: in <module>\n    from netra_mcp.netra_mcp_server import NetraMCPServer\nE   ModuleNotFoundError: No module named 'netra_mcp'\n___________ ERROR collecting tests/test_mcp_integration_services.py ___________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_mcp_integration_services.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_mcp_integration_services.py:13: in <module>\n    from netra_mcp.netra_mcp_server import NetraMCPServer\nE   ModuleNotFoundError: No module named 'netra_mcp'\n________ ERROR collecting tests/test_websocket_production_realistic.py ________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_websocket_production_realistic.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_websocket_production_realistic.py:24: in <module>\n    from netra_backend.tests.test_compression_auth import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_compression_auth'\n____________ ERROR collecting tests/test_websocket_type_safety.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_websocket_type_safety.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\test_websocket_type_safety.py:14: in <module>\n    from netra_backend.tests.test_websocket_bidirectional_types import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_websocket_bidirectional_types'\n______ ERROR collecting tests/unified_system/test_health_coordination.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unified_system\\test_health_coordination.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\unified_system\\test_health_coordination.py:41: in <module>\n    from netra_backend.tests.mock_services import (\nE   ImportError: cannot import name 'MockHTTPService' from 'netra_backend.tests.mock_services' (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\mock_services.py)\n_______ ERROR collecting tests/unified_system/test_service_recovery.py ________\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\python.py:498: in importtestmodule\n    mod = import_path(\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\pathlib.py:587: in import_path\n    importlib.import_module(module_name)\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:177: in exec_module\n    source_stat, co = _rewrite_test(fn, self.config)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\assertion\\rewrite.py:357: in _rewrite_test\n    tree = ast.parse(source, filename=strfn)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Program Files\\Python312\\Lib\\ast.py:52: in parse\n    return compile(source, filename, mode, flags,\nE     File \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unified_system\\test_service_recovery.py\", line 46\nE       CrashReport,\nE   IndentationError: unexpected indent\n_______ ERROR collecting tests/utils/test_datetime_string_json_utils.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_datetime_string_json_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_datetime_string_json_utils.py:20: in <module>\n    from netra_backend.tests.datetime_string_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.datetime_string_test_helpers'\n______ ERROR collecting tests/utils/test_file_crypto_validation_utils.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_file_crypto_validation_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_file_crypto_validation_utils.py:18: in <module>\n    from netra_backend.tests.json_file_crypto_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.json_file_crypto_test_helpers'\n_____ ERROR collecting tests/utils/test_formatting_math_network_utils.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_formatting_math_network_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_formatting_math_network_utils.py:19: in <module>\n    from netra_backend.tests.network_pagination_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.network_pagination_test_helpers'\n____ ERROR collecting tests/utils/test_monitoring_debug_migration_utils.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_monitoring_debug_migration_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_monitoring_debug_migration_utils.py:18: in <module>\n    from netra_backend.tests.debug_migration_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.debug_migration_test_helpers'\n______ ERROR collecting tests/utils/test_pagination_rate_retry_utils.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\utils\\test_pagination_rate_retry_utils.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\utils\\test_pagination_rate_retry_utils.py:17: in <module>\n    from netra_backend.tests.network_pagination_test_helpers import (\nE   ModuleNotFoundError: No module named 'netra_backend.tests.network_pagination_test_helpers'\n____ ERROR collecting tests/websocket/test_performance_monitor_coverage.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_performance_monitor_coverage.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_performance_monitor_coverage.py:18: in <module>\n    from netra_backend.app.websocket.performance_monitor_core import PerformanceMonitor\napp\\websocket\\performance_monitor_core.py:12: in <module>\n    from netra_backend.app.performance_monitor_alerts import PerformanceAlertManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.performance_monitor_alerts'\n___ ERROR collecting tests/websocket/test_state_synchronizer_exceptions.py ____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_state_synchronizer_exceptions.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_state_synchronizer_exceptions.py:18: in <module>\n    from netra_backend.app.websocket.state_synchronizer import ConnectionStateSynchronizer\napp\\websocket\\state_synchronizer.py:12: in <module>\n    from netra_backend.app.callback_handler import CallbackHandler\nE   ModuleNotFoundError: No module named 'netra_backend.app.callback_handler'\n______ ERROR collecting tests/websocket/test_websocket_comprehensive.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_comprehensive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_comprehensive.py:45: in <module>\n    from netra_backend.app.routes.websocket import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.routes.websocket'\n_______ ERROR collecting tests/websocket/test_websocket_e2e_complete.py _______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_e2e_complete.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_e2e_complete.py:36: in <module>\n    from netra_backend.app.routes.websocket import connection_manager\nE   ModuleNotFoundError: No module named 'netra_backend.app.routes.websocket'\n_ ERROR collecting tests/websocket/test_websocket_integration_performance.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_integration_performance.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_integration_performance.py:18: in <module>\n    from netra_backend.app.websocket.compression import WebSocketCompressor\napp\\websocket\\compression.py:11: in <module>\n    from netra_backend.app.compression_algorithms import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.compression_algorithms'\n____ ERROR collecting tests/websocket/test_websocket_reliability_fixes.py _____\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_reliability_fixes.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_reliability_fixes.py:32: in <module>\n    from netra_backend.app.routes.websocket import (\nE   ModuleNotFoundError: No module named 'netra_backend.app.routes.websocket'\n__ ERROR collecting tests/websocket/test_websocket_serialization_critical.py __\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\websocket\\test_websocket_serialization_critical.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\websocket\\test_websocket_serialization_critical.py:40: in <module>\n    from netra_backend.app.websocket.broadcast import BroadcastManager\napp\\websocket\\broadcast.py:8: in <module>\n    from netra_backend.app.broadcast_core import BroadcastManager\nE   ModuleNotFoundError: No module named 'netra_backend.app.broadcast_core'\n_______________ ERROR collecting tests/ws_manager/test_base.py ________________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\ws_manager\\test_base.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\ws_manager\\test_base.py:17: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n_____________ ERROR collecting tests/ws_manager/test_messaging.py _____________\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\ws_manager\\test_messaging.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\ws_manager\\test_messaging.py:19: in <module>\n    from netra_backend.tests.test_base import MockWebSocket, WebSocketTestBase\nE   ModuleNotFoundError: No module named 'netra_backend.tests.test_base'\n_____ ERROR collecting tests/ws_manager/test_singleton_and_connection.py ______\nImportError while importing test module 'C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\ws_manager\\test_singleton_and_connection.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\nC:\\Program Files\\Python312\\Lib\\importlib\\__init__.py:90: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\ntests\\ws_manager\\test_singleton_and_connection.py:18: in <module>\n    from netra_backend.app.services.websocket.ws_manager import (\nE   ImportError: cannot import name 'ConnectionInfo' from '<unknown module name>' (unknown location)\n============================== warnings summary ===============================\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\n    warnings.warn(\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\pydantic\\_internal\\_generate_schema.py:298: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.11/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    warnings.warn(\n\ntests\\unified_system\\fixtures.py:111\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unified_system\\fixtures.py:111: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    connection: websockets.WebSocketServerProtocol\n\n..\\..\\..\\..\\..\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\legacy\\__init__.py:6\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\websockets\\legacy\\__init__.py:6: DeprecationWarning: websockets.legacy is deprecated; see https://websockets.readthedocs.io/en/stable/howto/upgrade.html for upgrade instructions\n    warnings.warn(  # deprecated in 14.0 - 2024-11-09\n\ntests\\e2e\\test_websocket_integration_helpers.py:36\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\e2e\\test_websocket_integration_helpers.py:36: PytestCollectionWarning: cannot collect test class 'TestSyntaxFix' because it has a __init__ constructor (from: tests/e2e/test_websocket_integration_helpers.py)\n    class TestSyntaxFix:\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_agent_context_isolation_boundaries.py)\n    class TestcontainerHelper:\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_agent_failure_recovery_cascade.py)\n    class TestcontainerHelper:\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_agent_resource_pool_management.py)\n    class TestcontainerHelper:\n\ntests\\integration\\critical_paths\\test_alert_routing_escalation.py:40\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_alert_routing_escalation.py:40: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_alert_routing_escalation.py:41\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_alert_routing_escalation.py:41: PytestUnknownMarkWarning: Unknown pytest.mark.alerting - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.alerting\n\ntests\\integration\\config.py:5\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\config.py:5: PytestCollectionWarning: cannot collect test class 'TestTier' because it has a __init__ constructor (from: tests/integration/critical_paths/test_api_rate_limiting_first_requests.py)\n    class TestTier(str, Enum):\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:49\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:49: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:116\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:116: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:178\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:178: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:221\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:221: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:265\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:265: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:304\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:304: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:347\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:347: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:387\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:387: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:422\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:422: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:468\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_api_request_lifecycle_complete_l4.py:468: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:170\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:170: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:232\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:232: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:292\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:292: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:346\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:346: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:438\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:438: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:525\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:525: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:609\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_audit_trail_integrity_l4.py:609: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:167\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:167: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(180)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:232\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:232: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:296\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:296: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:348\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:348: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:390\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:390: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:436\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:436: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:495\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:495: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(180)\n\ntests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:543\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_failover_scenarios_l4.py:543: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:159\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:159: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:230\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:230: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:324\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:324: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:388\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:388: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:435\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:435: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:503\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:503: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:545\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_middleware_chain_validation.py:545: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:271\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:271: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:344\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:344: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:376\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:376: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:434\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:434: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:470\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:470: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:500\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:500: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:556\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_role_based_access_flow_l4.py:556: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:57\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:57: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:100\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:100: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:175\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:175: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:218\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:218: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:256\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:256: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:309\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:309: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:376\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:376: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:454\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:454: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:500\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_failover_complete_l4.py:500: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_auth_service_health_dependencies.py)\n    class TestcontainerHelper:\n\ntests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:176\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:176: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:244\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:244: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:310\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:310: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:384\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:384: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:456\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_service_recovery_crash.py:456: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:71\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:71: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:102\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:102: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:151\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:151: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:203\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:203: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:239\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:239: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:270\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:270: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:294\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:294: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:334\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:334: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:380\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:380: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:411\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_session_lifecycle_complete_l4.py:411: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:147\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:147: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:208\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:208: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(180)\n\ntests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:260\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:260: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:312\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_auth_token_refresh_high_load.py:312: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_business_critical_flows_l2.py:1062\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_business_critical_flows_l2.py:1062: PytestUnknownMarkWarning: Unknown pytest.mark.l2 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:50\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:50: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:88\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:88: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:156\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:156: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:214\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:214: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:272\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:272: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:353\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:353: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:415\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:415: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:480\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_session_management_l4.py:480: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:123\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:123: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:201\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:201: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:259\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:259: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:304\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:304: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:351\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_concurrent_user_login_sessions.py:351: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:54\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:54: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:92\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:92: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:129\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:129: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:173\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:173: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:228\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:228: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:264\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:264: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:303\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:303: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:364\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:364: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:408\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:408: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:454\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_cross_service_auth_propagation_complete_l4.py:454: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_custom_metrics_registration.py:41\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_custom_metrics_registration.py:41: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_custom_metrics_registration.py:42\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_custom_metrics_registration.py:42: PytestUnknownMarkWarning: Unknown pytest.mark.custom_metrics - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.custom_metrics\n\ntests\\integration\\critical_paths\\test_dashboard_query_performance.py:43\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dashboard_query_performance.py:43: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_dashboard_query_performance.py:45\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dashboard_query_performance.py:45: PytestUnknownMarkWarning: Unknown pytest.mark.dashboard - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.dashboard\n\ntests\\integration\\critical_paths\\test_data_migration_integrity_l4.py:1340\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_data_migration_integrity_l4.py:1340: PytestUnknownMarkWarning: Unknown pytest.mark.critical_path - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.critical_path\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:43\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:43: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:114\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:114: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:177\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:177: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:229\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:229: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:274\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:274: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:319\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:319: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:367\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:367: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:405\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:405: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:454\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:454: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:494\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_database_transaction_integrity_l4.py:494: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\critical_paths\\test_dev_environment_agent_response_flow_l4.py:894\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_agent_response_flow_l4.py:894: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_auth_login_complete_l4.py:607\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_auth_login_complete_l4.py:607: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_chat_initialization_l4.py:756\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_chat_initialization_l4.py:756: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_concurrent_users_l4.py:829\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_concurrent_users_l4.py:829: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_dev_environment_websocket_connection_l4.py:440\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_dev_environment_websocket_connection_l4.py:440: PytestUnknownMarkWarning: Unknown pytest.mark.level_4 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.level_4\n\ntests\\integration\\critical_paths\\test_disaster_recovery_failover_l4.py:1146\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_disaster_recovery_failover_l4.py:1146: PytestUnknownMarkWarning: Unknown pytest.mark.critical_path - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.critical_path\n\ntests\\integration\\critical_paths\\test_disaster_recovery_failover_l4.py:1147\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_disaster_recovery_failover_l4.py:1147: PytestUnknownMarkWarning: Unknown pytest.mark.disaster_recovery - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.disaster_recovery\n\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:166\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:166: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:258\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:258: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:307\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:307: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:352\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:352: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:423\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:423: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(90)\n\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:456\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:456: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:511\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_auth_state_sync_l4.py:511: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(120)\n\ntests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:40\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:40: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:41\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_distributed_tracing_propagation.py:41: PytestUnknownMarkWarning: Unknown pytest.mark.tracing - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.tracing\n\ntests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py:1398\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py:1398: PytestUnknownMarkWarning: Unknown pytest.mark.enterprise - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.enterprise\n\ntests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py:1425\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py:1425: PytestUnknownMarkWarning: Unknown pytest.mark.enterprise - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.enterprise\n\ntests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py:1448\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_enterprise_resource_isolation_l4.py:1448: PytestUnknownMarkWarning: Unknown pytest.mark.enterprise - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.enterprise\n\ntests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:49\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:49: PytestUnknownMarkWarning: Unknown pytest.mark.health_monitoring - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.health_monitoring,\n\ntests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:50\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_health_check_cascade_initialization.py:50: PytestUnknownMarkWarning: Unknown pytest.mark.initialization - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.initialization\n\ntests\\integration\\critical_paths\\test_jwt_token_propagation_l4.py:981\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_jwt_token_propagation_l4.py:981: PytestUnknownMarkWarning: Unknown pytest.mark.critical_path - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.critical_path\n\ntests\\integration\\critical_paths\\test_llm_agent_orchestration_l4.py:753\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_llm_agent_orchestration_l4.py:753: PytestUnknownMarkWarning: Unknown pytest.mark.llm_integration - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.llm_integration\n\ntests\\integration\\critical_paths\\test_llm_agent_orchestration_l4.py:778\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_llm_agent_orchestration_l4.py:778: PytestUnknownMarkWarning: Unknown pytest.mark.cost_validation - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.cost_validation\n\ntests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:39\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_log_aggregation_pipeline.py:39: PytestUnknownMarkWarning: Unknown pytest.mark.logging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.logging\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:631\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:631: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:678\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:678: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:723\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:723: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:788\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:788: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:831\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:831: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:868\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:868: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:917\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:917: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:953\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:953: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:987\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:987: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:1023\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_message_queue_websocket_broadcast.py:1023: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:44\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:44: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:45\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_cardinality_explosion.py:45: PytestUnknownMarkWarning: Unknown pytest.mark.cardinality - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.cardinality\n\ntests\\integration\\critical_paths\\test_metrics_pipeline_l4.py:46\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_pipeline_l4.py:46: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_metrics_retention_policy.py:37\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_retention_policy.py:37: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_metrics_retention_policy.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_metrics_retention_policy.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.retention - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.retention\n\napp\\core\\cache.py:26\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\cache.py:26: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    created_at: datetime = datetime.utcnow()\n\napp\\core\\security.py:54\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\app\\core\\security.py:54: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).\n    timestamp: datetime = datetime.utcnow()\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:933\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:933: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:975\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:975: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1021\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1021: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1073\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1073: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1119\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1119: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1165\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1165: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1223\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1223: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1267\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1267: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1339\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1339: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1391\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_multitab_websocket_sync.py:1391: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:281\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:281: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:296\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:296: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:318\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:318: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:337\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:337: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:360\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:360: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:384\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:384: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:395\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:395: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:414\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:414: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_password_reset_token_flow.py:432\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_password_reset_token_flow.py:432: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_service_mesh_l4.py:50\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_service_mesh_l4.py:50: PytestUnknownMarkWarning: Unknown pytest.mark.service_mesh - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.service_mesh,\n\ntests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:39\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_slo_calculation_accuracy.py:39: PytestUnknownMarkWarning: Unknown pytest.mark.slo - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.slo\n\ntests\\integration\\critical_paths\\test_supervisor_subagent_communication.py:988\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_supervisor_subagent_communication.py:988: PytestUnknownMarkWarning: Unknown pytest.mark.l2 - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2\n\n..\\test_framework\\testcontainers_utils.py:7\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\test_framework\\testcontainers_utils.py:7: PytestCollectionWarning: cannot collect test class 'TestcontainerHelper' because it has a __init__ constructor (from: tests/integration/critical_paths/test_supervisor_to_subagent_delegation.py)\n    class TestcontainerHelper:\n\ntests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:39\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:39: PytestUnknownMarkWarning: Unknown pytest.mark.observability - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.observability,\n\ntests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:40\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_trace_sampling_accuracy.py:40: PytestUnknownMarkWarning: Unknown pytest.mark.tracing - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    pytest.mark.tracing\n\ntests\\integration\\critical_paths\\test_transaction_atomicity_l4.py:814\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_transaction_atomicity_l4.py:814: PytestUnknownMarkWarning: Unknown pytest.mark.critical_path - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.critical_path\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:604\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:604: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:633\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:633: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:665\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:665: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:738\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:738: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:780\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:780: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:798\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:798: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:815\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:815: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:875\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:875: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_database_session.py:915\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_database_session.py:915: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_load_balancing_l4.py:237\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_load_balancing_l4.py:237: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    async def _identify_assigned_server(self, websocket: websockets.WebSocketServerProtocol) -> str:\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:975\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:975: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1011\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1011: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1059\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1059: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1113\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1113: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1159\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1159: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1203\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1203: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1245\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1245: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1307\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1307: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1342\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1342: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1383\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1383: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1429\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_rate_limiting.py:1429: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:766\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:766: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:812\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:812: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:858\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:858: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:908\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:908: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:958\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:958: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:994\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:994: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1046\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1046: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1084\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1084: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1144\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1144: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1189\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_reconnection_state.py:1189: PytestUnknownMarkWarning: Unknown pytest.mark.l2_realism - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.l2_realism\n\ntests\\integration\\critical_paths\\test_websocket_resilience_l4.py:348\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_resilience_l4.py:348: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    async def _send_and_verify_message(self, websocket: websockets.WebSocketServerProtocol,\n\ntests\\integration\\critical_paths\\test_websocket_resilience_l4.py:405\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\critical_paths\\test_websocket_resilience_l4.py:405: DeprecationWarning: websockets.WebSocketServerProtocol is deprecated\n    websocket: websockets.WebSocketServerProtocol) -> Dict[str, Any]:\n\ntests\\integration\\test_auth_edge_cases.py:164\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_auth_edge_cases.py:164: PytestUnknownMarkWarning: Unknown pytest.mark.security - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.security\n\ntests\\integration\\test_cache_database_sync.py:37\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_database_sync.py:37: PytestUnknownMarkWarning: Unknown pytest.mark.cache - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.cache\n\ntests\\integration\\test_cache_edge_cases.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_edge_cases.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.cache - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.cache\n\ntests\\integration\\test_cache_redis_invalidation.py:39\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_redis_invalidation.py:39: PytestUnknownMarkWarning: Unknown pytest.mark.cache - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.cache\n\ntests\\integration\\test_cache_service_cascade.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_cache_service_cascade.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.cache - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.cache\n\ntests\\integration\\test_first_time_user_billing.py:35\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:35: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_billing.py:69\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:69: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_billing.py:96\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:96: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_billing.py:124\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:124: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_billing.py:165\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:165: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_billing.py:186\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:186: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\test_first_time_user_billing.py:232\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:232: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_billing.py:262\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:262: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_billing.py:291\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_billing.py:291: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_errors.py:27\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:27: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_errors.py:49\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:49: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_errors.py:74\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:74: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_errors.py:99\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:99: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_errors.py:118\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:118: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_errors.py:145\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:145: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(25)\n\ntests\\integration\\test_first_time_user_errors.py:183\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:183: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_errors.py:200\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:200: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_errors.py:224\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:224: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_errors.py:255\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_errors.py:255: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_permissions.py:34\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:34: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_permissions.py:64\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:64: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_permissions.py:86\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:86: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(25)\n\ntests\\integration\\test_first_time_user_permissions.py:112\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:112: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_permissions.py:141\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:141: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_permissions.py:166\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:166: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_permissions.py:192\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:192: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\test_first_time_user_permissions.py:228\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:228: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\test_first_time_user_permissions.py:276\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:276: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_permissions.py:333\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_permissions.py:333: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_signup.py:35\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py:35: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_signup.py:60\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py:60: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_signup.py:85\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py:85: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(15)\n\ntests\\integration\\test_first_time_user_signup.py:110\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py:110: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(10)\n\ntests\\integration\\test_first_time_user_signup.py:127\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py:127: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\test_first_time_user_signup.py:158\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py:158: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_signup.py:191\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_signup.py:191: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_workspace.py:35\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:35: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_workspace.py:67\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:67: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_workspace.py:109\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:109: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_workspace.py:142\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:142: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_workspace.py:177\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:177: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_workspace.py:202\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:202: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_first_time_user_workspace.py:243\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:243: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\test_first_time_user_workspace.py:285\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_first_time_user_workspace.py:285: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(20)\n\ntests\\integration\\test_logging_audit_integration_core.py:26\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_logging_audit_integration_core.py:26: PytestCollectionWarning: cannot collect test class 'TestSyntaxFix' because it has a __init__ constructor (from: tests/integration/test_logging_audit_integration_core.py)\n    class TestSyntaxFix:\n\ntests\\integration\\test_logging_audit_integration_helpers.py:26\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\test_logging_audit_integration_helpers.py:26: PytestCollectionWarning: cannot collect test class 'TestSyntaxFix' because it has a __init__ constructor (from: tests/integration/test_logging_audit_integration_helpers.py)\n    class TestSyntaxFix:\n\ntests\\integration\\user_flows\\test_conversion_paths.py:49\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_conversion_paths.py:49: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(60)\n\ntests\\integration\\user_flows\\test_conversion_paths.py:137\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_conversion_paths.py:137: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\user_flows\\test_conversion_paths.py:174\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_conversion_paths.py:174: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_conversion_paths.py:227\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_conversion_paths.py:227: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_conversion_paths.py:259\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_conversion_paths.py:259: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:45\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:45: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:77\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:77: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:112\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:112: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:150\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:150: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:187\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:187: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:226\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:226: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:264\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:264: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_early_tier_flows.py:294\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_early_tier_flows.py:294: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_enterprise_flows.py:38\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_enterprise_flows.py:38: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\user_flows\\test_enterprise_flows.py:102\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_enterprise_flows.py:102: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_enterprise_flows.py:152\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_enterprise_flows.py:152: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_enterprise_flows.py:207\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_enterprise_flows.py:207: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_enterprise_flows.py:253\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_enterprise_flows.py:253: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_enterprise_flows.py:284\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_enterprise_flows.py:284: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:65\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:65: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:119\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:119: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:163\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:163: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:219\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:219: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:269\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:269: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:303\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:303: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:339\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:339: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:383\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:383: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:427\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:427: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_free_tier_onboarding.py:467\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_free_tier_onboarding.py:467: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_mid_tier_flows.py:47\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_mid_tier_flows.py:47: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(45)\n\ntests\\integration\\user_flows\\test_mid_tier_flows.py:89\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_mid_tier_flows.py:89: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_mid_tier_flows.py:133\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_mid_tier_flows.py:133: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_mid_tier_flows.py:181\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_mid_tier_flows.py:181: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_mid_tier_flows.py:240\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_mid_tier_flows.py:240: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\integration\\user_flows\\test_mid_tier_flows.py:275\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\integration\\user_flows\\test_mid_tier_flows.py:275: PytestUnknownMarkWarning: Unknown pytest.mark.timeout - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.timeout(30)\n\ntests\\test_config_helpers.py:202\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_config_helpers.py:202: PytestCollectionWarning: cannot collect test class 'TestConfigValidator' because it has a __init__ constructor (from: tests/test_config_helpers.py)\n    class TestConfigValidator:\n\ntests\\test_database_manager_helpers.py:52\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\test_database_manager_helpers.py:52: PytestCollectionWarning: cannot collect test class 'TestDatabaseManager' because it has a __init__ constructor (from: tests/test_database_manager_helpers.py)\n    class TestDatabaseManager:\n\ntests\\unified_system\\fixtures.py:99\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unified_system\\fixtures.py:99: PytestCollectionWarning: cannot collect test class 'TestUser' because it has a __init__ constructor (from: tests/unified_system/test_error_propagation.py)\n    @dataclass\n\ntests\\unit\\test_agent_lifecycle.py:28\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\netra_backend\\tests\\unit\\test_agent_lifecycle.py:28: PytestCollectionWarning: cannot collect test class 'TestAgent' because it has a __init__ constructor (from: tests/unit/test_agent_lifecycle.py)\n    class TestAgent(AgentLifecycleMixin):\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nERROR tests/integration/critical_paths/test_jwt_token_expiry_handling.py\nERROR tests/integration/critical_paths/test_multi_service_startup_sequence.py\nERROR tests/integration/critical_paths/test_multi_tenant_config_isolation.py\nERROR tests/integration/critical_paths/test_multi_tenant_isolation.py\nERROR tests/integration/critical_paths/test_multi_tenant_workspace_isolation.py\nERROR tests/integration/critical_paths/test_payment_processing_e2e_l4.py\nERROR tests/integration/critical_paths/test_prometheus_metrics_accuracy.py\nERROR tests/integration/critical_paths/test_prometheus_metrics_collection.py\nERROR tests/integration/critical_paths/test_service_mesh_discovery.py\nERROR tests/integration/critical_paths/test_service_mesh_routing.py\nERROR tests/integration/critical_paths/test_session_invalidation_across_services_l4.py\nERROR tests/integration/critical_paths/test_session_invalidation_cascade.py\nERROR tests/integration/critical_paths/test_session_persistence_restart.py\nERROR tests/integration/critical_paths/test_subscription_tier_enforcement.py\nERROR tests/integration/critical_paths/test_token_validation_chain_complete_l4.py\nERROR tests/integration/critical_paths/test_user_state_persistence_complete_l4.py\nERROR tests/integration/critical_paths/test_websocket_heartbeat_zombie.py\nERROR tests/integration/critical_paths/test_websocket_message_delivery_guarantees_l4.py\nERROR tests/integration/critical_paths/test_websocket_reconnection_resilience_l4.py\nERROR tests/integration/critical_paths/test_websocket_resilience_recovery.py\nERROR tests/integration/red_team/tier1_catastrophic/test_agent_lifecycle_management.py\nERROR tests/integration/red_team/tier1_catastrophic/test_api_gateway_rate_limiting_accuracy.py\nERROR tests/integration/red_team/tier1_catastrophic/test_cross_database_transaction_consistency.py\nERROR tests/integration/red_team/tier1_catastrophic/test_database_migration_failure_recovery.py\nERROR tests/integration/red_team/tier1_catastrophic/test_llm_service_integration.py\nERROR tests/integration/red_team/tier1_catastrophic/test_message_persistence_and_retrieval.py\nERROR tests/integration/red_team/tier1_catastrophic/test_oauth_database_consistency.py\nERROR tests/integration/red_team/tier1_catastrophic/test_service_discovery_failure_cascades.py\nERROR tests/integration/red_team/tier1_catastrophic/test_thread_crud_operations_data_consistency.py\nERROR tests/integration/red_team/tier1_catastrophic/test_websocket_authentication_integration.py\nERROR tests/integration/red_team/tier2_major_failures/test_background_job_processing.py\nERROR tests/integration/red_team/tier2_major_failures/test_circuit_breaker_state_management.py\nERROR tests/integration/red_team/tier2_major_failures/test_clickhouse_data_ingestion_pipeline.py\nERROR tests/integration/red_team/tier2_major_failures/test_file_upload_and_storage.py\nERROR tests/integration/red_team/tier2_major_failures/test_transaction_rollback_coordination.py\nERROR tests/integration/staging/test_staging_database_connection_resilience.py\nERROR tests/integration/staging_config/test_cloud_sql_proxy.py\nERROR tests/integration/staging_config/test_cors_configuration.py\nERROR tests/integration/staging_config/test_database_migrations.py\nERROR tests/integration/staging_config/test_environment_precedence.py\nERROR tests/integration/staging_config/test_health_checks.py\nERROR tests/integration/staging_config/test_llm_integration.py\nERROR tests/integration/staging_config/test_multi_service_secrets.py\nERROR tests/integration/staging_config/test_observability_pipeline.py\nERROR tests/integration/staging_config/test_redis_lifecycle.py\nERROR tests/integration/staging_config/test_resource_limits.py\nERROR tests/integration/staging_config/test_secret_manager_integration.py\nERROR tests/integration/staging_config/test_staging_startup.py\nERROR tests/integration/staging_config/test_websocket_load_balancer.py\nERROR tests/integration/test_background_jobs_redis_queue.py\nERROR tests/integration/test_circuit_breaker_service_failures.py\nERROR tests/integration/test_critical_auth_integration.py\nERROR tests/integration/test_database_migration_rollback.py\nERROR tests/integration/test_distributed_tracing_otel.py\nERROR tests/integration/test_enterprise_domain_network.py\nERROR tests/integration/test_enterprise_environment_config.py\nERROR tests/integration/test_enterprise_resource_health.py\nERROR tests/integration/test_error_handling_integration.py\nERROR tests/integration/test_first_time_user_advanced.py\nERROR tests/integration/test_first_time_user_core.py\nERROR tests/integration/test_first_time_user_experience.py\nERROR tests/integration/test_first_time_user_integration.py\nERROR tests/integration/test_first_time_user_onboarding.py\nERROR tests/integration/test_llm_response_caching_redis.py\nERROR tests/integration/test_message_flow_auth_core.py\nERROR tests/integration/test_message_flow_auth_helpers.py\nERROR tests/integration/test_message_flow_errors_core.py\nERROR tests/integration/test_message_flow_errors_helpers.py\nERROR tests/integration/test_message_flow_performance_core.py\nERROR tests/integration/test_message_flow_performance_helpers.py\nERROR tests/integration/test_message_flow_routing_core.py\nERROR tests/integration/test_message_flow_routing_helpers.py\nERROR tests/integration/test_metrics_pipeline_prometheus.py\nERROR tests/integration/test_multi_tenant_isolation.py\nERROR tests/integration/test_payment_gateway_sandbox.py\nERROR tests/integration/test_service_discovery_health_checks.py\nERROR tests/integration/test_sla_compliance_monitoring.py\nERROR tests/integration/test_sso_saml_error_scenarios.py\nERROR tests/integration/test_sso_saml_integration.py\nERROR tests/integration/test_supervisor_observability.py\nERROR tests/integration/test_team_collaboration_permissions.py\nERROR tests/integration/test_transaction_coordination_integration.py\nERROR tests/integration/test_unified_message_flow_core.py\nERROR tests/integration/test_unified_message_flow_fixtures.py\nERROR tests/integration/test_unified_message_flow_helpers.py\nERROR tests/integration/test_user_flows_main.py\nERROR tests/integration/test_user_onboarding_flow.py\nERROR tests/integration/test_user_registration_flow.py\nERROR tests/integration/test_user_tier_management.py\nERROR tests/integration/test_user_websocket_lifecycle.py\nERROR tests/integration/test_websocket_connection_recovery.py\nERROR tests/integration/test_websocket_error_recovery.py\nERROR tests/integration/test_websocket_state_persistence.py\nERROR tests/llm/test_structured_generation.py\nERROR tests/performance/test_comprehensive_backend_performance.py\nERROR tests/performance/test_performance_batching.py\nERROR tests/performance/test_performance_optimizations.py\nERROR tests/routes/test_admin_routes.py\nERROR tests/routes/test_agent_routes.py\nERROR tests/routes/test_cache_routes.py\nERROR tests/routes/test_config_routes.py\nERROR tests/routes/test_corpus_routes.py\nERROR tests/routes/test_llm_cache_routes.py\nERROR tests/routes/test_mcp_routes.py\nERROR tests/routes/test_quality_routes.py\nERROR tests/routes/test_supply_management.py\nERROR tests/routes/test_supply_research.py\nERROR tests/routes/test_supply_routes.py\nERROR tests/routes/test_synthetic_data_generation.py\nERROR tests/routes/test_synthetic_data_management.py\nERROR tests/routes/test_synthetic_data_routes.py\nERROR tests/routes/test_thread_analytics.py\nERROR tests/routes/test_thread_crud.py\nERROR tests/routes/test_thread_messaging.py\nERROR tests/routes/test_threads_routes.py\nERROR tests/services/test_agent_service_orchestration_agents.py\nERROR tests/services/test_agent_service_orchestration_core.py\nERROR tests/services/test_agent_service_orchestration_workflows.py\nERROR tests/services/test_apex_optimizer_tool_selection_part2.py\nERROR tests/services/test_apex_optimizer_tool_selection_part3.py\nERROR tests/services/test_apex_optimizer_tool_selection_part4.py\nERROR tests/services/test_clickhouse_array_syntax_fixer.py\nERROR tests/services/test_database_repository_transactions.py\nERROR tests/services/test_database_transaction_performance.py\nERROR tests/services/test_database_unit_of_work_transactions.py\nERROR tests/services/test_external_api_client.py\nERROR tests/services/test_external_api_integration.py\nERROR tests/services/test_llm_load_balancing.py\nERROR tests/services/test_llm_provider_switching.py\nERROR tests/services/test_llm_structured_output.py\nERROR tests/services/test_permission_service_integration.py\nERROR tests/services/test_quality_gate_advanced.py\nERROR tests/services/test_quality_gate_basic.py\nERROR tests/services/test_quality_gate_clarity_redundancy.py\nERROR tests/services/test_quality_gate_completeness_novelty.py\nERROR tests/services/test_quality_gate_content.py\nERROR tests/services/test_quality_gate_dataclasses.py\nERROR tests/services/test_quality_gate_hallucination_scoring.py\nERROR tests/services/test_quality_gate_integration_core_1.py\nERROR tests/services/test_quality_gate_integration_core_2.py\nERROR tests/services/test_quality_gate_integration_fixtures.py\nERROR tests/services/test_quality_gate_integration_utilities_1.py\nERROR tests/services/test_quality_gate_integration_utilities_2.py\nERROR tests/services/test_quality_gate_metrics.py\nERROR tests/services/test_quality_gate_quantification_relevance.py\nERROR tests/services/test_quality_gate_specificity_actionability.py\nERROR tests/services/test_quality_monitoring_alerts.py\nERROR tests/services/test_quality_monitoring_basic.py\nERROR tests/services/test_quality_monitoring_integration.py\nERROR tests/services/test_quality_monitoring_metrics.py\nERROR tests/services/test_quality_monitoring_service.py\nERROR tests/services/test_redis_manager_basic_operations.py\nERROR tests/services/test_redis_manager_performance.py\nERROR tests/services/test_redis_manager_pooling.py\nERROR tests/services/test_redis_manager_retry.py\nERROR tests/services/test_repository_basic_transactions.py\nERROR tests/services/test_resilient_client_circuit.py\nERROR tests/services/test_resilient_client_health.py\nERROR tests/services/test_resilient_client_response.py\nERROR tests/services/test_resilient_client_session.py\nERROR tests/services/test_security_service_authentication.py\nERROR tests/services/test_security_service_oauth.py\nERROR tests/services/test_security_service_permissions.py\nERROR tests/services/test_supply_catalog_service.py\nERROR tests/services/test_supply_research_scheduler_jobs_index.py\nERROR tests/services/test_synthetic_data_service_admin.py\nERROR tests/services/test_synthetic_data_service_advanced.py\nERROR tests/services/test_synthetic_data_service_basic.py\nERROR tests/services/test_synthetic_data_service_generation.py\nERROR tests/services/test_synthetic_data_service_ingestion.py\nERROR tests/services/test_synthetic_data_service_integration.py\nERROR tests/services/test_synthetic_data_service_performance.py\nERROR tests/services/test_synthetic_data_service_recovery.py\nERROR tests/services/test_synthetic_data_service_validation.py\nERROR tests/services/test_tool_permission_availability.py\nERROR tests/services/test_tool_permission_business_requirements.py\nERROR tests/services/test_tool_permission_checking.py\nERROR tests/services/test_tool_permission_integration.py\nERROR tests/services/test_tool_permission_rate_limiting.py\nERROR tests/services/test_tool_permission_service_initialization.py\nERROR tests/services/test_tool_permission_user_plans.py\nERROR tests/services/test_tool_registry_discovery.py\nERROR tests/services/test_tool_registry_performance.py\nERROR tests/services/test_tool_registry_validation.py\nERROR tests/services/test_unified_tool_registry_management.py\nERROR tests/services/test_unified_tool_registry_orchestration.py\nERROR tests/services/test_user_service.py\nERROR tests/services/test_websocket_handler_routing.py\nERROR tests/services/test_ws_connection_basic.py\nERROR tests/services/test_ws_connection_mocks.py\nERROR tests/services/test_ws_connection_performance.py\nERROR tests/services/test_ws_manager_connection_pool.py\nERROR tests/startup/test_config_core.py\nERROR tests/startup/test_config_engine.py\nERROR tests/startup/test_config_validation.py\nERROR tests/startup/test_config_validator.py\nERROR tests/startup/test_error_aggregator.py\nERROR tests/startup/test_health_monitor_adaptive.py\nERROR tests/startup/test_health_monitor_checks.py\nERROR tests/startup/test_health_monitor_core.py\nERROR tests/startup/test_health_monitor_lifecycle.py - NameError: name 'Stage...\nERROR tests/startup/test_migration_tracker.py\nERROR tests/startup/test_staged_health_monitor.py\nERROR tests/startup/test_staged_health_monitor_index.py\nERROR tests/startup/test_startup_status_manager.py\nERROR tests/test_mcp_integration_core.py\nERROR tests/test_mcp_integration_fixtures.py\nERROR tests/test_mcp_integration_services.py\nERROR tests/test_websocket_production_realistic.py\nERROR tests/test_websocket_type_safety.py\nERROR tests/unified_system/test_health_coordination.py\nERROR tests/unified_system/test_service_recovery.py\nERROR tests/utils/test_datetime_string_json_utils.py\nERROR tests/utils/test_file_crypto_validation_utils.py\nERROR tests/utils/test_formatting_math_network_utils.py\nERROR tests/utils/test_monitoring_debug_migration_utils.py\nERROR tests/utils/test_pagination_rate_retry_utils.py\nERROR tests/websocket/test_performance_monitor_coverage.py\nERROR tests/websocket/test_state_synchronizer_exceptions.py\nERROR tests/websocket/test_websocket_comprehensive.py\nERROR tests/websocket/test_websocket_e2e_complete.py\nERROR tests/websocket/test_websocket_integration_performance.py\nERROR tests/websocket/test_websocket_reliability_fixes.py\nERROR tests/websocket/test_websocket_serialization_critical.py\nERROR tests/ws_manager/test_base.py\nERROR tests/ws_manager/test_messaging.py\nERROR tests/ws_manager/test_singleton_and_connection.py\n!!!!!!!!!!!!!!!!!! Interrupted: 227 errors during collection !!!!!!!!!!!!!!!!!!\n================ 1 skipped, 326 warnings, 227 errors in 40.19s ================\n",
      "errors": ""
    },
    "auth": {
      "success": false,
      "duration": 43.075058460235596,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollected 193 items\n\ntests\\integration\\test_auth_oauth_errors.py ........                     [  4%]\ntests\\integration\\test_auth_oauth_google.py ........                     [  8%]\ntests\\integration\\test_oauth_comprehensive_failures.py ................. [ 17%]\n............sss                                                          [ 24%]\ntests\\integration\\test_oauth_flows_auth.py ..                            [ 25%]\ntests\\integration\\test_oauth_flows_core.py ...                           [ 27%]\ntests\\integration\\test_oauth_flows_sync.py ............                  [ 33%]\ntests\\test_auth_token_generation.py ..........                           [ 38%]\ntests\\test_auth_token_security.py ..................                     [ 48%]\ntests\\test_auth_token_validation.py ....F.........                       [ 55%]\ntests\\test_cloud_sql_url.py ....                                         [ 57%]\ntests\\test_security.py ....................                              [ 67%]\ntests\\test_session_cleanup.py ..........                                 [ 73%]\ntests\\test_session_management.py .F...............                       [ 81%]\ntests\\test_setup.py ....                                                 [ 83%]\ntests\\test_single_database.py ....                                       [ 86%]\ntests\\unified\\test_jwt_validation.py ............                        [ 92%]\ntests\\unit\\test_oauth_models.py ...............                          [100%]\n\n================================== FAILURES ===================================\n_________ TestJWTTokenValidation.test_validate_token_edge_case_timing _________\n\nself = <auth_service.tests.test_auth_token_validation.TestJWTTokenValidation testMethod=test_validate_token_edge_case_timing>\n\n    def test_validate_token_edge_case_timing(self):\n        \"\"\"Test validation edge cases around timing\"\"\"\n        # Create a token that expires very soon by directly encoding with JWT\n        import jwt\n        near_expiry_time = datetime.now(timezone.utc) + timedelta(seconds=1)\n    \n        # Create payload manually with short expiry\n        payload = {\n            \"sub\": self.test_user_id,\n            \"email\": self.test_email,\n            \"token_type\": \"access\",\n            \"iat\": datetime.now(timezone.utc),\n            \"exp\": near_expiry_time,\n            \"jti\": f\"access_{int(time.time())}\"\n        }\n    \n        # Encode token with short expiry\n        secret = self.jwt_handler.secret\n        token = jwt.encode(payload, secret, algorithm=self.jwt_handler.algorithm)\n    \n        # Should be valid immediately\n        validation_payload = self.jwt_handler.validate_token(token, \"access\")\n>       assert validation_payload is not None\nE       assert None is not None\n\ntests\\test_auth_token_validation.py:270: AssertionError\n------------------------------ Captured log call ------------------------------\nWARNING  auth_service.auth_core.core.jwt_handler:jwt_handler.py:247 Missing required claim: iss\nWARNING  auth_service.auth_core.core.jwt_handler:jwt_handler.py:120 Token claims validation failed\n____________ TestSessionCreation.test_create_session_redis_failure ____________\n\nself = <auth_service.tests.test_session_management.TestSessionCreation object at 0x000002428B804230>\nsession_manager = <auth_service.auth_core.core.session_manager.SessionManager object at 0x000002428D312BD0>\n\n    def test_create_session_redis_failure(self, session_manager):\n        \"\"\"Test session creation with Redis failure\"\"\"\n        user_data = {\"email\": \"test@example.com\"}\n        session_manager.redis_client = None\n    \n        session_id = session_manager.create_session(\"user123\", user_data)\n    \n>       assert session_id is None\nE       AssertionError: assert '9e5edb05-f922-42a2-ad43-637d2192165c' is None\n\ntests\\test_session_management.py:49: AssertionError\n============================== warnings summary ===============================\ntests\\integration\\test_oauth_comprehensive_failures.py:1245\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\integration\\test_oauth_comprehensive_failures.py:1245: PytestUnknownMarkWarning: Unknown pytest.mark.staging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.staging\n\ntests\\integration\\test_oauth_comprehensive_failures.py:1288\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\integration\\test_oauth_comprehensive_failures.py:1288: PytestUnknownMarkWarning: Unknown pytest.mark.staging - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html\n    @pytest.mark.staging\n\ntests/integration/test_auth_oauth_errors.py::TestOAuthErrorHandling::test_oauth_invalid_state_parameter\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\tests\\conftest.py:59: DeprecationWarning: There is no current event loop\n    loop = asyncio.get_event_loop()\n\ntests/integration/test_oauth_comprehensive_failures.py: 21 warnings\n  C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\auth_service\\auth_core\\routes\\auth_routes.py:982: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    content=response.dict(),\n\ntests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_05_cross_site_request_forgery_token_binding\ntests/integration/test_oauth_comprehensive_failures.py::TestOAuthComprehensiveFailures::test_25_session_fixation_attack\n  C:\\Users\\antho\\AppData\\Roaming\\Python\\Python312\\site-packages\\starlette\\testclient.py:451: DeprecationWarning: Setting per-request cookies=<...> is being deprecated, because the expected behaviour on cookie persistence is ambiguous. Set cookies directly on the client instance instead.\n    return super().request(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ===========================\nFAILED tests/test_auth_token_validation.py::TestJWTTokenValidation::test_validate_token_edge_case_timing\nFAILED tests/test_session_management.py::TestSessionCreation::test_create_session_redis_failure\n=========== 2 failed, 188 passed, 3 skipped, 26 warnings in 40.84s ============\n",
      "errors": ""
    },
    "frontend": {
      "success": false,
      "duration": 129.1878936290741,
      "output": "  console.warn\n    [2025-08-22T23:05:26.408Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.info\n    [2025-08-22T23:05:26.478Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:26.479Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.log\n    Auth config from context: {\n      development_mode: true,\n      google_client_id: 'mock-google-client-id',\n      endpoints: {\n        login: 'http://localhost:8081/auth/login',\n        logout: 'http://localhost:8081/auth/logout',\n        callback: 'http://localhost:8081/auth/callback',\n        token: 'http://localhost:8081/auth/token',\n        user: 'http://localhost:8081/auth/me',\n        dev_login: 'http://localhost:8081/auth/dev/login'\n      },\n      authorized_javascript_origins: [ 'http://localhost:3000' ],\n      authorized_redirect_uris: [ 'http://localhost:3000/auth/callback' ]\n    }\n\n      at Object.log (__tests__/auth/context.auth-operations.test.tsx:118:13)\n\n  console.log\n    Login function type: function\n\n      at Object.log (__tests__/auth/context.auth-operations.test.tsx:119:13)\n\n  console.log\n    Calling login, authConfig at call time: {\n      development_mode: true,\n      google_client_id: 'mock-google-client-id',\n      endpoints: {\n        login: 'http://localhost:8081/auth/login',\n        logout: 'http://localhost:8081/auth/logout',\n        callback: 'http://localhost:8081/auth/callback',\n        token: 'http://localhost:8081/auth/token',\n        user: 'http://localhost:8081/auth/me',\n        dev_login: 'http://localhost:8081/auth/dev/login'\n      },\n      authorized_javascript_origins: [ 'http://localhost:3000' ],\n      authorized_redirect_uris: [ 'http://localhost:3000/auth/callback' ]\n    }\n\n      at log (__tests__/auth/context.auth-operations.test.tsx:108:15)\n\n  console.debug\n    [2025-08-22T23:05:26.765Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:27.215Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:27.300Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:27.308Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:27.342Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:27.398Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:27.425Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:27.434Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:27.438Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:27.451Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:27.472Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:27.484Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:27.486Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:27.502Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:27.534Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.debug\n    [2025-08-22T23:05:27.544Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:27.547Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.warn\n    [2025-08-22T23:05:27.560Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.debug\n    [2025-08-22T23:05:27.588Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:27.598Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:27.600Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:27.597Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n      at Object.<anonymous> (__tests__/services/apiClient.test.ts:92:9)\n\n  console.info\n    [2025-08-22T23:05:27.621Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:27.626Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.warn\n    [2025-08-22T23:05:27.618Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onerror (services/webSocketService.ts:791:28)\n      at Object.onerror (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.error\n    [2025-08-22T23:05:27.650Z] ERROR: WebSocket connection error [WebSocketProvider] (connection_error) {\n      component: 'WebSocketProvider',\n      action: 'connection_error',\n      metadata: {\n        error: 'Authentication error',\n        type: 'auth',\n        recoverable: false,\n        code: 1006\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onError] (providers/WebSocketProvider.tsx:131:22)\n      at Object.ws.onerror (services/webSocketService.ts:796:24)\n      at Object.onerror (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.warn\n    [2025-08-22T23:05:27.661Z] WARN: WebSocket authentication error undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at Object.warn [as onError] (providers/WebSocketProvider.tsx:153:26)\n      at Object.ws.onerror (services/webSocketService.ts:796:24)\n      at Object.onerror (__tests__/integration/critical/websocket-auth-headers.test.tsx:317:23)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onclose (services/webSocketService.ts:744:28)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.log\n    \ud83d\udce6 ChatSidebarHooks module mock created\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:43:11)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    [2025-08-22T23:05:27.685Z] ERROR: WebSocket authentication failed [WebSocketService] (auth_rejection) {\n      component: 'WebSocketService',\n      action: 'auth_rejection',\n      metadata: {\n        code: 1008,\n        reason: 'Authentication required: Use Authorization header'\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onclose] (services/webSocketService.ts:749:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    [2025-08-22T23:05:27.702Z] ERROR: WebSocket authentication failed [WebSocketService] (auth_error) {\n      component: 'WebSocketService',\n      action: 'auth_error',\n      metadata: {\n        error: 'Authentication required: Use Authorization header',\n        code: 1008\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as handleAuthError] (services/webSocketService.ts:1223:12)\n      at Object.handleAuthError [as onclose] (services/webSocketService.ts:768:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T23:05:27.710Z] ERROR: WebSocket connection error [WebSocketProvider] (connection_error) {\n      component: 'WebSocketProvider',\n      action: 'connection_error',\n      metadata: {\n        error: 'Security violation: Use proper authentication headers',\n        type: 'auth',\n        recoverable: false,\n        code: 1008\n      }\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onError] (providers/WebSocketProvider.tsx:131:22)\n      at WebSocketService.handleAuthError (services/webSocketService.ts:1239:25)\n      at Object.handleAuthError [as onclose] (services/webSocketService.ts:768:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.error\n    [2025-08-22T23:05:27.720Z] ERROR: WebSocket security violation - using deprecated authentication method undefined\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at Object.error [as onError] (providers/WebSocketProvider.tsx:146:28)\n      at WebSocketService.handleAuthError (services/webSocketService.ts:1239:25)\n      at Object.handleAuthError [as onclose] (services/webSocketService.ts:768:18)\n      at Object.onclose (__tests__/integration/critical/websocket-auth-headers.test.tsx:320:23)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.debug\n    [2025-08-22T23:05:27.753Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.warn\n    [2025-08-22T23:05:27.755Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.warn\n    [2025-08-22T23:05:27.767Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.log\n    Calling login, authConfig at call time: {\n      development_mode: true,\n      google_client_id: 'mock-google-client-id',\n      endpoints: {\n        login: 'http://localhost:8081/auth/login',\n        logout: 'http://localhost:8081/auth/logout',\n        callback: 'http://localhost:8081/auth/callback',\n        token: 'http://localhost:8081/auth/token',\n        user: 'http://localhost:8081/auth/me',\n        dev_login: 'http://localhost:8081/auth/dev/login'\n      },\n      authorized_javascript_origins: [ 'http://localhost:3000' ],\n      authorized_redirect_uris: [ 'http://localhost:3000/auth/callback' ]\n    }\n\n      at log (__tests__/auth/context.auth-operations.test.tsx:108:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at checkAuthAndConnect (__tests__/integration/login-websocket-setup.test.tsx:137:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:155:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:157:7)\n      at handleLogin (__tests__/integration/login-websocket-setup.test.tsx:167:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setAuthState (__tests__/integration/login-websocket-setup.test.tsx:166:9)\n\n  console.error\n    An update to WebSocketSetupTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setConnectionState (__tests__/integration/login-websocket-setup.test.tsx:147:7)\n      at initiateWebSocketConnection (__tests__/integration/login-websocket-setup.test.tsx:167:15)\n\n  console.debug\n    [2025-08-22T23:05:28.785Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.debug\n    [2025-08-22T23:05:28.810Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'test-jwt-t...',\n      encodedTokenLength: 24\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:28.817Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:28.819Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:28.828Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-headers.test.tsx:107:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:728:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:728:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.warn\n    [2025-08-22T23:05:29.643Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n      at Object.<anonymous> (__tests__/services/apiClient.test.ts:92:9)\n\n  console.info\n    [2025-08-22T23:05:29.662Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:29.665Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.error\n    [2025-08-22T23:05:29.715Z] ERROR: Request failed [AuthInterceptor] Error: Connection failed\n        at setupReconnectionMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:182:32)\n        at Object.setupReconnectionMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:175:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        switchThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.error\n    [2025-08-22T23:05:30.749Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at setupRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:217:32)\n        at Object.setupRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:199:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        switchThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.error\n    [2025-08-22T23:05:30.780Z] ERROR: Request failed [AuthInterceptor] Error: Error 1\n        at setupCustomRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:248:32)\n        at Object.setupCustomRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:235:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.error\n    [2025-08-22T23:05:30.801Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at setupNoRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:271:35)\n        at Object.setupNoRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:265:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:194:16)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    [2025-08-22T23:05:30.833Z] ERROR: Request failed [AuthInterceptor] Error: Final failure\n        at setupExhaustedRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:294:35)\n        at Object.setupExhaustedRetryMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:283:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    [2025-08-22T23:05:30.870Z] ERROR: Request failed [AuthInterceptor] Error: Temporary failure\n        at setupIntermittentFailureMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:314:32)\n        at Object.setupIntermittentFailureMocks (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:302:7)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:728:13)\n\n  console.error\n    [2025-08-22T23:05:30.936Z] ERROR: Request failed [AuthInterceptor] Error: Request timeout\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:411:28)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.error\n    [2025-08-22T23:05:30.970Z] ERROR: Request failed [AuthInterceptor] Error: Authentication failed\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\apiClient.test.ts:447:30)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at performFetch (services/apiClientWrapper.ts:145:24)\n      at ApiClientWrapper.retryRequest (services/apiClientWrapper.ts:83:16)\n      at ApiClientWrapper.request (services/apiClientWrapper.ts:188:16)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        switchThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.warn\n    [2025-08-22T23:05:31.433Z] WARN: Error fetching openapi.json, retrying... (1/2) [ApiSpecService] (fetch_openapi_json_retry) {\n      component: 'ApiSpecService',\n      action: 'fetch_openapi_json_retry',\n      metadata: { retry: 1 }\n    }\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at ApiSpecService.warn [as getSpec] (services/api.ts:38:16)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:212:5)\n\n  console.warn\n    [2025-08-22T23:05:31.839Z] WARN: Error fetching openapi.json, retrying... (2/2) [ApiSpecService] (fetch_openapi_json_retry) {\n      component: 'ApiSpecService',\n      action: 'fetch_openapi_json_retry',\n      metadata: { retry: 2 }\n    }\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at ApiSpecService.warn [as getSpec] (services/api.ts:38:16)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:212:5)\n\n  console.error\n    [2025-08-22T23:05:31.991Z] ERROR: Error fetching openapi.json [ApiSpecService] (fetch_openapi_json_error) FetchError {\n      message: `invalid json response body at http://localhost:8000/openapi.json reason: Unexpected token 'i', \"invalid json\" is not valid JSON`,\n      type: 'invalid-json'\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at ApiSpecService.error [as getSpec] (services/api.ts:48:14)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:212:5)\n\n  console.warn\n    [2025-08-22T23:05:32.031Z] WARN: Failed to fetch openapi.json (500), retrying... (1/2) [ApiSpecService] (fetch_openapi_json_retry) {\n      component: 'ApiSpecService',\n      action: 'fetch_openapi_json_retry',\n      metadata: { status: 500, retry: 1 }\n    }\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at ApiSpecService.warn [as getSpec] (services/api.ts:17:18)\n      at getEndpoint (services/api.ts:60:16)\n      at ApiClient.request (services/apiClient.ts:7:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:237:5)\n\n  console.error\n    [2025-08-22T23:05:32.183Z] ERROR: Request failed [AuthInterceptor] TypeError: response.clone is not a function\n        at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\@mswjs\\interceptors\\src\\interceptors\\fetch\\index.ts:170:42\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at ApiClient.request (services/apiClient.ts:15:22)\n      at Object.<anonymous> (__tests__/integration/api-calls-advanced.test.tsx:237:5)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-3', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-3, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-3', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-3, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:728:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: 'Performance',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: true,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 2,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ true, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: false,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Failed to load threads',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Failed to load threads',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 0,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 0,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: 'Failed to load threads'\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: false,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Network error',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [],\n        isLoadingThreads: false,\n        loadError: 'Network error',\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 0,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 0,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: 'Network error'\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd04 Storage event detected, updating activeThreadId to: thread-3\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:563:17)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-3', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-3, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-3, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    An update to RetryTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setRetryCount (__tests__/integration/error-handling-retry.test.tsx:173:31)\n      at RobustApiClient.onRetry (__tests__/integration/error-handling-retry.test.tsx:97:11)\n      at makeRequest (__tests__/integration/error-handling-retry.test.tsx:171:22)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:728:13)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n          at async Promise.all (index 0)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n          at async Promise.all (index 0)\n\n  console.error\n    An update to RetryTestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setRetryCount (__tests__/integration/error-handling-retry.test.tsx:173:31)\n      at RobustApiClient.onRetry (__tests__/integration/error-handling-retry.test.tsx:97:11)\n      at makeRequest (__tests__/integration/error-handling-retry.test.tsx:171:22)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setRetryCount (__tests__/integration/error-handling-retry.test.tsx:460:15)\n      at RobustApiClient.onRetry (__tests__/integration/error-handling-retry.test.tsx:97:11)\n      at makeRequest (__tests__/integration/error-handling-retry.test.tsx:448:11)\n\n  console.debug\n    [2025-08-22T23:05:36.323Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.debug\n    [2025-08-22T23:05:36.408Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.debug\n    [2025-08-22T23:05:36.408Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        preloadThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.error\n    An update to TimeoutComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setResult (__tests__/integration/error-handling-retry.test.tsx:267:7)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        preloadThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.debug\n    [2025-08-22T23:05:36.483Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to TimeoutComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (__tests__/integration/error-handling-retry.test.tsx:275:7)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.533Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.554Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.566Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd04 Preloading thread: thread-1\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:605:17)\n\n  console.debug\n    [2025-08-22T23:05:36.566Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.637Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.637Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.661Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.661Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.684Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.684Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.debug\n    [2025-08-22T23:05:36.684Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 1000,\n      threadIds: [\n        'thread-1',  'thread-2',  'thread-3',  'thread-4',  'thread-5',\n        'thread-6',  'thread-7',  'thread-8',  'thread-9',  'thread-10',\n        'thread-11', 'thread-12', 'thread-13', 'thread-14', 'thread-15',\n        'thread-16', 'thread-17', 'thread-18', 'thread-19', 'thread-20',\n        'thread-21', 'thread-22', 'thread-23', 'thread-24', 'thread-25',\n        'thread-26', 'thread-27', 'thread-28', 'thread-29', 'thread-30',\n        'thread-31', 'thread-32', 'thread-33', 'thread-34', 'thread-35',\n        'thread-36', 'thread-37', 'thread-38', 'thread-39', 'thread-40',\n        'thread-41', 'thread-42', 'thread-43', 'thread-44', 'thread-45',\n        'thread-46', 'thread-47', 'thread-48', 'thread-49', 'thread-50',\n        'thread-51', 'thread-52', 'thread-53', 'thread-54', 'thread-55',\n        'thread-56', 'thread-57', 'thread-58', 'thread-59', 'thread-60',\n        'thread-61', 'thread-62', 'thread-63', 'thread-64', 'thread-65',\n        'thread-66', 'thread-67', 'thread-68', 'thread-69', 'thread-70',\n        'thread-71', 'thread-72', 'thread-73', 'thread-74', 'thread-75',\n        'thread-76', 'thread-77', 'thread-78', 'thread-79', 'thread-80',\n        'thread-81', 'thread-82', 'thread-83', 'thread-84', 'thread-85',\n        'thread-86', 'thread-87', 'thread-88', 'thread-89', 'thread-90',\n        'thread-91', 'thread-92', 'thread-93', 'thread-94', 'thread-95',\n        'thread-96', 'thread-97', 'thread-98', 'thread-99', 'thread-100',\n        ... 900 more items\n      ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.debug\n    [2025-08-22T23:05:36.716Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.716Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        paginatedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        totalPages: 20\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.debug\n    [2025-08-22T23:05:36.716Z] DEBUG: Unknown WebSocket message type undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.743Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.debug\n    [2025-08-22T23:05:36.743Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.743Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.debug\n    [2025-08-22T23:05:36.771Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 1000,\n      returning: {\n        sortedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        paginatedThreads: [\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object], [Object], [Object],\n          [Object], [Object], [Object], [Object],\n          ... 900 more items\n        ],\n        totalPages: 20\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.debug\n    [2025-08-22T23:05:36.771Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 1000,\n      paginatedThreadsLength: 1000,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.debug\n    [2025-08-22T23:05:36.771Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.803Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.803Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.832Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.832Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-4, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.858Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.858Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-5, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.875Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.875Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-6, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-7, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.907Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.907Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-8, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.928Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-9, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.928Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-10, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.942Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:36.942Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-11, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.961Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-12, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-13, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:36.986Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-14, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-15, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-16, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-17, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    [2025-08-22T23:05:36.986Z] ERROR: Failed to connect to WebSocket [WebSocketService] (connection_failed) Error: Failed to create WebSocket\n        at mockConstructor.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\webSocketService.test.ts:463:15)\n        at C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-mock\\build\\index.js:295:43\n        at mockConstructor.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-mock\\build\\index.js:312:13)\n        at new mockConstructor (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-mock\\build\\index.js:102:19)\n        at WebSocketService.createSecureWebSocket (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:962:14)\n        at WebSocketService.createSecureWebSocket [as connect] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:667:22)\n        at Object.connect (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\webSocketService.test.ts:466:24)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as connect] (services/webSocketService.ts:805:14)\n      at Object.connect (__tests__/services/webSocketService.test.ts:466:24)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-18, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-19, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:37.068Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:37.068Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-20, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-21, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-22, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.error\n    [Error: Not implemented: navigation (except hash changes)] {\n      type: 'not implemented'\n    }\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)\n      at module.exports (node_modules/jsdom/lib/jsdom/browser/not-implemented.js:12:26)\n      at navigateFetch (node_modules/jsdom/lib/jsdom/living/window/navigation.js:77:3)\n      at exports.navigate (node_modules/jsdom/lib/jsdom/living/window/navigation.js:55:3)\n      at Timeout._onTimeout (node_modules/jsdom/lib/jsdom/living/nodes/HTMLHyperlinkElementUtils-impl.js:80:7)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-23, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:37.134Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:37.134Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:37.175Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:37.175Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-24, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-25, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-26, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-27, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-28, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-29, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-30, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-31, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-32, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-33, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-34, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-35, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-36, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-37, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-38, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-39, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-40, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-41, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-42, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-43, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-44, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-45, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-46, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-47, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-48, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-49, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-50, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\udd27 Configuring authentication mocks with: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as beforeEach] (__tests__/components/ChatSidebar/setup.tsx:300:13)\n\n  console.log\n    \ud83d\udd27 configureAuthState called with overrides: { isAuthenticated: true, userTier: 'Early' }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:476:13)\n\n  console.log\n    \ud83c\udfaf Final authStateConfig: {\n      isAuthenticated: true,\n      isLoading: false,\n      user: { id: 'test-user-1', email: 'test@example.com', role: 'user' },\n      userTier: 'Early',\n      error: null,\n      refreshAuth: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      logout: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      clearError: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      hasPermission: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isAdminOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isDeveloperOrHigher: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureAuthState] (__tests__/components/ChatSidebar/setup.tsx:477:13)\n\n  console.log\n    \ud83d\udd27 configureChatSidebarHooks called with: {\n      threadsProvided: true,\n      threadsCount: 3,\n      threadIds: [ 'thread-1', 'thread-2', 'thread-3' ]\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:378:13)\n\n  console.log\n    \ud83c\udfaf Mock configurations: {\n      threadLoaderConfig: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        getCachedThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      },\n      threadFilteringConfig: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:416:13)\n\n  console.log\n    \ud83c\udfaf Applied mock configurations using mockImplementation with debugging\n\n      at ChatSidebarTestSetup.log [as configureChatSidebarHooks] (__tests__/components/ChatSidebar/setup.tsx:453:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-1', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        getCachedThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-1, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-1, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83d\uddc4\ufe0f Getting cached thread: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:614:17)\n\n  console.log\n    \ud83c\udfaf TestChatSidebar handleThreadClick called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:728:13)\n\n  console.log\n    \ud83c\udfaf setActiveThread called with: thread-2\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:140:13)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useChatSidebarState (CONFIGURED) {\n      searchQuery: '',\n      setSearchQuery: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      isCreatingThread: false,\n      setIsCreatingThread: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      showAllThreads: false,\n      setShowAllThreads: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      filterType: 'all',\n      setFilterType: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      },\n      currentPage: 1,\n      setCurrentPage: [Function: mockConstructor] {\n        _isMockFunction: true,\n        getMockImplementation: [Function (anonymous)],\n        mock: [Getter/Setter],\n        mockClear: [Function (anonymous)],\n        mockReset: [Function (anonymous)],\n        mockRestore: [Function (anonymous)],\n        mockReturnValueOnce: [Function (anonymous)],\n        mockResolvedValueOnce: [Function (anonymous)],\n        mockRejectedValueOnce: [Function (anonymous)],\n        mockReturnValue: [Function (anonymous)],\n        mockResolvedValue: [Function (anonymous)],\n        mockRejectedValue: [Function (anonymous)],\n        mockImplementationOnce: [Function (anonymous)],\n        withImplementation: [Function: bound withImplementation],\n        mockImplementation: [Function (anonymous)],\n        mockReturnThis: [Function (anonymous)],\n        mockName: [Function (anonymous)],\n        getMockName: [Function (anonymous)],\n        Symbol(Symbol.dispose): [Function (anonymous)]\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:424:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadLoader (CONFIGURED) {\n      args: [ false, 'all', 'thread-2', [AsyncFunction (anonymous)] ],\n      returning: {\n        threads: [ [Object], [Object], [Object] ],\n        isLoadingThreads: false,\n        loadError: null,\n        loadThreads: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        },\n        getCachedThread: [Function: mockConstructor] {\n          _isMockFunction: true,\n          getMockImplementation: [Function (anonymous)],\n          mock: [Getter/Setter],\n          mockClear: [Function (anonymous)],\n          mockReset: [Function (anonymous)],\n          mockRestore: [Function (anonymous)],\n          mockReturnValueOnce: [Function (anonymous)],\n          mockResolvedValueOnce: [Function (anonymous)],\n          mockRejectedValueOnce: [Function (anonymous)],\n          mockReturnValue: [Function (anonymous)],\n          mockResolvedValue: [Function (anonymous)],\n          mockRejectedValue: [Function (anonymous)],\n          mockImplementationOnce: [Function (anonymous)],\n          withImplementation: [Function: bound withImplementation],\n          mockImplementation: [Function (anonymous)],\n          mockReturnThis: [Function (anonymous)],\n          mockName: [Function (anonymous)],\n          getMockName: [Function (anonymous)],\n          Symbol(Symbol.dispose): [Function (anonymous)]\n        }\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:429:15)\n\n  console.log\n    \ud83d\udd25 HOOK CALLED: useThreadFiltering (CONFIGURED) {\n      threadsType: 'object',\n      isArray: true,\n      threadsLength: 3,\n      returning: {\n        sortedThreads: [ [Object], [Object], [Object] ],\n        paginatedThreads: [ [Object], [Object], [Object] ],\n        totalPages: 1\n      }\n    }\n\n      at Object.log (__tests__/components/ChatSidebar/setup.tsx:434:15)\n\n  console.log\n    \ud83e\uddea TestChatSidebar rendering with threads: {\n      threadsLength: 3,\n      paginatedThreadsLength: 3,\n      isLoadingThreads: false,\n      loadError: null\n    }\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:791:11)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-1, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-2, activeThreadId: thread-2, isActive: true\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.log\n    \ud83c\udfaf Rendering thread thread-3, activeThreadId: thread-2, isActive: false\n\n      at log (__tests__/components/ChatSidebar/setup.tsx:649:23)\n          at Array.map (<anonymous>)\n\n  console.warn\n    [2025-08-22T23:05:40.991Z] WARN: Received 401, attempting [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at AuthInterceptor.warn [as authenticatedFetch] (lib/auth-interceptor.ts:186:16)\n      at DemoService.fetchWithAuth (services/demoService.ts:80:24)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n\n  console.info\n    [2025-08-22T23:05:41.038Z] INFO: [REDACTED] successfully undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:41.042Z] INFO: Retrying request with refreshed token undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.error\n    [2025-08-22T23:05:41.046Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.sendChatMessage (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:115:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:164:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n\n  console.error\n    [2025-08-22T23:05:41.097Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.sendChatMessage (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:115:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:175:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:175:7)\n\n  console.error\n    [2025-08-22T23:05:41.131Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:221:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at DemoService.fetchWithAuth (services/demoService.ts:80:24)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:224:7)\n\n  console.error\n    [2025-08-22T23:05:41.147Z] ERROR: Demo service request failed [DemoService] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:221:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:224:7)\n\n  console.error\n    [2025-08-22T23:05:41.182Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.calculateROI (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:128:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:270:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:270:7)\n\n  console.error\n    [2025-08-22T23:05:41.218Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.calculateROI (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:128:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:282:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:282:7)\n\n  console.error\n    [2025-08-22T23:05:41.325Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.exportReport (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:166:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:424:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.exportReport (services/demoService.ts:166:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:424:7)\n\n  console.error\n    [2025-08-22T23:05:41.361Z] ERROR: Demo service request failed [DemoService] TypeError: response.text is not a function\n        at DemoService.text [as fetchWithAuth] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:89:42)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at DemoService.getSessionStatus (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\demoService.ts:179:22)\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:466:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.getSessionStatus (services/demoService.ts:179:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:466:7)\n\n  console.error\n    [2025-08-22T23:05:41.391Z] ERROR: Request failed [AuthInterceptor] Error: Request timeout\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:521:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n      at DemoService.fetchWithAuth (services/demoService.ts:80:24)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:524:7)\n\n  console.error\n    [2025-08-22T23:05:41.416Z] ERROR: Demo service request failed [DemoService] Error: Request timeout\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\demoService.test.ts:521:46)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at DemoService.error [as fetchWithAuth] (services/demoService.ts:105:14)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:524:7)\n\n  console.debug\n    [2025-08-22T23:05:47.137Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.202Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:47.274Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.295Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.warn\n    [2025-08-22T23:05:47.302Z] WARN: Invalid WebSocket message received undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at Proxy.warn (services/webSocketService.ts:709:20)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at Proxy.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at node_modules/mock-socket/dist/mock-socket.js:2133:16\n          at Array.forEach (<anonymous>)\n      at Server.emit (node_modules/mock-socket/dist/mock-socket.js:2121:16)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:166:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/websocket-setup.test.tsx:140:14)\n\n  console.debug\n    [2025-08-22T23:05:47.345Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.361Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.warn\n    [2025-08-22T23:05:47.367Z] WARN: Invalid WebSocket message received undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at Proxy.warn (services/webSocketService.ts:709:20)\n      at node_modules/mock-socket/dist/mock-socket.js:859:16\n          at Array.forEach (<anonymous>)\n      at Proxy.dispatchEvent (node_modules/mock-socket/dist/mock-socket.js:855:13)\n      at node_modules/mock-socket/dist/mock-socket.js:2133:16\n          at Array.forEach (<anonymous>)\n      at Server.emit (node_modules/mock-socket/dist/mock-socket.js:2121:16)\n      at node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:166:19\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at WS.send (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:165:5)\n      at Object.send (__tests__/integration/websocket-setup.test.tsx:163:14)\n\n  console.debug\n    [2025-08-22T23:05:47.412Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.430Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:47.459Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.484Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:47.516Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.531Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:47.560Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.573Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:47.617Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.630Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:47.649Z] DEBUG: Creating WebSocket without authentication undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:47.661Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n          at Array.forEach (<anonymous>)\n\n  console.debug\n    [2025-08-22T23:05:48.685Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:48.769Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:48.795Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:48.801Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:48.902Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:48.936Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:49.009Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:49.022Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:49.024Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:49.038Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onopen (services/webSocketService.ts:673:28)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:206:23)\n\n  console.debug\n    [2025-08-22T23:05:49.068Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:49.071Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at Object.onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:206:23)\n        at runNextTicks (node:internal/process/task_queues:65:5)\n        at processTimers (node:internal/timers:540:9)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:206:23)\n\n  console.warn\n    [2025-08-22T23:05:49.085Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:206:23)\n\n  console.debug\n    [2025-08-22T23:05:49.098Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:49.101Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:49.111Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:49.256Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 68\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    An update to WebSocketProvider inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at WebSocketService.setStatus [as onStatusChange] (providers/WebSocketProvider.tsx:76:5)\n      at Object.ws.onopen (services/webSocketService.ts:673:28)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:271:23)\n\n  console.debug\n    [2025-08-22T23:05:49.294Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:49.298Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at Object.onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:271:23)\n        at runNextTicks (node:internal/process/task_queues:65:5)\n        at processTimers (node:internal/timers:540:9)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:271:23)\n\n  console.warn\n    [2025-08-22T23:05:49.316Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at Object.onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:271:23)\n\n  console.debug\n    [2025-08-22T23:05:49.334Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:49.338Z] ERROR: Failed to parse JWT token [WebSocketService] (parse_jwt_token) SyntaxError: Unexpected token '\u00b5', \"\u00b5\u00eb-\" is not valid JSON\n        at JSON.parse (<anonymous>)\n        at WebSocketService.parse [as parseJWTToken] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1018:19)\n        at WebSocketService.parseJWTToken [as setupTokenRefresh] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:1056:26)\n        at Object.setupTokenRefresh [as onopen] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\webSocketService.ts:691:14)\n        at onopen (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\critical\\websocket-subprotocol-auth.test.tsx:101:25)\n        at Timeout.task [as _onTimeout] (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:579:19)\n        at listOnTimeout (node:internal/timers:608:17)\n        at processTimers (node:internal/timers:543:7)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at WebSocketService.error [as parseJWTToken] (services/webSocketService.ts:1020:14)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:49.352Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-subprotocol-auth.test.tsx:101:25)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:84:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (__tests__/integration/data-fetching-core.test.tsx:88:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:84:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setLoading (__tests__/integration/data-fetching-core.test.tsx:88:7)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:53:9)\n\n  console.error\n    An update to TestComponent inside a test was not wrapped in act(...).\n    \n    When testing, code that causes React state updates should be wrapped into act(...):\n    \n    act(() => {\n      /* fire events that update state */\n    });\n    /* assert on the output */\n    \n    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16023:19\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)\n      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)\n      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)\n      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)\n      at setData (__tests__/integration/data-fetching-core.test.tsx:53:9)\n\n  console.debug\n    assertAuthState called: isAuthenticated=true, token=test-jwt-token\n\n      at debug (__tests__/integration/helpers/test-assertions.ts:25:11)\n\n  console.debug\n    assertAuthState called: isAuthenticated=false, token=null\n\n      at debug (__tests__/integration/helpers/test-assertions.ts:25:11)\n\n  console.debug\n    [2025-08-22T23:05:51.448Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:51.704Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:51.802Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'invalid-to...',\n      encodedTokenLength: 27\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:51.816Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:51.825Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:51.870Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:51.899Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:51.904Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:51.915Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:51.939Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:51.971Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:51.985Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:51.990Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.warn\n    [2025-08-22T23:05:52.006Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:52.039Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.056Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:52.062Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:52.025Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:52.074Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:52.103Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'valid-jwt-...',\n      encodedTokenLength: 43\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.117Z] DEBUG: WebSocket connected, secure authentication completed undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Setting up [REDACTED] [WebSocketService] (setup_token_refresh) {\n      component: 'WebSocketService',\n      action: 'setup_token_refresh',\n      metadata: {\n        currentTime: 1755903952,\n        tokenExpiry: '[REDACTED]',\n        timeUntilExpiry: 7200,\n        refreshInSeconds: 6900\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:52.122Z] WARN: Invalid JWT [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as parseJWTToken] (services/webSocketService.ts:1008:16)\n      at WebSocketService.parseJWTToken [as setupTokenRefresh] (services/webSocketService.ts:1056:26)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: [REDACTED] timers setup for WebSocket connection undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.warn\n    [2025-08-22T23:05:52.136Z] WARN: Cannot setup [REDACTED] - invalid [REDACTED] undefined\n\n    \u001b[0m \u001b[90m 217 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 218 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 219 |\u001b[39m     originalWarn\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 220 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 221 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 222 |\u001b[39m\u001b[0m\n\n      at console.call (jest.setup.js:219:18)\n      at FrontendLogger.warn [as log] (lib/logger.ts:145:19)\n      at FrontendLogger.log [as warn] (lib/logger.ts:211:10)\n      at WebSocketService.warn [as setupTokenRefresh] (services/webSocketService.ts:1058:14)\n      at Object.setupTokenRefresh [as onopen] (services/webSocketService.ts:691:14)\n      at onopen (__tests__/integration/critical/websocket-auth-rejection.test.tsx:126:27)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 206\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Setting up [REDACTED] [WebSocketService] (setup_token_refresh) {\n      component: 'WebSocketService',\n      action: 'setup_token_refresh',\n      metadata: {\n        currentTime: 1755903952,\n        tokenExpiry: '[REDACTED]',\n        timeUntilExpiry: 3600,\n        refreshInSeconds: 3300\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: [REDACTED] timers setup for WebSocket connection undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.080Z] DEBUG: Creating secure WebSocket with authentication and compression support {\n      url: 'ws://localhost:8000/ws',\n      protocols: [ 'jwt-auth', 'jwt.[token]' ],\n      tokenPrefix: 'eyJhbGciOi...',\n      encodedTokenLength: 158\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.info\n    [2025-08-22T23:05:52.238Z] INFO: User Action: test_button_click (user_interaction) {\n      action: 'user_interaction',\n      metadata: {\n        user_action: 'test_button_click',\n        details: { actionType: 'test', timestamp: 1755903952237 }\n      }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:52.298Z] INFO: API GET /api/test -> 200 (api_call) {\n      action: 'api_call',\n      metadata: { method: 'GET', url: '/api/test', status_code: 200, duration_ms: 0 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.debug\n    [2025-08-22T23:05:52.322Z] DEBUG: WebSocket: test_event (websocket_event) {\n      action: 'websocket_event',\n      metadata: {\n        event: 'test_event',\n        data_preview: '{\"eventType\":\"test\",\"timestamp\":1755903952321}'\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.info\n    [2025-08-22T23:05:52.351Z] INFO: Performance: test_operation took 100ms (performance) {\n      action: 'performance',\n      metadata: { operation: 'test_operation', duration_ms: 100 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.group\n      Layer Visibility Debug\n\n      at FrontendLogger.group (lib/logger.ts:305:15)\n\n  console.debug\n      [2025-08-22T23:05:52.393Z] DEBUG: Fast Layer: {}\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n      [2025-08-22T23:05:52.402Z] DEBUG: Medium Layer: false\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n      [2025-08-22T23:05:52.409Z] DEBUG: Slow Layer: false\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n      [2025-08-22T23:05:52.419Z] DEBUG: Data: {\n      fast: {\n        agentName: 'TestAgent',\n        activeTools: [ 'tool1' ],\n        toolStatuses: [],\n        taskId: 'test-123',\n        status: 'running',\n        startTime: 1755903952374\n      },\n      medium: null,\n      slow: null,\n      processing: true\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:52.439Z] ERROR: Component error [ErrorComponent] (mount) Error: Test error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\integration\\logger-integration.test.tsx:167:21)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log (lib/logger.ts:215:10)\n      at error (__tests__/integration/logger-integration.test.tsx:173:20)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/logger-integration.test.tsx:182:13)\n\n  console.info\n    [2025-08-22T23:05:52.476Z] INFO: User Action: test_button_click (user_interaction) {\n      action: 'user_interaction',\n      metadata: {\n        user_action: 'test_button_click',\n        details: { actionType: 'test', timestamp: 1755903952476 }\n      }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:52.485Z] INFO: API GET /api/test -> 200 (api_call) {\n      action: 'api_call',\n      metadata: { method: 'GET', url: '/api/test', status_code: 200, duration_ms: 0 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.debug\n    [2025-08-22T23:05:52.497Z] DEBUG: WebSocket: test_event (websocket_event) {\n      action: 'websocket_event',\n      metadata: {\n        event: 'test_event',\n        data_preview: '{\"eventType\":\"test\",\"timestamp\":1755903952497}'\n      }\n    }\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.info\n    [2025-08-22T23:05:52.510Z] INFO: Performance: test_operation took 100ms (performance) {\n      action: 'performance',\n      metadata: { operation: 'test_operation', duration_ms: 100 }\n    }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:52.532Z] INFO: Auth [REDACTED] [REDACTED] undefined\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:52.541Z] INFO: User data { metadata: { token: '[REDACTED]', user_id: 'user123' } }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:52.561Z] INFO: Grandchild mounted [Grandchild] { component: 'Grandchild' }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:52.569Z] INFO: Child mounted [Child] { component: 'Child' }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.info\n    [2025-08-22T23:05:52.577Z] INFO: Parent mounted [Parent] { component: 'Parent' }\n\n      at FrontendLogger.info [as log] (lib/logger.ts:142:19)\n\n  console.error\n    [2025-08-22T23:05:52.807Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:92:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n\n  console.error\n    [2025-08-22T23:05:52.849Z] ERROR: Failed to fetch threads [MessageService] (getThreads) Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:92:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at MessageService.error [as getThreads] (services/messageService.ts:91:14)\n      at Object.<anonymous> (__tests__/services/messageService.test.ts:94:7)\n\n  console.error\n    [2025-08-22T23:05:52.926Z] ERROR: Request failed [AuthInterceptor] Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:274:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at AuthInterceptor.error [as authenticatedFetch] (lib/auth-interceptor.ts:192:14)\n\n  console.debug\n    [2025-08-22T23:05:52.920Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.error\n    [2025-08-22T23:05:52.938Z] ERROR: Failed to save message [MessageService] (saveMessage) Error: Network error\n        at Object.<anonymous> (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\services\\messageService.test.ts:274:50)\n        at Promise.finally.completed (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1559:28)\n        at new Promise (<anonymous>)\n        at callAsyncCircusFn (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1499:10)\n        at _callCircusTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1009:40)\n        at processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at _runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:949:3)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:839:13)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at _runTestsForDescribeBlock (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:829:11)\n        at run (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:757:3)\n        at runAndTransformResultsToJestFormat (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1920:21)\n        at jestAdapter (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-circus\\build\\runner.js:101:19)\n        at runTestInternal (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n        at runTest (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n        at Object.worker (C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\node_modules\\jest-runner\\build\\testWorker.js:497:12)\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m     }\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m     originalError\u001b[33m.\u001b[39mcall(console\u001b[33m,\u001b[39m \u001b[33m...\u001b[39margs)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 211 |\u001b[39m   \n     \u001b[90m 212 |\u001b[39m   console\u001b[33m.\u001b[39mwarn \u001b[33m=\u001b[39m (\u001b[33m...\u001b[39margs) \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at console.call [as error] (jest.setup.js:209:19)\n      at FrontendLogger.error [as log] (lib/logger.ts:148:19)\n      at FrontendLogger.log [as error] (lib/logger.ts:215:10)\n      at MessageService.error [as saveMessage] (services/messageService.ts:137:14)\n      at MessageService.retryQueuedMessages (services/messageService.ts:252:9)\n      at executeRetry (__tests__/services/messageService.test.ts:340:14)\n      at Object.<anonymous> (__tests__/services/messageService.test.ts:298:28)\n\n  console.debug\n    [2025-08-22T23:05:52.920Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.920Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:53.920Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:53.920Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.988Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.988Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.988Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.988Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.988Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.988Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:52.988Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:57.988Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:57.988Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:57.988Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:57.988Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:57.988Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:53.056Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:53.056Z] DEBUG: Reconciliation statistics updated undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:53.056Z] DEBUG: Optimistic message added for reconciliation undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:58.056Z] DEBUG: Reconciliation retry attempt undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:59.056Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:59.056Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:53.098Z] DEBUG: Automated cleanup started undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:55.098Z] DEBUG: Automated cleanup stopped undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n  console.debug\n    [2025-08-22T23:05:55.098Z] DEBUG: Timeout timers cleared undefined\n\n      at FrontendLogger.debug [as log] (lib/logger.ts:139:19)\n\n",
      "errors": "FAIL Integration Tests __tests__/auth/context.token-management.test.tsx\n  AuthContext - Token Management\n    \u00d7 should use existing token from storage (1133 ms)\n    \u00d7 should handle invalid token gracefully (1015 ms)\n    \u221a should handle token refresh mechanism (31 ms)\n\n  \u25cf AuthContext - Token Management \u203a should use existing token from storage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"mock-jwt-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 54 |\u001b[39m   \u001b[36mconst\u001b[39m waitForTokenProcessing \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 55 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m       expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 57 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:56:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Token Management \u203a should handle invalid token gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, {\"action\": \"token_validation_failed\", \"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   \u001b[36mconst\u001b[39m expectInvalidTokenHandling \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 74 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m       expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m         \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m \n     \u001b[90m 77 |\u001b[39m         expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 78 |\u001b[39m         {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:75:28)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/integration/critical/websocket-auth-headers.test.tsx\n  WebSocket Authentication Headers (SECURITY VERIFICATION)\n    Subprotocol Authentication (SECURE METHOD)\n      \u221a should use Sec-WebSocket-Protocol with Bearer token for WebSocket connection (285 ms)\n      \u221a should NOT send JWT token via query parameters (security verified) (35 ms)\n    WebSocket Subprotocol Authentication (PRIMARY METHOD)\n      \u221a should use Sec-WebSocket-Protocol header for JWT authentication (48 ms)\n      \u221a should handle authentication protocol correctly (56 ms)\n    Secure Connection Endpoint\n      \u221a should connect to the secure WebSocket endpoint (57 ms)\n      \u00d7 should handle authentication errors from secure endpoint (1176 ms)\n    Token Management Integration\n      \u221a should not expose token in connection URL (27 ms)\n      \u221a should properly handle token refresh scenarios (36 ms)\n\n  \u25cf WebSocket Authentication Headers (SECURITY VERIFICATION) \u203a Secure Connection Endpoint \u203a should handle authentication errors from secure endpoint\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      CLOSED\n    Received:\n      OPEN\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m\n     \u001b[90m 323 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'ws-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\n     \u001b[90m 327 |\u001b[39m       \u001b[90m// Frontend should properly handle auth errors\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/critical/websocket-auth-headers.test.tsx:324:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/auth/auth-session-detection.test.tsx\n  Auth Session Detection\n    Session Expiry Detection\n      \u00d7 should detect expired token on initialization (1208 ms)\n      \u00d7 should handle invalid expiry dates gracefully (1015 ms)\n      \u00d7 should validate token expiry on every check (15 ms)\n      \u00d7 should start session timeout monitoring after login (51 ms)\n    Session Warning System\n      \u00d7 should warn user before session expires (12 ms)\n      \u00d7 should provide session extension option (8 ms)\n      \u00d7 should handle session extension failures (7 ms)\n      \u00d7 should count down remaining session time (6 ms)\n    Edge Cases and Error Handling\n      \u00d7 should handle system clock changes gracefully (6 ms)\n      \u00d7 should handle network failures during session validation (6 ms)\n      \u00d7 should handle missing token expiry gracefully (22 ms)\n      \u00d7 should handle browser tab visibility changes (11 ms)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should detect expired token on initialization\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m         expect(authService\u001b[33m.\u001b[39mremoveToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:101:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should handle invalid expiry dates gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, ObjectContaining {\"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 116 |\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 118 |\u001b[39m         expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 119 |\u001b[39m           \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 120 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 121 |\u001b[39m           expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:118:30)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should validate token expiry on every check\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:138:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:137:16)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should start session timeout monitoring after login\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 155 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 156 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 157 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:156:37)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should warn user before session expires\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:172:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:171:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should provide session extension option\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:192:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:190:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should handle session extension failures\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:211:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:209:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should count down remaining session time\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:229:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:227:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle system clock changes gracefully\n\n    TypeError: Date.now.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         renderWithSession()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m         (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m (\u001b[35m24\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m1000\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m         advanceTimeBy(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/auth-session-detection.test.tsx:249:33)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:247:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle network failures during session validation\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:272:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:270:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle missing token expiry gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringMatching /missing.*expiry/i, Any<Object>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 293 |\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 295 |\u001b[39m         expect(logger\u001b[33m.\u001b[39mwarn)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 296 |\u001b[39m           expect\u001b[33m.\u001b[39mstringMatching(\u001b[35m/missing.*expiry/i\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 297 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m)\n     \u001b[90m 298 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:295:29)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle browser tab visibility changes\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:315:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:314:16)\n\nFAIL Integration Tests __tests__/integration/login-websocket-setup.test.tsx\n  Login WebSocket Setup Integration - Agent 2\n    WebSocket Connection After Authentication\n      \u221a should establish WebSocket connection within 1s after login (453 ms)\n      \u221a should include authentication token in WebSocket connection (74 ms)\n      \u221a should retry WebSocket connection on initial failure (51 ms)\n    WebSocket Authentication Handshake\n      \u221a should send authentication message after connection (76 ms)\n      \u00d7 should handle WebSocket authentication rejection (75 ms)\n      \u00d7 should validate token format before WebSocket connection (42 ms)\n    Connection State Management\n      \u00d7 should track connection states accurately (12 ms)\n      \u221a should handle connection state transitions properly (64 ms)\n      \u00d7 should maintain auth state during WebSocket operations (50 ms)\n    WebSocket URL Construction\n      \u221a should construct WebSocket URL with proper parameters (45 ms)\n      \u221a should include user context in WebSocket connection (66 ms)\n      \u221a should handle WebSocket URL construction errors (41 ms)\n    Error Handling and Recovery\n      \u221a should handle network errors during WebSocket setup (40 ms)\n      \u221a should gracefully handle WebSocket connection timeout (1546 ms)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should handle WebSocket authentication rejection\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 279 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should validate token format before WebSocket connection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:280:47)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should validate token format before WebSocket connection\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: \"ws://localhost:8082/ws?token=invalid.token.format\", {\"token\": \"invalid.token.format\", \"userId\": \"user_1755903927182_v7r71ph7t\"}\n\n    \u001b[0m \u001b[90m 288 |\u001b[39m       \n     \u001b[90m 289 |\u001b[39m       \u001b[90m// Should not attempt WebSocket connection with invalid token\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 290 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 291 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'auth-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:290:48)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should track connection states accurately\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      disconnected\n    Received:\n      connecting\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \n     \u001b[90m 300 |\u001b[39m       \u001b[90m// Initial state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'connection-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m       \n     \u001b[90m 303 |\u001b[39m       \u001b[90m// During connection\u001b[39m\n     \u001b[90m 304 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/login-websocket-setup.test.tsx:301:54)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should maintain auth state during WebSocket operations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: {\"access_token\": \"token_1755903927182_i8jhs4a4p\", \"expires_in\": 3600, \"refresh_token\": \"refresh_1755903927182\", \"token_type\": \"bearer\", \"user\": \"user_1755903927182_v7r71ph7t\"}\n    Received: \"[object Object]\"\n\n    \u001b[0m \u001b[90m 347 |\u001b[39m       \n     \u001b[90m 348 |\u001b[39m       \u001b[90m// Verify auth state persists through WebSocket connection\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 349 |\u001b[39m       expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'jwt_token'\u001b[39m))\u001b[33m.\u001b[39mtoBe(validToken)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 350 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 351 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/login-websocket-setup.test.tsx:349:49)\n\nFAIL Integration Tests __tests__/auth/context.auth-operations.test.tsx\n  AuthContext - Auth Operations\n    \u00d7 should handle login action (1463 ms)\n    \u221a should not login when auth config is not available (14 ms)\n    \u00d7 should handle logout action (1031 ms)\n    \u00d7 should set dev logout flag in development mode (1015 ms)\n    \u221a should not logout when auth config is not available (16 ms)\n\n  \u25cf AuthContext - Auth Operations \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 132 |\u001b[39m     \u001b[90m// Wait for the login action to complete\u001b[39m\n     \u001b[90m 133 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 135 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m     expect(mockAuthService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:134:50)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 179 |\u001b[39m     \u001b[90m// Wait for logout methods to be called\u001b[39m\n     \u001b[90m 180 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 181 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 182 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 183 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 184 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.auth-operations.test.tsx:181:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 205 |\u001b[39m     \u001b[90m// Wait for dev logout flag and logout methods to be called\u001b[39m\n     \u001b[90m 206 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 207 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 208 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 210 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:207:48)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/integration/comprehensive/collaboration-sync.test.tsx\n  Real-time Collaboration Sync Tests\n    Conflict Resolution\n      \u221a should handle conflict resolution in collaborative editing (223 ms)\n      \u221a should handle multiple concurrent conflicts (44 ms)\n      \u221a should maintain version consistency during conflicts (34 ms)\n    Operation History Management\n      \u00d7 should maintain operation history for undo/redo (1050 ms)\n      \u00d7 should limit history size to prevent memory bloat (80 ms)\n      \u221a should handle branch creation in history (14 ms)\n    Real-time Synchronization\n      \u221a should sync changes across multiple clients (22 ms)\n      \u00d7 should handle network interruptions gracefully (1023 ms)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:540:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:541:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:542:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      4 of 4 states\n    Received:\n      1 of 1 states\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mInitial state\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"history-info\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m of \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m states\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mPerform Action\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mUndo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mRedo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mClear History\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-undo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-redo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 543 |\u001b[39m   \n     \u001b[90m 544 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 545 |\u001b[39m     expect(getByTestId(\u001b[32m'history-info'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'4 of 4 states'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 546 |\u001b[39m     expect(getByTestId(\u001b[32m'can-undo'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'yes'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 547 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 548 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:545:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should limit history size to prevent memory bloat\n\n    TypeError: Cannot read properties of undefined (reading 'length')\n\n    \u001b[0m \u001b[90m 439 |\u001b[39m \u001b[36mconst\u001b[39m renderHistoryLimitComponent \u001b[33m=\u001b[39m (history\u001b[33m:\u001b[39m string[]\u001b[33m,\u001b[39m limitReached\u001b[33m:\u001b[39m boolean\u001b[33m,\u001b[39m addMany\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 440 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 441 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"history-size\"\u001b[39m\u001b[33m>\u001b[39m{history\u001b[33m.\u001b[39mlength} items\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 442 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"limit-reached\"\u001b[39m\u001b[33m>\u001b[39m{limitReached \u001b[33m?\u001b[39m \u001b[32m'yes'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'no'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 443 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{addMany}\u001b[33m>\u001b[39m\u001b[33mAdd\u001b[39m \u001b[33mMany\u001b[39m \u001b[33mActions\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 444 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at length (__tests__/integration/comprehensive/collaboration-sync.test.tsx:441:46)\n      at renderHistoryLimitComponent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:202:12)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:16116:7)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16241:11\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:569:13)\n      at Object.testHistoryLimit (__tests__/integration/comprehensive/collaboration-sync.test.tsx:106:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Real-time Synchronization \u203a should handle network interruptions gracefully\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      0 queued\n    Received:\n      3 queued\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"network-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mdisconnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queued-changes\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m queued\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mSimulate Network Issue\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 603 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 604 |\u001b[39m     expect(getByTestId(\u001b[32m'network-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'connected'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 605 |\u001b[39m     expect(getByTestId(\u001b[32m'queued-changes'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0 queued'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 606 |\u001b[39m   }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m.\u001b[39m\u001b[33mSHORT\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 607 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:605:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL Integration Tests __tests__/services/apiClient.test.ts (5.507 s)\n  ApiClient Infrastructure Tests\n    Authentication Management\n      \u00d7 includes auth token from localStorage (17 ms)\n      \u00d7 falls back to sessionStorage when localStorage empty (3 ms)\n      \u00d7 handles missing auth tokens gracefully (2 ms)\n      \u221a prevents token leakage in error responses (3268 ms)\n    HTTP Method Support\n      \u221a GET requests with query parameters (8 ms)\n      \u221a POST requests with JSON body (4 ms)\n      \u221a PUT requests update existing resources (4 ms)\n      \u221a DELETE requests remove resources (2 ms)\n    Connection Health Management\n      \u221a performs health check on initialization (13 ms)\n      \u221a handles 307 redirects as healthy connection (2 ms)\n      \u221a marks connection as unhealthy on network failures (1 ms)\n      \u221a reconnects before failed requests (1029 ms)\n    Retry Logic with Exponential Backoff\n      \u221a retries failed requests with exponential delay (33 ms)\n      \u221a respects custom retry configuration (21 ms)\n      \u221a disables retry when configured (32 ms)\n      \u221a throws last error after all retries exhausted (37 ms)\n      \u00d7 handles intermittent network failures gracefully (29 ms)\n    Error Response Handling\n      \u221a parses JSON error responses (7 ms)\n      \u221a handles text error responses (7 ms)\n      \u221a prioritizes error message hierarchy (4 ms)\n      \u221a handles malformed JSON responses gracefully (7 ms)\n    Concurrent Request Management\n      \u221a handles multiple simultaneous requests (5 ms)\n      \u221a isolates failures between concurrent requests (6 ms)\n    Timeout and Rate Limiting\n      \u221a handles request timeouts gracefully (21 ms)\n      \u221a respects rate limiting responses (3 ms)\n    Security and Data Protection\n      \u221a includes credentials for authentication (6 ms)\n      \u221a sanitizes sensitive data from error logs (25 ms)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a includes auth token from localStorage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:68:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a falls back to sessionStorage when localStorage empty\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer session-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:76:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a handles missing auth tokens gracefully\n\n    expect(received).toBeUndefined()\n\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 501 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 502 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 503 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 504 |\u001b[39m }\n     \u001b[90m 505 |\u001b[39m\n     \u001b[90m 506 |\u001b[39m \u001b[36mfunction\u001b[39m expectMethodCall(method\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m expectedUrl\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m data\u001b[33m?\u001b[39m\u001b[33m:\u001b[39m any) {\u001b[0m\n\n      at toBeUndefined (__tests__/services/apiClient.test.ts:503:33)\n      at Object.expectNoAuthHeaders (__tests__/services/apiClient.test.ts:84:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Retry Logic with Exponential Backoff \u203a handles intermittent network failures gracefully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m\n     \u001b[90m 322 |\u001b[39m     \u001b[36mfunction\u001b[39m verifyIntermittentFailureRecovery(result\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(result\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mrecovered)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m     }\n     \u001b[90m 325 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:323:37)\n      at Object.verifyIntermittentFailureRecovery (__tests__/services/apiClient.test.ts:304:7)\n\nFAIL Integration Tests __tests__/integration/task-processing-basic.test.tsx\n  Background Task Processing\n    \u00d7 should queue and process background tasks (4 ms)\n    \u00d7 should handle priority task queuing (4 ms)\n    \u221a should monitor task progress (521 ms)\n    \u221a should handle batch task processing (47 ms)\n    \u221a should handle task cancellation (31 ms)\n    \u221a should list active tasks (16 ms)\n\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 71 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 73 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-456'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 74 |\u001b[39m     \n     \u001b[90m 75 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 76 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:73:42)\n\n  \u25cf Background Task Processing \u203a should handle priority task queuing\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 118 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 120 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-high-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 121 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-normal-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     \n     \u001b[90m 123 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:120:42)\n\nFAIL Integration Tests __tests__/integration/store-persistence.test.tsx\n  Store Persistence Integration Tests\n    State Persistence Across Page Refreshes\n      \u221a persists authentication state across refreshes (293 ms)\n      \u221a persists chat messages across browser sessions (264 ms)\n      \u221a handles partial state restoration gracefully (221 ms)\n    Large State Persistence\n      \u00d7 handles large message history persistence efficiently (212 ms)\n      \u00d7 implements storage quota management (31 ms)\n    Cross-Tab State Synchronization\n      \u00d7 synchronizes state changes across browser tabs (96 ms)\n      \u00d7 prevents infinite sync loops between tabs (89 ms)\n    Migration and Versioning\n      \u00d7 handles legacy state format migration (26 ms)\n      \u221a maintains backwards compatibility with older versions (25 ms)\n    Error Recovery and Resilience\n      \u221a recovers from corrupted localStorage data (26 ms)\n      \u221a handles localStorage unavailability gracefully (84 ms)\n      \u221a implements automatic state cleanup for old data (27 ms)\n\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a handles large message history persistence efficiently\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m       \n     \u001b[90m 219 |\u001b[39m       \u001b[90m// Verify localStorage can handle large data\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m       expect(mockLocalStorage\u001b[33m.\u001b[39msetItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m       \n     \u001b[90m 222 |\u001b[39m       \u001b[90m// Check performance of persistence operation\u001b[39m\n     \u001b[90m 223 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/store-persistence.test.tsx:220:40)\n\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a implements storage quota management\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1\n    Received:\n      0\n\n    \u001b[0m \u001b[90m 245 |\u001b[39m       \n     \u001b[90m 246 |\u001b[39m       \u001b[90m// Verify graceful handling of quota issues\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 247 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 248 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 249 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 250 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:247:52)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a synchronizes state changes across browser tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 260 |\u001b[39m       \n     \u001b[90m 261 |\u001b[39m       \u001b[90m// Simulate storage event from another tab\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 262 |\u001b[39m       \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 263 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 264 |\u001b[39m         newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 265 |\u001b[39m           state\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:262:28)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a prevents infinite sync loops between tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \u001b[90m// Simulate multiple rapid storage events\u001b[39m\n     \u001b[90m 300 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m         \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m           key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 303 |\u001b[39m           newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 304 |\u001b[39m             state\u001b[33m:\u001b[39m { user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m`user-${i}`\u001b[39m }\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m`token-${i}`\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:301:30)\n\n  \u25cf Store Persistence Integration Tests \u203a Migration and Versioning \u203a handles legacy state format migration\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      none\n    Received:\n      test-thread-123\n\n    \u001b[0m \u001b[90m 331 |\u001b[39m       \u001b[90m// Verify app handles legacy format gracefully\u001b[39m\n     \u001b[90m 332 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 333 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'active-thread'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'none'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 334 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 335 |\u001b[39m\n     \u001b[90m 336 |\u001b[39m     it(\u001b[32m'maintains backwards compatibility with older versions'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:333:51)\n\nFAIL Integration Tests __tests__/integration/analytics-realtime.test.tsx\n  Real-time Metrics Integration\n    \u00d7 should aggregate metrics in real-time (123 ms)\n    \u00d7 should handle metric streaming (33 ms)\n    \u221a should calculate rolling averages (99 ms)\n    \u221a should detect anomalies in metrics (38 ms)\n    \u00d7 should handle real-time dashboard updates (23 ms)\n    \u00d7 should implement metric alerting thresholds (28 ms)\n    \u221a should handle metric data buffering for offline scenarios (290 ms)\n    \u221a should implement metric data compression for streaming (20 ms)\n\n  \u25cf Real-time Metrics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m         simulateWebSocketMessage(handleMessage\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metrics_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 45 |\u001b[39m           metrics\u001b[33m:\u001b[39m { requests_per_second\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m }\n     \u001b[90m 46 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:43:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:58:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle metric streaming\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m         simulateWebSocketMessage(handleStreamUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_stream'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 82 |\u001b[39m           metric\u001b[33m:\u001b[39m { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m value\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m }\n     \u001b[90m 83 |\u001b[39m         }\u001b[33m,\u001b[39m \u001b[35m50\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:80:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:98:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle real-time dashboard updates\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 213 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 214 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 215 |\u001b[39m         simulateWebSocketMessage(handleDashboardUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 216 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'dashboard_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 217 |\u001b[39m           dashboard\u001b[33m:\u001b[39m {\n     \u001b[90m 218 |\u001b[39m             active_users\u001b[33m:\u001b[39m \u001b[35m1250\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:215:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:237:35)\n\n  \u25cf Real-time Metrics Integration \u203a should implement metric alerting thresholds\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 258 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 259 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 260 |\u001b[39m         simulateWebSocketMessage(handleAlert\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 261 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_alert'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 262 |\u001b[39m           alert\u001b[33m:\u001b[39m {\n     \u001b[90m 263 |\u001b[39m             metric\u001b[33m:\u001b[39m \u001b[32m'error_rate'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:260:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:278:35)\n\nFAIL Integration Tests __tests__/integration/api-calls-advanced.test.tsx\n  API Calls - Request Interceptors\n    \u221a handles API spec fetching for endpoint resolution (138 ms)\n    \u221a caches OpenAPI spec for subsequent requests (55 ms)\n    \u221a handles endpoint resolution failure gracefully (19 ms)\n    \u221a handles malformed OpenAPI specs (597 ms)\n    \u00d7 retries spec fetching on failure (196 ms)\n  API Calls - API Versioning\n    \u221a supports versioned API endpoints (10 ms)\n    \u221a handles version-specific endpoints in OpenAPI spec (22 ms)\n    \u221a handles version migration scenarios (26 ms)\n    \u221a validates version compatibility (13 ms)\n  API Calls - Response Interceptors\n    \u221a parses JSON responses correctly (22 ms)\n    \u221a handles empty response bodies (28 ms)\n    \u221a preserves response metadata (24 ms)\n    \u221a handles large response payloads efficiently (171 ms)\n    \u221a validates response content types (30 ms)\n  API Calls - Performance\n    \u221a handles concurrent requests efficiently (138 ms)\n    \u221a implements connection pooling (62 ms)\n    \u221a optimizes payload serialization (41 ms)\n\n  \u25cf API Calls - Request Interceptors \u203a retries spec fetching on failure\n\n    expect(received).resolves.toBeDefined()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [TypeError: response.clone is not a function]\n\n    \u001b[0m \u001b[90m 235 |\u001b[39m\n     \u001b[90m 236 |\u001b[39m     \u001b[90m// Should eventually succeed after retry\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 237 |\u001b[39m     \u001b[36mawait\u001b[39m expect(\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 238 |\u001b[39m       apiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'retry_test'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\n     \u001b[90m 239 |\u001b[39m     )\u001b[33m.\u001b[39mresolves\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at expect (node_modules/expect/build/index.js:2116:15)\n      at Object.expect (__tests__/integration/api-calls-advanced.test.tsx:237:11)\n\nFAIL Integration Tests __tests__/integration/role-based-access.test.tsx\n  Role-Based Access Control Integration\n    Tier-Based Feature Access\n      \u221a should restrict free users to basic features (316 ms)\n      \u221a should grant early users advanced features (66 ms)\n      \u221a should grant mid users analytics access (40 ms)\n      \u221a should grant enterprise users full access (49 ms)\n    Protected Route Navigation\n      \u00d7 should redirect unauthorized users from admin routes (77 ms)\n      \u00d7 should allow enterprise users to access admin routes (18 ms)\n      \u221a should handle route permissions dynamically (40 ms)\n    Feature Limitations\n      \u221a should enforce thread creation limits for free users (156 ms)\n      \u221a should enforce message limits per thread (143 ms)\n      \u221a should remove limits for enterprise users (308 ms)\n    Permission Validation\n      \u221a should validate permissions before feature access (26 ms)\n      \u221a should handle missing permissions gracefully (28 ms)\n      \u221a should support hierarchical permissions (20 ms)\n    Upgrade Flow Integration\n      \u221a should trigger upgrade flow for premium features (29 ms)\n      \u221a should handle upgrade completion (38 ms)\n\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should redirect unauthorized users from admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 151 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupUnauthorizedUserRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 153 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m attemptAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 155 |\u001b[39m       \n     \u001b[90m 156 |\u001b[39m       expectAccessDenied()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:153:13)\n\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should allow enterprise users to access admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupAuthorizedAdminRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mawait\u001b[39m verifyAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 165 |\u001b[39m       expectAdminInterfaceRendered()\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:163:13)\n\nFAIL Integration Tests __tests__/integration/first-load-bundle.test.tsx\n  First Load Bundle Testing - Agent 1\n    Bundle Loading Performance\n      \u00d7 loads bundle under 3G conditions within 5 seconds (17 ms)\n      \u00d7 loads bundle under WiFi conditions within 2 seconds (4 ms)\n      \u00d7 shows loading state during bundle fetch (5 ms)\n      \u00d7 validates bundle size is under 1MB gzipped (3 ms)\n    Hydration Verification\n      \u00d7 completes hydration without mismatches (4 ms)\n      \u00d7 renders consistent markup server/client (2 ms)\n      \u00d7 preserves state during hydration (5 ms)\n    Authentication State Initialization\n      \u00d7 initializes with no authenticated content flash (1 ms)\n      \u00d7 shows appropriate unauthenticated state (6 ms)\n      \u00d7 handles authentication check gracefully (5 ms)\n    Storage Initialization\n      \u00d7 initializes localStorage without errors (3 ms)\n      \u00d7 handles cookies initialization (2 ms)\n      \u00d7 recovers from storage quota exceeded (4 ms)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\nFAIL Integration Tests __tests__/integration/first-load-edge-cases.test.tsx\n  First Load Edge Cases Testing - Agent 1\n    Service Worker Edge Cases\n      \u00d7 registers service worker on first load (22 ms)\n      \u00d7 handles service worker registration failure (3 ms)\n      \u00d7 updates service worker on version change (5 ms)\n    Deep Link Handling\n      \u00d7 handles deep link to protected route on first load (1 ms)\n      \u00d7 preserves deep link after authentication (4 ms)\n      \u00d7 handles invalid deep links gracefully (1 ms)\n    Network and Connectivity Edge Cases\n      \u00d7 handles network interruption during initial load (4 ms)\n      \u00d7 handles slow 3G network gracefully (3 ms)\n      \u00d7 retries failed network requests automatically (4 ms)\n    Browser Restriction Edge Cases\n      \u00d7 handles disabled localStorage gracefully (4 ms)\n      \u00d7 works with disabled cookies (1 ms)\n      \u00d7 handles strict Content Security Policy (1 ms)\n      \u00d7 works with ad blockers enabled (3 ms)\n    Rapid User Interaction Edge Cases\n      \u00d7 handles multiple rapid page refreshes (4 ms)\n      \u00d7 prevents race conditions during rapid clicks (1 ms)\n    Browser Compatibility Edge Cases\n      \u00d7 provides fallbacks for missing APIs (5 ms)\n      \u00d7 handles unsupported browser gracefully (4 ms)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\nFAIL Integration Tests __tests__/integration/thread-switching.test.tsx (6.507 s)\n  Thread Switching and Navigation Tests\n    Basic Thread Switching\n      \u221a should switch threads with loading state (263 ms)\n      \u221a should load message history for selected thread (113 ms)\n      \u221a should update URL correctly on thread switch (81 ms)\n      \u221a should show active thread indication (91 ms)\n    Draft Message Preservation\n      \u221a should preserve draft messages when switching threads (803 ms)\n      \u221a should clear draft after sending message (427 ms)\n    Rapid Thread Switching\n      \u00d7 should handle 10 rapid thread switches within 2 seconds (337 ms)\n      \u221a should prevent clicks during loading state (133 ms)\n    Message Isolation\n      \u221a should not mix messages between threads (184 ms)\n      \u00d7 should maintain separate message histories (1153 ms)\n    WebSocket Subscription Updates\n      \u221a should update WebSocket subscriptions on thread switch (164 ms)\n    Browser Navigation Integration\n      \u00d7 should handle browser back/forward navigation (112 ms)\n      \u00d7 should maintain thread state during navigation (786 ms)\n    Performance Metrics\n      \u00d7 should switch threads in less than 200ms (93 ms)\n      \u00d7 should handle concurrent rapid switches without performance degradation (435 ms)\n\n  \u25cf Thread Switching and Navigation Tests \u203a Rapid Thread Switching \u203a should handle 10 rapid thread switches within 2 seconds\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 10\n    Received: 1\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mWS: \u001b[0m\n              \u001b[0mConnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m\u25cf\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mThird Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<h2\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</h2>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 1 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 2 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 3 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<textarea\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                    \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<button\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                    \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mSend\u001b[0m\n                  \u001b[36m</button>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mthread-1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1755903931586\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 480 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 481 |\u001b[39m         \u001b[36mconst\u001b[39m switchCount \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'switch-count'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 482 |\u001b[39m         expect(parseInt(switchCount\u001b[33m.\u001b[39mtextContent \u001b[33m||\u001b[39m \u001b[32m'0'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 483 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 484 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 485 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/integration/thread-switching.test.tsx:482:58)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Thread Switching and Navigation Tests \u203a Message Isolation \u203a should maintain separate message histories\n\n    Unable to find an element with the text: New message for thread 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mWS: \u001b[0m\n            \u001b[0mConnected\u001b[0m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mFirst Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSecond Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m\u25cf\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mThird Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h2\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSecond Thread\u001b[0m\n              \u001b[36m</h2>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mMessage 1 in Second Thread\u001b[0m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-1\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mMessage 2 in Second Thread\u001b[0m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mMessage 3 in Second Thread\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<textarea\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                  \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSend\u001b[0m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n            \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m2\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mthread-1,thread-2\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1755903932539\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 576 |\u001b[39m       act(() \u001b[33m=>\u001b[39m { jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 577 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 578 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 579 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'New message for thread 1'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 580 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 581 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/thread-switching.test.tsx:578:20)\n\n  \u25cf Thread Switching and Navigation Tests \u203a Browser Navigation Integration \u203a should handle browser back/forward navigation\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n    Received: \"/chat/thread-1\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 631 |\u001b[39m       \u001b[90m// Verify URL updates were called\u001b[39m\n     \u001b[90m 632 |\u001b[39m       expect(mockPush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-1'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 633 |\u001b[39m       expect(mockPush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 634 |\u001b[39m       expect(mockPush)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 635 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 636 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/thread-switching.test.tsx:633:24)\n\n  \u25cf Thread Switching and Navigation Tests \u203a Browser Navigation Integration \u203a should maintain thread state during navigation\n\n    expect(element).toHaveValue(Navigation test draft)\n\n    Expected the element to have value:\n      Navigation test draft\n    Received:\n\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mWS: \u001b[0m\n              \u001b[0mConnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m\u25cf\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mThird Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<h2\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</h2>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 1 in Second Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 2 in Second Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 3 in Second Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<textarea\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                    \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<button\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                    \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mSend\u001b[0m\n                  \u001b[36m</button>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m2\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mthread-1,thread-2\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1755903933973\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 663 |\u001b[39m\n     \u001b[90m 664 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 665 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-input'\u001b[39m))\u001b[33m.\u001b[39mtoHaveValue(\u001b[32m'Navigation test draft'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 666 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 667 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 668 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveValue (__tests__/integration/thread-switching.test.tsx:665:53)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Thread Switching and Navigation Tests \u203a Performance Metrics \u203a should switch threads in less than 200ms\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 200\n    Received:   250\n\n    \u001b[0m \u001b[90m 688 |\u001b[39m\n     \u001b[90m 689 |\u001b[39m       \u001b[36mconst\u001b[39m switchTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m startTime\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 690 |\u001b[39m       expect(switchTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 691 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 692 |\u001b[39m\n     \u001b[90m 693 |\u001b[39m     it(\u001b[32m'should handle concurrent rapid switches without performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/integration/thread-switching.test.tsx:690:26)\n\n  \u25cf Thread Switching and Navigation Tests \u203a Performance Metrics \u203a should handle concurrent rapid switches without performance degradation\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 20\n    Received: 1\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mWS: \u001b[0m\n              \u001b[0mConnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m\u25cf\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mThird Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<h2\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</h2>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 1 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 2 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 3 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<textarea\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                    \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<button\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                    \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mSend\u001b[0m\n                  \u001b[36m</button>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mthread-1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1755903934604\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 716 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 717 |\u001b[39m         \u001b[36mconst\u001b[39m switchCount \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'switch-count'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 718 |\u001b[39m         expect(parseInt(switchCount\u001b[33m.\u001b[39mtextContent \u001b[33m||\u001b[39m \u001b[32m'0'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[35m20\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 719 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 720 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 721 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toBe (__tests__/integration/thread-switching.test.tsx:718:58)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL Integration Tests __tests__/integration/websocket-complete.test.tsx\n  WebSocket Connection Lifecycle Tests\n    Connection Establishment\n      \u00d7 should handle complete connection lifecycle with real timing (6 ms)\n      \u00d7 should track real connection state transitions with history (5 ms)\n      \u00d7 should measure real connection performance (8 ms)\n    Error Handling\n      \u00d7 should handle real connection errors with proper state transitions (2 ms)\n      \u00d7 should handle network disconnections gracefully (1 ms)\n    Reconnection Scenarios\n      \u00d7 should handle real reconnection with timing simulation (2 ms)\n      \u00d7 should test real WebSocket reconnection strategies (5 ms)\n      \u00d7 should handle multiple reconnection attempts (1 ms)\n    Performance Measurement\n      \u00d7 should measure real connection performance with timing (5 ms)\n      \u00d7 should track connection stability metrics (5 ms)\n  WebSocket Message Processing Tests\n    Message Sending\n      \u00d7 should handle real message sending with queue tracking (2 ms)\n      \u00d7 should queue messages when connection is not ready (1 ms)\n      \u00d7 should handle message serialization correctly (4 ms)\n    Message Receiving\n      \u00d7 should handle real message receiving with event simulation (5 ms)\n      \u00d7 should handle multiple incoming messages in sequence (2 ms)\n      \u00d7 should handle message parsing and validation (5 ms)\n    Message Queuing\n      \u00d7 should handle message queuing with real buffer behavior (4 ms)\n      \u00d7 should respect buffer size limits (1 ms)\n      \u00d7 should handle buffer overflow gracefully (4 ms)\n    Message Failure Handling\n      \u00d7 should handle failed messages with real error conditions (5 ms)\n      \u00d7 should track failed message attempts (3 ms)\n    Message Performance\n      \u00d7 should measure real message round-trip latency (5 ms)\n      \u00d7 should handle concurrent message processing (1 ms)\n      \u00d7 should handle message throughput testing (1 ms)\n  WebSocket Large Message Handling Tests\n    Large Message Sending\n      \u00d7 should handle 1MB messages with real WebSocket behavior (5 ms)\n      \u00d7 should handle 512KB messages efficiently (5 ms)\n      \u00d7 should handle multiple large messages sequentially (4 ms)\n    Large Message Receiving\n      \u00d7 should handle large message receiving with real event processing (3 ms)\n      \u00d7 should handle concurrent large message reception (2 ms)\n    Buffer Management\n      \u00d7 should respect real buffer limits with backpressure (6 ms)\n      \u00d7 should handle large message buffering with memory limits (5 ms)\n      \u00d7 should handle buffer overflow with large messages (3 ms)\n    Message Chunking\n      \u00d7 should handle chunked message reconstruction (1 ms)\n      \u00d7 should handle large message chunking correctly (1 ms)\n    Performance and Memory\n      \u00d7 should measure large message processing performance (3 ms)\n      \u00d7 should handle memory pressure with multiple large messages (1 ms)\n      \u00d7 should track memory usage during large message processing (1 ms)\n  WebSocket Performance and Advanced Tests\n    Performance Monitoring\n      \u00d7 should measure real connection performance with timing (4 ms)\n      \u00d7 should track connection stability over time (4 ms)\n      \u00d7 should measure message throughput performance (3 ms)\n    Connection Pooling\n      \u00d7 should handle real concurrent connections with load testing (4 ms)\n      \u00d7 should test real connection pool management (3 ms)\n      \u00d7 should handle pool failover scenarios (2 ms)\n    Broadcasting\n      \u00d7 should test real multi-connection broadcasting (1 ms)\n      \u00d7 should handle selective broadcasting (2 ms)\n    Benchmarking\n      \u00d7 should benchmark real vs mock WebSocket test performance (1 ms)\n      \u00d7 should benchmark connection establishment times (5 ms)\n      \u00d7 should benchmark message processing latency (2 ms)\n  WebSocket Stress Testing\n    Connection Stress\n      \u00d7 should handle rapid connect/disconnect cycles (1 ms)\n      \u00d7 should handle multiple simultaneous connection attempts (1 ms)\n    Memory Management\n      \u00d7 should handle memory cleanup during stress testing (1 ms)\n      \u00d7 should handle repeated message sending without memory leaks (5 ms)\n    Load Testing\n      \u00d7 should handle high message volume (1 ms)\n      \u00d7 should handle concurrent message bursts (4 ms)\n    Error Recovery Stress\n      \u00d7 should handle repeated error/recovery cycles (4 ms)\n      \u00d7 should maintain message queue integrity during stress\n  WebSocket Complete Integration Tests - Modular\n    \u221a should have all test modules properly organized (3 ms)\n    \u221a should maintain test coverage across all modules (2 ms)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\nFAIL Integration Tests __tests__/integration/first-load-performance.test.tsx\n  First Load Performance Testing - Agent 1\n    Core Performance Benchmarks\n      \u00d7 achieves First Contentful Paint under 1.5 seconds (8 ms)\n      \u00d7 achieves Time to Interactive under 3 seconds (2 ms)\n      \u00d7 maintains bundle size under 1MB gzipped (1 ms)\n      \u00d7 achieves layout stability with CLS < 0.1 (4 ms)\n    Resource Loading Performance\n      \u00d7 inlines critical CSS for above-fold content (2 ms)\n      \u00d7 preloads critical fonts effectively (3 ms)\n      \u00d7 optimizes image loading with lazy loading (3 ms)\n      \u00d7 implements effective code splitting (4 ms)\n    Memory and CPU Performance\n      \u00d7 maintains memory usage under 100MB after load (1 ms)\n      \u00d7 keeps main thread blocking time under 50ms (1 ms)\n      \u00d7 achieves smooth frame rate during initial render\n    Network Performance Optimization\n      \u00d7 implements effective HTTP/2 resource prioritization (4 ms)\n      \u00d7 uses service worker for effective caching (3 ms)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\nFAIL Integration Tests __tests__/integration/error-handling-retry.test.tsx (5.404 s)\n  Error Handling - Retry Logic\n    \u00d7 retries failed requests with exponential backoff (925 ms)\n    \u221a respects max retry limit (168 ms)\n    \u221a uses linear backoff when exponential is disabled (142 ms)\n  Error Handling - Request Cancellation\n    \u00d7 cancels ongoing requests (212 ms)\n    \u221a handles multiple concurrent cancellations (248 ms)\n  Error Handling - Timeout Handling\n    \u00d7 handles request timeouts correctly (219 ms)\n    \u221a succeeds when response is within timeout (201 ms)\n\n  \u25cf Error Handling - Retry Logic \u203a retries failed requests with exponential backoff\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Retry 1\n    Received:\n      Retry 2\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-test-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStart Request\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mRetry \u001b[0m\n                \u001b[0m2\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 393 |\u001b[39m     \n     \u001b[90m 394 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 395 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Retry 1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 396 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 397 |\u001b[39m     \n     \u001b[90m 398 |\u001b[39m     act(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:395:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Error Handling - Request Cancellation \u203a cancels ongoing requests\n\n    Unable to find an element by: [data-testid=\"error\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancellable-request\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mStart Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancel-request\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mCancel Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mLoading...\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 508 |\u001b[39m     userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'cancel-request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 509 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 510 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 511 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Request cancelled'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 512 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 513 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-retry.test.tsx:510:18)\n\n  \u25cf Error Handling - Timeout Handling \u203a handles request timeouts correctly\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Timeout\n    Received:\n\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"timeout-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"fast-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mFast Timeout (100ms)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"slow-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSlow Timeout (10s)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"result\"\u001b[39m\n            \u001b[36m/>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m     \n     \u001b[90m 586 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'result'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Timeout'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 589 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 590 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:587:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL Integration Tests __tests__/integration/critical/websocket-auth.test.tsx\n  WebSocket and Authentication Integration\n    WebSocket Provider Integration\n      \u221a should integrate WebSocket with authentication state (167 ms)\n      \u00d7 should reconnect WebSocket when authentication changes (53 ms)\n    Authentication Flow Integration\n      \u00d7 should complete OAuth flow and establish WebSocket (10 ms)\n      \u00d7 should persist authentication across page refreshes (5 ms)\n\n  \u25cf WebSocket and Authentication Integration \u203a WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"new-token\"\n    Received: null\n\n    \u001b[0m \u001b[90m 59 |\u001b[39m       \n     \u001b[90m 60 |\u001b[39m       \u001b[36mawait\u001b[39m flushPromises()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 61 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mtoken)\u001b[33m.\u001b[39mtoBe(\u001b[32m'new-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 62 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical/websocket-auth.test.tsx:61:45)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:73:7)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:84:7)\n\nFAIL Integration Tests __tests__/integration/data-fetching-pagination.test.tsx\n  Data Fetching - Pagination\n    \u221a loads first page by default (168 ms)\n    \u221a navigates to next page correctly (292 ms)\n    \u00d7 disables navigation buttons appropriately (276 ms)\n    \u221a jumps to first page correctly (270 ms)\n    \u221a handles pagination with different page sizes (38 ms)\n  Data Fetching - Infinite Scrolling\n    \u221a loads more data when scrolling to bottom (169 ms)\n    \u221a prevents duplicate loading requests (109 ms)\n\n  \u25cf Data Fetching - Pagination \u203a disables navigation buttons appropriately\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"next-page\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 325 |\u001b[39m     }\n     \u001b[90m 326 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 327 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'next-page'\u001b[39m))\u001b[33m.\u001b[39mtoBeDisabled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 328 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m   it(\u001b[32m'jumps to first page correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/data-fetching-pagination.test.tsx:327:19)\n\nFAIL Integration Tests __tests__/integration/error-handling-core.test.tsx\n  Error Handling - 4xx Client Errors\n    \u00d7 handles 404 Not Found errors (185 ms)\n    \u00d7 handles 401 Unauthorized errors (48 ms)\n    \u221a handles 403 Forbidden errors (36 ms)\n    \u00d7 handles 422 Validation errors with details (47 ms)\n    \u00d7 handles 429 Rate Limiting errors (151 ms)\n  Error Handling - 5xx Server Errors\n    \u00d7 handles 500 Internal Server errors with retry (102 ms)\n    \u00d7 handles 502 Bad Gateway errors (100 ms)\n    \u00d7 handles 503 Service Unavailable errors (106 ms)\n    \u00d7 allows manual retry after failure (114 ms)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 404 Not Found errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Resource not found\n    Received:\n      Error: HTTP 404: Not Found\n\n    \u001b[0m \u001b[90m 374 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 376 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Resource not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 377 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'404'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 378 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 379 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:376:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 401 Unauthorized errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Unauthorized access\n    Received:\n      Error: HTTP 401: Unauthorized\n\n    \u001b[0m \u001b[90m 385 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 386 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 387 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Unauthorized access'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 388 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 389 |\u001b[39m\n     \u001b[90m 390 |\u001b[39m   it(\u001b[32m'handles 403 Forbidden errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:387:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 422 Validation errors with details\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Validation failed\n    Received:\n      Error: HTTP 422: Unprocessable Entity\n\n    \u001b[0m \u001b[90m 403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 404 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 405 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Validation failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 406 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 407 |\u001b[39m\n     \u001b[90m 408 |\u001b[39m   it(\u001b[32m'handles 429 Rate Limiting errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:405:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 429 Rate Limiting errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'429'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 426 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:424:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 500 Internal Server errors with retry\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 449 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 450 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 451 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 452 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'500'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 454 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:451:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 502 Bad Gateway errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 457 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/bad-gateway`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 458 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 459 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 460 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'502'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 462 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:459:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 503 Service Unavailable errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 465 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/service-unavailable`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 466 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 467 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 468 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'503'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:467:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a allows manual retry after failure\n\n    Unable to find an element by: [data-testid=\"error-display\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 473 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/server-error`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 475 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 476 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-display'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 477 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 478 |\u001b[39m     \u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:475:18)\n\nFAIL Integration Tests __tests__/integration/offline-mode.test.tsx\n  Enhanced Offline Mode Tests\n    Offline/Online Transitions\n      \u221a should detect offline/online status changes (135 ms)\n      \u00d7 should queue actions when offline and sync when online (876 ms)\n    Data Persistence\n      \u221a should persist offline data in localStorage (99 ms)\n      \u221a should restore data after page refresh (39 ms)\n    Draft Message Persistence\n      \u221a should save and restore draft messages (252 ms)\n      \u221a should clear draft after sending message (307 ms)\n    Network Quality Detection\n      \u221a should detect network connection type and quality (34 ms)\n    Storage Management\n      \u221a should handle storage quota limits gracefully (40 ms)\n      \u221a should export offline data for backup (115 ms)\n    Error Handling\n      \u221a should handle localStorage failures gracefully (231 ms)\n      \u00d7 should handle sync failures with retry (329 ms)\n    Manual Sync Operations\n      \u00d7 should allow manual sync when online (229 ms)\n\n  \u25cf Enhanced Offline Mode Tests \u203a Offline/Online Transitions \u203a should queue actions when offline and sync when online\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      syncing\n    Received:\n      Sync: idle\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStatus: \u001b[0m\n              \u001b[0mOnline\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"sync-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSync: \u001b[0m\n              \u001b[0midle\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queue-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mQueued: \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m actions\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notifications\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notification-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mYou are now offline. Changes will be saved locally.\u001b[0m\n                \u001b[36m<button>\u001b[39m\n                  \u001b[0m\u00d7\u001b[0m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"title-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Conversation title\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"create-conversation-btn\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mCreate Conversation\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<textarea\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message-btn\"\u001b[39m\n                \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSend Message\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"manual-sync-btn\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Sync\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h3>\u001b[39m\n                \u001b[0mConversations (\u001b[0m\n                \u001b[0m1\u001b[0m\n                \u001b[0m)\u001b[0m\n              \u001b[36m</h3>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mOffline Conversation\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 556 |\u001b[39m\n     \u001b[90m 557 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 558 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'sync-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'syncing'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 559 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m\n     \u001b[90m 561 |\u001b[39m       \u001b[90m// Wait for sync to complete\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/offline-mode.test.tsx:558:51)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Enhanced Offline Mode Tests \u203a Error Handling \u203a should handle sync failures with retry\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      error\n    Received:\n      Sync: idle\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStatus: \u001b[0m\n              \u001b[0mOnline\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"sync-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSync: \u001b[0m\n              \u001b[0midle\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queue-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mQueued: \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m actions\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notifications\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notification-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mYou are now offline. Changes will be saved locally.\u001b[0m\n                \u001b[36m<button>\u001b[39m\n                  \u001b[0m\u00d7\u001b[0m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"title-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Conversation title\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"create-conversation-btn\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mCreate Conversation\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<textarea\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message-btn\"\u001b[39m\n                \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSend Message\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"manual-sync-btn\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Sync\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h3>\u001b[39m\n                \u001b[0mConversations (\u001b[0m\n                \u001b[0m1\u001b[0m\n                \u001b[0m)\u001b[0m\n              \u001b[36m</h3>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mTest\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 804 |\u001b[39m       \u001b[90m// Should show sync error\u001b[39m\n     \u001b[90m 805 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 806 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'sync-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 807 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Sync failed/\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 808 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 809 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/offline-mode.test.tsx:806:51)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Enhanced Offline Mode Tests \u203a Manual Sync Operations \u203a should allow manual sync when online\n\n    expect(element).toBeDisabled()\n\n    Received element is not disabled:\n      <button data-testid=\"manual-sync-btn\" />\n\n    \u001b[0m \u001b[90m 849 |\u001b[39m\n     \u001b[90m 850 |\u001b[39m       \u001b[90m// Manual sync button should be disabled (no actions to sync)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 851 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'manual-sync-btn'\u001b[39m))\u001b[33m.\u001b[39mtoBeDisabled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 852 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 853 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 854 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDisabled (__tests__/integration/offline-mode.test.tsx:851:53)\n\nFAIL Integration Tests __tests__/services/webSocketService.test.ts\n  webSocketService\n    Connection Management\n      \u221a should establish WebSocket connection (90 ms)\n      \u00d7 should handle connection success (31 ms)\n      \u00d7 should handle connection errors (45 ms)\n      \u00d7 should disconnect WebSocket properly (20 ms)\n      \u221a should handle multiple connection attempts gracefully (12 ms)\n      \u00d7 should handle connection state transitions (30 ms)\n    Message Sending and Receiving\n      \u221a should send messages when connected (21 ms)\n      \u221a should queue messages when disconnected (23 ms)\n      \u00d7 should send queued messages after reconnection (30 ms)\n      \u221a should handle message receiving with proper parsing (26 ms)\n      \u221a should handle malformed message data gracefully (29 ms)\n      \u00d7 should handle binary message data (25 ms)\n    Reconnection Logic\n      \u00d7 should attempt reconnection when onReconnect is provided (26 ms)\n      \u00d7 should not attempt reconnection without onReconnect (23 ms)\n      \u00d7 should cancel reconnection on explicit disconnect (19 ms)\n    Heartbeat Mechanism\n      \u00d7 should send heartbeat messages at configured interval (28 ms)\n      \u221a should stop heartbeat on disconnect (22 ms)\n    Rate Limiting\n      \u221a should enforce rate limits when configured (14 ms)\n      \u00d7 should reset rate limit window over time (16 ms)\n    Error Handling\n      \u00d7 should handle WebSocket errors gracefully (19 ms)\n      \u00d7 should handle connection failure gracefully (79 ms)\n      \u00d7 should handle message sending errors (61 ms)\n    State Management\n      \u00d7 should track connection state accurately (32 ms)\n      \u00d7 should track reconnecting state (24 ms)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection success\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 91 |\u001b[39m\n     \u001b[90m 92 |\u001b[39m     \u001b[36mfunction\u001b[39m expectAuthTokenSent() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 93 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 94 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m })\n     \u001b[90m 95 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 96 |\u001b[39m     }\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:93:34)\n      at expectAuthTokenSent (__tests__/services/webSocketService.test.ts:89:7)\n      at Object.expectSuccessfulConnection (__tests__/services/webSocketService.test.ts:67:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection errors\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: Connection failed]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755903936483,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 122 |\u001b[39m     \u001b[36mfunction\u001b[39m expectErrorHandling(statusHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m errorHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m error\u001b[33m:\u001b[39m \u001b[33mError\u001b[39m) {\n     \u001b[90m 123 |\u001b[39m       expect(statusHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 124 |\u001b[39m       expect(errorHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 125 |\u001b[39m     }\n     \u001b[90m 126 |\u001b[39m\n     \u001b[90m 127 |\u001b[39m     it(\u001b[32m'should disconnect WebSocket properly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:124:28)\n      at Object.expectErrorHandling (__tests__/services/webSocketService.test.ts:102:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should disconnect WebSocket properly\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 131 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 133 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39mclose)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m\n     \u001b[90m 136 |\u001b[39m     it(\u001b[32m'should handle multiple connection attempts gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/services/webSocketService.test.ts:133:35)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:170:28)\n      at Object.simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:148:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send queued messages after reconnection\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m\n     \u001b[90m 242 |\u001b[39m       \u001b[90m// Should send auth token and queued messages\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message1))\u001b[33m;\u001b[39m\n     \u001b[90m 245 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message2))\u001b[33m;\u001b[39m\n     \u001b[90m 246 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:243:34)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle binary message data\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: [0, 0, 0, 0, 0, 0, 0, 0]\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 302 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monmessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(messageEvent)\u001b[33m;\u001b[39m\n     \u001b[90m 303 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 304 |\u001b[39m       expect(onBinaryMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(binaryData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 305 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 306 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:304:31)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should attempt reconnection when onReconnect is provided\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:317:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should not attempt reconnection without onReconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:331:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should cancel reconnection on explicit disconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:348:28)\n\n  \u25cf webSocketService \u203a Heartbeat Mechanism \u203a should send heartbeat messages at configured interval\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"ping\\\"}\"\n    Received: \"{\\\"type\\\":\\\"ping\\\",\\\"timestamp\\\":1755903966875}\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 370 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 371 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 372 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 373 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'ping'\u001b[39m })\n     \u001b[90m 374 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:372:34)\n\n  \u25cf webSocketService \u203a Rate Limiting \u203a should reset rate limit window over time\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msendMessage({ type\u001b[33m:\u001b[39m \u001b[32m'test2'\u001b[39m\u001b[33m,\u001b[39m payload\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 430 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \n     \u001b[90m 433 |\u001b[39m       \u001b[90m// Advance time past window\u001b[39m\n     \u001b[90m 434 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m1100\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/services/webSocketService.test.ts:431:34)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle WebSocket errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: WebSocket error]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755903936961,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 452 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monerror\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(error \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 454 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 455 |\u001b[39m       expect(onStatusChange)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 456 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 457 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:454:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle connection failure gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: Any<Error>\n    Received: {\"code\": 1000, \"message\": \"Failed to create WebSocket\", \"recoverable\": true, \"timestamp\": 1755903936986, \"type\": \"connection\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 466 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mconnect(\u001b[32m'ws://localhost:8000/ws'\u001b[39m\u001b[33m,\u001b[39m { onError })\u001b[33m;\u001b[39m\n     \u001b[90m 467 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 468 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m\n     \u001b[90m 471 |\u001b[39m     it(\u001b[32m'should handle message sending errors'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:468:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle message sending errors\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Send failed\"\n\n        \u001b[0m \u001b[90m 476 |\u001b[39m       \u001b[90m// Make send throw an error\u001b[39m\n         \u001b[90m 477 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Send failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 479 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 480 |\u001b[39m       \n         \u001b[90m 481 |\u001b[39m       \u001b[90m// Should not throw when sending message\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:478:15)\n      at WebSocketService.send (services/webSocketService.ts:886:15)\n      at WebSocketService.send [as sendMessage] (services/webSocketService.ts:894:10)\n      at sendMessage (__tests__/services/webSocketService.test.ts:483:26)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n\n  \u25cf webSocketService \u203a State Management \u203a should track connection state accurately\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:499:28)\n\n  \u25cf webSocketService \u203a State Management \u203a should track reconnecting state\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:511:28)\n\nFAIL Integration Tests __tests__/integration/data-generation.test.tsx\n  Synthetic Data Generation Flow\n    \u00d7 should generate synthetic data based on user input (55 ms)\n    \u00d7 should export synthetic data in multiple formats (4 ms)\n  Generation Service Integration\n    \u00d7 should handle batch generation jobs (3 ms)\n    \u00d7 should stream generation progress via WebSocket (3 ms)\n\n  \u25cf Synthetic Data Generation Flow \u203a should generate synthetic data based on user input\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m\n     \u001b[90m 39 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/data-generation.test.tsx:40:12)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m\n     \u001b[90m 39 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/data-generation.test.tsx:40:12)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m\n     \u001b[90m 39 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/data-generation.test.tsx:40:12)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\nFAIL Integration Tests __tests__/integration/thread-navigation.test.tsx (12.488 s)\n  Thread Navigation Integration Tests\n    Thread Switching Performance\n      \u221a should switch threads under 200ms performance target (1560 ms)\n      \u00d7 should handle rapid thread switching without state corruption (1394 ms)\n      \u221a should debounce thread switching to prevent excessive calls (640 ms)\n    URL Synchronization\n      \u00d7 should update URL when thread is selected (1306 ms)\n      \u221a should handle deep linking to specific threads (168 ms)\n      \u00d7 should preserve URL state across navigation (595 ms)\n    State Persistence\n      \u221a should restore active thread on page refresh (209 ms)\n      \u221a should persist sidebar state across refreshes (232 ms)\n      \u221a should handle localStorage corruption gracefully (189 ms)\n    Error Recovery\n      \u221a should handle thread loading failures gracefully (211 ms)\n      \u221a should retry failed thread operations (240 ms)\n      \u221a should handle WebSocket disconnection during navigation (222 ms)\n    Multi-Session Synchronization\n      \u221a should sync thread updates across multiple tabs (217 ms)\n      \u00d7 should handle concurrent thread modifications (1449 ms)\n    Navigation Performance Optimization\n      \u221a should preload adjacent threads for faster navigation (282 ms)\n      \u221a should implement virtual scrolling for large thread lists (1014 ms)\n      \u221a should cache thread metadata for instant navigation (270 ms)\n\n  \u25cf Thread Navigation Integration Tests \u203a Thread Switching Performance \u203a should handle rapid thread switching without state corruption\n\n    expect(element).toHaveClass(\"bg-emerald-50\")\n\n    Expected the element to have class:\n      bg-emerald-50\n    Received:\n      w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mless than a minute ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 1 hour ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 2 hours ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 90 |\u001b[39m       \n     \u001b[90m 91 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 92 |\u001b[39m         expect(thread3)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-emerald-50'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 93 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 94 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m\u001b[0m\n\n      at toHaveClass (__tests__/integration/thread-navigation.test.tsx:92:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should update URL when thread is selected\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mless than a minute ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 1 hour ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 2 hours ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 134 |\u001b[39m       \n     \u001b[90m 135 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 136 |\u001b[39m         expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 137 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 139 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:136:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should preserve URL state across navigation\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n    Received: \"/chat/thread-1\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 166 |\u001b[39m       \u001b[36mawait\u001b[39m user\u001b[33m.\u001b[39mclick(thread2)\u001b[33m;\u001b[39m\n     \u001b[90m 167 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 168 |\u001b[39m       expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 169 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 170 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 171 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:168:31)\n\n  \u25cf Thread Navigation Integration Tests \u203a Multi-Session Synchronization \u203a should handle concurrent thread modifications\n\n    Unable to find an element with the text: /bg-emerald-50/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n          \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mNew Chat\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<circle\u001b[39m\n                  \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mAI Optimization Discussion\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<svg\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                        \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                        \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                        \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<path\u001b[39m\n                          \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                        \u001b[36m/>\u001b[39m\n                      \u001b[36m</svg>\u001b[39m\n                      \u001b[0mless than a minute ago\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m15\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mPerformance Analysis\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<svg\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                        \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                        \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                        \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<path\u001b[39m\n                          \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                        \u001b[36m/>\u001b[39m\n                      \u001b[36m</svg>\u001b[39m\n                      \u001b[0mabout 1 hour ago\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m8\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mData Processing Pipeline\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<svg\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                        \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                        \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                        \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<path\u001b[39m\n                          \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                        \u001b[36m/>\u001b[39m\n                      \u001b[36m</svg>\u001b[39m\n                      \u001b[0mabout 2 hours ago\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m32\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<p\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m conversation\u001b[0m\n              \u001b[0ms\u001b[0m\n            \u001b[36m</p>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m       \n     \u001b[90m 323 |\u001b[39m       \u001b[90m// Should resolve to a consistent state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m         \u001b[36mconst\u001b[39m activeThreads \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByText(\u001b[35m/bg-emerald-50/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m         expect(activeThreads\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/thread-navigation.test.tsx:324:20)\n\nFAIL Integration Tests __tests__/integration/database-integration.test.tsx\n  Database Repository Pattern Integration\n    \u221a should perform CRUD operations through repositories (58 ms)\n    \u221a should handle repository read operations (26 ms)\n    \u221a should handle repository update operations (30 ms)\n    \u221a should handle repository delete operations (39 ms)\n  Database Transaction Integration\n    \u00d7 should handle database transactions (3 ms)\n    \u00d7 should handle transaction rollbacks (6 ms)\n\n  \u25cf Database Transaction Integration \u203a should handle database transactions\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 256 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mtrue\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 259 |\u001b[39m     \n     \u001b[90m 260 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 261 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:258:49)\n\n  \u25cf Database Transaction Integration \u203a should handle transaction rollbacks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 306 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 308 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mfalse\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 309 |\u001b[39m     \n     \u001b[90m 310 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 311 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:308:49)\n\nFAIL Integration Tests __tests__/auth/logout-security.test.tsx\n  Logout Security and Multi-Tab Tests\n    All Auth Tokens Removed\n      \u00d7 should remove JWT token from localStorage (6 ms)\n      \u00d7 should remove auth token from localStorage (1 ms)\n      \u00d7 should remove refresh token from localStorage (2 ms)\n      \u00d7 should remove session ID from localStorage (3 ms)\n    LocalStorage Cleared\n      \u00d7 should remove user preferences from localStorage (1 ms)\n      \u00d7 should remove cached user data from localStorage (2 ms)\n      \u00d7 should remove remember me flag from localStorage (4 ms)\n      \u00d7 should not affect non-auth localStorage items (3 ms)\n    Cookies Deleted\n      \u00d7 should remove auth cookies (1 ms)\n      \u00d7 should remove session cookies (4 ms)\n      \u00d7 should remove remember me cookies (1 ms)\n      \u00d7 should preserve non-auth cookies (5 ms)\n    Browser Back Prevention\n      \u00d7 should replace history state after logout (4 ms)\n      \u00d7 should prevent navigation to authenticated pages (7 ms)\n      \u00d7 should clear browser navigation state (5 ms)\n      \u00d7 should ensure no cached authenticated state (1 ms)\n    Security Validation\n      \u00d7 should not leave sensitive data in memory (4 ms)\n      \u00d7 should clear all authentication artifacts (2 ms)\n      \u00d7 should ensure complete session termination\n      \u00d7 should clear permissions and role data (4 ms)\n    Clean Slate for Next Login\n      \u00d7 should reset all error states (4 ms)\n      \u00d7 should reset loading states (5 ms)\n      \u00d7 should clear any cached authentication state (2 ms)\n      \u00d7 should ensure fresh authentication flow on next login (4 ms)\n    No Authenticated Content Visible\n      \u00d7 should set authenticated status to false (4 ms)\n      \u00d7 should clear user identity information (4 ms)\n      \u00d7 should clear role and permissions (6 ms)\n      \u00d7 should ensure no sensitive data remains in DOM (1 ms)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove refresh token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove session ID from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove user preferences from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove cached user data from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove remember me flag from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should not affect non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove session cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove remember me cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should preserve non-auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should replace history state after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should prevent navigation to authenticated pages\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should clear browser navigation state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should ensure no cached authenticated state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should not leave sensitive data in memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear all authentication artifacts\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should ensure complete session termination\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear permissions and role data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset all error states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset loading states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should clear any cached authentication state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should ensure fresh authentication flow on next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should set authenticated status to false\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear user identity information\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear role and permissions\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should ensure no sensitive data remains in DOM\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\nFAIL Integration Tests __tests__/integration/thread-creation-advanced.test.tsx\n  Thread Creation Advanced Scenarios\n    Input Field Auto-Focus\n      \u00d7 focuses message input after thread creation (8 ms)\n      \u00d7 positions cursor at start of input (3 ms)\n      \u00d7 clears any existing draft content (1 ms)\n      \u00d7 maintains focus after thread switch (1 ms)\n    Duplicate Prevention\n      \u00d7 prevents duplicate threads on double-click (4 ms)\n      \u00d7 prevents rapid clicking during API call (1 ms)\n      \u00d7 uses unique thread IDs for each creation (1 ms)\n      \u00d7 handles race conditions correctly (1 ms)\n    Error Recovery and Retry\n      \u00d7 allows retry after network failure (1 ms)\n      \u00d7 handles timeout errors gracefully (3 ms)\n      \u00d7 shows appropriate error messages (3 ms)\n      \u00d7 preserves user context after error (2 ms)\n    Performance Edge Cases\n      \u00d7 handles creation during high CPU load\n      \u00d7 works with slow network conditions (3 ms)\n      \u00d7 handles memory constraints gracefully (1 ms)\n    Mobile and Touch Specific Tests\n      \u00d7 prevents accidental double-tap creation (1 ms)\n      \u00d7 handles touch gestures correctly (1 ms)\n      \u00d7 works with virtual keyboard open (5 ms)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a focuses message input after thread creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a positions cursor at start of input\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a clears any existing draft content\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a maintains focus after thread switch\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents duplicate threads on double-click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents rapid clicking during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a uses unique thread IDs for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a handles race conditions correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a allows retry after network failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a handles timeout errors gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a shows appropriate error messages\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a preserves user context after error\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles creation during high CPU load\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a works with slow network conditions\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles memory constraints gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a prevents accidental double-tap creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a handles touch gestures correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a works with virtual keyboard open\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\nFAIL Integration Tests __tests__/integration/critical/websocket-token-refresh-working.test.tsx\n  WebSocket Token Refresh Implementation (Working)\n    JWT Token Parsing\n      \u00d7 should correctly parse JWT token expiry (107 ms)\n      \u00d7 should detect expiring tokens and setup refresh timer (55 ms)\n    Token Refresh Flow\n      \u00d7 should queue messages during token refresh (55 ms)\n      \u00d7 should handle token refresh on authentication failure (36 ms)\n    Token Synchronization\n      \u00d7 should update WebSocket when auth context token changes (45 ms)\n    Message Handling During Refresh\n      \u00d7 should process pending messages after successful refresh (28 ms)\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should correctly parse JWT token expiry\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 158 |\u001b[39m       \n     \u001b[90m 159 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 160 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 161 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \u001b[90m// Verify WebSocket connection was attempted with the token\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:160:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should detect expiring tokens and setup refresh timer\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 184 |\u001b[39m       \n     \u001b[90m 185 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 186 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 187 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 188 |\u001b[39m\n     \u001b[90m 189 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:186:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should queue messages during token refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 227 |\u001b[39m       \n     \u001b[90m 228 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 229 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 230 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:229:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should handle token refresh on authentication failure\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \n     \u001b[90m 271 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\n     \u001b[90m 275 |\u001b[39m       \u001b[90m// Simulate connection opening first\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:272:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Synchronization \u203a should update WebSocket when auth context token changes\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 320 |\u001b[39m       \n     \u001b[90m 321 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 322 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 323 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       \u001b[90m// Update the token in auth context\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:322:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Message Handling During Refresh \u203a should process pending messages after successful refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m       \n     \u001b[90m 362 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m\n     \u001b[90m 366 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:363:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL Integration Tests __tests__/integration/critical/websocket-cors-validation.test.tsx\n  WebSocket CORS Validation (CRITICAL SECURITY)\n    Origin Header Validation\n      \u00d7 should include proper Origin header in WebSocket connection (4 ms)\n      \u00d7 should handle CORS validation failure gracefully (5 ms)\n      \u00d7 should not attempt connection from invalid origins (2 ms)\n    Allowed Origins Configuration\n      \u00d7 should connect successfully from allowed development origin (1 ms)\n      \u00d7 should connect successfully from allowed production origin (1 ms)\n      \u00d7 should handle subdomain restrictions properly (1 ms)\n    Cross-Origin Request Handling\n      \u00d7 should handle mixed content scenarios (HTTP to HTTPS) (4 ms)\n      \u00d7 should validate referrer policies (4 ms)\n      \u00d7 should handle iframe embedding restrictions (2 ms)\n    Security Headers and Validation\n      \u00d7 should respect Content Security Policy for WebSocket connections (1 ms)\n      \u00d7 should handle Sec-Fetch-Site header validation (3 ms)\n      \u00d7 should validate against XSS injection in WebSocket URLs\n    CORS Error Recovery and Fallback\n      \u00d7 should provide actionable CORS error messages (1 ms)\n      \u00d7 should not retry CORS-blocked connections indefinitely (3 ms)\n      \u00d7 should provide fallback options for CORS issues\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should include proper Origin header in WebSocket connection\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should handle CORS validation failure gracefully\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should not attempt connection from invalid origins\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed development origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed production origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should handle subdomain restrictions properly\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle mixed content scenarios (HTTP to HTTPS)\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should validate referrer policies\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle iframe embedding restrictions\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should respect Content Security Policy for WebSocket connections\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should handle Sec-Fetch-Site header validation\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should validate against XSS injection in WebSocket URLs\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide actionable CORS error messages\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should not retry CORS-blocked connections indefinitely\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide fallback options for CORS issues\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\nFAIL Integration Tests __tests__/integration/logout-flow-core.test.tsx\n  Logout Flow Core Tests\n    Logout Button Click\n      \u00d7 should trigger logout when button is clicked (1 ms)\n      \u00d7 should call auth store logout (5 ms)\n      \u00d7 should redirect to login page after logout (41 ms)\n    API Logout Call\n      \u00d7 should call auth service logout API (6 ms)\n      \u00d7 should complete logout within 500ms (5 ms)\n      \u00d7 should handle logout errors gracefully (2 ms)\n    Development Mode Logout\n      \u00d7 should set dev logout flag in development mode (1 ms)\n      \u00d7 should still perform standard logout in dev mode (4 ms)\n    Error Handling During Logout\n      \u00d7 should handle auth service errors during logout (1 ms)\n      \u00d7 should complete logout even with partial failures (2 ms)\n      \u00d7 should use replace instead of push for security (1 ms)\n    Logout Flow Security\n      \u00d7 should ensure no sensitive data remains after logout (3 ms)\n      \u00d7 should reset authentication status (4 ms)\n      \u00d7 should ensure clean state for next login (1 ms)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should trigger logout when button is clicked\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should call auth store logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should redirect to login page after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should call auth service logout API\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should complete logout within 500ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should handle logout errors gracefully\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should set dev logout flag in development mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should still perform standard logout in dev mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should handle auth service errors during logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should complete logout even with partial failures\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should use replace instead of push for security\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure no sensitive data remains after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure clean state for next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\nFAIL Integration Tests __tests__/integration/caching-integration.test.tsx\n  Redis Caching Integration\n    \u00d7 should cache frequently accessed data (6 ms)\n    \u00d7 should handle cache misses (2 ms)\n    \u221a should invalidate cache on data updates (48 ms)\n    \u221a should handle cache eviction policies (32 ms)\n  Cache Performance Integration\n    \u221a should measure cache performance metrics (25 ms)\n    \u221a should handle cache warming operations (31 ms)\n    \u221a should handle distributed cache synchronization (38 ms)\n\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 56 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 58 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'cached data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 59 |\u001b[39m     \n     \u001b[90m 60 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 61 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:58:43)\n\n  \u25cf Redis Caching Integration \u203a should handle cache misses\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'fresh data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     \n     \u001b[90m 104 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 105 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:102:43)\n\nFAIL Integration Tests __tests__/auth/auth-components-states.test.tsx\n  Auth Components States\n    Loading State\n      \u221a should render loading state when loading is true (168 ms)\n      \u221a should not be clickable when loading (27 ms)\n    Logged Out State\n      \u00d7 should render login button when user is not authenticated (38 ms)\n      \u221a should call login function when login button is clicked (27 ms)\n      \u221a should render correctly with null auth config (14 ms)\n    Logged In State - Production Mode\n      \u221a should display user name when authenticated (16 ms)\n      \u221a should display email when full_name is not available (12 ms)\n      \u221a should render logout button in production mode (14 ms)\n      \u221a should call logout function when logout button is clicked (12 ms)\n      \u221a should not show DEV MODE badge in production (18 ms)\n    Logged In State - Development Mode\n      \u00d7 should show DEV MODE badge in development mode (32 ms)\n      \u221a should render both logout and OAuth login buttons in dev mode (15 ms)\n      \u00d7 should style logout button as outline variant in dev mode (11 ms)\n      \u00d7 should style OAuth login button as default variant in dev mode (25 ms)\n      \u221a should call logout when dev logout button is clicked (20 ms)\n      \u221a should call login when OAuth login button is clicked in dev mode (14 ms)\n    State Transitions\n      \u221a should handle state change from loading to logged out (20 ms)\n      \u221a should handle state change from logged out to logged in (14 ms)\n      \u221a should handle development mode toggle (24 ms)\n\n  \u25cf Auth Components States \u203a Logged Out State \u203a should render login button when user is not authenticated\n\n    expect(element).toHaveAttribute(\"data-size\", \"lg\") // element.getAttribute(\"data-size\") === \"lg\"\n\n    Expected the element to have attribute:\n      data-size=\"lg\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m       \u001b[36mconst\u001b[39m button \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Login with Google'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'lg'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m\n     \u001b[90m 79 |\u001b[39m     it(\u001b[32m'should call login function when login button is clicked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:76:22)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should show DEV MODE badge in development mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"secondary\") // element.getAttribute(\"data-variant\") === \"secondary\"\n\n    Expected the element to have attribute:\n      data-variant=\"secondary\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 180 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-yellow-100'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text-yellow-800'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 182 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'secondary'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 183 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 184 |\u001b[39m\n     \u001b[90m 185 |\u001b[39m     it(\u001b[32m'should render both logout and OAuth login buttons in dev mode'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:182:21)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style logout button as outline variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"outline\") // element.getAttribute(\"data-variant\") === \"outline\"\n\n    Expected the element to have attribute:\n      data-variant=\"outline\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \u001b[36mconst\u001b[39m logoutButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Logout'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'outline'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 199 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:196:28)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style OAuth login button as default variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"default\") // element.getAttribute(\"data-variant\") === \"default\"\n\n    Expected the element to have attribute:\n      data-variant=\"default\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m\n     \u001b[90m 203 |\u001b[39m       \u001b[36mconst\u001b[39m oauthButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'OAuth Login'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'default'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 206 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:204:27)\n\nFAIL Integration Tests __tests__/integration/logout-websocket.test.tsx\n  Logout WebSocket Disconnection Tests\n    WebSocket Disconnection\n      \u00d7 should disconnect WebSocket on logout (22 ms)\n      \u00d7 should verify WebSocket is disconnected (2 ms)\n      \u00d7 should clear WebSocket message queue (1 ms)\n      \u00d7 should handle WebSocket disconnection errors (4 ms)\n    WebSocket State Cleanup\n      \u00d7 should ensure WebSocket connection is terminated (5 ms)\n      \u00d7 should prevent new WebSocket messages after logout (5 ms)\n      \u00d7 should clear any pending WebSocket operations (2 ms)\n      \u00d7 should ensure clean WebSocket state for next session\n    WebSocket Timing Requirements\n      \u00d7 should complete WebSocket disconnect within 25ms (6 ms)\n      \u00d7 should not block logout process if WebSocket fails (5 ms)\n      \u00d7 should handle WebSocket timeout gracefully (1 ms)\n      \u00d7 should complete logout even if WebSocket is slow (1 ms)\n    WebSocket Error Handling\n      \u00d7 should handle WebSocket disconnect errors gracefully (3 ms)\n      \u00d7 should handle WebSocket state check errors (2 ms)\n      \u00d7 should continue logout process despite WebSocket errors (2 ms)\n      \u00d7 should log WebSocket errors without blocking logout (4 ms)\n    WebSocket Security Cleanup\n      \u00d7 should ensure no WebSocket connections remain active (3 ms)\n      \u00d7 should prevent unauthorized WebSocket access after logout\n      \u00d7 should clear any WebSocket authentication tokens (4 ms)\n      \u00d7 should ensure complete WebSocket session termination (2 ms)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should disconnect WebSocket on logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should verify WebSocket is disconnected\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should clear WebSocket message queue\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should handle WebSocket disconnection errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure WebSocket connection is terminated\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should prevent new WebSocket messages after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should clear any pending WebSocket operations\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure clean WebSocket state for next session\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete WebSocket disconnect within 25ms\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should not block logout process if WebSocket fails\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should handle WebSocket timeout gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete logout even if WebSocket is slow\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket disconnect errors gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket state check errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should continue logout process despite WebSocket errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should log WebSocket errors without blocking logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure no WebSocket connections remain active\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should prevent unauthorized WebSocket access after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should clear any WebSocket authentication tokens\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure complete WebSocket session termination\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\nFAIL Integration Tests __tests__/integration/error-context-tracing.test.tsx\n  Error Context and Tracing\n    \u00d7 should capture and display error context (4 ms)\n    \u221a should track error propagation across services (73 ms)\n    \u221a should collect error metrics and analytics (36 ms)\n    \u221a should implement error correlation and grouping (30 ms)\n    \u221a should maintain error audit trails (19 ms)\n    \u221a should handle error fingerprinting for deduplication (30 ms)\n\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: (0 , _infrastructuretestutils.createMockErrorResponse) is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     setupFetchMock(createMockErrorResponse(\u001b[32m'Internal server error'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'trace-789'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m     \n     \u001b[90m 67 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 68 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/error-context-tracing.test.tsx:65:43)\n\nFAIL Integration Tests __tests__/auth/logout-state-cleanup-complete.test.tsx\n  Logout State Cleanup Complete Tests\n    Token Removal Verification\n      \u00d7 should remove JWT token from localStorage (5 ms)\n      \u00d7 should remove auth token from localStorage (5 ms)\n      \u00d7 should clear refresh token completely (5 ms)\n      \u00d7 should remove session tokens from sessionStorage (4 ms)\n    Memory State Cleanup\n      \u00d7 should clear user object from memory (3 ms)\n      \u00d7 should reset authentication status (1 ms)\n      \u00d7 should clear token from memory (4 ms)\n      \u00d7 should reset all auth store state (2 ms)\n    LocalStorage Complete Cleanup\n      \u00d7 should remove user preferences from storage (3 ms)\n      \u00d7 should clear cached user data (5 ms)\n      \u00d7 should remove remember me settings (2 ms)\n      \u00d7 should preserve non-auth localStorage items (5 ms)\n    Memory Leak Prevention\n      \u00d7 should clear all user-specific data from memory (1 ms)\n      \u00d7 should reset error states to prevent leaks (1 ms)\n      \u00d7 should reset loading states completely (4 ms)\n      \u00d7 should clear cached API responses (7 ms)\n    Performance and Timing\n      \u00d7 should complete cleanup within 100ms (3 ms)\n      \u00d7 should not block UI during cleanup (4 ms)\n      \u00d7 should handle rapid logout requests efficiently (2 ms)\n      \u00d7 should maintain consistent cleanup time under load\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should clear refresh token completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove session tokens from sessionStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear user object from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear token from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset all auth store state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove user preferences from storage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should clear cached user data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove remember me settings\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should preserve non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear all user-specific data from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset error states to prevent leaks\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset loading states completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear cached API responses\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should complete cleanup within 100ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should not block UI during cleanup\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should handle rapid logout requests efficiently\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should maintain consistent cleanup time under load\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\nFAIL Integration Tests __tests__/integration/websocket-performance.test.tsx\n  WebSocket Performance and Advanced Tests\n    Performance Monitoring\n      \u00d7 should measure real connection performance with timing (4 ms)\n      \u00d7 should track connection stability over time (1 ms)\n      \u00d7 should measure message throughput performance (3 ms)\n    Connection Pooling\n      \u00d7 should handle real concurrent connections with load testing (1 ms)\n      \u00d7 should test real connection pool management (3 ms)\n      \u00d7 should handle pool failover scenarios (1 ms)\n    Broadcasting\n      \u00d7 should test real multi-connection broadcasting (2 ms)\n      \u00d7 should handle selective broadcasting (3 ms)\n    Benchmarking\n      \u00d7 should benchmark real vs mock WebSocket test performance (1 ms)\n      \u00d7 should benchmark connection establishment times (1 ms)\n      \u00d7 should benchmark message processing latency (1 ms)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\nFAIL Integration Tests __tests__/integration/websocket-large-messages.test.tsx\n  WebSocket Large Message Handling Tests\n    Large Message Sending\n      \u00d7 should handle 1MB messages with real WebSocket behavior (4 ms)\n      \u00d7 should handle 512KB messages efficiently (1 ms)\n      \u00d7 should handle multiple large messages sequentially (3 ms)\n    Large Message Receiving\n      \u00d7 should handle large message receiving with real event processing (1 ms)\n      \u00d7 should handle concurrent large message reception (1 ms)\n    Buffer Management\n      \u00d7 should respect real buffer limits with backpressure (4 ms)\n      \u00d7 should handle large message buffering with memory limits (4 ms)\n      \u00d7 should handle buffer overflow with large messages (2 ms)\n    Message Chunking\n      \u00d7 should handle chunked message reconstruction\n      \u00d7 should handle large message chunking correctly (1 ms)\n    Performance and Memory\n      \u00d7 should measure large message processing performance\n      \u00d7 should handle memory pressure with multiple large messages (4 ms)\n      \u00d7 should track memory usage during large message processing (3 ms)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\nFAIL Integration Tests __tests__/integration/websocket-messaging.test.tsx\n  WebSocket Message Processing Tests\n    Message Sending\n      \u00d7 should handle real message sending with queue tracking (5 ms)\n      \u00d7 should queue messages when connection is not ready (2 ms)\n      \u00d7 should handle message serialization correctly (4 ms)\n    Message Receiving\n      \u00d7 should handle real message receiving with event simulation (1 ms)\n      \u00d7 should handle multiple incoming messages in sequence (1 ms)\n      \u00d7 should handle message parsing and validation (4 ms)\n    Message Queuing\n      \u00d7 should handle message queuing with real buffer behavior (2 ms)\n      \u00d7 should respect buffer size limits (2 ms)\n      \u00d7 should handle buffer overflow gracefully (1 ms)\n    Message Failure Handling\n      \u00d7 should handle failed messages with real error conditions (2 ms)\n      \u00d7 should track failed message attempts (3 ms)\n    Message Performance\n      \u00d7 should measure real message round-trip latency (5 ms)\n      \u00d7 should handle concurrent message processing (1 ms)\n      \u00d7 should handle message throughput testing (2 ms)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\nFAIL Integration Tests __tests__/auth/auth-security.test.ts\n  Auth Security & Error Handling\n    Security Tests\n      \u221a should not expose sensitive data in headers (14 ms)\n      \u00d7 should sanitize email input in dev login (9 ms)\n      \u00d7 should clear sensitive data on logout (6 ms)\n      \u00d7 should handle token with potential XSS content (15 ms)\n      \u00d7 should handle SQL injection attempts in token (5 ms)\n      \u221a should not leak sensitive data in error messages (8 ms)\n    API Error Handling\n      \u00d7 should fallback to offline config on 401 unauthorized response (28 ms)\n      \u00d7 should fallback to offline config on 403 forbidden response (8 ms)\n      \u00d7 should fallback to offline config on 404 not found response (4 ms)\n      \u00d7 should fallback to offline config on 500 server error (8 ms)\n      \u00d7 should fallback to offline config on timeout errors (9 ms)\n      \u00d7 should fallback to offline config on rate limiting (429) (7 ms)\n    Edge Cases\n      \u00d7 should handle concurrent login/logout operations (5 ms)\n      \u221a should handle malformed config objects (4 ms)\n      \u221a should handle undefined config (4 ms)\n      \u00d7 should handle network instability with retry and fallback (9 ms)\n      \u00d7 should handle empty response bodies (8 ms)\n      \u00d7 should fallback to offline config on response with wrong content type (8 ms)\n      \u221a should handle browser storage limitations (14 ms)\n      \u00d7 should handle localStorage unavailable (5 ms)\n    Performance & Reliability\n      \u00d7 should handle rapid successive calls (14 ms)\n      \u00d7 should handle memory pressure scenarios (32 ms)\n      \u221a should handle cleanup on page unload (5 ms)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should sanitize email input in dev login\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"http://localhost:8081/auth/dev/login\", ObjectContaining {\"body\": \"{\\\"email\\\":\\\"dev@example.com\\\"}\", \"headers\": {\"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mhandleDevLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mfetchMock)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m         mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mdev_login\u001b[33m,\u001b[39m\n     \u001b[90m 76 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 77 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-security.test.ts:74:33)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should clear sensitive data on logout\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m validateSecureLogout(localStorageMock\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 184 |\u001b[39m   expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 185 |\u001b[39m }\n     \u001b[90m 186 |\u001b[39m\n     \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-test-utils.ts:184:39)\n      at Object.<anonymous> (__tests__/auth/auth-security.test.ts:90:27)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle token with potential XSS content\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer <script>alert(\\\"xss\\\")</script>\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${xssToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m       expect(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(headers))\u001b[33m.\u001b[39mtoEqual([\u001b[32m'Authorization'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       \n     \u001b[90m 104 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:101:37)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle SQL injection attempts in token\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer '; DROP TABLE users; --\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${sqlToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \n     \u001b[90m 118 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 119 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:116:37)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 401 unauthorized response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 143 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 144 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 145 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 146 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:143:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 403 forbidden response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 163 |\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 165 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 166 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 167 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 168 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:165:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 404 not found response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 185 |\u001b[39m\n     \u001b[90m 186 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 187 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 188 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 189 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 190 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:187:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 500 server error\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m\n     \u001b[90m 208 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 211 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 212 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:209:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on timeout errors\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 229 |\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 231 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 232 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 233 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 234 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:231:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on rate limiting (429)\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 255 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 256 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:253:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle concurrent login/logout operations\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocationUtils\u001b[33m.\u001b[39mgetMockHref())\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m     it(\u001b[32m'should handle malformed config objects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-security.test.ts:283:51)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle network instability with retry and fallback\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[90m// Auth service retries then falls back to offline config\u001b[39m\n     \u001b[90m 310 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 313 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 314 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:311:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle empty response bodies\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 331 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 332 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 333 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 334 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:331:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should fallback to offline config on response with wrong content type\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 351 |\u001b[39m\n     \u001b[90m 352 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 353 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 354 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 355 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 356 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:353:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle localStorage unavailable\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage is not available\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 383 |\u001b[39m\n     \u001b[90m 384 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 385 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage is not available'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 386 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 387 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 388 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-security.test.ts:385:10)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle rapid successive calls\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 398 |\u001b[39m       \n     \u001b[90m 399 |\u001b[39m       results\u001b[33m.\u001b[39mforEach(result \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 400 |\u001b[39m         expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 401 |\u001b[39m           \u001b[33m...\u001b[39mmockAuthConfig\u001b[33m,\u001b[39m\n     \u001b[90m 402 |\u001b[39m           google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 403 |\u001b[39m           authorized_redirect_uris\u001b[33m:\u001b[39m [\u001b[32m'http://localhost:3000/auth/callback'\u001b[39m]\u001b[0m\n\n      at toEqual (__tests__/auth/auth-security.test.ts:400:24)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/auth/auth-security.test.ts:399:15)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle memory pressure scenarios\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 417 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${largeToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m       \n     \u001b[90m 420 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 421 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:418:37)\n\nFAIL Integration Tests __tests__/services/demoService.test.ts\n  DemoService\n    Authentication Handling\n      \u00d7 should include auth header when token exists (19 ms)\n      \u00d7 should handle requests without auth token (9 ms)\n      \u00d7 should redirect to login on 401 response (97 ms)\n      \u00d7 should not redirect on other error codes (23 ms)\n    Chat Message Handling\n      \u221a should send chat message successfully (5 ms)\n      \u221a should handle chat message with minimal data (5 ms)\n      \u221a should handle chat message network errors (41 ms)\n    ROI Calculation - Business Critical\n      \u221a should calculate ROI accurately for enterprise prospects (4 ms)\n      \u221a should validate ROI calculation input bounds (2 ms)\n      \u00d7 should handle ROI calculation server errors gracefully (37 ms)\n      \u00d7 should handle malformed ROI input data (64 ms)\n    Industry Templates\n      \u221a should fetch industry templates successfully (6 ms)\n      \u221a should handle special characters in industry names (5 ms)\n      \u221a should handle empty industry templates response (3 ms)\n    Synthetic Metrics Generation\n      \u221a should generate synthetic metrics with default parameters (7 ms)\n      \u221a should generate synthetic metrics with custom parameters (7 ms)\n      \u221a should validate performance improvement metrics (3 ms)\n    Report Export - Enterprise Feature\n      \u221a should export report successfully (4 ms)\n      \u221a should handle different export formats (3 ms)\n      \u00d7 should handle export failures gracefully (24 ms)\n    Session Management\n      \u221a should get session status successfully (5 ms)\n      \u221a should submit feedback successfully (3 ms)\n      \u00d7 should handle session status for non-existent session (18 ms)\n    Analytics Summary\n      \u221a should get analytics summary with default period (3 ms)\n      \u221a should get analytics summary with custom period (1 ms)\n      \u221a should validate analytics data format (6 ms)\n    Error Handling and Edge Cases\n      \u221a should handle network timeouts gracefully (44 ms)\n      \u221a should handle malformed JSON responses (4 ms)\n      \u221a should handle concurrent requests correctly (4 ms)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should include auth header when token exists\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectContaining {\"Authorization\": \"Bearer valid-token\"}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 132 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 133 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:130:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should handle requests without auth token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectNotContaining {\"Authorization\": Any<String>}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 146 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 148 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 149 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 150 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 151 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:148:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should redirect to login on 401 response\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Unauthorized\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:164:66)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should not redirect on other error codes\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to send demo chat message: Server Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:175:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:175:66)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle ROI calculation server errors gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Calculation Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:270:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:270:63)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle malformed ROI input data\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Bad Request\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:282:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:282:70)\n\n  \u25cf DemoService \u203a Report Export - Enterprise Feature \u203a should handle export failures gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to export report: Service Unavailable\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.exportReport (services/demoService.ts:166:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:424:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:424:69)\n\n  \u25cf DemoService \u203a Session Management \u203a should handle session status for non-existent session\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to get session status: Session Not Found\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.getSessionStatus (services/demoService.ts:179:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:466:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:466:77)\n\nFAIL Integration Tests __tests__/integration/api-calls-basic.test.tsx\n  API Calls - GET Requests\n    \u221a fetches thread list successfully (55 ms)\n    \u221a fetches single thread with auth token (19 ms)\n    \u221a handles GET request without auth token (9 ms)\n    \u221a constructs correct API URL for GET requests (1 ms)\n  API Calls - POST Requests\n    \u221a creates new thread with POST request (13 ms)\n    \u221a creates message with POST and validates payload (12 ms)\n    \u00d7 includes correct headers in POST requests (24 ms)\n    \u221a serializes request body correctly (56 ms)\n  API Calls - PUT Requests\n    \u221a updates thread with PUT request (19 ms)\n    \u00d7 handles PUT request with complex data (23 ms)\n  API Calls - DELETE Requests\n    \u221a deletes thread with DELETE request (20 ms)\n    \u00d7 includes auth header in DELETE requests (28 ms)\n\n  \u25cf API Calls - POST Requests \u203a includes correct headers in POST requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 204 |\u001b[39m     \u001b[36mawait\u001b[39m apiClient\u001b[33m.\u001b[39mpost(\u001b[32m'create_thread'\u001b[39m\u001b[33m,\u001b[39m { title\u001b[33m:\u001b[39m \u001b[32m'Test'\u001b[39m }\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 205 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 206 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 207 |\u001b[39m     expect(capturedHeaders[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'application/json'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:206:46)\n\n  \u25cf API Calls - PUT Requests \u203a handles PUT request with complex data\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: {\"metadata\": {\"priority\": 1, \"settings\": {\"auto_save\": true}, \"tags\": [\"test\", \"integration\"]}, \"title\": \"Complex Update\"}\n    Received: null\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m     expect(capturedBody)\u001b[33m.\u001b[39mtoEqual(complexData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/integration/api-calls-basic.test.tsx:283:26)\n\n  \u25cf API Calls - DELETE Requests \u203a includes auth header in DELETE requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer delete-token\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 315 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 316 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 317 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer delete-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 318 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:317:46)\n\nFAIL Integration Tests __tests__/integration/websocket-complete-refactored.test.tsx\n  WebSocket Complete Integration Tests - Refactored Modular\n    Refactored Architecture Validation\n      \u00d7 should maintain function size limit (\u22648 lines) (5 ms)\n      \u00d7 should maintain real behavior simulation (5 ms)\n      \u00d7 should preserve comprehensive utilities (1 ms)\n    Enhanced Testing Capabilities\n      \u00d7 should handle refactored connection lifecycle\n      \u00d7 should handle refactored message processing (2 ms)\n      \u00d7 should handle refactored error scenarios (1 ms)\n      \u00d7 should handle refactored performance monitoring (1 ms)\n    Protocol and Security Features\n      \u00d7 should validate message security (2 ms)\n      \u00d7 should handle protocol negotiation (1 ms)\n      \u00d7 should manage connection security (3 ms)\n    Resource Management\n      \u00d7 should handle cleanup efficiently (1 ms)\n      \u00d7 should manage memory resources\n      \u00d7 should handle multiple cleanup calls safely (1 ms)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain function size limit (\u22648 lines)\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain function size limit (\u22648 lines)\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain real behavior simulation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain real behavior simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should preserve comprehensive utilities\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should preserve comprehensive utilities\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored connection lifecycle\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored connection lifecycle\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored message processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored error scenarios\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored error scenarios\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored performance monitoring\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored performance monitoring\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should validate message security\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should validate message security\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should handle protocol negotiation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should handle protocol negotiation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should manage connection security\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should manage connection security\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle cleanup efficiently\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle cleanup efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should manage memory resources\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should manage memory resources\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle multiple cleanup calls safely\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle multiple cleanup calls safely\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\nFAIL Integration Tests __tests__/integration/message-streaming-core.test.tsx\n  Message Streaming Core Tests\n    Streaming Controls\n      \u00d7 should start and stop streaming (5 ms)\n      \u00d7 should add message chunks (1 ms)\n    Performance Metrics\n      \u00d7 should track messages per second (1 ms)\n      \u00d7 should achieve 60 FPS target (1 ms)\n      \u00d7 should track dropped frames (1 ms)\n      \u00d7 should monitor performance (1 ms)\n    Stream Buffer Management\n      \u00d7 should enqueue and dequeue messages (3 ms)\n      \u00d7 should respect buffer limits (3 ms)\n      \u00d7 should detect backpressure conditions (1 ms)\n    Frame Rate Control\n      \u00d7 should maintain 60 FPS target (3 ms)\n      \u00d7 should throttle frame rendering (2 ms)\n      \u00d7 should adapt to different frame rates (3 ms)\n    Message Types\n      \u00d7 should handle text message types (1 ms)\n      \u00d7 should handle binary message simulation (1 ms)\n      \u00d7 should handle large message chunking (1 ms)\n    Latency Monitoring\n      \u00d7 should measure message latency (1 ms)\n      \u00d7 should track latency trends (1 ms)\n    Resource Cleanup\n      \u00d7 should clean up streaming resources (4 ms)\n      \u00d7 should handle abrupt disconnections (1 ms)\n\n  \u25cf Message Streaming Core Tests \u203a Streaming Controls \u203a should start and stop streaming\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Streaming Controls \u203a should add message chunks\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should track messages per second\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should achieve 60 FPS target\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should track dropped frames\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should monitor performance\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Stream Buffer Management \u203a should enqueue and dequeue messages\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Stream Buffer Management \u203a should respect buffer limits\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Stream Buffer Management \u203a should detect backpressure conditions\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Frame Rate Control \u203a should maintain 60 FPS target\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Frame Rate Control \u203a should throttle frame rendering\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Frame Rate Control \u203a should adapt to different frame rates\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Message Types \u203a should handle text message types\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Message Types \u203a should handle binary message simulation\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Message Types \u203a should handle large message chunking\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Latency Monitoring \u203a should measure message latency\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Latency Monitoring \u203a should track latency trends\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Resource Cleanup \u203a should clean up streaming resources\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Resource Cleanup \u203a should handle abrupt disconnections\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\nFAIL Integration Tests __tests__/integration/websocket-lifecycle.test.tsx\n  WebSocket Connection Lifecycle Tests\n    Connection Establishment\n      \u00d7 should handle complete connection lifecycle with real timing (6 ms)\n      \u00d7 should track real connection state transitions with history (1 ms)\n      \u00d7 should measure real connection performance (6 ms)\n    Error Handling\n      \u00d7 should handle real connection errors with proper state transitions (3 ms)\n      \u00d7 should handle network disconnections gracefully (3 ms)\n    Reconnection Scenarios\n      \u00d7 should handle real reconnection with timing simulation (4 ms)\n      \u00d7 should test real WebSocket reconnection strategies\n      \u00d7 should handle multiple reconnection attempts (4 ms)\n    Performance Measurement\n      \u00d7 should measure real connection performance with timing (3 ms)\n      \u00d7 should track connection stability metrics (1 ms)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\nFAIL Integration Tests __tests__/integration/websocket-stress.test.tsx\n  WebSocket Stress Testing\n    Connection Stress\n      \u00d7 should handle rapid connect/disconnect cycles (4 ms)\n      \u00d7 should handle multiple simultaneous connection attempts (4 ms)\n    Memory Management\n      \u00d7 should handle memory cleanup during stress testing (6 ms)\n      \u00d7 should handle repeated message sending without memory leaks (1 ms)\n    Load Testing\n      \u00d7 should handle high message volume (5 ms)\n      \u00d7 should handle concurrent message bursts (1 ms)\n    Error Recovery Stress\n      \u00d7 should handle repeated error/recovery cycles (4 ms)\n      \u00d7 should maintain message queue integrity during stress (1 ms)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\nFAIL Integration Tests __tests__/integration/thread-creation.test.tsx\n  Thread Creation Core Integration\n    API Call to Create Thread\n      \u00d7 successfully creates thread with valid API response (6 ms)\n      \u00d7 handles API failure gracefully (1 ms)\n      \u00d7 creates thread with < 300ms response time requirement (1 ms)\n      \u00d7 includes authentication token in API request (1 ms)\n      \u00d7 generates unique thread ID for each creation (6 ms)\n    Optimistic UI Updates\n      \u00d7 shows thread immediately in sidebar\n      \u00d7 shows creating state during API call (1 ms)\n      \u00d7 reverts optimistic update on API failure (4 ms)\n    Sidebar and Navigation Updates\n      \u00d7 adds new thread to sidebar list immediately (1 ms)\n      \u00d7 highlights new thread as active (5 ms)\n      \u00d7 navigates to new thread URL immediately (1 ms)\n    Error Handling and Analytics\n      \u00d7 shows error message on API failure\n      \u00d7 fires thread_creation_started event on click (2 ms)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a successfully creates thread with valid API response\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a handles API failure gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a creates thread with < 300ms response time requirement\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a includes authentication token in API request\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a generates unique thread ID for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows thread immediately in sidebar\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows creating state during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a reverts optimistic update on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a adds new thread to sidebar list immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a highlights new thread as active\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a navigates to new thread URL immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a shows error message on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a fires thread_creation_started event on click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\nFAIL Integration Tests __tests__/services/threadService.test.ts\n  ThreadService Revenue-Critical Tests\n    Thread Listing - User Activation Critical\n      \u221a lists threads with default pagination (14 ms)\n      \u221a lists threads with custom pagination (4 ms)\n      \u221a handles empty thread list for new users (1 ms)\n      \u221a handles pagination with zero limit edge case (3 ms)\n      \u221a throws on list API failures (54 ms)\n    Thread Retrieval - Returning User Flow\n      \u221a retrieves specific thread successfully (4 ms)\n      \u221a handles thread not found gracefully (4 ms)\n      \u221a handles malformed thread ID (3 ms)\n    Thread Creation - Activation Moment\n      \u00d7 creates thread with title only (13 ms)\n      \u00d7 creates thread with title and metadata (9 ms)\n      \u00d7 creates thread without title (7 ms)\n      \u221a handles creation failures (4 ms)\n    Thread Updates - User Engagement\n      \u00d7 updates thread title (3 ms)\n      \u00d7 updates thread with metadata only (10 ms)\n      \u00d7 updates thread with both title and metadata (6 ms)\n      \u221a handles update failures (4 ms)\n    Thread Deletion - Data Integrity\n      \u221a deletes thread successfully (4 ms)\n      \u221a handles deletion of non-existent thread (2 ms)\n      \u221a handles deletion permissions error (2 ms)\n    Thread Messages - Content Loading Critical\n      \u00d7 retrieves messages with default pagination (2 ms)\n      \u00d7 retrieves messages with custom pagination (3 ms)\n      \u00d7 handles empty message history (5 ms)\n      \u221a handles messages API failures (3 ms)\n    Concurrent Operations - System Resilience\n      \u221a handles multiple thread operations simultaneously (1 ms)\n      \u221a isolates failures in concurrent operations (3 ms)\n      \u221a handles network timeout during concurrent operations (4 ms)\n    Edge Cases and Error Resilience\n      \u221a handles malformed API responses (12 ms)\n      \u221a handles invalid thread ID formats (5 ms)\n      \u221a handles extremely large pagination values (5 ms)\n      \u221a handles rate limiting on operations (7 ms)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"New Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:121:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {},\n          \"participants\": Array [\n            \"user1\",\n          ],\n    @@ -12,7 +11,6 @@\n            \"test\",\n          ],\n          \"title\": \"Test Thread\",\n        },\n        \"title\": \"Priority Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:131:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread without title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:144:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"Updated Title\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:162:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with metadata only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"bookmarked\": true,\n        },\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:176:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with both title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {\n            \"urgency\": \"high\",\n          },\n          \"participants\": Array [\n    @@ -16,7 +15,6 @@\n            \"important\",\n          ],\n          \"title\": \"Urgent Thread\",\n        },\n        \"title\": \"Urgent Task\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:189:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with default pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"limit\": 50}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 50, \"offset\": 0}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:232:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with custom pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"cursor\": 20, \"limit\": 10}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 10, \"offset\": 20}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:242:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a handles empty message history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 0\n    Received: undefined\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 255 |\u001b[39m\n     \u001b[90m 256 |\u001b[39m     test(\u001b[32m'handles messages API failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/services/threadService.test.ts:253:28)\n\nFAIL Integration Tests __tests__/integration/corpus-management.test.tsx\n  Corpus Management Integration\n    \u00d7 should upload documents to corpus and update UI (3 ms)\n    \u00d7 should search corpus with embeddings (3 ms)\n\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m   wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m   wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/corpus-management.test.tsx:49:36)\n\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 52 |\u001b[39m\n     \u001b[90m 53 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 54 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 55 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/corpus-management.test.tsx:54:13)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m   wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m   wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/corpus-management.test.tsx:49:36)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 52 |\u001b[39m\n     \u001b[90m 53 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 54 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 55 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/corpus-management.test.tsx:54:13)\n\nFAIL Integration Tests __tests__/auth/auth-token.test.ts\n  Auth Token Management\n    getToken\n      \u221a should retrieve token from localStorage (5 ms)\n      \u00d7 should return null when no token exists (4 ms)\n      \u00d7 should return empty string as null (6 ms)\n      \u00d7 should handle localStorage errors gracefully (4 ms)\n    getAuthHeaders\n      \u221a should return auth headers with token (5 ms)\n      \u00d7 should return empty object when no token (24 ms)\n      \u00d7 should return empty object for empty token (6 ms)\n      \u00d7 should handle long tokens (9 ms)\n      \u00d7 should handle special characters in token (9 ms)\n    removeToken\n      \u00d7 should remove token from localStorage (1 ms)\n      \u00d7 should handle removing non-existent token (5 ms)\n      \u00d7 should handle localStorage errors on removal (4 ms)\n    Token Operations Integration\n      \u00d7 should handle rapid token operations (5 ms)\n      \u00d7 should handle token lifecycle (4 ms)\n      \u221a should handle concurrent token access (5 ms)\n    useAuth Hook\n      \u00d7 should return auth context when used within provider (11 ms)\n      \u00d7 should throw error when used outside provider (3 ms)\n      \u00d7 should handle null context (2 ms)\n      \u221a should return context with all required properties (6 ms)\n      \u221a should handle context with user data (4 ms)\n      \u00d7 should handle loading state (6 ms)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should return null when no token exists\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m       \u001b[90m// Accept the current behavior - if localStorage is mocked to return null, that's what we should get\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m\n     \u001b[90m 70 |\u001b[39m     it(\u001b[32m'should return empty string as null'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeNull (__tests__/auth/auth-token.test.ts:67:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should return empty string as null\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"\"\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \n     \u001b[90m 73 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m\n     \u001b[90m 77 |\u001b[39m     it(\u001b[32m'should handle localStorage errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:74:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should handle localStorage errors gracefully\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 80 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 82 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 83 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:82:44)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object when no token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:102:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object for empty token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:111:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle long tokens\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:121:24)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle special characters in token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer token.with-special_chars123!@#\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:131:24)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should remove token from localStorage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m     it(\u001b[32m'should handle removing non-existent token'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:139:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle removing non-existent token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m     it(\u001b[32m'should handle localStorage errors on removal'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:147:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle localStorage errors on removal\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 153 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 155 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mremoveToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 156 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:155:47)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle rapid token operations\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 3\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 171 |\u001b[39m\n     \u001b[90m 172 |\u001b[39m   \u001b[36mconst\u001b[39m verifyRapidTokenResults \u001b[33m=\u001b[39m (token1\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m token2\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 173 |\u001b[39m     expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 174 |\u001b[39m     expect(token1)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 175 |\u001b[39m     expect(token2)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 176 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token.test.ts:173:49)\n      at Object.verifyRapidTokenResults (__tests__/auth/auth-token.test.ts:240:7)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle token lifecycle\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 178 |\u001b[39m   \u001b[36mconst\u001b[39m verifyInitialNoTokenState \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 179 |\u001b[39m     testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mgetItem\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 180 |\u001b[39m     expect(authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 181 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m   \u001b[36mconst\u001b[39m setTokenAndVerify \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toBeNull (__tests__/auth/auth-token.test.ts:180:36)\n      at Object.verifyInitialNoTokenState (__tests__/auth/auth-token.test.ts:244:7)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should return auth context when used within provider\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"$$typeof\": Symbol(react.context), \"Consumer\": {\"$$typeof\": Symbol(react.consumer), \"_context\": [Circular]}, \"Provider\": [Circular], \"_currentRenderer\": null, \"_currentRenderer2\": null, \"_currentValue\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_currentValue2\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_threadCount\": 0}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 271 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       expect(mockUseContext)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mAuthContext\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:272:30)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should throw error when used outside provider\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should handle null context'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:280:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle null context\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 287 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 288 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 289 |\u001b[39m\n     \u001b[90m 290 |\u001b[39m     it(\u001b[32m'should return context with all required properties'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:287:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle loading state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result\u001b[33m.\u001b[39mloading)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:311:30)\n\nPASS Integration Tests __tests__/integration/websocket-resilience.test.tsx\n  WebSocket Resilience Tests\n    Connection Status Management\n      \u221a should display connection status correctly (164 ms)\n      \u221a should handle connection errors (107 ms)\n      \u221a should track reconnection attempts (128 ms)\n    Message Queue Management\n      \u221a should queue messages when disconnected (116 ms)\n      \u221a should clear message queue (146 ms)\n    WebSocket Service Integration\n      \u221a should handle WebSocket service errors gracefully (12 ms)\n      \u221a should clean up resources properly (10 ms)\n    Resilience Patterns\n      \u221a should recover from error state to connected state (86 ms)\n      \u221a should handle rapid state changes (212 ms)\n\nPASS Integration Tests __tests__/integration/navigation-complete.test.tsx\n  Complete Navigation Integration Tests\n    Basic Navigation Between Routes\n      \u221a should navigate to all main routes (234 ms)\n      \u221a should handle navigation component interactions (207 ms)\n      \u221a should maintain navigation call history (8 ms)\n      \u221a should handle rapid navigation clicks (100 ms)\n    Browser Navigation Controls\n      \u221a should trigger browser back navigation (1 ms)\n      \u221a should trigger browser forward navigation (2 ms)\n      \u221a should handle page refresh (2 ms)\n      \u221a should simulate popstate events (3 ms)\n    Concurrent Navigation Requests\n      \u221a should handle multiple navigation calls (58 ms)\n      \u221a should handle navigation with debouncing simulation (2 ms)\n      \u221a should queue navigation requests (57 ms)\n      \u221a should handle navigation interruption (106 ms)\n    Navigation Cleanup and Memory Management\n      \u221a should handle component unmounting (15 ms)\n      \u221a should prevent memory leaks during navigation (511 ms)\n      \u221a should handle navigation with state cleanup (1 ms)\n      \u221a should handle unsaved changes confirmation (2 ms)\n    URL State Synchronization\n      \u221a should synchronize navigation with URL state (1 ms)\n      \u221a should handle query parameters in navigation (3 ms)\n      \u221a should preserve hash navigation (1 ms)\n      \u221a should handle URL encoding correctly (3 ms)\n    Error Handling and Edge Cases\n      \u221a should handle invalid routes gracefully (1 ms)\n      \u221a should handle network errors during navigation (2 ms)\n      \u221a should prevent infinite redirect loops (2 ms)\n      \u221a should handle malformed URL parameters (2 ms)\n    Performance and Optimization\n      \u221a should preload routes for better performance (1 ms)\n      \u221a should implement navigation caching (2 ms)\n      \u221a should optimize navigation for large datasets (89 ms)\n      \u221a should handle virtual navigation for performance (2 ms)\n\nPASS Integration Tests __tests__/integration/task-retry-mechanisms.test.tsx\n  Task Failure and Retry Mechanisms\n    \u221a should handle task failures and retries (262 ms)\n    \u221a should implement exponential backoff for retries (253 ms)\n    \u221a should handle dead letter queue for failed tasks (29 ms)\n    \u221a should reprocess tasks from dead letter queue (20 ms)\n    \u221a should handle retry with jitter to prevent thundering herd (230 ms)\n    \u221a should track failure patterns and adjust retry strategy (28 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/search-ui-interactions.test.tsx\n  Search and UI Interactions Integration\n    Advanced Search\n      \u221a should implement fuzzy search with highlighting (295 ms)\n      \u221a should implement search with filters and facets (65 ms)\n    Drag and Drop\n      \u221a should handle file drag and drop with preview (37 ms)\n      \u221a should reorder items with drag and drop (21 ms)\n    Infinite Scroll\n      \u221a should load more content on scroll (148 ms)\n      \u221a should implement virtual scrolling for large lists (19 ms)\n    Complex Animations\n      \u221a should chain animations with proper timing (253 ms)\n      \u221a should handle gesture-based animations (41 ms)\n\nPASS Integration Tests __tests__/integration/message-reception.test.tsx\n  Message Reception Integration Tests\n    WebSocket Message Parsing\n      \u221a should parse structured WebSocket messages correctly (39 ms)\n      \u221a should handle malformed WebSocket messages gracefully (27 ms)\n    First Token Display Performance\n      \u221a should display first token within 1 second (41 ms)\n      \u221a should measure and record token display metrics (89 ms)\n    Streaming Text Accumulation\n      \u221a should accumulate text progressively without jumps (77 ms)\n      \u221a should handle very long messages without performance degradation (1100 ms)\n    Markdown Real-time Rendering\n      \u221a should render markdown during streaming (486 ms)\n    Auto-scroll Behavior\n      \u221a should auto-scroll during message streaming (67 ms)\n    Stream Completion Detection\n      \u221a should detect when streaming is complete (66 ms)\n      \u221a should enable message actions after completion (142 ms)\n    Network Disconnection Recovery\n      \u221a should handle WebSocket disconnection during streaming (141 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration.test.tsx\n  Advanced Frontend Integration Tests - Collaboration\n    18. Collaborative Features Integration\n      \u221a should sync cursor positions in real-time (51 ms)\n      \u221a should handle presence and activity status (48 ms)\n    26. Real-time Collaboration Sync\n      \u221a should handle conflict resolution in collaborative editing (21 ms)\n      \u221a should maintain operation history for undo/redo (59 ms)\n  Advanced Frontend Integration Tests - Offline Mode\n    19. Offline Mode Integration\n      \u221a should queue actions when offline and sync when online (74 ms)\n      \u221a should use local storage for offline persistence (33 ms)\n  Advanced Frontend Integration Tests - Navigation\n    20. Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (40 ms)\n      \u221a should handle protected route redirects (28 ms)\n  Advanced Frontend Integration Tests - Search and Drag-Drop\n    21. Advanced Search Integration\n      \u221a should implement fuzzy search with highlighting (281 ms)\n      \u221a should implement search with filters and facets (49 ms)\n    22. Drag and Drop Integration\n      \u221a should handle file drag and drop with preview (28 ms)\n      \u221a should reorder items with drag and drop (30 ms)\n  Advanced Frontend Integration Tests - Infinite Scroll and Animations\n    23. Infinite Scroll Integration\n      \u221a should load more content on scroll (151 ms)\n      \u221a should implement virtual scrolling for large lists (41 ms)\n    24. Complex Animation Sequences\n      \u221a should chain animations with proper timing (238 ms)\n      \u221a should handle gesture-based animations (33 ms)\n    25. Memory Management Integration\n      \u221a should cleanup resources on unmount (12 ms)\n      \u221a should manage large data sets efficiently (43 ms)\n  Advanced Frontend Integration Tests - Error, i18n, WebSocket\n    27. Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (77 ms)\n      \u221a should report errors to monitoring service (52 ms)\n    28. Multi-language Support Integration\n      \u221a should switch languages dynamically (32 ms)\n      \u221a should handle RTL languages correctly (39 ms)\n    29. WebSocket Resilience Integration\n      \u221a should handle WebSocket message buffering during reconnection (155 ms)\n      \u221a should implement exponential backoff for reconnection (27 ms)\n  Advanced Frontend Integration Tests - End-to-End Journey\n    30. End-to-End User Journey\n      \u221a should complete full optimization workflow (303 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/index.test.tsx\n  Advanced Frontend Integration Tests - Collaboration\n    18. Collaborative Features Integration\n      \u221a should sync cursor positions in real-time (60 ms)\n      \u221a should handle presence and activity status (50 ms)\n    26. Real-time Collaboration Sync\n      \u221a should handle conflict resolution in collaborative editing (20 ms)\n      \u221a should maintain operation history for undo/redo (53 ms)\n  Advanced Frontend Integration Tests - Offline Mode\n    19. Offline Mode Integration\n      \u221a should queue actions when offline and sync when online (64 ms)\n      \u221a should use local storage for offline persistence (47 ms)\n  Advanced Frontend Integration Tests - Navigation\n    20. Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (36 ms)\n      \u221a should handle protected route redirects (28 ms)\n  Advanced Frontend Integration Tests - Search and Drag-Drop\n    21. Advanced Search Integration\n      \u221a should implement fuzzy search with highlighting (279 ms)\n      \u221a should implement search with filters and facets (54 ms)\n    22. Drag and Drop Integration\n      \u221a should handle file drag and drop with preview (99 ms)\n      \u221a should reorder items with drag and drop (30 ms)\n  Advanced Frontend Integration Tests - Infinite Scroll and Animations\n    23. Infinite Scroll Integration\n      \u221a should load more content on scroll (165 ms)\n      \u221a should implement virtual scrolling for large lists (27 ms)\n    24. Complex Animation Sequences\n      \u221a should chain animations with proper timing (247 ms)\n      \u221a should handle gesture-based animations (27 ms)\n    25. Memory Management Integration\n      \u221a should cleanup resources on unmount (10 ms)\n      \u221a should manage large data sets efficiently (94 ms)\n  Advanced Frontend Integration Tests - Error, i18n, WebSocket\n    27. Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (68 ms)\n      \u221a should report errors to monitoring service (72 ms)\n    28. Multi-language Support Integration\n      \u221a should switch languages dynamically (28 ms)\n      \u221a should handle RTL languages correctly (39 ms)\n    29. WebSocket Resilience Integration\n      \u221a should handle WebSocket message buffering during reconnection (161 ms)\n      \u221a should implement exponential backoff for reconnection (20 ms)\n  Advanced Frontend Integration Tests - End-to-End Journey\n    30. End-to-End User Journey\n      \u221a should complete full optimization workflow (295 ms)\n\nPASS Integration Tests __tests__/integration/session-management.test.tsx\n  Session Management Integration\n    Session Persistence\n      \u221a should persist session across page reloads (33 ms)\n      \u221a should restore user state from localStorage (21 ms)\n      \u221a should handle corrupted session data gracefully (27 ms)\n    Token Refresh\n      \u221a should refresh tokens before expiration (53 ms)\n      \u221a should handle refresh failures (34 ms)\n      \u221a should queue operations during refresh (79 ms)\n    Multi-Tab Synchronization\n      \u25cb skipped should sync login across tabs\n      \u25cb skipped should sync logout across tabs\n      \u25cb skipped should handle conflicting session states\n    Session Timeout\n      \u221a should detect session timeout (179 ms)\n      \u221a should provide timeout warnings (93 ms)\n      \u221a should handle session extension (88 ms)\n\nPASS Integration Tests __tests__/integration/store-sync.test.tsx\n  Store Synchronization Integration Tests\n    Cross-Component Store Synchronization\n      \u221a synchronizes store updates across components (199 ms)\n      \u221a prevents unnecessary re-renders with selective subscriptions (76 ms)\n      \u221a handles rapid state updates without race conditions (101 ms)\n    Store State Isolation\n      \u221a maintains state isolation between different stores (150 ms)\n      \u221a handles store reset without affecting other stores (142 ms)\n    Complex State Transactions\n      \u221a handles complex multi-store state updates atomically (102 ms)\n      \u221a maintains state consistency during concurrent updates (17 ms)\n    Memory Management\n      \u221a prevents memory leaks with large state objects (5 ms)\n      \u221a handles subscription cleanup properly (3 ms)\n    DevTools Integration\n      \u221a maintains devtools integration with store updates (3 ms)\n      \u221a supports time-travel debugging through state snapshots (4 ms)\n\nPASS Integration Tests __tests__/integration/basic-integration-ui.test.tsx\n  UI Interaction Integration Tests\n    Navigation and Routing\n      \u221a should handle navigation between views (88 ms)\n    Performance and Optimization\n      \u221a should debounce rapid input changes (452 ms)\n      \u221a should implement virtual scrolling for large lists (21 ms)\n    Form Interactions\n      \u221a should handle form validation and submission (76 ms)\n      \u221a should handle keyboard interactions (59 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/infinite-scroll-animations.test.tsx\n  Advanced Frontend Integration Tests - Infinite Scroll and Animations\n    23. Infinite Scroll Integration\n      \u221a should load more content on scroll (154 ms)\n      \u221a should implement virtual scrolling for large lists (21 ms)\n    24. Complex Animation Sequences\n      \u221a should chain animations with proper timing (240 ms)\n      \u221a should handle gesture-based animations (35 ms)\n    25. Memory Management Integration\n      \u221a should cleanup resources on unmount (10 ms)\n      \u221a should manage large data sets efficiently (50 ms)\n\nPASS Integration Tests __tests__/integration/data-fetching-optimistic.test.tsx\n  Data Fetching - Optimistic Updates\n    \u221a handles basic state updates (97 ms)\n    \u221a validates optimistic update concept (168 ms)\n    \u221a demonstrates error rollback pattern (175 ms)\n\nPASS Integration Tests __tests__/integration/thread-switching-simple.test.tsx\n  Simple Thread Switching\n    \u221a should switch threads correctly (251 ms)\n    \u221a should handle rapid switching (279 ms)\n    \u221a should show active state correctly (73 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/form-validation.test.tsx\n  Complex Form Validation Integration\n    \u221a should validate multi-step forms with dependencies (122 ms)\n    \u221a should handle async validation with debouncing (448 ms)\n    \u221a should handle conditional field validation (40 ms)\n    \u221a should validate forms with file uploads (952 ms)\n\nPASS Integration Tests __tests__/integration/connection-management-core.test.tsx\n  Connection Management Core Tests\n    Connection State Management\n      \u221a should track connection status changes (211 ms)\n      \u221a should track reconnection attempts (128 ms)\n    Exponential Backoff\n      \u221a should calculate exponential delays (2 ms)\n      \u221a should add jitter to delays (3 ms)\n    Heartbeat Management\n      \u221a should track heartbeat metrics (64 ms)\n      \u221a should track missed heartbeats (82 ms)\n      \u221a should toggle heartbeat enabled state (75 ms)\n      \u221a should manage heartbeat lifecycle with React sync (6 ms)\n    Connection Quality Monitoring\n      \u221a should calculate quality based on latency (4 ms)\n      \u221a should track average latency (5 ms)\n      \u221a should limit latency history (5 ms)\n    Resource Cleanup\n      \u221a should clean up connection resources (10 ms)\n      \u221a should stop heartbeat on cleanup (1 ms)\n\nPASS Integration Tests __tests__/integration/advanced-features.test.tsx\n  Demo Mode Functionality\n    \u221a should enable demo mode with limited features (77 ms)\n    \u221a should simulate data in demo mode (18 ms)\n  Enterprise Demo Features\n    \u221a should showcase enterprise optimization features (22 ms)\n    \u221a should display ROI calculations (22 ms)\n  PDF and Image Processing\n    \u221a should extract text from PDF files (40 ms)\n    \u221a should analyze images using vision models (28 ms)\n  Export and Import Functionality\n    \u221a should export data in multiple formats (31 ms)\n    \u221a should import and validate data (20 ms)\n  Real-time Metrics Dashboard\n    \u221a should display live performance metrics (215 ms)\n  Agent Tool Dispatcher Integration\n    \u221a should dispatch tools to appropriate agents (32 ms)\n\nPASS Integration Tests __tests__/integration/basic-integration-data.test.tsx\n  Data Flow Integration Tests\n    WebSocket Connection\n      \u221a should establish WebSocket connection (49 ms)\n      \u221a should handle WebSocket messages (40 ms)\n    Chat Functionality\n      \u221a should send and receive messages (49 ms)\n      \u221a should handle streaming messages (35 ms)\n    Thread Management\n      \u221a should create and switch threads (41 ms)\n      \u221a should delete threads (35 ms)\n    Agent Integration\n      \u221a should handle agent messages through WebSocket (65 ms)\n    State Synchronization\n      \u221a should sync state between components (33 ms)\n\nPASS Integration Tests __tests__/integration/websocket-setup.test.tsx\n  WebSocket Setup Integration Tests - Agent 6\n    WebSocket Connection with Authentication\n      \u221a should connect with valid auth token within 500ms (144 ms)\n      \u221a should handle auth token validation correctly (72 ms)\n      \u221a should reject invalid auth tokens (67 ms)\n    Auto-Reconnection with Exponential Backoff\n      \u221a should automatically reconnect after unexpected disconnect (45 ms)\n    Message Queue During Disconnection\n      \u221a should queue messages when disconnected and send on reconnect (100 ms)\n    Connection State Management\n      \u221a should accurately track connection state transitions (63 ms)\n    Concurrent Message Handling\n      \u221a should handle multiple simultaneous messages (27 ms)\n    Connection Cleanup\n      \u221a should cleanup connection properly (58 ms)\n\nPASS Integration Tests __tests__/integration/critical/error-recovery.test.tsx\n  Error Recovery Integration\n    Connection Recovery\n      \u221a should recover from WebSocket disconnection (29 ms)\n      \u221a should retry failed API calls with exponential backoff (309 ms)\n      \u221a should handle session expiration gracefully (23 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/theme-preferences.test.tsx\n  Theme and Preferences Synchronization\n    \u221a should sync theme preferences across components (35 ms)\n    \u221a should persist user preferences across sessions (4 ms)\n    \u221a should handle theme changes with animation transitions (136 ms)\n    \u221a should sync preferences with server (132 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/search-drag-drop.test.tsx\n  Advanced Frontend Integration Tests - Search and Drag-Drop\n    21. Advanced Search Integration\n      \u221a should implement fuzzy search with highlighting (276 ms)\n      \u221a should implement search with filters and facets (39 ms)\n    22. Drag and Drop Integration\n      \u221a should handle file drag and drop with preview (101 ms)\n      \u221a should reorder items with drag and drop (29 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/end-to-end-journey.test.tsx\n  Advanced Frontend Integration Tests - End-to-End Journey\n    30. End-to-End User Journey\n      \u221a should complete full optimization workflow (368 ms)\n\nPASS Integration Tests __tests__/integration/auth-complete.test.tsx\n  Complete Authentication Flow Integration\n    OAuth Login Flow\n      \u221a should complete OAuth login with token validation (101 ms)\n      \u221a should handle OAuth callback with state validation (20 ms)\n      \u221a should reject invalid OAuth state (39 ms)\n    Development Mode Authentication\n      \u221a should auto-login in development mode (31 ms)\n      \u221a should respect dev logout flag (19 ms)\n    Logout Flow\n      \u221a should complete logout with full cleanup (43 ms)\n      \u221a should handle logout during active session (26 ms)\n    Token Management\n      \u221a should validate token format and claims (20 ms)\n      \u221a should handle malformed tokens (20 ms)\n      \u221a should handle expired tokens (37 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/error-i18n-websocket.test.tsx\n  Advanced Frontend Integration Tests - Error, i18n, WebSocket\n    27. Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (73 ms)\n      \u221a should report errors to monitoring service (76 ms)\n    28. Multi-language Support Integration\n      \u221a should switch languages dynamically (29 ms)\n      \u221a should handle RTL languages correctly (35 ms)\n    29. WebSocket Resilience Integration\n      \u221a should handle WebSocket message buffering during reconnection (145 ms)\n      \u221a should implement exponential backoff for reconnection (18 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/error-handling-edge-cases.test.tsx\n  Error Handling and Edge Cases Integration\n    Advanced Error Boundaries\n      \u221a should recover from component errors gracefully (75 ms)\n      \u221a should report errors to monitoring service (83 ms)\n    Memory Management\n      \u221a should cleanup resources on unmount (14 ms)\n      \u221a should manage large data sets efficiently (118 ms)\n    Multi-language Support\n      \u221a should switch languages dynamically (44 ms)\n      \u221a should handle RTL languages correctly (35 ms)\n    WebSocket Resilience\n      \u221a should handle WebSocket message buffering during reconnection (144 ms)\n      \u221a should implement exponential backoff for reconnection (15 ms)\n\nPASS Integration Tests __tests__/integration/security-auth.test.tsx\n  OAuth Secrets Management\n    \u221a should handle OAuth token refresh (46 ms)\n    \u221a should manage secrets securely (25 ms)\n  Security Service Integration\n    \u221a should validate user permissions for protected resources (28 ms)\n    \u221a should handle security token rotation (29 ms)\n  Key Manager Integration\n    \u221a should manage API keys lifecycle (29 ms)\n    \u221a should revoke compromised keys (26 ms)\n  Admin Functionality Integration\n    \u221a should manage user roles and permissions (28 ms)\n    \u221a should access admin-only endpoints with proper auth (35 ms)\n\nPASS Integration Tests __tests__/integration/critical/websocket-subprotocol-auth.test.tsx\n  WebSocket Subprotocol Authentication (CRITICAL)\n    Sec-WebSocket-Protocol Header Implementation\n      \u221a should include JWT token in Sec-WebSocket-Protocol header (184 ms)\n      \u221a should support multiple protocol negotiation (72 ms)\n      \u221a should handle protocol selection from backend (123 ms)\n    Security and Error Handling\n      \u221a should not send token if not authenticated (122 ms)\n      \u221a should clean up protocols on disconnect (136 ms)\n\nPASS Integration Tests __tests__/integration/system-management.test.tsx\n  LLM Cache Management Integration\n    \u221a should clear LLM cache and update UI (76 ms)\n    \u221a should update cache TTL settings (37 ms)\n  Supply Catalog Integration\n    \u221a should load and display supply catalog (27 ms)\n    \u221a should switch between different model providers (32 ms)\n  Configuration Management\n    \u221a should load and display configuration (19 ms)\n    \u221a should update nested configuration values (20 ms)\n  Health Check Monitoring\n    \u221a should fetch and display system health status (35 ms)\n\nPASS Integration Tests __tests__/integration/data-fetching-core.test.tsx\n  Data Fetching - Core Caching\n    \u221a fetches data on initial load (89 ms)\n    \u221a caches fetched data for subsequent requests (30 ms)\n    \u221a bypasses cache when explicitly requested (442 ms)\n    \u221a handles cache misses gracefully (20 ms)\n    \u221a implements request deduplication (77 ms)\n    \u221a handles large datasets efficiently (90 ms)\n\nPASS Integration Tests __tests__/integration/message-sending.test.tsx (8.238 s)\n  Message Sending Integration Tests\n    Send Button Interactions\n      \u221a should handle send button click with immediate UI feedback (457 ms)\n      \u221a should handle Enter key sending with same performance (287 ms)\n      \u221a should not send on Shift+Enter (multiline) (272 ms)\n    Optimistic UI Updates\n      \u221a should show message immediately in UI (266 ms)\n      \u221a should clear input field immediately after send (233 ms)\n      \u221a should show sending indicator during transmission (253 ms)\n    Message ID Generation\n      \u221a should generate unique message IDs (630 ms)\n    WebSocket Message Dispatch\n      \u221a should dispatch properly formatted WebSocket message (444 ms)\n      \u221a should include thread ID in WebSocket message (240 ms)\n      \u221a should handle WebSocket connection failures gracefully (195 ms)\n    Success Confirmation\n      \u221a should handle successful message confirmation (216 ms)\n      \u221a should re-enable input after successful send (302 ms)\n    Concurrent Message Handling\n      \u221a should handle rapid successive sends (1507 ms)\n      \u221a should handle concurrent sends from multiple tabs simulation (642 ms)\n    Performance Requirements\n      \u221a should meet latency requirements for send action (331 ms)\n      \u221a should handle large messages efficiently (144 ms)\n      \u221a should maintain 60 FPS during typing simulation (720 ms)\n\nPASS Integration Tests __tests__/integration/error-remediation.test.tsx\n  Error Alerting and Notifications\n    \u221a should support error alerting and notifications (46 ms)\n    \u221a should handle escalation workflows for critical errors (39 ms)\n    \u221a should implement smart alerting with noise reduction (30 ms)\n  Automated Remediation Workflows\n    \u221a should handle error remediation workflows (30 ms)\n    \u221a should implement rollback mechanisms for failed deployments (20 ms)\n    \u221a should handle auto-scaling for resource exhaustion errors (25 ms)\n    \u221a should implement circuit breaker remediation (25 ms)\n    \u221a should track remediation effectiveness (29 ms)\n\nPASS Integration Tests __tests__/integration/route-guards.test.tsx\n  Route Guards Integration Tests\n    Authentication-Required Routes\n      \u221a should redirect unauthenticated users to login (81 ms)\n      \u221a should allow authenticated users access to basic routes (11 ms)\n      \u221a should maintain auth state across route changes (26 ms)\n      \u221a should handle auth token expiration during navigation (31 ms)\n    Tier-Based Access Control\n      \u221a should block Free users from Early tier features (12 ms)\n      \u221a should allow Early users access to Early tier features (16 ms)\n      \u221a should block Early users from Mid tier features (13 ms)\n      \u221a should allow Mid users access to Mid tier features (10 ms)\n      \u221a should block Mid users from Enterprise features (9 ms)\n      \u221a should allow Enterprise users access to all features (13 ms)\n    Dynamic Route Protection\n      \u221a should protect dynamic thread routes (11 ms)\n      \u221a should allow access to user-owned threads (14 ms)\n      \u221a should block access to threads from higher tiers (16 ms)\n      \u221a should handle invalid thread IDs gracefully (5 ms)\n    Route Redirect Flows\n      \u221a should redirect to intended page after login (5 ms)\n      \u221a should redirect to appropriate home based on user tier (20 ms)\n      \u221a should handle logout redirects properly (59 ms)\n      \u221a should preserve query parameters during redirects (5 ms)\n    Error Handling and Edge Cases\n      \u221a should handle network errors during auth checks (12 ms)\n      \u221a should handle concurrent auth state changes (73 ms)\n      \u221a should handle malformed auth tokens gracefully (4 ms)\n      \u221a should prevent infinite redirect loops (13 ms)\n\nPASS Integration Tests __tests__/integration/basic-integration-auth.test.tsx\n  Authentication Integration Tests\n    Authentication Flow\n      \u221a should handle login and authentication (104 ms)\n      \u221a should handle logout and cleanup (54 ms)\n    Error Handling\n      \u221a should handle network errors gracefully (38 ms)\n      \u221a should handle WebSocket disconnection (53 ms)\n\nPASS Integration Tests __tests__/integration/error-recovery.test.tsx\n  Error Handling and Recovery Tests\n    API Error Handling with Exponential Backoff\n      \u221a should handle API failures with automatic retry (180 ms)\n      \u221a should show clear error messages for different error types (88 ms)\n    Session Timeout Recovery\n      \u221a should handle session timeout with warning and recovery (85 ms)\n      \u221a should redirect to login after session expires (33 ms)\n    Rate Limiting with User Feedback\n      \u221a should handle rate limiting with clear feedback (144 ms)\n    Recovery Without Page Refresh\n      \u221a should recover from errors without losing application state (287 ms)\n    Graceful Feature Degradation\n      \u221a should degrade gracefully when WebSocket is unavailable (21 ms)\n    Error Boundary Integration\n      \u221a should catch and handle component errors gracefully (20 ms)\n\nPASS Integration Tests __tests__/integration/analytics-clickhouse.test.tsx\n  ClickHouse Analytics Integration\n    \u221a should query analytics data from ClickHouse (47 ms)\n    \u221a should query time-series analytics data (106 ms)\n    \u221a should perform aggregation queries (28 ms)\n    \u221a should handle complex analytical queries (30 ms)\n    \u221a should handle data compression and optimization queries (19 ms)\n    \u221a should handle materialized view queries (33 ms)\n\nPASS Integration Tests __tests__/integration/deep-linking.test.tsx\n  Deep Linking Integration Tests\n    Thread Deep Linking\n      \u221a should navigate to specific thread via deep link (46 ms)\n      \u221a should handle thread deep links with query parameters (4 ms)\n      \u221a should restore thread state from URL parameters (4 ms)\n      \u221a should handle invalid thread IDs in deep links gracefully (15 ms)\n    Query Parameter Handling\n      \u221a should parse and apply search query parameters (19 ms)\n      \u221a should handle multiple filter parameters (21 ms)\n      \u221a should preserve query parameters during navigation (2 ms)\n      \u221a should handle URL encoding and special characters (1 ms)\n    Hash Navigation and Anchors\n      \u221a should navigate to page sections via hash (5 ms)\n      \u221a should update hash on section navigation (299 ms)\n      \u221a should handle smooth scrolling to hash targets (3 ms)\n      \u221a should fallback gracefully for invalid hash targets (5 ms)\n    Complex URL State Management\n      \u221a should handle URLs with multiple parameter types (4 ms)\n      \u221a should maintain state consistency across complex navigation (4 ms)\n      \u221a should handle URL state conflicts gracefully (1 ms)\n      \u221a should optimize URL structure for SEO and sharing (5 ms)\n    Browser History and State Restoration\n      \u221a should restore application state from browser history (5 ms)\n      \u221a should handle popstate events correctly (13 ms)\n      \u221a should preserve scroll position in browser history (4 ms)\n      \u221a should limit browser history size for performance (4 ms)\n    URL Validation and Security\n      \u221a should validate URL parameters for security (2 ms)\n      \u221a should handle malformed URLs gracefully (3 ms)\n      \u221a should prevent URL manipulation attacks (2 ms)\n      \u221a should enforce URL length limits (1 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/offline-navigation.test.tsx\n  Offline Mode and Navigation Integration\n    Offline Mode\n      \u221a should queue actions when offline and sync when online (72 ms)\n      \u221a should use local storage for offline persistence (46 ms)\n    Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (56 ms)\n      \u221a should handle protected route redirects (29 ms)\n      \u221a should handle navigation with query parameters (68 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/collaboration.test.tsx\n  Advanced Frontend Integration Tests - Collaboration\n    18. Collaborative Features Integration\n      \u221a should sync cursor positions in real-time (72 ms)\n      \u221a should handle presence and activity status (51 ms)\n    26. Real-time Collaboration Sync\n      \u221a should handle conflict resolution in collaborative editing (20 ms)\n      \u221a should maintain operation history for undo/redo (73 ms)\n\nPASS Integration Tests __tests__/integration/critical/message-streaming.test.tsx\n  Real-time Message Streaming\n    Streaming Integration\n      \u221a should stream agent responses to chat (89 ms)\n      \u221a should handle message interruption gracefully (24 ms)\n\nPASS Integration Tests __tests__/integration/critical/file-upload.test.tsx\n  File Upload Integration\n    Upload Functionality\n      \u221a should upload file and process with agent (12 ms)\n      \u221a should track upload progress (251 ms)\n\nPASS Integration Tests __tests__/auth/context.dev-mode.test.tsx\n  AuthContext - Development Mode\n    \u221a should auto-login in development mode when not logged out (42 ms)\n    \u221a should skip auto-login if user has logged out in dev mode (23 ms)\n    \u221a should handle dev login failure gracefully (26 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/collaborative-features.test.tsx\n  Collaborative Features Integration\n    \u221a should sync cursor positions in real-time (45 ms)\n    \u221a should handle presence and activity status (38 ms)\n    \u221a should handle conflict resolution in collaborative editing (21 ms)\n    \u221a should maintain operation history for undo/redo (50 ms)\n    \u221a should handle collaborative document versioning (39 ms)\n\nPASS Integration Tests __tests__/integration/critical/websocket-auth-rejection.test.tsx\n  WebSocket Authentication Rejection (SECURITY)\n    Secure Authentication Verification\n      \u221a should use secure authentication methods and avoid query parameters (80 ms)\n      \u221a should handle authentication errors gracefully when they occur (179 ms)\n      \u221a should use consistent secure authentication method (33 ms)\n    Enhanced Error Handling\n      \u221a should not expose sensitive token data in error messages (63 ms)\n    Migration from Insecure to Secure Authentication\n      \u221a should detect when using deprecated query param method (68 ms)\n      \u221a should attempt upgrade to secure authentication (59 ms)\n\nPASS Integration Tests __tests__/integration/critical/websocket-token-refresh.test.tsx\n  WebSocket Token Refresh Management (CRITICAL)\n    WebSocket Service Token Functionality\n      \u221a should handle token updates via updateToken method (56 ms)\n      \u221a should validate JWT token parsing functionality (11 ms)\n      \u221a should provide secure URL generation (7 ms)\n      \u221a should handle message queuing functionality (13 ms)\n    Token Lifecycle Management\n      \u221a should handle connection state management (15 ms)\n      \u221a should handle token validation and expiry detection (24 ms)\n      \u221a should support rate limiting and connection management (11 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/navigation.test.tsx\n  Advanced Frontend Integration Tests - Navigation\n    20. Complex Navigation Flows\n      \u221a should handle deep linking with state preservation (42 ms)\n      \u221a should handle protected route redirects (23 ms)\n\nPASS Integration Tests __tests__/integration/logger-integration.test.tsx\n  Logger Integration - Cross-Component Usage\n    Component Logger Usage\n      \u221a logs user actions from components (71 ms)\n      \u221a logs API calls from components (26 ms)\n      \u221a logs WebSocket events from components (25 ms)\n      \u221a logs performance metrics from components (26 ms)\n    Layer Visibility Manager Integration\n      \u221a uses logger group methods for debugging (69 ms)\n    Error Handling Integration\n      \u221a logs errors with proper context (33 ms)\n    Log Buffer Verification\n      \u221a accumulates logs from multiple sources (57 ms)\n    Production Safety\n      \u221a sanitizes sensitive data in logs (30 ms)\n    Multi-Component Orchestration\n      \u221a tracks logs across component hierarchy (31 ms)\n\nPASS Integration Tests __tests__/integration/advanced-integration/offline-mode.test.tsx\n  Advanced Frontend Integration Tests - Offline Mode\n    19. Offline Mode Integration\n      \u221a should queue actions when offline and sync when online (53 ms)\n      \u221a should use local storage for offline persistence (28 ms)\n\nPASS Integration Tests __tests__/integration/critical/performance-monitoring.test.tsx\n  Performance Monitoring Integration\n    Metrics Tracking\n      \u221a should track and report performance metrics (89 ms)\n      \u221a should detect and report performance degradation (4 ms)\n\nPASS Integration Tests __tests__/integration/critical/state-sync.test.tsx\n  State Synchronization\n    Server State Sync\n      \u221a should sync local state with server state (44 ms)\n      \u221a should handle concurrent state updates (60 ms)\n\nPASS Integration Tests __tests__/auth/auth-components-features.test.tsx\n  Auth Components Features\n    Edge Cases\n      \u221a should handle user with no name or email (28 ms)\n      \u221a should handle undefined auth config gracefully (10 ms)\n      \u221a should handle rapid state changes (23 ms)\n      \u221a should handle empty string user names (14 ms)\n    Accessibility\n      \u221a should have accessible button roles (39 ms)\n      \u221a should properly disable button when loading (16 ms)\n      \u221a should have proper button text for screen readers (18 ms)\n    Layout and Styling\n      \u221a should apply correct layout classes for logged in state (11 ms)\n      \u221a should apply correct text styling for user name (16 ms)\n      \u221a should apply correct layout for dev mode buttons (16 ms)\n    Integration Tests\n      \u221a should handle complete login flow (20 ms)\n      \u221a should handle complete logout flow (14 ms)\n\nPASS Integration Tests __tests__/services/messageService.test.ts\n  MessageService\n    Thread Management\n      \u221a should create a new thread (10 ms)\n      \u221a should fetch threads for a user (3 ms)\n      \u221a should handle thread fetch errors (97 ms)\n    Message Persistence\n      \u221a should save a message to the server (3 ms)\n      \u221a should fetch messages for a thread (3 ms)\n      \u221a should handle pagination for large message lists (5 ms)\n    Local Cache Management\n      \u221a should cache messages locally (2 ms)\n      \u221a should sync local cache with server (4 ms)\n      \u221a should handle offline mode (2 ms)\n      \u221a should retry failed message sends (31 ms)\n    Thread State Management\n      \u221a should save thread state (2 ms)\n      \u221a should update thread metadata (3 ms)\n\nPASS Integration Tests __tests__/services/reconciliation-cleanup.test.ts\n  Reconciliation Cleanup Fix\n    \u221a should execute cleanup without \"this.cleanup is not a function\" error (68 ms)\n    \u221a should handle multiple cleanup cycles without errors (69 ms)\n    \u221a should properly clean up expired messages (41 ms)\n    \u221a should maintain proper context binding in cleanup callback (19 ms)\n\nPASS Integration Tests __tests__/integration/connection-performance.test.tsx\n  Connection Performance Tests\n    Multiple Concurrent Connections\n      \u221a should handle multiple WebSocket connections (9 ms)\n      \u221a should isolate connection states (3 ms)\n      \u221a should close individual connections (5 ms)\n      \u221a should close all connections (5 ms)\n    Performance Under Load\n      \u221a should handle concurrent connection attempts (5 ms)\n      \u221a should maintain performance with many connections (6 ms)\n      \u221a should handle rapid state changes (5 ms)\n      \u221a should scale connection management (3 ms)\n    Memory Management\n      \u221a should prevent memory leaks (4 ms)\n      \u221a should handle cleanup during active operations (4 ms)\n      \u221a should manage connection lifecycle efficiently (5 ms)\n    Stress Testing\n      \u221a should handle rapid create/destroy cycles (13 ms)\n      \u221a should maintain state consistency under load (12 ms)\n      \u221a should handle burst connection requests (6 ms)\n    Resource Optimization\n      \u221a should optimize connection reuse (1 ms)\n      \u221a should efficiently batch operations (4 ms)\n      \u221a should handle connection pool efficiently (8 ms)\n\nPASS Integration Tests __tests__/integration/critical/notifications.test.tsx\n  Notification System Integration\n    Notification Display\n      \u221a should show notifications for important events (15 ms)\n      \u221a should queue notifications when offline (3 ms)\n\nPASS Integration Tests __tests__/integration/critical/keyboard-shortcuts.test.tsx\n  Keyboard Shortcuts Integration\n    Global Shortcuts\n      \u221a should handle global keyboard shortcuts (20 ms)\n      \u221a should prevent shortcut conflicts in input fields (14 ms)\n\nPASS Integration Tests __tests__/integration/critical/agent-provider.test.tsx\n  Agent Provider Integration\n    Agent State Coordination\n      \u221a should coordinate agent state with WebSocket messages (35 ms)\n      \u221a should sync agent reports with chat messages (28 ms)\n\nPASS Integration Tests __tests__/services/messageFormatter.test.ts\n  MessageFormatter Service\n    Content Type Detection\n      \u221a detects markdown content correctly (4 ms)\n      \u221a detects code blocks correctly (3 ms)\n      \u221a detects mixed content correctly (1 ms)\n      \u221a detects plain text correctly (4 ms)\n    Formatting Metadata Creation\n      \u221a creates metadata for markdown content (3 ms)\n      \u221a creates metadata for plain content (1 ms)\n    Content Processing\n      \u221a processes markdown content correctly (7 ms)\n      \u221a handles content normalization (3 ms)\n    Message Enhancement\n      \u221a enhances message with formatting metadata (4 ms)\n    MessageFormatterService\n      \u221a formats single message (5 ms)\n      \u221a formats multiple messages (1 ms)\n      \u221a gets render configuration (6 ms)\n      \u221a validates formatting integrity (1 ms)\n\nPASS Integration Tests __tests__/integration/tool-lifecycle-integration-simple.test.ts\n  Tool Lifecycle Integration - Simplified\n    Tool Status Management\n      \u221a should create and track tool status (8 ms)\n      \u221a should update tool statuses array correctly (4 ms)\n      \u221a should remove tools correctly (3 ms)\n      \u221a should convert to active tools array for legacy support (1 ms)\n    Tool Deduplication\n      \u221a should prevent duplicate tools in statuses (1 ms)\n      \u221a should handle similar but different tool names correctly (3 ms)\n\nPASS Integration Tests __tests__/auth/auth-logout.test.ts\n  Auth Logout Flow\n    handleLogout\n      \u221a should perform logout successfully with token (12 ms)\n      \u221a should handle logout without token (1 ms)\n      \u221a should handle logout failure and still clear token (6 ms)\n      \u221a should handle logout network error and still clear token (4 ms)\n      \u221a should handle concurrent logout operations (5 ms)\n    Dev Logout Flag Management\n      getDevLogoutFlag\n        \u221a should return true when flag is set (4 ms)\n        \u221a should return false when flag is not set (1 ms)\n        \u221a should return false when flag is not \"true\" (4 ms)\n        \u221a should return false for other string values (3 ms)\n      setDevLogoutFlag\n        \u221a should set dev logout flag (3 ms)\n        \u221a should handle multiple flag sets (4 ms)\n      clearDevLogoutFlag\n        \u221a should clear dev logout flag (2 ms)\n        \u221a should handle clearing non-existent flag (3 ms)\n      Dev Flag Integration\n        \u221a should handle complete dev flag cycle (6 ms)\n        \u221a should handle rapid flag operations (1 ms)\n    Logout Flow Integration\n      \u221a should handle logout with dev flag management (3 ms)\n      \u221a should handle logout failure with dev flag management (5 ms)\n\nPASS Integration Tests __tests__/integration/task-processing-integration.test.tsx\n  Task Processing Integration Test Suite\n    \u221a should reference modular task processing architecture (6 ms)\n    \u221a should maintain Enterprise background processing standards (4 ms)\n\nPASS Integration Tests __tests__/auth/auth-login.test.ts\n  Auth Login Flow\n    getAuthConfig\n      \u221a should fetch auth config successfully (8 ms)\n      \u221a should handle error when fetch fails (7 ms)\n      \u221a should handle network errors (1 ms)\n      \u221a should handle empty auth config response (1 ms)\n      \u221a should handle malformed JSON response (2 ms)\n    handleDevLogin\n      \u221a should perform dev login successfully (3 ms)\n      \u221a should handle dev login with different config (2 ms)\n      \u221a should handle dev login with development config (1 ms)\n      \u221a should handle dev login multiple times (1 ms)\n      \u221a should sanitize email input in dev login (2 ms)\n    handleLogin\n      \u221a should call handleLogin with correct config (4 ms)\n      \u221a should handle login with development mode config (2 ms)\n      \u221a should handle login with production config (1 ms)\n      \u221a should handle login with missing config (3 ms)\n    Login Flow Integration\n      \u221a should handle complete login flow (3 ms)\n      \u221a should handle dev login flow (2 ms)\n      \u221a should handle concurrent config requests (4 ms)\n\nPASS Integration Tests __tests__/integration/analytics-integration.test.tsx\n  Analytics Integration Test Suite\n    \u221a should reference modular analytics architecture (5 ms)\n    \u221a should maintain Enterprise data insights standards (4 ms)\n\nPASS Integration Tests __tests__/integration/error-tracing-integration.test.tsx\n  Error Tracing Integration Test Suite\n    \u221a should reference modular error tracing architecture (4 ms)\n    \u221a should maintain Enterprise observability standards (3 ms)\n\nPASS Integration Tests __tests__/integration/critical/thread-management.test.tsx\n  Thread Management Integration\n    Thread Creation and Message Sync\n      \u221a should create thread and sync with messages (7 ms)\n      \u221a should switch threads and load messages (4 ms)\n\nPASS Integration Tests __tests__/services/tool-tracking-service.test.ts\n  ToolTrackingService\n    startTool\n      \u221a should start a new tool and notify listeners (17 ms)\n      \u221a should not add duplicate tools (3 ms)\n      \u221a should respect max active tools limit (5 ms)\n    completeTool\n      \u221a should complete a tool and notify listeners (6 ms)\n      \u221a should handle completing non-existent tool gracefully (4 ms)\n    auto-removal timeout\n      \u221a should auto-remove tools after timeout (6 ms)\n      \u221a should not auto-remove manually completed tools (6 ms)\n    cleanup interval\n      \u221a should periodically cleanup expired tools (4 ms)\n    service cleanup\n      \u221a should cleanup all timeouts on service cleanup (4 ms)\n    configuration\n      \u221a should use default configuration when not provided (4 ms)\n      \u221a should merge partial configuration with defaults (3 ms)\n\nPASS Integration Tests __tests__/integration/critical/accessibility.test.tsx\n  Accessibility Integration\n    Focus Management\n      \u221a should maintain focus management during navigation (51 ms)\n      \u221a should announce dynamic content updates to screen readers (18 ms)\n\nPASS Integration Tests __tests__/integration/infrastructure.test.tsx\n  Infrastructure Integration Test Suite\n    \u221a should reference modular test architecture (1 ms)\n    \u221a should maintain Enterprise reliability standards (1 ms)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testInteractionDebouncing\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n      __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/index.test.tsx:11:1)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/websocket-resilience.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/websocket-resilience.test.tsx'\n\n    \u001b[0m \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./components/websocket-components'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 30 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/websocket-resilience.test.tsx:27:20)\n\nFAIL Integration Tests __tests__/integration/critical/error-recovery-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/test-mock-helpers' from '__tests__/integration/critical/error-recovery-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[90m// Import test utilities\u001b[39m\n     \u001b[90m 15 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/__tests__/setup/test-providers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m \u001b[36mimport\u001b[39m { setupTestEnvironment\u001b[33m,\u001b[39m cleanupTestEnvironment\u001b[33m,\u001b[39m resetTestStores\u001b[33m,\u001b[39m clearTestStorage } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-setup-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m \u001b[36mimport\u001b[39m { createExpiredToken\u001b[33m,\u001b[39m setupRetryFetchMock } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-mock-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 18 |\u001b[39m \u001b[36mimport\u001b[39m { retryWithBackoff } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-async-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mConnectionRecoveryComponent\u001b[39m\u001b[33m,\u001b[39m \u001b[33mAuthStatusComponent\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-component-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/critical/error-recovery-refactored.test.tsx:16:26)\n\nFAIL Integration Tests __tests__/integration/comprehensive/user-journey.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m createWebSocketMessage\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   handleUserJoined\u001b[33m,\u001b[39m handleVoteCast\u001b[33m,\u001b[39m handleStepChange\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey.test.tsx:9:27)\n\nFAIL Integration Tests __tests__/integration/comprehensive/user-journey-workflow.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-workflow.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   validateFileType\u001b[33m,\u001b[39m validateFileSize\u001b[33m,\u001b[39m parseFileContent\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   createMockOptimizations\u001b[33m,\u001b[39m simulateAnalysisPhases\u001b[33m,\u001b[39m calculateTotalImpact\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   createResults\u001b[33m,\u001b[39m simulateOptimizationApplication\u001b[33m,\u001b[39m createWorkloadConfigFile\u001b[33m,\u001b[39m\n     \u001b[90m 12 |\u001b[39m   expectSuccessfulUpload\u001b[33m,\u001b[39m expectSuccessfulAnalysis\u001b[33m,\u001b[39m expectCompletedWorkflow\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-workflow.test.tsx:9:27)\n\nFAIL Integration Tests __tests__/integration/comprehensive/user-journey-errors.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-errors.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m createValidJsonFile\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m describe(\u001b[32m'Error Scenarios in User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-errors.test.tsx:9:27)\n\nFAIL Integration Tests __tests__/integration/comprehensive/theme-preferences.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/theme-preferences.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/theme-preferences.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/performance-memory.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/performance-memory.test.tsx'\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     back\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 30 |\u001b[39m     forward\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     pathname\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m     query\u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     asPath\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 34 |\u001b[39m   })\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-memory.test.tsx:31:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/navigation-search.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/navigation-search.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m   act\u001b[33m,\u001b[39m\n     \u001b[90m 15 |\u001b[39m   setupTestEnvironment\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m   cleanupTestEnvironment\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m\n     \u001b[90m 19 |\u001b[39m   \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/navigation-search.test.tsx:16:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   waitForUserInteraction\u001b[33m,\u001b[39m getMovementDirection\u001b[33m,\u001b[39m calculateNewPosition\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectAnimationStage\u001b[33m,\u001b[39m expectAnimationStatus\u001b[33m,\u001b[39m expectGesturePosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/memory-management.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/memory-management.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   addTimer\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   addListener\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   cleanupResources\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   generateDataChunk\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m   calculateProgress\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m   estimateMemoryUsage\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/memory-management.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll.test.tsx:12:1)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   generateScrollItems\u001b[33m,\u001b[39m saveScrollPosition\u001b[33m,\u001b[39m restoreScrollPosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx:12:1)\n\nFAIL Integration Tests __tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateDragStart\u001b[33m,\u001b[39m reorderItems\u001b[33m,\u001b[39m generateItems\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectItemOrder\u001b[33m,\u001b[39m simulateDropValidation\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx:9:35)\n\nFAIL Integration Tests __tests__/integration/comprehensive/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/index.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mas\u001b[39m testUtils \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m \u001b[90m// Import all test modules - commented out temporarily to prevent import errors\u001b[39m\n     \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m \u001b[90m// These modules need fixing to work with the current test-utils structure\u001b[39m\n     \u001b[90m 40 |\u001b[39m \u001b[90m// import './theme-preferences.test';\u001b[39m\n     \u001b[90m 41 |\u001b[39m \u001b[90m// import './collaboration-features.test';\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/index.test.tsx:38:60)\n\nFAIL Integration Tests __tests__/integration/comprehensive/i18n-tests.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/i18n-tests.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/i18n-tests.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/error-recovery.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/error-recovery.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/error-recovery.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive/collaboration-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/collaboration-features.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 25 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     refresh\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/collaboration-features.test.tsx:26:20)\n\nFAIL Integration Tests __tests__/integration/tool-lifecycle-integration.test.ts\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseUnifiedChatStore' before initialization\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 12 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseUnifiedChatStore (__tests__/integration/tool-lifecycle-integration.test.ts:13:24)\n      at Object.<anonymous> (__tests__/integration/tool-lifecycle-integration.test.ts:31:22)\n\nFAIL Integration Tests __tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/optimization-workflow-helpers' from '__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[36mimport\u001b[39m { assertElementText\u001b[33m,\u001b[39m waitForElementText\u001b[33m,\u001b[39m assertOptimizationResults } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-assertion-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests - End-to-End Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \n     \u001b[90m 16 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx:13:38)\n\nFAIL Integration Tests __tests__/integration/login-complete.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/MainChat mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 30 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mMockMessageInput\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33minput\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"message-input\"\u001b[39m placeholder\u001b[33m=\u001b[39m\u001b[32m\"Type message...\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 32 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/MainChat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 33 |\u001b[39m   \u001b[33mMainChat\u001b[39m\u001b[33m:\u001b[39m \u001b[33mMockChatInterface\u001b[39m\n     \u001b[90m 34 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete.test.tsx:32:6)\n\nFAIL Integration Tests __tests__/integration/login-token-management.test.tsx\n  \u25cf Test suite failed to run\n\n    TypeError: (0 , _utils.createMockExpiredToken) is not a function\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m\n     \u001b[90m 65 |\u001b[39m \u001b[36mconst\u001b[39m validToken \u001b[33m=\u001b[39m createMockToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m3600\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m \u001b[36mconst\u001b[39m expiredToken \u001b[33m=\u001b[39m createMockExpiredToken(testUser\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m \u001b[36mconst\u001b[39m expiringToken \u001b[33m=\u001b[39m createMockExpiringToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m300\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m \u001b[90m// ============================================================================\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/login-token-management.test.tsx:66:44)\n\nFAIL Integration Tests __tests__/integration/integration-tasks.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-tasks.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Declare mocks first (Jest Module Hoisting)\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-tasks.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/integration-health.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-health.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-health.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/login-complete-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/services/websocket mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/services\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m \u001b[90m// Mock implementations\u001b[39m\n     \u001b[90m 66 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/services/websocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useRouter\u001b[33m:\u001b[39m mockUseRouter }))\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/auth/service'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ authService\u001b[33m:\u001b[39m mockAuthService }))\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete-flow.test.tsx:67:6)\n\nFAIL Integration Tests __tests__/integration/integration-data-generation.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-data-generation.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   setupLoadingMocks\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseUnifiedChatStore\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-data-generation.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/integration-corpus.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-corpus.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 37 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m\n     \u001b[90m 40 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 41 |\u001b[39m   useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-corpus.test.tsx:38:37)\n\nFAIL Integration Tests __tests__/integration/integration-comprehensive-core.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-comprehensive-helpers' from '__tests__/integration/integration-comprehensive-core.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   setupComprehensiveLLMCacheResponseMocks\u001b[33m,\u001b[39m\n     \u001b[90m 37 |\u001b[39m   setupComprehensiveHealthMock\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   setupComprehensiveDegradedHealthMock\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   createComprehensiveMockTask\u001b[33m,\u001b[39m\n     \u001b[90m 40 |\u001b[39m   queueComprehensiveTask\n     \u001b[90m 41 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-comprehensive-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-comprehensive-core.test.tsx:38:42)\n\nFAIL Integration Tests __tests__/integration/integration-cache.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-cache.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-cache.test.tsx:22:37)\n\nFAIL Integration Tests __tests__/integration/first-load.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: setupFirstLoadMockComponents is not defined\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mas\u001b[39m \u001b[33mFirstLoadMockSetup\u001b[39m \u001b[36mfrom\u001b[39m \u001b[32m'@/__tests__/helpers/first-load-mock-setup'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m setupFirstLoadMockComponents()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m describe(\u001b[32m'First Load Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.setupFirstLoadMockComponents (__tests__/integration/first-load.test.tsx:25:1)\n\nFAIL Integration Tests __tests__/integration/collaboration-state.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockCreateWebSocketManager' before initialization\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m \u001b[90m// Mock WebSocket test manager\u001b[39m\n     \u001b[90m 42 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'../helpers/websocket-test-manager'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   createWebSocketManager\u001b[33m:\u001b[39m mockCreateWebSocketManager\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\n     \u001b[90m 45 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at mockCreateWebSocketManager (__tests__/integration/collaboration-state.test.tsx:43:27)\n      at Object.<anonymous> (__tests__/integration/collaboration-state.test.tsx:42:31)\n\nFAIL Integration Tests __tests__/integration/comprehensive-integration-elite.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './utils/comprehensive-test-utils' from '__tests__/integration/comprehensive-integration-elite.test.tsx'\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m     pathname\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 52 |\u001b[39m     query\u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     asPath\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m   })\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m   usePathname\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m   useSearchParams\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mURLSearchParams\u001b[39m()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration-elite.test.tsx:53:33)\n\nFAIL Integration Tests __tests__/integration/auth-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseAuthStore' before initialization\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m   useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseAuthStore (__tests__/integration/auth-flow.test.tsx:17:17)\n      at Object.<anonymous> (__tests__/integration/auth-flow.test.tsx:52:20)\n\nFAIL Integration Tests __tests__/integration/comprehensive-integration.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockCreateWebSocketManager' before initialization\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m \u001b[90m// Mock WebSocket test manager\u001b[39m\n     \u001b[90m 42 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'../helpers/websocket-test-manager'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   createWebSocketManager\u001b[33m:\u001b[39m mockCreateWebSocketManager\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\n     \u001b[90m 45 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at mockCreateWebSocketManager (__tests__/integration/collaboration-state.test.tsx:43:27)\n      at Object.<anonymous> (__tests__/integration/collaboration-state.test.tsx:42:31)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:26:1)\n\nFAIL Integration Tests __tests__/integration/auth-flow-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './utils/auth-flow-utils' from '__tests__/integration/auth-flow-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m   })\u001b[33m,\u001b[39m\n     \u001b[90m 50 |\u001b[39m   usePathname\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m   useSearchParams\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mURLSearchParams\u001b[39m()\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 53 |\u001b[39m\n     \u001b[90m 54 |\u001b[39m \u001b[90m// Now imports\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/auth-flow-refactored.test.tsx:51:24)\n\nFAIL Integration Tests __tests__/auth/login-to-chat-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m The left-hand side of an assignment expression must be a variable or a property access.\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m54\u001b[0m |     token: mockToken\n        `----\n      \u001b[31mx\u001b[0m Invalid assignment target\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m54\u001b[0m |     token: mockToken\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   performLogin\u001b[33m,\u001b[39m\n     \u001b[90m 23 |\u001b[39m   mockUser\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m   mockToken\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./login-to-chat-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Mock dependencies for isolated auth testing\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/auth/login-to-chat-advanced.test.tsx:24:27)\n\nFAIL Integration Tests __tests__/integration/initial-state.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: setupInitialStateMockComponents is not defined\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m \u001b[90m// Setup all mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m setupInitialStateMockComponents()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m describe(\u001b[32m'Initial State Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.setupInitialStateMockComponents (__tests__/integration/initial-state.test.tsx:25:1)\n\nFAIL Integration Tests __tests__/integration/connection-management-advanced.test.tsx (61.373 s)\n  Connection Management Advanced Tests\n    Reconnection Management\n      \u221a should handle reconnection logic (43 ms)\n      \u221a should respect maximum attempts (5 ms)\n      \u221a should reset attempt counter (5 ms)\n      \u221a should cancel reconnection timers (5 ms)\n    State Machine\n      \u221a should validate state transitions (10 ms)\n      \u221a should enforce valid transition paths (6 ms)\n      \u221a should handle error transitions (6 ms)\n    Network Condition Simulation\n      \u221a should simulate high latency conditions (4 ms)\n      \u221a should simulate packet loss (5 ms)\n      \u221a should categorize connection quality (8 ms)\n      \u00d7 should simulate latency delays (60013 ms)\n    Error Recovery Scenarios\n      \u221a should recover from multiple failures (3 ms)\n      \u221a should handle cascading failures (4 ms)\n      \u221a should maintain connection isolation during failures (4 ms)\n    Resource Management\n      \u221a should clean up timers and resources (2 ms)\n\n  \u25cf Connection Management Advanced Tests \u203a Network Condition Simulation \u203a should simulate latency delays\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 248 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 249 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 250 |\u001b[39m     it(\u001b[32m'should simulate latency delays'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 251 |\u001b[39m       networkSimulator\u001b[33m.\u001b[39msetLatency(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mconst\u001b[39m start \u001b[33m=\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 253 |\u001b[39m       \u001b[36mawait\u001b[39m networkSimulator\u001b[33m.\u001b[39msimulateLatency()\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/connection-management-advanced.test.tsx:250:5)\n      at describe (__tests__/integration/connection-management-advanced.test.tsx:225:3)\n      at Object.describe (__tests__/integration/connection-management-advanced.test.tsx:145:1)\n\nFAIL Integration Tests __tests__/auth/auth-token-refresh-auto.test.tsx (121.717 s)\n  Auth Token Refresh Automatic\n    Automatic Token Refresh\n      \u00d7 should refresh token before expiry threshold (211 ms)\n      \u00d7 should update auth store with refreshed token (29 ms)\n      \u00d7 should refresh token on user activity near expiry (60005 ms)\n      \u00d7 should not refresh if token has sufficient time remaining (60002 ms)\n    Token Refresh on API Calls\n      \u221a should refresh token before making authenticated API calls (12 ms)\n      \u00d7 should retry API call with refreshed token (11 ms)\n      \u00d7 should handle 401 responses by triggering token refresh (9 ms)\n      \u00d7 should prevent multiple concurrent refresh attempts (7 ms)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token before expiry threshold\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \u001b[90m// Since we're using a mock AuthProvider, we'll just check the setup is correct\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mgetToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m\n     \u001b[90m 199 |\u001b[39m     it(\u001b[32m'should update auth store with refreshed token'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:196:40)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should update auth store with refreshed token\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 224 |\u001b[39m\n     \u001b[90m 225 |\u001b[39m       \u001b[90m// Check that setToken would be called with the refreshed token\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 226 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mgetToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 227 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 228 |\u001b[39m\n     \u001b[90m 229 |\u001b[39m     it(\u001b[32m'should refresh token on user activity near expiry'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:226:40)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token on user activity near expiry\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 227 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 228 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 229 |\u001b[39m     it(\u001b[32m'should refresh token on user activity near expiry'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 230 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m       \u001b[36mconst\u001b[39m { mockToken } \u001b[33m=\u001b[39m createExpiringToken(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 3 minutes until expiry\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/auth/auth-token-refresh-auto.test.tsx:229:5)\n      at describe (__tests__/auth/auth-token-refresh-auto.test.tsx:165:3)\n      at Object.describe (__tests__/auth/auth-token-refresh-auto.test.tsx:53:1)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should not refresh if token has sufficient time remaining\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 262 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     it(\u001b[32m'should not refresh if token has sufficient time remaining'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m       \u001b[36mconst\u001b[39m { mockToken } \u001b[33m=\u001b[39m createExpiringToken(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 10 minutes until expiry - no refresh needed\u001b[39m\n     \u001b[90m 266 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/auth/auth-token-refresh-auto.test.tsx:263:5)\n      at describe (__tests__/auth/auth-token-refresh-auto.test.tsx:165:3)\n      at Object.describe (__tests__/auth/auth-token-refresh-auto.test.tsx:53:1)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should retry API call with refreshed token\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"app-content\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 350 |\u001b[39m       \u001b[90m// Trigger API call through user interaction\u001b[39m\n     \u001b[90m 351 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 352 |\u001b[39m         \u001b[36mconst\u001b[39m appContent \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 353 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m         \u001b[36mawait\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(resolve \u001b[33m=>\u001b[39m setTimeout(resolve\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 355 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/auth/auth-token-refresh-auto.test.tsx:352:35)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:351:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should handle 401 responses by triggering token refresh\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"app-content\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 384 |\u001b[39m       \u001b[90m// Trigger API call through user interaction\u001b[39m\n     \u001b[90m 385 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 386 |\u001b[39m         \u001b[36mconst\u001b[39m appContent \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 387 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\n     \u001b[90m 388 |\u001b[39m         \u001b[36mawait\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(resolve \u001b[33m=>\u001b[39m setTimeout(resolve\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 389 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/auth/auth-token-refresh-auto.test.tsx:386:35)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:385:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should prevent multiple concurrent refresh attempts\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"app-content\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 420 |\u001b[39m       \u001b[90m// Trigger multiple concurrent API calls\u001b[39m\n     \u001b[90m 421 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 422 |\u001b[39m         \u001b[36mconst\u001b[39m appContent \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 423 |\u001b[39m         \u001b[90m// Multiple rapid clicks to simulate concurrent requests\u001b[39m\n     \u001b[90m 424 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\n     \u001b[90m 425 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/auth/auth-token-refresh-auto.test.tsx:422:35)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:421:16)\n\nSummary of all failing tests\nFAIL __tests__/auth/context.token-management.test.tsx\n  \u25cf AuthContext - Token Management \u203a should use existing token from storage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"mock-jwt-token-123\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 54 |\u001b[39m   \u001b[36mconst\u001b[39m waitForTokenProcessing \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 55 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m       expect(jwtDecode)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockToken)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 57 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 58 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:56:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Token Management \u203a should handle invalid token gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, {\"action\": \"token_validation_failed\", \"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[0mTest Content\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 73 |\u001b[39m   \u001b[36mconst\u001b[39m expectInvalidTokenHandling \u001b[33m=\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 74 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 75 |\u001b[39m       expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 76 |\u001b[39m         \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m \n     \u001b[90m 77 |\u001b[39m         expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 78 |\u001b[39m         {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.token-management.test.tsx:75:28)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/critical/websocket-auth-headers.test.tsx\n  \u25cf WebSocket Authentication Headers (SECURITY VERIFICATION) \u203a Secure Connection Endpoint \u203a should handle authentication errors from secure endpoint\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      CLOSED\n    Received:\n      OPEN\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m\n     \u001b[90m 323 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'ws-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\n     \u001b[90m 327 |\u001b[39m       \u001b[90m// Frontend should properly handle auth errors\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/critical/websocket-auth-headers.test.tsx:324:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/auth/auth-session-detection.test.tsx\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should detect expired token on initialization\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m         expect(authService\u001b[33m.\u001b[39mremoveToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 104 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:101:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should handle invalid expiry dates gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"Invalid token detected\", Any<Error>, ObjectContaining {\"component\": \"AuthContext\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 116 |\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 118 |\u001b[39m         expect(logger\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 119 |\u001b[39m           \u001b[32m'Invalid token detected'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 120 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 121 |\u001b[39m           expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:118:30)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should validate token expiry on every check\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:138:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:137:16)\n\n  \u25cf Auth Session Detection \u203a Session Expiry Detection \u203a should start session timeout monitoring after login\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 155 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 156 |\u001b[39m         expect(mockAuthStore\u001b[33m.\u001b[39mlogin)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 157 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 159 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/auth-session-detection.test.tsx:156:37)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should warn user before session expires\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:172:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:171:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should provide session extension option\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:192:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:190:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should handle session extension failures\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:211:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:209:16)\n\n  \u25cf Auth Session Detection \u203a Session Warning System \u203a should count down remaining session time\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:229:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:227:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle system clock changes gracefully\n\n    TypeError: Date.now.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 247 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 248 |\u001b[39m         renderWithSession()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 249 |\u001b[39m         (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m (\u001b[35m24\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m60\u001b[39m \u001b[33m*\u001b[39m \u001b[35m1000\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 250 |\u001b[39m         advanceTimeBy(\u001b[35m1000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 251 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/auth-session-detection.test.tsx:249:33)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:247:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle network failures during session validation\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:272:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:270:16)\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle missing token expiry gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringMatching /missing.*expiry/i, Any<Object>\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"app-content\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mTest App\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 293 |\u001b[39m\n     \u001b[90m 294 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 295 |\u001b[39m         expect(logger\u001b[33m.\u001b[39mwarn)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 296 |\u001b[39m           expect\u001b[33m.\u001b[39mstringMatching(\u001b[35m/missing.*expiry/i\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 297 |\u001b[39m           expect\u001b[33m.\u001b[39many(\u001b[33mObject\u001b[39m)\n     \u001b[90m 298 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-session-detection.test.tsx:295:29)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Auth Session Detection \u203a Edge Cases and Error Handling \u203a should handle browser tab visibility changes\n\n    TypeError: Date.now.getMockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 84 |\u001b[39m\n     \u001b[90m 85 |\u001b[39m   \u001b[36mconst\u001b[39m advanceTimeBy \u001b[33m=\u001b[39m (milliseconds\u001b[33m:\u001b[39m number) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 86 |\u001b[39m     \u001b[36mconst\u001b[39m currentTime \u001b[33m=\u001b[39m (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mgetMockReturnValue() \u001b[33m||\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 87 |\u001b[39m     (\u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(currentTime \u001b[33m+\u001b[39m milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 88 |\u001b[39m     jest\u001b[33m.\u001b[39madvanceTimersByTime(milliseconds)\u001b[33m;\u001b[39m\n     \u001b[90m 89 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at getMockReturnValue (__tests__/auth/auth-session-detection.test.tsx:86:49)\n      at advanceTimeBy (__tests__/auth/auth-session-detection.test.tsx:315:9)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-session-detection.test.tsx:314:16)\n\nFAIL __tests__/integration/login-websocket-setup.test.tsx\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should handle WebSocket authentication rejection\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 279 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mdisconnect)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should validate token format before WebSocket connection'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:280:47)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a WebSocket Authentication Handshake \u203a should validate token format before WebSocket connection\n\n    expect(jest.fn()).not.toHaveBeenCalled()\n\n    Expected number of calls: 0\n    Received number of calls: 1\n\n    1: \"ws://localhost:8082/ws?token=invalid.token.format\", {\"token\": \"invalid.token.format\", \"userId\": \"user_1755903927182_v7r71ph7t\"}\n\n    \u001b[0m \u001b[90m 288 |\u001b[39m       \n     \u001b[90m 289 |\u001b[39m       \u001b[90m// Should not attempt WebSocket connection with invalid token\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 290 |\u001b[39m       expect(mockWebSocketService\u001b[33m.\u001b[39mconnect)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 291 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'auth-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 292 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 293 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/login-websocket-setup.test.tsx:290:48)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should track connection states accurately\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      disconnected\n    Received:\n      connecting\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \n     \u001b[90m 300 |\u001b[39m       \u001b[90m// Initial state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'connection-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m       \n     \u001b[90m 303 |\u001b[39m       \u001b[90m// During connection\u001b[39m\n     \u001b[90m 304 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/login-websocket-setup.test.tsx:301:54)\n\n  \u25cf Login WebSocket Setup Integration - Agent 2 \u203a Connection State Management \u203a should maintain auth state during WebSocket operations\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: {\"access_token\": \"token_1755903927182_i8jhs4a4p\", \"expires_in\": 3600, \"refresh_token\": \"refresh_1755903927182\", \"token_type\": \"bearer\", \"user\": \"user_1755903927182_v7r71ph7t\"}\n    Received: \"[object Object]\"\n\n    \u001b[0m \u001b[90m 347 |\u001b[39m       \n     \u001b[90m 348 |\u001b[39m       \u001b[90m// Verify auth state persists through WebSocket connection\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 349 |\u001b[39m       expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'jwt_token'\u001b[39m))\u001b[33m.\u001b[39mtoBe(validToken)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 350 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 351 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 352 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/login-websocket-setup.test.tsx:349:49)\n\nFAIL __tests__/auth/context.auth-operations.test.tsx\n  \u25cf AuthContext - Auth Operations \u203a should handle login action\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 132 |\u001b[39m     \u001b[90m// Wait for the login action to complete\u001b[39m\n     \u001b[90m 133 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 134 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mclearDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 135 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 136 |\u001b[39m     expect(mockAuthService\u001b[33m.\u001b[39mhandleLogin)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 137 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:134:50)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should handle logout action\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": false, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 179 |\u001b[39m     \u001b[90m// Wait for logout methods to be called\u001b[39m\n     \u001b[90m 180 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 181 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 182 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 183 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 184 |\u001b[39m       expect(mockAuthStore\u001b[33m.\u001b[39mlogout)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/context.auth-operations.test.tsx:181:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf AuthContext - Auth Operations \u203a should set dev logout flag in development mode\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div />\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 205 |\u001b[39m     \u001b[90m// Wait for dev logout flag and logout methods to be called\u001b[39m\n     \u001b[90m 206 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 207 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39msetDevLogoutFlag)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 208 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 210 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mhandleLogout)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[0m\n\n      at toHaveBeenCalled (__tests__/auth/context.auth-operations.test.tsx:207:48)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/integration/comprehensive/collaboration-sync.test.tsx\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:540:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:541:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    TypeError: Cannot destructure property 'newHistory' of '(0 , _performancetestutils.addToHistory)(...)' as it is undefined.\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m ) \u001b[33m=>\u001b[39m {\n     \u001b[90m 262 |\u001b[39m   \u001b[36mconst\u001b[39m performAction \u001b[33m=\u001b[39m (action\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     \u001b[36mconst\u001b[39m { newHistory\u001b[33m,\u001b[39m newIndex } \u001b[33m=\u001b[39m addToHistory(history\u001b[33m,\u001b[39m currentIndex\u001b[33m,\u001b[39m action\u001b[33m,\u001b[39m maxHistorySize)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m     setHistory(newHistory)\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m     setCurrentIndex(newIndex)\u001b[33m;\u001b[39m\n     \u001b[90m 266 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.newHistory [as performAction] (__tests__/integration/comprehensive/collaboration-sync.test.tsx:263:13)\n      at performAction (__tests__/integration/comprehensive/collaboration-sync.test.tsx:430:37)\n      at executeDispatch (node_modules/react-dom/cjs/react-dom-client.development.js:16368:9)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at processDispatchQueue (node_modules/react-dom/cjs/react-dom-client.development.js:16418:19)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:17016:9\n      at batchedUpdates$1 (node_modules/react-dom/cjs/react-dom-client.development.js:3262:40)\n      at dispatchEventForPluginEventSystem (node_modules/react-dom/cjs/react-dom-client.development.js:16572:7)\n      at dispatchEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20658:11)\n      at dispatchDiscreteEvent (node_modules/react-dom/cjs/react-dom-client.development.js:20626:11)\n      at HTMLDivElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)\n      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)\n      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)\n      at HTMLButtonElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)\n      at HTMLButtonElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)\n      at HTMLButtonElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)\n      at node_modules/@testing-library/dom/dist/events.js:19:20\n      at node_modules/@testing-library/react/dist/pure.js:108:16\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:542:13)\n      at Object.performMultipleActions (__tests__/integration/comprehensive/collaboration-sync.test.tsx:96:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should maintain operation history for undo/redo\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      4 of 4 states\n    Received:\n      1 of 1 states\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"current-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mInitial state\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"history-info\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1\u001b[0m\n              \u001b[0m of \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m states\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mPerform Action\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mUndo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mRedo\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mClear History\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-undo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"can-redo\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 543 |\u001b[39m   \n     \u001b[90m 544 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 545 |\u001b[39m     expect(getByTestId(\u001b[32m'history-info'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'4 of 4 states'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 546 |\u001b[39m     expect(getByTestId(\u001b[32m'can-undo'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'yes'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 547 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 548 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:545:41)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Operation History Management \u203a should limit history size to prevent memory bloat\n\n    TypeError: Cannot read properties of undefined (reading 'length')\n\n    \u001b[0m \u001b[90m 439 |\u001b[39m \u001b[36mconst\u001b[39m renderHistoryLimitComponent \u001b[33m=\u001b[39m (history\u001b[33m:\u001b[39m string[]\u001b[33m,\u001b[39m limitReached\u001b[33m:\u001b[39m boolean\u001b[33m,\u001b[39m addMany\u001b[33m:\u001b[39m any) \u001b[33m=>\u001b[39m (\n     \u001b[90m 440 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 441 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"history-size\"\u001b[39m\u001b[33m>\u001b[39m{history\u001b[33m.\u001b[39mlength} items\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 442 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"limit-reached\"\u001b[39m\u001b[33m>\u001b[39m{limitReached \u001b[33m?\u001b[39m \u001b[32m'yes'\u001b[39m \u001b[33m:\u001b[39m \u001b[32m'no'\u001b[39m}\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 443 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mbutton\u001b[39m onClick\u001b[33m=\u001b[39m{addMany}\u001b[33m>\u001b[39m\u001b[33mAdd\u001b[39m \u001b[33mMany\u001b[39m \u001b[33mActions\u001b[39m\u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mbutton\u001b[39m\u001b[33m>\u001b[39m\n     \u001b[90m 444 |\u001b[39m   \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mdiv\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at length (__tests__/integration/comprehensive/collaboration-sync.test.tsx:441:46)\n      at renderHistoryLimitComponent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:202:12)\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)\n      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performSyncWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16231:7)\n      at flushSyncWorkAcrossRoots_impl (node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)\n      at processRootScheduleInMicrotask (node_modules/react-dom/cjs/react-dom-client.development.js:16116:7)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:16241:11\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.eventWrapper (node_modules/@testing-library/react/dist/pure.js:107:28)\n      at fireEvent (node_modules/@testing-library/dom/dist/events.js:12:35)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/dom/dist/events.js:110:36)\n      at fireEvent.<computed> [as click] (node_modules/@testing-library/react/dist/fire-event.js:15:52)\n      at click (__tests__/integration/comprehensive/collaboration-sync.test.tsx:569:13)\n      at Object.testHistoryLimit (__tests__/integration/comprehensive/collaboration-sync.test.tsx:106:13)\n\n  \u25cf Real-time Collaboration Sync Tests \u203a Real-time Synchronization \u203a should handle network interruptions gracefully\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      0 queued\n    Received:\n      3 queued\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"network-state\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mdisconnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queued-changes\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m queued\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button>\u001b[39m\n              \u001b[0mSimulate Network Issue\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 603 |\u001b[39m   \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 604 |\u001b[39m     expect(getByTestId(\u001b[32m'network-state'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'connected'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 605 |\u001b[39m     expect(getByTestId(\u001b[32m'queued-changes'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0 queued'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 606 |\u001b[39m   }\u001b[33m,\u001b[39m { timeout\u001b[33m:\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m.\u001b[39m\u001b[33mSHORT\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 607 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/comprehensive/collaboration-sync.test.tsx:605:43)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\nFAIL __tests__/services/apiClient.test.ts (5.507 s)\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a includes auth token from localStorage\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:68:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a falls back to sessionStorage when localStorage empty\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer session-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 495 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 496 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 497 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(expectedAuth)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 498 |\u001b[39m }\n     \u001b[90m 499 |\u001b[39m\n     \u001b[90m 500 |\u001b[39m \u001b[36mfunction\u001b[39m expectNoAuthHeaders() {\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:497:33)\n      at Object.expectAuthHeaders (__tests__/services/apiClient.test.ts:76:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Authentication Management \u203a handles missing auth tokens gracefully\n\n    expect(received).toBeUndefined()\n\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 501 |\u001b[39m   \u001b[36mconst\u001b[39m lastCall \u001b[33m=\u001b[39m mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls[mockFetch\u001b[33m.\u001b[39mmock\u001b[33m.\u001b[39mcalls\u001b[33m.\u001b[39mlength \u001b[33m-\u001b[39m \u001b[35m1\u001b[39m]\u001b[33m;\u001b[39m\n     \u001b[90m 502 |\u001b[39m   \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m lastCall[\u001b[35m1\u001b[39m]\u001b[33m.\u001b[39mheaders\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 503 |\u001b[39m   expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBeUndefined()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 504 |\u001b[39m }\n     \u001b[90m 505 |\u001b[39m\n     \u001b[90m 506 |\u001b[39m \u001b[36mfunction\u001b[39m expectMethodCall(method\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m expectedUrl\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m data\u001b[33m?\u001b[39m\u001b[33m:\u001b[39m any) {\u001b[0m\n\n      at toBeUndefined (__tests__/services/apiClient.test.ts:503:33)\n      at Object.expectNoAuthHeaders (__tests__/services/apiClient.test.ts:84:7)\n\n  \u25cf ApiClient Infrastructure Tests \u203a Retry Logic with Exponential Backoff \u203a handles intermittent network failures gracefully\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n    \u001b[0m \u001b[90m 321 |\u001b[39m\n     \u001b[90m 322 |\u001b[39m     \u001b[36mfunction\u001b[39m verifyIntermittentFailureRecovery(result\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 323 |\u001b[39m       expect(result\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mrecovered)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 324 |\u001b[39m     }\n     \u001b[90m 325 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/services/apiClient.test.ts:323:37)\n      at Object.verifyIntermittentFailureRecovery (__tests__/services/apiClient.test.ts:304:7)\n\nFAIL __tests__/integration/task-processing-basic.test.tsx\n  \u25cf Background Task Processing \u203a should queue and process background tasks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 71 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 73 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-456'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 74 |\u001b[39m     \n     \u001b[90m 75 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 76 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:73:42)\n\n  \u25cf Background Task Processing \u203a should handle priority task queuing\n\n    TypeError: (0 , _infrastructuretestutils.createMockTaskResponse) is not a function\n\n    \u001b[0m \u001b[90m 118 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 120 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-high-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 121 |\u001b[39m     setupFetchMock(createMockTaskResponse(\u001b[32m'task-normal-1'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 122 |\u001b[39m     \n     \u001b[90m 123 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/task-processing-basic.test.tsx:120:42)\n\nFAIL __tests__/integration/store-persistence.test.tsx\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a handles large message history persistence efficiently\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 218 |\u001b[39m       \n     \u001b[90m 219 |\u001b[39m       \u001b[90m// Verify localStorage can handle large data\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 220 |\u001b[39m       expect(mockLocalStorage\u001b[33m.\u001b[39msetItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 221 |\u001b[39m       \n     \u001b[90m 222 |\u001b[39m       \u001b[90m// Check performance of persistence operation\u001b[39m\n     \u001b[90m 223 |\u001b[39m       \u001b[36mconst\u001b[39m startTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/integration/store-persistence.test.tsx:220:40)\n\n  \u25cf Store Persistence Integration Tests \u203a Large State Persistence \u203a implements storage quota management\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      1\n    Received:\n      0\n\n    \u001b[0m \u001b[90m 245 |\u001b[39m       \n     \u001b[90m 246 |\u001b[39m       \u001b[90m// Verify graceful handling of quota issues\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 247 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 248 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 249 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 250 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:247:52)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a synchronizes state changes across browser tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 260 |\u001b[39m       \n     \u001b[90m 261 |\u001b[39m       \u001b[90m// Simulate storage event from another tab\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 262 |\u001b[39m       \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 263 |\u001b[39m         key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 264 |\u001b[39m         newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 265 |\u001b[39m           state\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:262:28)\n\n  \u25cf Store Persistence Integration Tests \u203a Cross-Tab State Synchronization \u203a prevents infinite sync loops between tabs\n\n    TypeError: Failed to construct 'StorageEvent': parameter 2 has member 'storageArea' that is not of type 'Storage'.\n\n    \u001b[0m \u001b[90m 299 |\u001b[39m       \u001b[90m// Simulate multiple rapid storage events\u001b[39m\n     \u001b[90m 300 |\u001b[39m       \u001b[36mfor\u001b[39m (\u001b[36mlet\u001b[39m i \u001b[33m=\u001b[39m \u001b[35m0\u001b[39m\u001b[33m;\u001b[39m i \u001b[33m<\u001b[39m \u001b[35m10\u001b[39m\u001b[33m;\u001b[39m i\u001b[33m++\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 301 |\u001b[39m         \u001b[36mconst\u001b[39m storageEvent \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStorageEvent\u001b[39m(\u001b[32m'storage'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 302 |\u001b[39m           key\u001b[33m:\u001b[39m \u001b[32m'auth-store'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 303 |\u001b[39m           newValue\u001b[33m:\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({\n     \u001b[90m 304 |\u001b[39m             state\u001b[33m:\u001b[39m { user\u001b[33m:\u001b[39m { id\u001b[33m:\u001b[39m \u001b[32m`user-${i}`\u001b[39m }\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m`token-${i}`\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/Storage.js:21:9)\n      at Object.exports._convertInherit (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:70:25)\n      at Object.exports.convert (node_modules/jsdom/lib/jsdom/living/generated/StorageEventInit.js:97:11)\n      at new StorageEvent (node_modules/jsdom/lib/jsdom/living/generated/StorageEvent.js:112:35)\n      at Object.<anonymous> (__tests__/integration/store-persistence.test.tsx:301:30)\n\n  \u25cf Store Persistence Integration Tests \u203a Migration and Versioning \u203a handles legacy state format migration\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      none\n    Received:\n      test-thread-123\n\n    \u001b[0m \u001b[90m 331 |\u001b[39m       \u001b[90m// Verify app handles legacy format gracefully\u001b[39m\n     \u001b[90m 332 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'messages-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'0'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 333 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'active-thread'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'none'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 334 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 335 |\u001b[39m\n     \u001b[90m 336 |\u001b[39m     it(\u001b[32m'maintains backwards compatibility with older versions'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/store-persistence.test.tsx:333:51)\n\nFAIL __tests__/integration/analytics-realtime.test.tsx\n  \u25cf Real-time Metrics Integration \u203a should aggregate metrics in real-time\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m         simulateWebSocketMessage(handleMessage\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metrics_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 45 |\u001b[39m           metrics\u001b[33m:\u001b[39m { requests_per_second\u001b[33m:\u001b[39m \u001b[35m150\u001b[39m }\n     \u001b[90m 46 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:43:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:58:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle metric streaming\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 78 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 79 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 80 |\u001b[39m         simulateWebSocketMessage(handleStreamUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 81 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_stream'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 82 |\u001b[39m           metric\u001b[33m:\u001b[39m { timestamp\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m value\u001b[33m:\u001b[39m \u001b[35m100\u001b[39m }\n     \u001b[90m 83 |\u001b[39m         }\u001b[33m,\u001b[39m \u001b[35m50\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:80:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:98:35)\n\n  \u25cf Real-time Metrics Integration \u203a should handle real-time dashboard updates\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 213 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 214 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 215 |\u001b[39m         simulateWebSocketMessage(handleDashboardUpdate\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 216 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'dashboard_update'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 217 |\u001b[39m           dashboard\u001b[33m:\u001b[39m {\n     \u001b[90m 218 |\u001b[39m             active_users\u001b[33m:\u001b[39m \u001b[35m1250\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:215:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:237:35)\n\n  \u25cf Real-time Metrics Integration \u203a should implement metric alerting thresholds\n\n    TypeError: (0 , _infrastructuretestutils.simulateWebSocketMessage) is not a function\n\n    \u001b[0m \u001b[90m 258 |\u001b[39m         }\u001b[33m;\u001b[39m\n     \u001b[90m 259 |\u001b[39m         \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 260 |\u001b[39m         simulateWebSocketMessage(handleAlert\u001b[33m,\u001b[39m {\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 261 |\u001b[39m           type\u001b[33m:\u001b[39m \u001b[32m'metric_alert'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 262 |\u001b[39m           alert\u001b[33m:\u001b[39m {\n     \u001b[90m 263 |\u001b[39m             metric\u001b[33m:\u001b[39m \u001b[32m'error_rate'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at __tests__/integration/analytics-realtime.test.tsx:260:33\n      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:23953:20)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)\n      at commitHookPassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)\n      at recursivelyTraversePassiveMountEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)\n      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)\n      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:15379:15\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/analytics-realtime.test.tsx:278:35)\n\nFAIL __tests__/integration/api-calls-advanced.test.tsx\n  \u25cf API Calls - Request Interceptors \u203a retries spec fetching on failure\n\n    expect(received).resolves.toBeDefined()\n\n    Received promise rejected instead of resolved\n    Rejected to value: [TypeError: response.clone is not a function]\n\n    \u001b[0m \u001b[90m 235 |\u001b[39m\n     \u001b[90m 236 |\u001b[39m     \u001b[90m// Should eventually succeed after retry\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 237 |\u001b[39m     \u001b[36mawait\u001b[39m expect(\n     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 238 |\u001b[39m       apiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'retry_test'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\n     \u001b[90m 239 |\u001b[39m     )\u001b[33m.\u001b[39mresolves\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n     \u001b[90m 240 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at expect (node_modules/expect/build/index.js:2116:15)\n      at Object.expect (__tests__/integration/api-calls-advanced.test.tsx:237:11)\n\nFAIL __tests__/integration/role-based-access.test.tsx\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should redirect unauthorized users from admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 151 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupUnauthorizedUserRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 152 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 153 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 154 |\u001b[39m       \u001b[36mawait\u001b[39m attemptAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 155 |\u001b[39m       \n     \u001b[90m 156 |\u001b[39m       expectAccessDenied()\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:153:13)\n\n  \u25cf Role-Based Access Control Integration \u203a Protected Route Navigation \u203a should allow enterprise users to access admin routes\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `ProtectedComponent`.\n\n    \u001b[0m \u001b[90m 161 |\u001b[39m       \u001b[36mconst\u001b[39m { \u001b[33mProtectedComponent\u001b[39m } \u001b[33m=\u001b[39m setupAuthorizedAdminRoute()\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 163 |\u001b[39m       render(\u001b[33m<\u001b[39m\u001b[33mProtectedComponent\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mawait\u001b[39m verifyAdminRouteAccess()\u001b[33m;\u001b[39m\n     \u001b[90m 165 |\u001b[39m       expectAdminInterfaceRendered()\u001b[33m;\u001b[39m\n     \u001b[90m 166 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at createFiberFromTypeAndProps (node_modules/react-dom/cjs/react-dom-client.development.js:4259:28)\n      at createFiberFromElement (node_modules/react-dom/cjs/react-dom-client.development.js:4273:14)\n      at reconcileChildFibersImpl (node_modules/react-dom/cjs/react-dom-client.development.js:7879:31)\n      at node_modules/react-dom/cjs/react-dom-client.development.js:8057:33\n      at reconcileChildren (node_modules/react-dom/cjs/react-dom-client.development.js:8621:13)\n      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:8914:7)\n      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)\n      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)\n      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)\n      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)\n      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)\n      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)\n      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)\n      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:860:10)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)\n      at render (node_modules/@testing-library/react/dist/pure.js:292:10)\n      at Object.<anonymous> (__tests__/integration/role-based-access.test.tsx:163:13)\n\nFAIL __tests__/integration/first-load-bundle.test.tsx\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under 3G conditions within 5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a loads bundle under WiFi conditions within 2 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a shows loading state during bundle fetch\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Bundle Loading Performance \u203a validates bundle size is under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a completes hydration without mismatches\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a renders consistent markup server/client\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Hydration Verification \u203a preserves state during hydration\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a initializes with no authenticated content flash\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a shows appropriate unauthenticated state\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Authentication State Initialization \u203a handles authentication check gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a initializes localStorage without errors\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a handles cookies initialization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-bundle.test.tsx:59:46)\n\n  \u25cf First Load Bundle Testing - Agent 1 \u203a Storage Initialization \u203a recovers from storage quota exceeded\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-bundle.test.tsx:64:13)\n\nFAIL __tests__/integration/first-load-edge-cases.test.tsx\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a registers service worker on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a handles service worker registration failure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Service Worker Edge Cases \u203a updates service worker on version change\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles deep link to protected route on first load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a preserves deep link after authentication\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Deep Link Handling \u203a handles invalid deep links gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles network interruption during initial load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a handles slow 3G network gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Network and Connectivity Edge Cases \u203a retries failed network requests automatically\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles disabled localStorage gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with disabled cookies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a handles strict Content Security Policy\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Restriction Edge Cases \u203a works with ad blockers enabled\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a handles multiple rapid page refreshes\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Rapid User Interaction Edge Cases \u203a prevents race conditions during rapid clicks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a provides fallbacks for missing APIs\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-edge-cases.test.tsx:59:46)\n\n  \u25cf First Load Edge Cases Testing - Agent 1 \u203a Browser Compatibility Edge Cases \u203a handles unsupported browser gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 62 |\u001b[39m\n     \u001b[90m 63 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 64 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 65 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 67 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-edge-cases.test.tsx:64:13)\n\nFAIL __tests__/integration/thread-switching.test.tsx (6.507 s)\n  \u25cf Thread Switching and Navigation Tests \u203a Rapid Thread Switching \u203a should handle 10 rapid thread switches within 2 seconds\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 10\n    Received: 1\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mWS: \u001b[0m\n              \u001b[0mConnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m\u25cf\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mThird Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<h2\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</h2>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 1 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 2 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 3 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<textarea\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                    \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<button\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                    \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mSend\u001b[0m\n                  \u001b[36m</button>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mthread-1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1755903931586\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 480 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 481 |\u001b[39m         \u001b[36mconst\u001b[39m switchCount \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'switch-count'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 482 |\u001b[39m         expect(parseInt(switchCount\u001b[33m.\u001b[39mtextContent \u001b[33m||\u001b[39m \u001b[32m'0'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 483 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 484 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 485 |\u001b[39m\u001b[0m\n\n      at toBe (__tests__/integration/thread-switching.test.tsx:482:58)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Thread Switching and Navigation Tests \u203a Message Isolation \u203a should maintain separate message histories\n\n    Unable to find an element with the text: New message for thread 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mWS: \u001b[0m\n            \u001b[0mConnected\u001b[0m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mFirst Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSecond Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m\u25cf\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mThird Thread\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h2\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSecond Thread\u001b[0m\n              \u001b[36m</h2>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mMessage 1 in Second Thread\u001b[0m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-1\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mMessage 2 in Second Thread\u001b[0m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mMessage 3 in Second Thread\u001b[0m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<textarea\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<button\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                  \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSend\u001b[0m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n            \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m2\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mthread-1,thread-2\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m1755903932539\u001b[0m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 576 |\u001b[39m       act(() \u001b[33m=>\u001b[39m { jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 577 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 578 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 579 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'New message for thread 1'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 580 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 581 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/thread-switching.test.tsx:578:20)\n\n  \u25cf Thread Switching and Navigation Tests \u203a Browser Navigation Integration \u203a should handle browser back/forward navigation\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n    Received: \"/chat/thread-1\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 631 |\u001b[39m       \u001b[90m// Verify URL updates were called\u001b[39m\n     \u001b[90m 632 |\u001b[39m       expect(mockPush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-1'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 633 |\u001b[39m       expect(mockPush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 634 |\u001b[39m       expect(mockPush)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 635 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 636 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/thread-switching.test.tsx:633:24)\n\n  \u25cf Thread Switching and Navigation Tests \u203a Browser Navigation Integration \u203a should maintain thread state during navigation\n\n    expect(element).toHaveValue(Navigation test draft)\n\n    Expected the element to have value:\n      Navigation test draft\n    Received:\n\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mWS: \u001b[0m\n              \u001b[0mConnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m\u25cf\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mThird Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<h2\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</h2>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 1 in Second Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 2 in Second Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-2-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 3 in Second Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<textarea\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                    \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<button\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                    \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mSend\u001b[0m\n                  \u001b[36m</button>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m2\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mthread-1,thread-2\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1755903933973\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 663 |\u001b[39m\n     \u001b[90m 664 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 665 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'message-input'\u001b[39m))\u001b[33m.\u001b[39mtoHaveValue(\u001b[32m'Navigation test draft'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 666 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 667 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 668 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveValue (__tests__/integration/thread-switching.test.tsx:665:53)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Thread Switching and Navigation Tests \u203a Performance Metrics \u203a should switch threads in less than 200ms\n\n    expect(received).toBeLessThan(expected)\n\n    Expected: < 200\n    Received:   250\n\n    \u001b[0m \u001b[90m 688 |\u001b[39m\n     \u001b[90m 689 |\u001b[39m       \u001b[36mconst\u001b[39m switchTime \u001b[33m=\u001b[39m performance\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m startTime\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 690 |\u001b[39m       expect(switchTime)\u001b[33m.\u001b[39mtoBeLessThan(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 691 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 692 |\u001b[39m\n     \u001b[90m 693 |\u001b[39m     it(\u001b[32m'should handle concurrent rapid switches without performance degradation'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeLessThan (__tests__/integration/thread-switching.test.tsx:690:26)\n\n  \u25cf Thread Switching and Navigation Tests \u203a Performance Metrics \u203a should handle concurrent rapid switches without performance degradation\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 20\n    Received: 1\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-switching-container\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-connected\u001b[39m=\u001b[32m\"true\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mWS: \u001b[0m\n              \u001b[0mConnected\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-sidebar\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item active\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-indicator\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0m\u25cf\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mSecond Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"thread-item \"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mThird Thread\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-area\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-messages-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<h2\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"active-thread-title\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mFirst Thread\u001b[0m\n                \u001b[36m</h2>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-history\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 1 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message ai\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 2 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"message user\"\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-msg-thread-1-2\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mMessage 3 in First Thread\u001b[0m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input-area\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<textarea\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                    \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<button\u001b[39m\n                    \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-button\"\u001b[39m\n                    \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mSend\u001b[0m\n                  \u001b[36m</button>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"debug-info\"\u001b[39m\n              \u001b[33mstyle\u001b[39m=\u001b[32m\"display: none;\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"switch-history\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mthread-1\u001b[0m\n              \u001b[36m</div>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"last-switch-time\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m1755903934604\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 716 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 717 |\u001b[39m         \u001b[36mconst\u001b[39m switchCount \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'switch-count'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 718 |\u001b[39m         expect(parseInt(switchCount\u001b[33m.\u001b[39mtextContent \u001b[33m||\u001b[39m \u001b[32m'0'\u001b[39m))\u001b[33m.\u001b[39mtoBe(\u001b[35m20\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 719 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 720 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 721 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at toBe (__tests__/integration/thread-switching.test.tsx:718:58)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/integration/websocket-complete.test.tsx\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\nFAIL __tests__/integration/first-load-performance.test.tsx\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves First Contentful Paint under 1.5 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves Time to Interactive under 3 seconds\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a maintains bundle size under 1MB gzipped\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Core Performance Benchmarks \u203a achieves layout stability with CLS < 0.1\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a inlines critical CSS for above-fold content\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a preloads critical fonts effectively\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a optimizes image loading with lazy loading\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Resource Loading Performance \u203a implements effective code splitting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a maintains memory usage under 100MB after load\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a keeps main thread blocking time under 50ms\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Memory and CPU Performance \u203a achieves smooth frame rate during initial render\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a implements effective HTTP/2 resource prioritization\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    ReferenceError: setupAuthServiceMocks is not defined\n\n    \u001b[0m \u001b[90m 124 |\u001b[39m   startMockServer()\u001b[33m;\u001b[39m\n     \u001b[90m 125 |\u001b[39m   installWebSocketMock()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 126 |\u001b[39m   setupAuthServiceMocks()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 127 |\u001b[39m }\n     \u001b[90m 128 |\u001b[39m\n     \u001b[90m 129 |\u001b[39m \u001b[90m/**\u001b[39m\u001b[0m\n\n      at setupAuthServiceMocks (__tests__/mocks/index.ts:126:3)\n      at initializeAllMocks (__tests__/mocks/index.ts:266:3)\n      at Object.<anonymous> (__tests__/integration/first-load-performance.test.tsx:62:46)\n\n  \u25cf First Load Performance Testing - Agent 1 \u203a Network Performance Optimization \u203a uses service worker for effective caching\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 66 |\u001b[39m\n     \u001b[90m 67 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 68 |\u001b[39m     testEnv\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 69 |\u001b[39m     performanceObserver\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m     cleanupTest()\u001b[33m;\u001b[39m\n     \u001b[90m 71 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/first-load-performance.test.tsx:68:13)\n\nFAIL __tests__/integration/error-handling-retry.test.tsx (5.404 s)\n  \u25cf Error Handling - Retry Logic \u203a retries failed requests with exponential backoff\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Retry 1\n    Received:\n      Retry 2\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-test-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStart Request\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mRetry \u001b[0m\n                \u001b[0m2\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 393 |\u001b[39m     \n     \u001b[90m 394 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 395 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'retry-count'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Retry 1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 396 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 397 |\u001b[39m     \n     \u001b[90m 398 |\u001b[39m     act(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:395:49)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Error Handling - Request Cancellation \u203a cancels ongoing requests\n\n    Unable to find an element by: [data-testid=\"error\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancellable-request\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"start-request\"\u001b[39m\n            \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mStart Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<button\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"cancel-request\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mCancel Request\u001b[0m\n          \u001b[36m</button>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mLoading...\u001b[0m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 508 |\u001b[39m     userEvent\u001b[33m.\u001b[39mclick(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'cancel-request'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 509 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 510 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 511 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Request cancelled'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 512 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 513 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-retry.test.tsx:510:18)\n\n  \u25cf Error Handling - Timeout Handling \u203a handles request timeouts correctly\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Timeout\n    Received:\n\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"timeout-component\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"fast-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mFast Timeout (100ms)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"slow-timeout\"\u001b[39m\n              \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSlow Timeout (10s)\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mLoading...\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"result\"\u001b[39m\n            \u001b[36m/>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 585 |\u001b[39m     \n     \u001b[90m 586 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 587 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'result'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Timeout'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 588 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 589 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 590 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/error-handling-retry.test.tsx:587:44)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/integration/critical/websocket-auth.test.tsx\n  \u25cf WebSocket and Authentication Integration \u203a WebSocket Provider Integration \u203a should reconnect WebSocket when authentication changes\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"new-token\"\n    Received: null\n\n    \u001b[0m \u001b[90m 59 |\u001b[39m       \n     \u001b[90m 60 |\u001b[39m       \u001b[36mawait\u001b[39m flushPromises()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 61 |\u001b[39m       expect(useAuthStore\u001b[33m.\u001b[39mgetState()\u001b[33m.\u001b[39mtoken)\u001b[33m.\u001b[39mtoBe(\u001b[32m'new-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 62 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/critical/websocket-auth.test.tsx:61:45)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should complete OAuth flow and establish WebSocket\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:73:7)\n\n  \u25cf WebSocket and Authentication Integration \u203a Authentication Flow Integration \u203a should persist authentication across page refreshes\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n    \u001b[0m \u001b[90m 113 |\u001b[39m\n     \u001b[90m 114 |\u001b[39m \u001b[36mfunction\u001b[39m assertUserIsAuthenticated() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 115 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'auth_token'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 116 |\u001b[39m   expect(localStorage\u001b[33m.\u001b[39mgetItem(\u001b[32m'user'\u001b[39m))\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\n     \u001b[90m 117 |\u001b[39m }\n     \u001b[90m 118 |\u001b[39m\u001b[0m\n\n      at toBeTruthy (__tests__/integration/critical/websocket-auth.test.tsx:115:46)\n      at Object.assertUserIsAuthenticated (__tests__/integration/critical/websocket-auth.test.tsx:84:7)\n\nFAIL __tests__/integration/data-fetching-pagination.test.tsx\n  \u25cf Data Fetching - Pagination \u203a disables navigation buttons appropriately\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"next-page\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[0mLoading...\u001b[0m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 325 |\u001b[39m     }\n     \u001b[90m 326 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 327 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'next-page'\u001b[39m))\u001b[33m.\u001b[39mtoBeDisabled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 328 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m   it(\u001b[32m'jumps to first page correctly'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at Object.getByTestId (__tests__/integration/data-fetching-pagination.test.tsx:327:19)\n\nFAIL __tests__/integration/error-handling-core.test.tsx\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 404 Not Found errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Resource not found\n    Received:\n      Error: HTTP 404: Not Found\n\n    \u001b[0m \u001b[90m 374 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 376 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Resource not found'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 377 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'404'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 378 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 379 |\u001b[39m\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:376:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 401 Unauthorized errors\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Unauthorized access\n    Received:\n      Error: HTTP 401: Unauthorized\n\n    \u001b[0m \u001b[90m 385 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 386 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 387 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Unauthorized access'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 388 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 389 |\u001b[39m\n     \u001b[90m 390 |\u001b[39m   it(\u001b[32m'handles 403 Forbidden errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:387:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 422 Validation errors with details\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      Validation failed\n    Received:\n      Error: HTTP 422: Unprocessable Entity\n\n    \u001b[0m \u001b[90m 403 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 404 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 405 |\u001b[39m     expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-message'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Validation failed'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 406 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 407 |\u001b[39m\n     \u001b[90m 408 |\u001b[39m   it(\u001b[32m'handles 429 Rate Limiting errors'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveTextContent (__tests__/integration/error-handling-core.test.tsx:405:49)\n\n  \u25cf Error Handling - 4xx Client Errors \u203a handles 429 Rate Limiting errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 422 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 423 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 424 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 425 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'429'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 426 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 427 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:424:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 500 Internal Server errors with retry\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m2\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 449 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 450 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 451 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 452 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'500'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 454 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:451:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 502 Bad Gateway errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 457 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/bad-gateway`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 458 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 459 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 460 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'502'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 461 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 462 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:459:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a handles 503 Service Unavailable errors\n\n    Unable to find an element by: [data-testid=\"error-status\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 465 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/service-unavailable`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 466 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 467 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 468 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'503'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:467:18)\n\n  \u25cf Error Handling - 5xx Server Errors \u203a allows manual retry after failure\n\n    Unable to find an element by: [data-testid=\"error-display\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"loading\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[0mLoading... \u001b[0m\n          \u001b[36m<span\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"retry-count\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[0mRetry \u001b[0m\n            \u001b[0m1\u001b[0m\n          \u001b[36m</span>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 473 |\u001b[39m     render(\u001b[33m<\u001b[39m\u001b[33mErrorHandlingComponent\u001b[39m url\u001b[33m=\u001b[39m{\u001b[32m`${mockApiUrl}/api/server-error`\u001b[39m} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 474 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 475 |\u001b[39m     \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 476 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'error-display'\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 477 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 478 |\u001b[39m     \u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/error-handling-core.test.tsx:475:18)\n\nFAIL __tests__/integration/offline-mode.test.tsx\n  \u25cf Enhanced Offline Mode Tests \u203a Offline/Online Transitions \u203a should queue actions when offline and sync when online\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      syncing\n    Received:\n      Sync: idle\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStatus: \u001b[0m\n              \u001b[0mOnline\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"sync-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSync: \u001b[0m\n              \u001b[0midle\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queue-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mQueued: \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m actions\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notifications\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notification-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mYou are now offline. Changes will be saved locally.\u001b[0m\n                \u001b[36m<button>\u001b[39m\n                  \u001b[0m\u00d7\u001b[0m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"title-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Conversation title\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"create-conversation-btn\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mCreate Conversation\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<textarea\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message-btn\"\u001b[39m\n                \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSend Message\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"manual-sync-btn\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Sync\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h3>\u001b[39m\n                \u001b[0mConversations (\u001b[0m\n                \u001b[0m1\u001b[0m\n                \u001b[0m)\u001b[0m\n              \u001b[36m</h3>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mOffline Conversation\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 556 |\u001b[39m\n     \u001b[90m 557 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 558 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'sync-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'syncing'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 559 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 560 |\u001b[39m\n     \u001b[90m 561 |\u001b[39m       \u001b[90m// Wait for sync to complete\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/offline-mode.test.tsx:558:51)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Enhanced Offline Mode Tests \u203a Error Handling \u203a should handle sync failures with retry\n\n    expect(element).toHaveTextContent()\n\n    Expected element to have text content:\n      error\n    Received:\n      Sync: idle\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"connection-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mStatus: \u001b[0m\n              \u001b[0mOnline\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"sync-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSync: \u001b[0m\n              \u001b[0midle\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"queue-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mQueued: \u001b[0m\n              \u001b[0m1\u001b[0m\n              \u001b[0m actions\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notifications\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"notification-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mYou are now offline. Changes will be saved locally.\u001b[0m\n                \u001b[36m<button>\u001b[39m\n                  \u001b[0m\u00d7\u001b[0m\n                \u001b[36m</button>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"title-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Conversation title\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"create-conversation-btn\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mCreate Conversation\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div>\u001b[39m\n              \u001b[36m<textarea\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"message-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Type your message...\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message-btn\"\u001b[39m\n                \u001b[33mdisabled\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mSend Message\u001b[0m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"manual-sync-btn\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Sync\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<h3>\u001b[39m\n                \u001b[0mConversations (\u001b[0m\n                \u001b[0m1\u001b[0m\n                \u001b[0m)\u001b[0m\n              \u001b[36m</h3>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"conversation-0\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mTest\u001b[0m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 804 |\u001b[39m       \u001b[90m// Should show sync error\u001b[39m\n     \u001b[90m 805 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 806 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'sync-status'\u001b[39m))\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 807 |\u001b[39m         expect(screen\u001b[33m.\u001b[39mgetByText(\u001b[35m/Sync failed/\u001b[39m))\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 808 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 809 |\u001b[39m\u001b[0m\n\n      at toHaveTextContent (__tests__/integration/offline-mode.test.tsx:806:51)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf Enhanced Offline Mode Tests \u203a Manual Sync Operations \u203a should allow manual sync when online\n\n    expect(element).toBeDisabled()\n\n    Received element is not disabled:\n      <button data-testid=\"manual-sync-btn\" />\n\n    \u001b[0m \u001b[90m 849 |\u001b[39m\n     \u001b[90m 850 |\u001b[39m       \u001b[90m// Manual sync button should be disabled (no actions to sync)\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 851 |\u001b[39m       expect(screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'manual-sync-btn'\u001b[39m))\u001b[33m.\u001b[39mtoBeDisabled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 852 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 853 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 854 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBeDisabled (__tests__/integration/offline-mode.test.tsx:851:53)\n\nFAIL __tests__/services/webSocketService.test.ts\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection success\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 91 |\u001b[39m\n     \u001b[90m 92 |\u001b[39m     \u001b[36mfunction\u001b[39m expectAuthTokenSent() {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 93 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 94 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m })\n     \u001b[90m 95 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 96 |\u001b[39m     }\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:93:34)\n      at expectAuthTokenSent (__tests__/services/webSocketService.test.ts:89:7)\n      at Object.expectSuccessfulConnection (__tests__/services/webSocketService.test.ts:67:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection errors\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: Connection failed]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755903936483,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 122 |\u001b[39m     \u001b[36mfunction\u001b[39m expectErrorHandling(statusHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m errorHandler\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m\u001b[33m,\u001b[39m error\u001b[33m:\u001b[39m \u001b[33mError\u001b[39m) {\n     \u001b[90m 123 |\u001b[39m       expect(statusHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 124 |\u001b[39m       expect(errorHandler)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 125 |\u001b[39m     }\n     \u001b[90m 126 |\u001b[39m\n     \u001b[90m 127 |\u001b[39m     it(\u001b[32m'should disconnect WebSocket properly'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:124:28)\n      at Object.expectErrorHandling (__tests__/services/webSocketService.test.ts:102:7)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should disconnect WebSocket properly\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 131 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mdisconnect()\u001b[33m;\u001b[39m\n     \u001b[90m 132 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 133 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39mclose)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 134 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 135 |\u001b[39m\n     \u001b[90m 136 |\u001b[39m     it(\u001b[32m'should handle multiple connection attempts gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/services/webSocketService.test.ts:133:35)\n\n  \u25cf webSocketService \u203a Connection Management \u203a should handle connection state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:170:28)\n      at Object.simulateCloseAndVerify (__tests__/services/webSocketService.test.ts:148:7)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should send queued messages after reconnection\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"auth\\\",\\\"token\\\":\\\"test-token-123\\\"}\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 241 |\u001b[39m\n     \u001b[90m 242 |\u001b[39m       \u001b[90m// Should send auth token and queued messages\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 243 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'auth'\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m \u001b[32m'test-token-123'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 244 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message1))\u001b[33m;\u001b[39m\n     \u001b[90m 245 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify(message2))\u001b[33m;\u001b[39m\n     \u001b[90m 246 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:243:34)\n\n  \u25cf webSocketService \u203a Message Sending and Receiving \u203a should handle binary message data\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: [0, 0, 0, 0, 0, 0, 0, 0]\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 302 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monmessage\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(messageEvent)\u001b[33m;\u001b[39m\n     \u001b[90m 303 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 304 |\u001b[39m       expect(onBinaryMessage)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(binaryData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 305 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 306 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:304:31)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should attempt reconnection when onReconnect is provided\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:317:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should not attempt reconnection without onReconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:331:28)\n\n  \u25cf webSocketService \u203a Reconnection Logic \u203a should cancel reconnection on explicit disconnect\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:348:28)\n\n  \u25cf webSocketService \u203a Heartbeat Mechanism \u203a should send heartbeat messages at configured interval\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"{\\\"type\\\":\\\"ping\\\"}\"\n    Received: \"{\\\"type\\\":\\\"ping\\\",\\\"timestamp\\\":1755903966875}\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 370 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m30000\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 371 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 372 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 373 |\u001b[39m         \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mstringify({ type\u001b[33m:\u001b[39m \u001b[32m'ping'\u001b[39m })\n     \u001b[90m 374 |\u001b[39m       )\u001b[33m;\u001b[39m\n     \u001b[90m 375 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:372:34)\n\n  \u25cf webSocketService \u203a Rate Limiting \u203a should reset rate limit window over time\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 2\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 429 |\u001b[39m       webSocketService\u001b[33m.\u001b[39msendMessage({ type\u001b[33m:\u001b[39m \u001b[32m'test2'\u001b[39m\u001b[33m,\u001b[39m payload\u001b[33m:\u001b[39m {} })\u001b[33m;\u001b[39m\n     \u001b[90m 430 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 431 |\u001b[39m       expect(mockWebSocket\u001b[33m.\u001b[39msend)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m2\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 432 |\u001b[39m       \n     \u001b[90m 433 |\u001b[39m       \u001b[90m// Advance time past window\u001b[39m\n     \u001b[90m 434 |\u001b[39m       jest\u001b[33m.\u001b[39madvanceTimersByTime(\u001b[35m1100\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledTimes (__tests__/services/webSocketService.test.ts:431:34)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle WebSocket errors gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n    - [Error: WebSocket error]\n    + Object {\n    +   \"code\": 1006,\n    +   \"message\": \"WebSocket connection error\",\n    +   \"recoverable\": true,\n    +   \"timestamp\": 1755903936961,\n    +   \"type\": \"connection\",\n    + },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 452 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39monerror\u001b[33m?\u001b[39m\u001b[33m.\u001b[39m(error \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\n     \u001b[90m 453 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 454 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(error)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 455 |\u001b[39m       expect(onStatusChange)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'CLOSED'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 456 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 457 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:454:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle connection failure gracefully\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: Any<Error>\n    Received: {\"code\": 1000, \"message\": \"Failed to create WebSocket\", \"recoverable\": true, \"timestamp\": 1755903936986, \"type\": \"connection\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 466 |\u001b[39m       webSocketService\u001b[33m.\u001b[39mconnect(\u001b[32m'ws://localhost:8000/ws'\u001b[39m\u001b[33m,\u001b[39m { onError })\u001b[33m;\u001b[39m\n     \u001b[90m 467 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 468 |\u001b[39m       expect(onError)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(expect\u001b[33m.\u001b[39many(\u001b[33mError\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 469 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 470 |\u001b[39m\n     \u001b[90m 471 |\u001b[39m     it(\u001b[32m'should handle message sending errors'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/webSocketService.test.ts:468:23)\n\n  \u25cf webSocketService \u203a Error Handling \u203a should handle message sending errors\n\n    expect(received).not.toThrow()\n\n    Error name:    \"Error\"\n    Error message: \"Send failed\"\n\n        \u001b[0m \u001b[90m 476 |\u001b[39m       \u001b[90m// Make send throw an error\u001b[39m\n         \u001b[90m 477 |\u001b[39m       mockWebSocket\u001b[33m.\u001b[39msend\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 478 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\u001b[32m'Send failed'\u001b[39m)\u001b[33m;\u001b[39m\n         \u001b[90m     |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 479 |\u001b[39m       })\u001b[33m;\u001b[39m\n         \u001b[90m 480 |\u001b[39m       \n         \u001b[90m 481 |\u001b[39m       \u001b[90m// Should not throw when sending message\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:478:15)\n      at WebSocketService.send (services/webSocketService.ts:886:15)\n      at WebSocketService.send [as sendMessage] (services/webSocketService.ts:894:10)\n      at sendMessage (__tests__/services/webSocketService.test.ts:483:26)\n      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)\n      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n      at Object.toThrow (__tests__/services/webSocketService.test.ts:484:14)\n\n  \u25cf webSocketService \u203a State Management \u203a should track connection state accurately\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:499:28)\n\n  \u25cf webSocketService \u203a State Management \u203a should track reconnecting state\n\n    TypeError: Cannot read properties of undefined (reading 'code')\n\n    \u001b[0m \u001b[90m 746 |\u001b[39m         \n     \u001b[90m 747 |\u001b[39m         \u001b[90m// Handle authentication errors specifically\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 748 |\u001b[39m         \u001b[36mif\u001b[39m (event\u001b[33m.\u001b[39mcode \u001b[33m===\u001b[39m \u001b[35m1008\u001b[39m) {\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 749 |\u001b[39m           logger\u001b[33m.\u001b[39merror(\u001b[32m'WebSocket authentication failed'\u001b[39m\u001b[33m,\u001b[39m undefined\u001b[33m,\u001b[39m {\n     \u001b[90m 750 |\u001b[39m             component\u001b[33m:\u001b[39m \u001b[32m'WebSocketService'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 751 |\u001b[39m             action\u001b[33m:\u001b[39m \u001b[32m'auth_rejection'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.code [as onclose] (services/webSocketService.ts:748:19)\n      at Object.<anonymous> (__tests__/services/webSocketService.test.ts:511:28)\n\nFAIL __tests__/integration/data-generation.test.tsx\n  \u25cf Synthetic Data Generation Flow \u203a should generate synthetic data based on user input\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m\n     \u001b[90m 39 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/data-generation.test.tsx:40:12)\n\n  \u25cf Synthetic Data Generation Flow \u203a should export synthetic data in multiple formats\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m\n     \u001b[90m 39 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/data-generation.test.tsx:40:12)\n\n  \u25cf Generation Service Integration \u203a should handle batch generation jobs\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    A mock server is already listening on this url\n\n    \u001b[0m \u001b[90m 38 |\u001b[39m\n     \u001b[90m 39 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 40 |\u001b[39m   mockWs \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWS\u001b[39m(\u001b[32m'ws://localhost:8000/ws'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 41 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at new Server (node_modules/mock-socket/dist/mock-socket.js:1991:13)\n      at new WS (node_modules/jest-websocket-mock/lib/jest-websocket-mock.cjs.js:111:19)\n      at Object.<anonymous> (__tests__/integration/data-generation.test.tsx:40:12)\n\n  \u25cf Generation Service Integration \u203a should stream generation progress via WebSocket\n\n    ReferenceError: safeWebSocketCleanup is not defined\n\n    \u001b[0m \u001b[90m 42 |\u001b[39m\n     \u001b[90m 43 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 44 |\u001b[39m   safeWebSocketCleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 45 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 47 |\u001b[39m\u001b[0m\n\n      at Object.safeWebSocketCleanup (__tests__/integration/data-generation.test.tsx:44:3)\n\nFAIL __tests__/integration/thread-navigation.test.tsx (12.488 s)\n  \u25cf Thread Navigation Integration Tests \u203a Thread Switching Performance \u203a should handle rapid thread switching without state corruption\n\n    expect(element).toHaveClass(\"bg-emerald-50\")\n\n    Expected the element to have class:\n      bg-emerald-50\n    Received:\n      w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mless than a minute ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 1 hour ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 2 hours ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 90 |\u001b[39m       \n     \u001b[90m 91 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 92 |\u001b[39m         expect(thread3)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-emerald-50'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                         \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 93 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 94 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 95 |\u001b[39m\u001b[0m\n\n      at toHaveClass (__tests__/integration/thread-navigation.test.tsx:92:25)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should update URL when thread is selected\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n\n    Number of calls: 0\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n            \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<span\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[0mNew Chat\u001b[0m\n                \u001b[36m</span>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<svg\u001b[39m\n                  \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                  \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                  \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                  \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                  \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                  \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                  \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<path\u001b[39m\n                    \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                  \u001b[36m<circle\u001b[39m\n                    \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                    \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                  \u001b[36m/>\u001b[39m\n                \u001b[36m</svg>\u001b[39m\n                \u001b[36m<input\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                  \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                  \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                  \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                  \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mAI Optimization Discussion\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mless than a minute ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m15\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mPerformance Analysis\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 1 hour ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m8\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n              \u001b[36m<button\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<svg\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                      \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                      \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                      \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<path\u001b[39m\n                        \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                        \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                        \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                      \u001b[36m/>\u001b[39m\n                    \u001b[36m</svg>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<p\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0mData Processing Pipeline\u001b[0m\n                    \u001b[36m</p>\u001b[39m\n                    \u001b[36m<div\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<svg\u001b[39m\n                          \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                          \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                          \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                          \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                        \u001b[36m>\u001b[39m\n                          \u001b[36m<path\u001b[39m\n                            \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                            \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                            \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                          \u001b[36m/>\u001b[39m\n                        \u001b[36m</svg>\u001b[39m\n                        \u001b[0mabout 2 hours ago\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                      \u001b[36m<span\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[0m32\u001b[0m\n                        \u001b[0m message\u001b[0m\n                        \u001b[0ms\u001b[0m\n                      \u001b[36m</span>\u001b[39m\n                    \u001b[36m</div>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</button>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<p\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0m3\u001b[0m\n                \u001b[0m conversation\u001b[0m\n                \u001b[0ms\u001b[0m\n              \u001b[36m</p>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 134 |\u001b[39m       \n     \u001b[90m 135 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 136 |\u001b[39m         expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 137 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 139 |\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:136:33)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)\n      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)\n\n  \u25cf Thread Navigation Integration Tests \u203a URL Synchronization \u203a should preserve URL state across navigation\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/chat/thread-2\"\n    Received: \"/chat/thread-1\"\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 166 |\u001b[39m       \u001b[36mawait\u001b[39m user\u001b[33m.\u001b[39mclick(thread2)\u001b[33m;\u001b[39m\n     \u001b[90m 167 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 168 |\u001b[39m       expect(mockRouter\u001b[33m.\u001b[39mpush)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'/chat/thread-2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 169 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 170 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 171 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/integration/thread-navigation.test.tsx:168:31)\n\n  \u25cf Thread Navigation Integration Tests \u203a Multi-Session Synchronization \u203a should handle concurrent thread modifications\n\n    Unable to find an element with the text: /bg-emerald-50/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div>\u001b[39m\n        \u001b[36m<div\u001b[39m\n          \u001b[33mclass\u001b[39m=\u001b[32m\"w-80 h-full bg-white/95 backdrop-blur-md border-r border-gray-200 flex flex-col\"\u001b[39m\n          \u001b[33mdata-testid\u001b[39m=\u001b[32m\"chat-sidebar\"\u001b[39m\n          \u001b[33mrole\u001b[39m=\u001b[32m\"complementary\"\u001b[39m\n        \u001b[36m>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-200\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"new-chat-button\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-plus w-5 h-5\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M5 12h14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"M12 5v14\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<span\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"font-medium\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[0mNew Chat\u001b[0m\n              \u001b[36m</span>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-b border-gray-100\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"relative\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<svg\u001b[39m\n                \u001b[33maria-hidden\u001b[39m=\u001b[32m\"true\"\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\u001b[39m\n                \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                \u001b[33mheight\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                \u001b[33mwidth\u001b[39m=\u001b[32m\"24\"\u001b[39m\n                \u001b[33mxmlns\u001b[39m=\u001b[32m\"http://www.w3.org/2000/svg\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<path\u001b[39m\n                  \u001b[33md\u001b[39m=\u001b[32m\"m21 21-4.34-4.34\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n                \u001b[36m<circle\u001b[39m\n                  \u001b[33mcx\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mcy\u001b[39m=\u001b[32m\"11\"\u001b[39m\n                  \u001b[33mr\u001b[39m=\u001b[32m\"8\"\u001b[39m\n                \u001b[36m/>\u001b[39m\n              \u001b[36m</svg>\u001b[39m\n              \u001b[36m<input\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all duration-200\"\u001b[39m\n                \u001b[33mdata-testid\u001b[39m=\u001b[32m\"search-input\"\u001b[39m\n                \u001b[33mplaceholder\u001b[39m=\u001b[32m\"Search conversations...\"\u001b[39m\n                \u001b[33mtype\u001b[39m=\u001b[32m\"text\"\u001b[39m\n                \u001b[33mvalue\u001b[39m=\u001b[32m\"\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n            \u001b[36m</div>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 overflow-y-auto\"\u001b[39m\n            \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-list\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative bg-emerald-50 hover:bg-emerald-50 disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-1\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"absolute left-0 top-0 bottom-0 w-1 bg-emerald-500\"\u001b[39m\n              \u001b[36m/>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-emerald-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mAI Optimization Discussion\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<svg\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                        \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                        \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                        \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<path\u001b[39m\n                          \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                        \u001b[36m/>\u001b[39m\n                      \u001b[36m</svg>\u001b[39m\n                      \u001b[0mless than a minute ago\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m15\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mPerformance Analysis\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<svg\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                        \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                        \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                        \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<path\u001b[39m\n                          \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                        \u001b[36m/>\u001b[39m\n                      \u001b[36m</svg>\u001b[39m\n                      \u001b[0mabout 1 hour ago\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m8\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"w-full p-4 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 group relative disabled:opacity-50 disabled:cursor-not-allowed\"\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"thread-item-thread-3\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[36m<div\u001b[39m\n                \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-start space-x-3 pl-2\"\u001b[39m\n              \u001b[36m>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<svg\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"w-5 h-5\"\u001b[39m\n                    \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                    \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                    \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<path\u001b[39m\n                      \u001b[33md\u001b[39m=\u001b[32m\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\u001b[39m\n                      \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                      \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                    \u001b[36m/>\u001b[39m\n                  \u001b[36m</svg>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n                \u001b[36m<div\u001b[39m\n                  \u001b[33mclass\u001b[39m=\u001b[32m\"flex-1 min-w-0\"\u001b[39m\n                \u001b[36m>\u001b[39m\n                  \u001b[36m<p\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"text-sm font-medium truncate text-gray-900\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[0mData Processing Pipeline\u001b[0m\n                  \u001b[36m</p>\u001b[39m\n                  \u001b[36m<div\u001b[39m\n                    \u001b[33mclass\u001b[39m=\u001b[32m\"flex items-center space-x-3 mt-1\"\u001b[39m\n                  \u001b[36m>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 flex items-center\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[36m<svg\u001b[39m\n                        \u001b[33mclass\u001b[39m=\u001b[32m\"w-3 h-3 mr-1\"\u001b[39m\n                        \u001b[33mfill\u001b[39m=\u001b[32m\"none\"\u001b[39m\n                        \u001b[33mstroke\u001b[39m=\u001b[32m\"currentColor\"\u001b[39m\n                        \u001b[33mviewBox\u001b[39m=\u001b[32m\"0 0 24 24\"\u001b[39m\n                      \u001b[36m>\u001b[39m\n                        \u001b[36m<path\u001b[39m\n                          \u001b[33md\u001b[39m=\u001b[32m\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\u001b[39m\n                          \u001b[33mstroke-linecap\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-linejoin\u001b[39m=\u001b[32m\"round\"\u001b[39m\n                          \u001b[33mstroke-width\u001b[39m=\u001b[32m\"2\"\u001b[39m\n                        \u001b[36m/>\u001b[39m\n                      \u001b[36m</svg>\u001b[39m\n                      \u001b[0mabout 2 hours ago\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                    \u001b[36m<span\u001b[39m\n                      \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500\"\u001b[39m\n                    \u001b[36m>\u001b[39m\n                      \u001b[0m32\u001b[0m\n                      \u001b[0m message\u001b[0m\n                      \u001b[0ms\u001b[0m\n                    \u001b[36m</span>\u001b[39m\n                  \u001b[36m</div>\u001b[39m\n                \u001b[36m</div>\u001b[39m\n              \u001b[36m</div>\u001b[39m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n          \u001b[36m<div\u001b[39m\n            \u001b[33mclass\u001b[39m=\u001b[32m\"p-4 border-t border-gray-200 bg-gray-50\"\u001b[39m\n          \u001b[36m>\u001b[39m\n            \u001b[36m<p\u001b[39m\n              \u001b[33mclass\u001b[39m=\u001b[32m\"text-xs text-gray-500 text-center mb-2\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0m3\u001b[0m\n              \u001b[0m conversation\u001b[0m\n              \u001b[0ms\u001b[0m\n            \u001b[36m</p>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</div>\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 322 |\u001b[39m       \n     \u001b[90m 323 |\u001b[39m       \u001b[90m// Should resolve to a consistent state\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 324 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 325 |\u001b[39m         \u001b[36mconst\u001b[39m activeThreads \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetAllByText(\u001b[35m/bg-emerald-50/\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 326 |\u001b[39m         expect(activeThreads\u001b[33m.\u001b[39mlength)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(\u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 327 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)\n      at Object.<anonymous> (__tests__/integration/thread-navigation.test.tsx:324:20)\n\nFAIL __tests__/integration/database-integration.test.tsx\n  \u25cf Database Transaction Integration \u203a should handle database transactions\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 256 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 257 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 258 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mtrue\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 259 |\u001b[39m     \n     \u001b[90m 260 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 261 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:258:49)\n\n  \u25cf Database Transaction Integration \u203a should handle transaction rollbacks\n\n    TypeError: (0 , _infrastructuretestutils.createMockTransactionResponse) is not a function\n\n    \u001b[0m \u001b[90m 306 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 307 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 308 |\u001b[39m     setupFetchMock(createMockTransactionResponse(\u001b[36mfalse\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 309 |\u001b[39m     \n     \u001b[90m 310 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 311 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/database-integration.test.tsx:308:49)\n\nFAIL __tests__/auth/logout-security.test.tsx\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove refresh token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a All Auth Tokens Removed \u203a should remove session ID from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove user preferences from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove cached user data from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should remove remember me flag from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a LocalStorage Cleared \u203a should not affect non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove session cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should remove remember me cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Cookies Deleted \u203a should preserve non-auth cookies\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should replace history state after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should prevent navigation to authenticated pages\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should clear browser navigation state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Browser Back Prevention \u203a should ensure no cached authenticated state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should not leave sensitive data in memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear all authentication artifacts\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should ensure complete session termination\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Security Validation \u203a should clear permissions and role data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset all error states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should reset loading states\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should clear any cached authentication state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a Clean Slate for Next Login \u203a should ensure fresh authentication flow on next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should set authenticated status to false\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear user identity information\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should clear role and permissions\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\n  \u25cf Logout Security and Multi-Tab Tests \u203a No Authenticated Content Visible \u203a should ensure no sensitive data remains in DOM\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 70 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mfalse\u001b[39m)\n     \u001b[90m 71 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 72 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 73 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 74 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-security.test.tsx:72:29)\n      at Object.setupAuthStore (__tests__/auth/logout-security.test.tsx:92:17)\n\nFAIL __tests__/integration/thread-creation-advanced.test.tsx\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a focuses message input after thread creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a positions cursor at start of input\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a clears any existing draft content\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Input Field Auto-Focus \u203a maintains focus after thread switch\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents duplicate threads on double-click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a prevents rapid clicking during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a uses unique thread IDs for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Duplicate Prevention \u203a handles race conditions correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a allows retry after network failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a handles timeout errors gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a shows appropriate error messages\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Error Recovery and Retry \u203a preserves user context after error\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles creation during high CPU load\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a works with slow network conditions\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Performance Edge Cases \u203a handles memory constraints gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a prevents accidental double-tap creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a handles touch gestures correctly\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\n  \u25cf Thread Creation Advanced Scenarios \u203a Mobile and Touch Specific Tests \u203a works with virtual keyboard open\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 221 |\u001b[39m   \u001b[36mfunction\u001b[39m setupAdvancedTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 222 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 223 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 224 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 225 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 226 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation-advanced.test.tsx:223:30)\n      at Object.setupAdvancedTests (__tests__/integration/thread-creation-advanced.test.tsx:72:5)\n\nFAIL __tests__/integration/critical/websocket-token-refresh-working.test.tsx\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should correctly parse JWT token expiry\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 158 |\u001b[39m       \n     \u001b[90m 159 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 160 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 161 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 162 |\u001b[39m\n     \u001b[90m 163 |\u001b[39m       \u001b[90m// Verify WebSocket connection was attempted with the token\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:160:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a JWT Token Parsing \u203a should detect expiring tokens and setup refresh timer\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 184 |\u001b[39m       \n     \u001b[90m 185 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 186 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 187 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 188 |\u001b[39m\n     \u001b[90m 189 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:186:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should queue messages during token refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 227 |\u001b[39m       \n     \u001b[90m 228 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 229 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 230 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:229:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Refresh Flow \u203a should handle token refresh on authentication failure\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \n     \u001b[90m 271 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m\n     \u001b[90m 275 |\u001b[39m       \u001b[90m// Simulate connection opening first\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:272:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Token Synchronization \u203a should update WebSocket when auth context token changes\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 320 |\u001b[39m       \n     \u001b[90m 321 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 322 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 323 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 324 |\u001b[39m\n     \u001b[90m 325 |\u001b[39m       \u001b[90m// Update the token in auth context\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:322:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\n  \u25cf WebSocket Token Refresh Implementation (Working) \u203a Message Handling During Refresh \u203a should process pending messages after successful refresh\n\n    expect(received).toHaveBeenCalled()\n\n    Matcher error: received value must be a mock or spy function\n\n    Received has type:  function\n    Received has value: [Function WebSocket]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<html>\u001b[39m\n      \u001b[36m<head />\u001b[39m\n      \u001b[36m<body>\u001b[39m\n        \u001b[36m<div>\u001b[39m\n          \u001b[36m<div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"ws-status\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mOPEN\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<div\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"refresh-triggered\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mno\u001b[0m\n            \u001b[36m</div>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"send-message\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mSend Message\u001b[0m\n            \u001b[36m</button>\u001b[39m\n            \u001b[36m<button\u001b[39m\n              \u001b[33mdata-testid\u001b[39m=\u001b[32m\"trigger-manual-refresh\"\u001b[39m\n            \u001b[36m>\u001b[39m\n              \u001b[0mManual Refresh\u001b[0m\n            \u001b[36m</button>\u001b[39m\n          \u001b[36m</div>\u001b[39m\n        \u001b[36m</div>\u001b[39m\n      \u001b[36m</body>\u001b[39m\n    \u001b[36m</html>\u001b[39m\n\n    \u001b[0m \u001b[90m 361 |\u001b[39m       \n     \u001b[90m 362 |\u001b[39m       \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 363 |\u001b[39m         expect(global\u001b[33m.\u001b[39m\u001b[33mWebSocket\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 364 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 365 |\u001b[39m\n     \u001b[90m 366 |\u001b[39m       \u001b[90m// Simulate connection opening\u001b[39m\u001b[0m\n\n      at toHaveBeenCalled (__tests__/integration/critical/websocket-token-refresh-working.test.tsx:363:34)\n      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)\n      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)\n      at node_modules/@testing-library/dom/dist/wait-for.js:82:9\n\nFAIL __tests__/integration/critical/websocket-cors-validation.test.tsx\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should include proper Origin header in WebSocket connection\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should handle CORS validation failure gracefully\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Origin Header Validation \u203a should not attempt connection from invalid origins\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed development origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should connect successfully from allowed production origin\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Allowed Origins Configuration \u203a should handle subdomain restrictions properly\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle mixed content scenarios (HTTP to HTTPS)\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should validate referrer policies\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Cross-Origin Request Handling \u203a should handle iframe embedding restrictions\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should respect Content Security Policy for WebSocket connections\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should handle Sec-Fetch-Site header validation\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a Security Headers and Validation \u203a should validate against XSS injection in WebSocket URLs\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide actionable CORS error messages\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should not retry CORS-blocked connections indefinitely\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\n  \u25cf WebSocket CORS Validation (CRITICAL SECURITY) \u203a CORS Error Recovery and Fallback \u203a should provide fallback options for CORS issues\n\n    TypeError: Cannot redefine property: location\n        at Object.defineProperty (<anonymous>)\n\n    \u001b[0m \u001b[90m 79 |\u001b[39m     \n     \u001b[90m 80 |\u001b[39m     \u001b[90m// Mock different origin scenarios\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 81 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mdefineProperty(window\u001b[33m,\u001b[39m \u001b[32m'location'\u001b[39m\u001b[33m,\u001b[39m {\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 82 |\u001b[39m       value\u001b[33m:\u001b[39m {\n     \u001b[90m 83 |\u001b[39m         origin\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 84 |\u001b[39m         href\u001b[33m:\u001b[39m \u001b[32m'http://localhost:3000'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.defineProperty (__tests__/integration/critical/websocket-cors-validation.test.tsx:81:12)\n\nFAIL __tests__/integration/logout-flow-core.test.tsx\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should trigger logout when button is clicked\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should call auth store logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Button Click \u203a should redirect to login page after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should call auth service logout API\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should complete logout within 500ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a API Logout Call \u203a should handle logout errors gracefully\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should set dev logout flag in development mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Development Mode Logout \u203a should still perform standard logout in dev mode\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should handle auth service errors during logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should complete logout even with partial failures\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Error Handling During Logout \u203a should use replace instead of push for security\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure no sensitive data remains after logout\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\n  \u25cf Logout Flow Core Tests \u203a Logout Flow Security \u203a should ensure clean state for next login\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 68 |\u001b[39m     setError\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 69 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 70 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 71 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 72 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/integration/logout-flow-core.test.tsx:70:29)\n      at Object.setupAuthStore (__tests__/integration/logout-flow-core.test.tsx:107:21)\n\nFAIL __tests__/integration/caching-integration.test.tsx\n  \u25cf Redis Caching Integration \u203a should cache frequently accessed data\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 56 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 58 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mtrue\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'cached data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 59 |\u001b[39m     \n     \u001b[90m 60 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 61 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:58:43)\n\n  \u25cf Redis Caching Integration \u203a should handle cache misses\n\n    TypeError: (0 , _infrastructuretestutils.createMockCacheResponse) is not a function\n\n    \u001b[0m \u001b[90m 100 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 101 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 102 |\u001b[39m     setupFetchMock(createMockCacheResponse(\u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m { value\u001b[33m:\u001b[39m \u001b[32m'fresh data'\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 103 |\u001b[39m     \n     \u001b[90m 104 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 105 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/caching-integration.test.tsx:102:43)\n\nFAIL __tests__/auth/auth-components-states.test.tsx\n  \u25cf Auth Components States \u203a Logged Out State \u203a should render login button when user is not authenticated\n\n    expect(element).toHaveAttribute(\"data-size\", \"lg\") // element.getAttribute(\"data-size\") === \"lg\"\n\n    Expected the element to have attribute:\n      data-size=\"lg\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 74 |\u001b[39m       \u001b[36mconst\u001b[39m button \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByRole(\u001b[32m'button'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 75 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveTextContent(\u001b[32m'Login with Google'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 76 |\u001b[39m       expect(button)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'lg'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 77 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 78 |\u001b[39m\n     \u001b[90m 79 |\u001b[39m     it(\u001b[32m'should call login function when login button is clicked'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:76:22)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should show DEV MODE badge in development mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"secondary\") // element.getAttribute(\"data-variant\") === \"secondary\"\n\n    Expected the element to have attribute:\n      data-variant=\"secondary\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 180 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoBeInTheDocument()\u001b[33m;\u001b[39m\n     \u001b[90m 181 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveClass(\u001b[32m'bg-yellow-100'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'text-yellow-800'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 182 |\u001b[39m       expect(badge)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'secondary'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 183 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 184 |\u001b[39m\n     \u001b[90m 185 |\u001b[39m     it(\u001b[32m'should render both logout and OAuth login buttons in dev mode'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:182:21)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style logout button as outline variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"outline\") // element.getAttribute(\"data-variant\") === \"outline\"\n\n    Expected the element to have attribute:\n      data-variant=\"outline\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \u001b[36mconst\u001b[39m logoutButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'Logout'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'outline'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m       expect(logoutButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 199 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:196:28)\n\n  \u25cf Auth Components States \u203a Logged In State - Development Mode \u203a should style OAuth login button as default variant in dev mode\n\n    expect(element).toHaveAttribute(\"data-variant\", \"default\") // element.getAttribute(\"data-variant\") === \"default\"\n\n    Expected the element to have attribute:\n      data-variant=\"default\"\n    Received:\n      null\n\n    \u001b[0m \u001b[90m 202 |\u001b[39m\n     \u001b[90m 203 |\u001b[39m       \u001b[36mconst\u001b[39m oauthButton \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByText(\u001b[32m'OAuth Login'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 204 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-variant'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'default'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 205 |\u001b[39m       expect(oauthButton)\u001b[33m.\u001b[39mtoHaveAttribute(\u001b[32m'data-size'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'sm'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 206 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 207 |\u001b[39m\u001b[0m\n\n      at Object.toHaveAttribute (__tests__/auth/auth-components-states.test.tsx:204:27)\n\nFAIL __tests__/integration/logout-websocket.test.tsx\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should disconnect WebSocket on logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should verify WebSocket is disconnected\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should clear WebSocket message queue\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Disconnection \u203a should handle WebSocket disconnection errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure WebSocket connection is terminated\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should prevent new WebSocket messages after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should clear any pending WebSocket operations\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket State Cleanup \u203a should ensure clean WebSocket state for next session\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete WebSocket disconnect within 25ms\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should not block logout process if WebSocket fails\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should handle WebSocket timeout gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Timing Requirements \u203a should complete logout even if WebSocket is slow\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket disconnect errors gracefully\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should handle WebSocket state check errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should continue logout process despite WebSocket errors\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Error Handling \u203a should log WebSocket errors without blocking logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure no WebSocket connections remain active\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should prevent unauthorized WebSocket access after logout\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should clear any WebSocket authentication tokens\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\n  \u25cf Logout WebSocket Disconnection Tests \u203a WebSocket Security Cleanup \u203a should ensure complete WebSocket session termination\n\n    TypeError: _webSocketService.webSocketService.disconnect.mockImplementation is not a function\n\n    \u001b[0m \u001b[90m 46 |\u001b[39m\n     \u001b[90m 47 |\u001b[39m \u001b[36mconst\u001b[39m setupWebSocketMocks \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 48 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mdisconnect \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockImplementation(() \u001b[33m=>\u001b[39m {})\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 49 |\u001b[39m   (webSocketService\u001b[33m.\u001b[39mgetState \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(\u001b[32m'disconnected'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 50 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m\u001b[0m\n\n      at mockImplementation (__tests__/integration/logout-websocket.test.tsx:48:46)\n      at Object.setupWebSocketMocks (__tests__/integration/logout-websocket.test.tsx:76:5)\n\nFAIL __tests__/integration/error-context-tracing.test.tsx\n  \u25cf Error Context and Tracing \u203a should capture and display error context\n\n    TypeError: (0 , _infrastructuretestutils.createMockErrorResponse) is not a function\n\n    \u001b[0m \u001b[90m 63 |\u001b[39m     }\u001b[33m;\u001b[39m\n     \u001b[90m 64 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 65 |\u001b[39m     setupFetchMock(createMockErrorResponse(\u001b[32m'Internal server error'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'trace-789'\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 66 |\u001b[39m     \n     \u001b[90m 67 |\u001b[39m     \u001b[36mconst\u001b[39m { getByText\u001b[33m,\u001b[39m getByTestId } \u001b[33m=\u001b[39m render(\n     \u001b[90m 68 |\u001b[39m       \u001b[33m<\u001b[39m\u001b[33mTestProviders\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/error-context-tracing.test.tsx:65:43)\n\nFAIL __tests__/auth/logout-state-cleanup-complete.test.tsx\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove JWT token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove auth token from localStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should clear refresh token completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Token Removal Verification \u203a should remove session tokens from sessionStorage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear user object from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset authentication status\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should clear token from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory State Cleanup \u203a should reset all auth store state\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove user preferences from storage\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should clear cached user data\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should remove remember me settings\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a LocalStorage Complete Cleanup \u203a should preserve non-auth localStorage items\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear all user-specific data from memory\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset error states to prevent leaks\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should reset loading states completely\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Memory Leak Prevention \u203a should clear cached API responses\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should complete cleanup within 100ms\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should not block UI during cleanup\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should handle rapid logout requests efficiently\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\n  \u25cf Logout State Cleanup Complete Tests \u203a Performance and Timing \u203a should maintain consistent cleanup time under load\n\n    TypeError: _globals.jest.mocked(...).mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 87 |\u001b[39m     isDeveloperOrHigher\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn(() \u001b[33m=>\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 88 |\u001b[39m   }\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m   jest\u001b[33m.\u001b[39mmocked(useAuthStore)\u001b[33m.\u001b[39mmockReturnValue(mockStore)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 90 |\u001b[39m   \u001b[36mreturn\u001b[39m mockStore\u001b[33m;\u001b[39m\n     \u001b[90m 91 |\u001b[39m }\u001b[33m;\u001b[39m\n     \u001b[90m 92 |\u001b[39m\u001b[0m\n\n      at mockReturnValue (__tests__/auth/logout-state-cleanup-complete.test.tsx:89:29)\n      at Object.setupMockAuthStore (__tests__/auth/logout-state-cleanup-complete.test.tsx:132:21)\n\nFAIL __tests__/integration/websocket-performance.test.tsx\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should track connection stability over time\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Performance Monitoring \u203a should measure message throughput performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle real concurrent connections with load testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should test real connection pool management\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Connection Pooling \u203a should handle pool failover scenarios\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should test real multi-connection broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Broadcasting \u203a should handle selective broadcasting\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark real vs mock WebSocket test performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark connection establishment times\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 23 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-performance.test.tsx:24:38)\n\n  \u25cf WebSocket Performance and Advanced Tests \u203a Benchmarking \u203a should benchmark message processing latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 28 |\u001b[39m\n     \u001b[90m 29 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 30 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 31 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 33 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-performance.test.tsx:30:15)\n\nFAIL __tests__/integration/websocket-large-messages.test.tsx\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 1MB messages with real WebSocket behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle 512KB messages efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Sending \u203a should handle multiple large messages sequentially\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle large message receiving with real event processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Large Message Receiving \u203a should handle concurrent large message reception\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should respect real buffer limits with backpressure\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle large message buffering with memory limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Buffer Management \u203a should handle buffer overflow with large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle chunked message reconstruction\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Message Chunking \u203a should handle large message chunking correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should measure large message processing performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should handle memory pressure with multiple large messages\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 18 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 19 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 20 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 21 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 23 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-large-messages.test.tsx:20:38)\n\n  \u25cf WebSocket Large Message Handling Tests \u203a Performance and Memory \u203a should track memory usage during large message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 29 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-large-messages.test.tsx:26:15)\n\nFAIL __tests__/integration/websocket-messaging.test.tsx\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle real message sending with queue tracking\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should queue messages when connection is not ready\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Sending \u203a should handle message serialization correctly\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle real message receiving with event simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle multiple incoming messages in sequence\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Receiving \u203a should handle message parsing and validation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle message queuing with real buffer behavior\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should respect buffer size limits\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Queuing \u203a should handle buffer overflow gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should handle failed messages with real error conditions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Failure Handling \u203a should track failed message attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should measure real message round-trip latency\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle concurrent message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'createWebSocketManager')\n\n    \u001b[0m \u001b[90m 17 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 18 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 19 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39m\u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 20 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 21 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 22 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-messaging.test.tsx:19:59)\n\n  \u25cf WebSocket Message Processing Tests \u203a Message Performance \u203a should handle message throughput testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 27 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 28 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-messaging.test.tsx:25:15)\n\nFAIL __tests__/auth/auth-security.test.ts\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should sanitize email input in dev login\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"http://localhost:8081/auth/dev/login\", ObjectContaining {\"body\": \"{\\\"email\\\":\\\"dev@example.com\\\"}\", \"headers\": {\"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mhandleDevLogin(mockAuthConfig)\u001b[33m;\u001b[39m\n     \u001b[90m 73 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mfetchMock)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m         mockAuthConfig\u001b[33m.\u001b[39mendpoints\u001b[33m.\u001b[39mdev_login\u001b[33m,\u001b[39m\n     \u001b[90m 76 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 77 |\u001b[39m           method\u001b[33m:\u001b[39m \u001b[32m'POST'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-security.test.ts:74:33)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should clear sensitive data on logout\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m validateSecureLogout(localStorageMock\u001b[33m:\u001b[39m any) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 184 |\u001b[39m   expect(localStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 185 |\u001b[39m }\n     \u001b[90m 186 |\u001b[39m\n     \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/auth/auth-test-utils.ts:184:39)\n      at Object.<anonymous> (__tests__/auth/auth-security.test.ts:90:27)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle token with potential XSS content\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer <script>alert(\\\"xss\\\")</script>\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m  99 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 100 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 101 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${xssToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 102 |\u001b[39m       expect(\u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(headers))\u001b[33m.\u001b[39mtoEqual([\u001b[32m'Authorization'\u001b[39m])\u001b[33m;\u001b[39m\n     \u001b[90m 103 |\u001b[39m       \n     \u001b[90m 104 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:101:37)\n\n  \u25cf Auth Security & Error Handling \u203a Security Tests \u203a should handle SQL injection attempts in token\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer '; DROP TABLE users; --\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 114 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 115 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 116 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${sqlToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 117 |\u001b[39m       \n     \u001b[90m 118 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 119 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:116:37)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 401 unauthorized response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 143 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 144 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 145 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 146 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:143:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 403 forbidden response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 163 |\u001b[39m\n     \u001b[90m 164 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 165 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 166 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 167 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 168 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:165:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 404 not found response\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 185 |\u001b[39m\n     \u001b[90m 186 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 187 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 188 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 189 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 190 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:187:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on 500 server error\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 207 |\u001b[39m\n     \u001b[90m 208 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 209 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 210 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 211 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 212 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:209:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on timeout errors\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 229 |\u001b[39m\n     \u001b[90m 230 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 231 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 232 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 233 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 234 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:231:22)\n\n  \u25cf Auth Security & Error Handling \u203a API Error Handling \u203a should fallback to offline config on rate limiting (429)\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 255 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 256 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:253:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle concurrent login/logout operations\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m\n     \u001b[90m 282 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocationUtils\u001b[33m.\u001b[39mgetMockHref())\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m       expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m     it(\u001b[32m'should handle malformed config objects'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-security.test.ts:283:51)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle network instability with retry and fallback\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[90m// Auth service retries then falls back to offline config\u001b[39m\n     \u001b[90m 310 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 313 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 314 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:311:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle empty response bodies\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 329 |\u001b[39m\n     \u001b[90m 330 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 331 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 332 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 333 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 334 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:331:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should fallback to offline config on response with wrong content type\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 351 |\u001b[39m\n     \u001b[90m 352 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m authService\u001b[33m.\u001b[39mgetAuthConfig()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 353 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 354 |\u001b[39m         development_mode\u001b[33m:\u001b[39m \u001b[36mfalse\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 355 |\u001b[39m         google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 356 |\u001b[39m         endpoints\u001b[33m:\u001b[39m {\u001b[0m\n\n      at Object.toEqual (__tests__/auth/auth-security.test.ts:353:22)\n\n  \u25cf Auth Security & Error Handling \u203a Edge Cases \u203a should handle localStorage unavailable\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage is not available\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 383 |\u001b[39m\n     \u001b[90m 384 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 385 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage is not available'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 386 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 387 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 388 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-security.test.ts:385:10)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle rapid successive calls\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n    @@ -3,11 +3,11 @@\n          \"http://localhost:3000\",\n        ],\n        \"authorized_redirect_uris\": Array [\n          \"http://localhost:3000/auth/callback\",\n        ],\n    -   \"development_mode\": false,\n    +   \"development_mode\": true,\n        \"endpoints\": Object {\n          \"callback\": \"http://localhost:8081/auth/callback\",\n          \"dev_login\": \"http://localhost:8081/auth/dev/login\",\n          \"login\": \"http://localhost:8081/auth/login\",\n          \"logout\": \"http://localhost:8081/auth/logout\",\n\n    \u001b[0m \u001b[90m 398 |\u001b[39m       \n     \u001b[90m 399 |\u001b[39m       results\u001b[33m.\u001b[39mforEach(result \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 400 |\u001b[39m         expect(result)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 401 |\u001b[39m           \u001b[33m...\u001b[39mmockAuthConfig\u001b[33m,\u001b[39m\n     \u001b[90m 402 |\u001b[39m           google_client_id\u001b[33m:\u001b[39m \u001b[32m'mock-google-client-id'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 403 |\u001b[39m           authorized_redirect_uris\u001b[33m:\u001b[39m [\u001b[32m'http://localhost:3000/auth/callback'\u001b[39m]\u001b[0m\n\n      at toEqual (__tests__/auth/auth-security.test.ts:400:24)\n          at Array.forEach (<anonymous>)\n      at Object.forEach (__tests__/auth/auth-security.test.ts:399:15)\n\n  \u25cf Auth Security & Error Handling \u203a Performance & Reliability \u203a should handle memory pressure scenarios\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 416 |\u001b[39m       \u001b[36mconst\u001b[39m headers \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetAuthHeaders()\u001b[33m;\u001b[39m\n     \u001b[90m 417 |\u001b[39m       \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 418 |\u001b[39m       expect(headers\u001b[33m.\u001b[39m\u001b[33mAuthorization\u001b[39m)\u001b[33m.\u001b[39mtoBe(\u001b[32m`Bearer ${largeToken}`\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 419 |\u001b[39m       \n     \u001b[90m 420 |\u001b[39m       \u001b[90m// Restore the spy\u001b[39m\n     \u001b[90m 421 |\u001b[39m       jest\u001b[33m.\u001b[39mrestoreAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-security.test.ts:418:37)\n\nFAIL __tests__/services/demoService.test.ts\n  \u25cf DemoService \u203a Authentication Handling \u203a should include auth header when token exists\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectContaining {\"Authorization\": \"Bearer valid-token\"}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 128 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 129 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 130 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 131 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 132 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 133 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:130:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should handle requests without auth token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/api/demo/chat\", ObjectContaining {\"headers\": ObjectNotContaining {\"Authorization\": Any<String>}}\n    Received: \"http://localhost:8081/api/demo/chat\", {\"body\": \"{\\\"message\\\":\\\"What are the cost savings for Financial Services?\\\",\\\"industry\\\":\\\"Financial Services\\\",\\\"session_id\\\":\\\"demo-session-123\\\",\\\"context\\\":{\\\"user_type\\\":\\\"enterprise_prospect\\\"}}\", \"headers\": {\"Authorization\": \"Bearer mock-token\", \"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 146 |\u001b[39m       \u001b[36mawait\u001b[39m demoService\u001b[33m.\u001b[39msendChatMessage(request)\u001b[33m;\u001b[39m\n     \u001b[90m 147 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 148 |\u001b[39m       expect(fetch)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 149 |\u001b[39m         expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/api/demo/chat'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 150 |\u001b[39m         expect\u001b[33m.\u001b[39mobjectContaining({\n     \u001b[90m 151 |\u001b[39m           headers\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mobjectContaining({\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/services/demoService.test.ts:148:21)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should redirect to login on 401 response\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Unauthorized\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:164:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:164:66)\n\n  \u25cf DemoService \u203a Authentication Handling \u203a should not redirect on other error codes\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to send demo chat message: Server Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.sendChatMessage (services/demoService.ts:115:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:175:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:175:66)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle ROI calculation server errors gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Calculation Error\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:270:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:270:63)\n\n  \u25cf DemoService \u203a ROI Calculation - Business Critical \u203a should handle malformed ROI input data\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to calculate ROI: Bad Request\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.calculateROI (services/demoService.ts:128:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:282:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:282:70)\n\n  \u25cf DemoService \u203a Report Export - Enterprise Feature \u203a should handle export failures gracefully\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to export report: Service Unavailable\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.exportReport (services/demoService.ts:166:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:424:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:424:69)\n\n  \u25cf DemoService \u203a Session Management \u203a should handle session status for non-existent session\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Failed to get session status: Session Not Found\"\n    Received message:   \"response.text is not a function\"\n\n        \u001b[0m \u001b[90m 87 |\u001b[39m       \n         \u001b[90m 88 |\u001b[39m       \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39mresponse\u001b[33m.\u001b[39mok) {\n        \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 89 |\u001b[39m         \u001b[36mconst\u001b[39m errorData \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m response\u001b[33m.\u001b[39mtext()\u001b[33m;\u001b[39m\n         \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n         \u001b[90m 90 |\u001b[39m         \u001b[36mlet\u001b[39m errorMessage\u001b[33m:\u001b[39m string\u001b[33m;\u001b[39m\n         \u001b[90m 91 |\u001b[39m         \u001b[36mtry\u001b[39m {\n         \u001b[90m 92 |\u001b[39m           \u001b[36mconst\u001b[39m parsed \u001b[33m=\u001b[39m \u001b[33mJSON\u001b[39m\u001b[33m.\u001b[39mparse(errorData)\u001b[33m;\u001b[39m\u001b[0m\n\n      at DemoService.text [as fetchWithAuth] (services/demoService.ts:89:42)\n      at DemoService.getSessionStatus (services/demoService.ts:179:22)\n      at Object.<anonymous> (__tests__/services/demoService.test.ts:466:7)\n      at Object.toThrow (node_modules/expect/build/index.js:2155:20)\n      at Object.toThrow (__tests__/services/demoService.test.ts:466:77)\n\nFAIL __tests__/integration/api-calls-basic.test.tsx\n  \u25cf API Calls - POST Requests \u203a includes correct headers in POST requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer test-token\"\n    Received: \"Bearer mock-token\"\n\n    \u001b[0m \u001b[90m 204 |\u001b[39m     \u001b[36mawait\u001b[39m apiClient\u001b[33m.\u001b[39mpost(\u001b[32m'create_thread'\u001b[39m\u001b[33m,\u001b[39m { title\u001b[33m:\u001b[39m \u001b[32m'Test'\u001b[39m }\u001b[33m,\u001b[39m \u001b[32m'test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 205 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 206 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer test-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 207 |\u001b[39m     expect(capturedHeaders[\u001b[32m'content-type'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'application/json'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 208 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 209 |\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:206:46)\n\n  \u25cf API Calls - PUT Requests \u203a handles PUT request with complex data\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: {\"metadata\": {\"priority\": 1, \"settings\": {\"auto_save\": true}, \"tags\": [\"test\", \"integration\"]}, \"title\": \"Complex Update\"}\n    Received: null\n\n    \u001b[0m \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 283 |\u001b[39m     expect(capturedBody)\u001b[33m.\u001b[39mtoEqual(complexData)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 284 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 285 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 286 |\u001b[39m\u001b[0m\n\n      at Object.toEqual (__tests__/integration/api-calls-basic.test.tsx:283:26)\n\n  \u25cf API Calls - DELETE Requests \u203a includes auth header in DELETE requests\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Bearer delete-token\"\n    Received: undefined\n\n    \u001b[0m \u001b[90m 315 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 316 |\u001b[39m     \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 317 |\u001b[39m     expect(capturedHeaders[\u001b[32m'authorization'\u001b[39m])\u001b[33m.\u001b[39mtoBe(\u001b[32m'Bearer delete-token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 318 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 319 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/integration/api-calls-basic.test.tsx:317:46)\n\nFAIL __tests__/integration/websocket-complete-refactored.test.tsx\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain function size limit (\u22648 lines)\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain function size limit (\u22648 lines)\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain real behavior simulation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should maintain real behavior simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should preserve comprehensive utilities\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Refactored Architecture Validation \u203a should preserve comprehensive utilities\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored connection lifecycle\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored connection lifecycle\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored message processing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored message processing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored error scenarios\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored error scenarios\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored performance monitoring\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Enhanced Testing Capabilities \u203a should handle refactored performance monitoring\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should validate message security\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should validate message security\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should handle protocol negotiation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should handle protocol negotiation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should manage connection security\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Protocol and Security Features \u203a should manage connection security\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle cleanup efficiently\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle cleanup efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should manage memory resources\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should manage memory resources\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle multiple cleanup calls safely\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m     messageBuffer \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetMessageBuffer()\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m     advancedTester \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mAdvancedWebSocketTester\u001b[39m()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-complete-refactored.test.tsx:49:38)\n\n  \u25cf WebSocket Complete Integration Tests - Refactored Modular \u203a Resource Management \u203a should handle multiple cleanup calls safely\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 55 |\u001b[39m\n     \u001b[90m 56 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 57 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 58 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mcloseAllConnections()\u001b[33m;\u001b[39m\n     \u001b[90m 59 |\u001b[39m     advancedTester\u001b[33m.\u001b[39mclearLog()\u001b[33m;\u001b[39m\n     \u001b[90m 60 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-complete-refactored.test.tsx:57:15)\n\nFAIL __tests__/integration/message-streaming-core.test.tsx\n  \u25cf Message Streaming Core Tests \u203a Streaming Controls \u203a should start and stop streaming\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Streaming Controls \u203a should add message chunks\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should track messages per second\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should achieve 60 FPS target\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should track dropped frames\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Performance Metrics \u203a should monitor performance\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Stream Buffer Management \u203a should enqueue and dequeue messages\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Stream Buffer Management \u203a should respect buffer limits\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Stream Buffer Management \u203a should detect backpressure conditions\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Frame Rate Control \u203a should maintain 60 FPS target\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Frame Rate Control \u203a should throttle frame rendering\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Frame Rate Control \u203a should adapt to different frame rates\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Message Types \u203a should handle text message types\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Message Types \u203a should handle binary message simulation\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Message Types \u203a should handle large message chunking\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Latency Monitoring \u203a should measure message latency\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Latency Monitoring \u203a should track latency trends\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Resource Cleanup \u203a should clean up streaming resources\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\n  \u25cf Message Streaming Core Tests \u203a Resource Cleanup \u203a should handle abrupt disconnections\n\n    ReferenceError: StreamBuffer is not defined\n\n    \u001b[0m \u001b[90m 58 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 59 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 60 |\u001b[39m     streamBuffer \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamBuffer\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 61 |\u001b[39m     frameController \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mFrameRateController\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 62 |\u001b[39m     performanceMonitor \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mStreamingPerformanceMonitor\u001b[39m()\u001b[33m;\u001b[39m\n     \u001b[90m 63 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.streamBuffer (__tests__/integration/message-streaming-core.test.tsx:60:5)\n\nFAIL __tests__/integration/websocket-lifecycle.test.tsx\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should handle complete connection lifecycle with real timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should track real connection state transitions with history\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Connection Establishment \u203a should measure real connection performance\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle real connection errors with proper state transitions\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Error Handling \u203a should handle network disconnections gracefully\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle real reconnection with timing simulation\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should test real WebSocket reconnection strategies\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Reconnection Scenarios \u203a should handle multiple reconnection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should measure real connection performance with timing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 27 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 29 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 30 |\u001b[39m     stateManager \u001b[33m=\u001b[39m wsManager\u001b[33m.\u001b[39mgetStateManager()\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-lifecycle.test.tsx:29:38)\n\n  \u25cf WebSocket Connection Lifecycle Tests \u203a Performance Measurement \u203a should track connection stability metrics\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 33 |\u001b[39m\n     \u001b[90m 34 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 35 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 36 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 38 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-lifecycle.test.tsx:35:15)\n\nFAIL __tests__/integration/websocket-stress.test.tsx\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle rapid connect/disconnect cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Connection Stress \u203a should handle multiple simultaneous connection attempts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle memory cleanup during stress testing\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Memory Management \u203a should handle repeated message sending without memory leaks\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle high message volume\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Load Testing \u203a should handle concurrent message bursts\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should handle repeated error/recovery cycles\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\n     \u001b[90m 16 |\u001b[39m     \u001b[90m// Use real WebSocket simulation instead of mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m     wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager(undefined\u001b[33m,\u001b[39m \u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m     wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 20 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/websocket-stress.test.tsx:17:38)\n\n  \u25cf WebSocket Stress Testing \u203a Error Recovery Stress \u203a should maintain message queue integrity during stress\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m\n     \u001b[90m 21 |\u001b[39m   afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m     wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/websocket-stress.test.tsx:22:15)\n\nFAIL __tests__/integration/thread-creation.test.tsx\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a successfully creates thread with valid API response\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a handles API failure gracefully\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a creates thread with < 300ms response time requirement\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a includes authentication token in API request\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a API Call to Create Thread \u203a generates unique thread ID for each creation\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows thread immediately in sidebar\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a shows creating state during API call\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Optimistic UI Updates \u203a reverts optimistic update on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a adds new thread to sidebar list immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a highlights new thread as active\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Sidebar and Navigation Updates \u203a navigates to new thread URL immediately\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a shows error message on API failure\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\n  \u25cf Thread Creation Core Integration \u203a Error Handling and Analytics \u203a fires thread_creation_started event on click\n\n    TypeError: _navigation.useRouter.mockReturnValue is not a function\n\n    \u001b[0m \u001b[90m 190 |\u001b[39m   \u001b[36mfunction\u001b[39m setupIntegrationTests()\u001b[33m:\u001b[39m \u001b[36mvoid\u001b[39m {\n     \u001b[90m 191 |\u001b[39m     jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 192 |\u001b[39m     (useRouter \u001b[36mas\u001b[39m jest\u001b[33m.\u001b[39m\u001b[33mMock\u001b[39m)\u001b[33m.\u001b[39mmockReturnValue(mockRouter)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 193 |\u001b[39m     mockAuthServiceFetch()\u001b[33m;\u001b[39m\n     \u001b[90m 194 |\u001b[39m     setupDefaultMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 195 |\u001b[39m   }\u001b[0m\n\n      at mockReturnValue (__tests__/integration/thread-creation.test.tsx:192:30)\n      at Object.setupIntegrationTests (__tests__/integration/thread-creation.test.tsx:62:5)\n\nFAIL __tests__/services/threadService.test.ts\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"New Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:121:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread with title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {},\n          \"participants\": Array [\n            \"user1\",\n          ],\n    @@ -12,7 +11,6 @@\n            \"test\",\n          ],\n          \"title\": \"Test Thread\",\n        },\n        \"title\": \"Priority Chat\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:131:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Creation - Activation Moment \u203a creates thread without title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 85 |\u001b[39m\n     \u001b[90m 86 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectCreateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m expectedMetadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mpost)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m    |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 88 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m'/threads'\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 89 |\u001b[39m     { metadata\u001b[33m:\u001b[39m expectedMetadata }\n     \u001b[90m 90 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:87:30)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:144:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread title\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n    -   \"metadata\": Object {\n        \"metadata\": undefined,\n        \"title\": \"Updated Title\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:162:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with metadata only\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"bookmarked\": true,\n        },\n        \"title\": undefined,\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:176:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Updates - User Engagement \u203a updates thread with both title and metadata\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    - Expected\n    + Received\n\n      \"/api/threads/thread-1\",\n    @@ -1,8 +1,7 @@\n      Object {\n        \"metadata\": Object {\n    -     \"metadata\": Object {\n          \"attachments\": Array [],\n          \"context\": Object {\n            \"urgency\": \"high\",\n          },\n          \"participants\": Array [\n    @@ -16,7 +15,6 @@\n            \"important\",\n          ],\n          \"title\": \"Urgent Thread\",\n        },\n        \"title\": \"Urgent Task\",\n    -   },\n      },\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m  98 |\u001b[39m\n     \u001b[90m  99 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectUpdateCall(mockApiClient\u001b[33m:\u001b[39m any\u001b[33m,\u001b[39m threadId\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m metadata\u001b[33m:\u001b[39m \u001b[33mThreadMetadata\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 100 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39mput)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 101 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 102 |\u001b[39m     { metadata }\n     \u001b[90m 103 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:100:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:189:23)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with default pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"limit\": 50}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 50, \"offset\": 0}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:232:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a retrieves messages with custom pagination\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: StringContaining \"/threads/thread-1/messages\", ObjectContaining {\"params\": {\"cursor\": 20, \"limit\": 10}}\n    Received: \"/api/threads/thread-1/messages\", {\"params\": {\"limit\": 10, \"offset\": 20}}\n\n    Number of calls: 1\n\n    \u001b[0m \u001b[90m 115 |\u001b[39m   \u001b[36mif\u001b[39m (cursor) expectedParams\u001b[33m.\u001b[39mcursor \u001b[33m=\u001b[39m cursor\u001b[33m;\u001b[39m\n     \u001b[90m 116 |\u001b[39m   \n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 117 |\u001b[39m   expect(mockApiClient\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\n     \u001b[90m     |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 118 |\u001b[39m     expect\u001b[33m.\u001b[39mstringContaining(\u001b[32m`/threads/${threadId}/messages`\u001b[39m)\u001b[33m,\u001b[39m\n     \u001b[90m 119 |\u001b[39m     \u001b[33mObject\u001b[39m\u001b[33m.\u001b[39mkeys(expectedParams)\u001b[33m.\u001b[39mlength \u001b[33m>\u001b[39m \u001b[35m0\u001b[39m \u001b[33m?\u001b[39m expect\u001b[33m.\u001b[39mobjectContaining({ params\u001b[33m:\u001b[39m expectedParams }) \u001b[33m:\u001b[39m undefined\n     \u001b[90m 120 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledWith (__tests__/services/threadService-helpers.ts:117:29)\n      at Object.<anonymous> (__tests__/services/threadService.test.ts:242:25)\n\n  \u25cf ThreadService Revenue-Critical Tests \u203a Thread Messages - Content Loading Critical \u203a handles empty message history\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 0\n    Received: undefined\n\n    \u001b[0m \u001b[90m 251 |\u001b[39m\n     \u001b[90m 252 |\u001b[39m       expect(result\u001b[33m.\u001b[39mmessages)\u001b[33m.\u001b[39mtoEqual([])\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 253 |\u001b[39m       expect(result\u001b[33m.\u001b[39mtotal)\u001b[33m.\u001b[39mtoBe(\u001b[35m0\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 254 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 255 |\u001b[39m\n     \u001b[90m 256 |\u001b[39m     test(\u001b[32m'handles messages API failures'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/services/threadService.test.ts:253:28)\n\nFAIL __tests__/integration/corpus-management.test.tsx\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m   wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m   wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/corpus-management.test.tsx:49:36)\n\n  \u25cf Corpus Management Integration \u203a should upload documents to corpus and update UI\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 52 |\u001b[39m\n     \u001b[90m 53 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 54 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 55 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/corpus-management.test.tsx:54:13)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: _websockettestmanager.WebSocketTestManager.createWebSocketManager is not a function\n\n    \u001b[0m \u001b[90m 47 |\u001b[39m\n     \u001b[90m 48 |\u001b[39m beforeEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 49 |\u001b[39m   wsManager \u001b[33m=\u001b[39m \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m.\u001b[39mcreateWebSocketManager()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 50 |\u001b[39m   wsManager\u001b[33m.\u001b[39msetup()\u001b[33m;\u001b[39m\n     \u001b[90m 51 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 52 |\u001b[39m\u001b[0m\n\n      at Object.createWebSocketManager (__tests__/integration/corpus-management.test.tsx:49:36)\n\n  \u25cf Corpus Management Integration \u203a should search corpus with embeddings\n\n    TypeError: Cannot read properties of undefined (reading 'cleanup')\n\n    \u001b[0m \u001b[90m 52 |\u001b[39m\n     \u001b[90m 53 |\u001b[39m afterEach(() \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 54 |\u001b[39m   wsManager\u001b[33m.\u001b[39mcleanup()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 55 |\u001b[39m   jest\u001b[33m.\u001b[39mclearAllMocks()\u001b[33m;\u001b[39m\n     \u001b[90m 56 |\u001b[39m })\u001b[33m;\u001b[39m\n     \u001b[90m 57 |\u001b[39m\u001b[0m\n\n      at Object.cleanup (__tests__/integration/corpus-management.test.tsx:54:13)\n\nFAIL __tests__/auth/auth-token.test.ts\n  \u25cf Auth Token Management \u203a getToken \u203a should return null when no token exists\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n     \u001b[90m 66 |\u001b[39m       \u001b[90m// Accept the current behavior - if localStorage is mocked to return null, that's what we should get\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m\n     \u001b[90m 70 |\u001b[39m     it(\u001b[32m'should return empty string as null'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBeNull (__tests__/auth/auth-token.test.ts:67:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should return empty string as null\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"\"\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 72 |\u001b[39m       \n     \u001b[90m 73 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39mgetToken()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 74 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(\u001b[32m''\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 75 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 76 |\u001b[39m\n     \u001b[90m 77 |\u001b[39m     it(\u001b[32m'should handle localStorage errors gracefully'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:74:22)\n\n  \u25cf Auth Token Management \u203a getToken \u203a should handle localStorage errors gracefully\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 80 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 82 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 83 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 84 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:82:44)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object when no token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:102:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should return empty object for empty token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 3\n\n    - Object {}\n    + Object {\n    +   \"Authorization\": \"Bearer mock-token\",\n    + }\n\n    \u001b[0m \u001b[90m 193 |\u001b[39m\n     \u001b[90m 194 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectEmptyHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 195 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({})\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 196 |\u001b[39m }\n     \u001b[90m 197 |\u001b[39m\n     \u001b[90m 198 |\u001b[39m \u001b[90m// Mock auth context factory\u001b[39m\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:195:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:111:25)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle long tokens\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:121:24)\n\n  \u25cf Auth Token Management \u203a getAuthHeaders \u203a should handle special characters in token\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  - 1\n    + Received  + 1\n\n      Object {\n    -   \"Authorization\": \"Bearer token.with-special_chars123!@#\",\n    +   \"Authorization\": \"Bearer mock-token\",\n      }\n\n    \u001b[0m \u001b[90m 187 |\u001b[39m \u001b[90m// Auth header validation helpers  \u001b[39m\n     \u001b[90m 188 |\u001b[39m \u001b[36mexport\u001b[39m \u001b[36mfunction\u001b[39m expectAuthHeaders(headers\u001b[33m:\u001b[39m \u001b[33mRecord\u001b[39m\u001b[33m<\u001b[39m\u001b[33mstring\u001b[39m\u001b[33m,\u001b[39m string\u001b[33m>\u001b[39m\u001b[33m,\u001b[39m token\u001b[33m:\u001b[39m string) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 189 |\u001b[39m   expect(headers)\u001b[33m.\u001b[39mtoEqual({\n     \u001b[90m     |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 190 |\u001b[39m     \u001b[33mAuthorization\u001b[39m\u001b[33m:\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m\n     \u001b[90m 191 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 192 |\u001b[39m }\u001b[0m\n\n      at toEqual (__tests__/auth/auth-test-utils.ts:189:19)\n      at Object.<anonymous> (__tests__/auth/auth-token.test.ts:131:24)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should remove token from localStorage\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 137 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 138 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 139 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 140 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 141 |\u001b[39m\n     \u001b[90m 142 |\u001b[39m     it(\u001b[32m'should handle removing non-existent token'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:139:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle removing non-existent token\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"jwt_token\"\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 145 |\u001b[39m       authService\u001b[33m.\u001b[39mremoveToken()\u001b[33m;\u001b[39m\n     \u001b[90m 146 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 147 |\u001b[39m       expect(testLocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[32m'jwt_token'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 148 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 149 |\u001b[39m\n     \u001b[90m 150 |\u001b[39m     it(\u001b[32m'should handle localStorage errors on removal'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:147:47)\n\n  \u25cf Auth Token Management \u203a removeToken \u203a should handle localStorage errors on removal\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"localStorage error\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 153 |\u001b[39m       })\u001b[33m;\u001b[39m\n     \u001b[90m 154 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 155 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39mremoveToken())\u001b[33m.\u001b[39mtoThrow(\u001b[32m'localStorage error'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 156 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 157 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 158 |\u001b[39m\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:155:47)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle rapid token operations\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 3\n    Received number of calls: 0\n\n    \u001b[0m \u001b[90m 171 |\u001b[39m\n     \u001b[90m 172 |\u001b[39m   \u001b[36mconst\u001b[39m verifyRapidTokenResults \u001b[33m=\u001b[39m (token1\u001b[33m:\u001b[39m string\u001b[33m,\u001b[39m token2\u001b[33m:\u001b[39m string) \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 173 |\u001b[39m     expect(testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mremoveItem)\u001b[33m.\u001b[39mtoHaveBeenCalledTimes(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 174 |\u001b[39m     expect(token1)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token1'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 175 |\u001b[39m     expect(token2)\u001b[33m.\u001b[39mtoBe(\u001b[32m'token2'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 176 |\u001b[39m   }\u001b[33m;\u001b[39m\u001b[0m\n\n      at toHaveBeenCalledTimes (__tests__/auth/auth-token.test.ts:173:49)\n      at Object.verifyRapidTokenResults (__tests__/auth/auth-token.test.ts:240:7)\n\n  \u25cf Auth Token Management \u203a Token Operations Integration \u203a should handle token lifecycle\n\n    expect(received).toBeNull()\n\n    Received: \"mock-token\"\n\n    \u001b[0m \u001b[90m 178 |\u001b[39m   \u001b[36mconst\u001b[39m verifyInitialNoTokenState \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 179 |\u001b[39m     testEnv\u001b[33m.\u001b[39mlocalStorageMock\u001b[33m.\u001b[39mgetItem\u001b[33m.\u001b[39mmockReturnValue(\u001b[36mnull\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 180 |\u001b[39m     expect(authService\u001b[33m.\u001b[39mgetToken())\u001b[33m.\u001b[39mtoBeNull()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 181 |\u001b[39m   }\u001b[33m;\u001b[39m\n     \u001b[90m 182 |\u001b[39m\n     \u001b[90m 183 |\u001b[39m   \u001b[36mconst\u001b[39m setTokenAndVerify \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at toBeNull (__tests__/auth/auth-token.test.ts:180:36)\n      at Object.verifyInitialNoTokenState (__tests__/auth/auth-token.test.ts:244:7)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should return auth context when used within provider\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: {\"$$typeof\": Symbol(react.context), \"Consumer\": {\"$$typeof\": Symbol(react.consumer), \"_context\": [Circular]}, \"Provider\": [Circular], \"_currentRenderer\": null, \"_currentRenderer2\": null, \"_currentValue\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_currentValue2\": {\"authConfig\": {\"authorized_javascript_origins\": [\"http://localhost:3000\"], \"authorized_redirect_uris\": [\"http://localhost:3000/auth/callback\"], \"development_mode\": true, \"endpoints\": {\"callback\": \"http://localhost:8081/auth/callback\", \"dev_login\": \"http://localhost:8081/auth/dev/login\", \"login\": \"http://localhost:8081/auth/login\", \"logout\": \"http://localhost:8081/auth/logout\", \"token\": \"http://localhost:8081/auth/token\", \"user\": \"http://localhost:8081/auth/me\"}, \"google_client_id\": \"mock-google-client-id\"}, \"loading\": false, \"login\": [Function mockConstructor], \"logout\": [Function mockConstructor], \"token\": \"mock-token\", \"user\": {\"email\": \"test@example.com\", \"full_name\": \"Test User\", \"id\": \"test-user\"}}, \"_threadCount\": 0}\n\n    Number of calls: 0\n\n    \u001b[0m \u001b[90m 270 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 271 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 272 |\u001b[39m       expect(mockUseContext)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[33mAuthContext\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 273 |\u001b[39m       expect(result)\u001b[33m.\u001b[39mtoBe(mockContext)\u001b[33m;\u001b[39m\n     \u001b[90m 274 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 275 |\u001b[39m\u001b[0m\n\n      at Object.toHaveBeenCalledWith (__tests__/auth/auth-token.test.ts:272:30)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should throw error when used outside provider\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 278 |\u001b[39m\n     \u001b[90m 279 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 280 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 281 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 282 |\u001b[39m\n     \u001b[90m 283 |\u001b[39m     it(\u001b[32m'should handle null context'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:280:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle null context\n\n    expect(received).toThrow(expected)\n\n    Expected substring: \"useAuth must be used within an AuthProvider\"\n\n    Received function did not throw\n\n    \u001b[0m \u001b[90m 285 |\u001b[39m\n     \u001b[90m 286 |\u001b[39m       expect(() \u001b[33m=>\u001b[39m authService\u001b[33m.\u001b[39museAuth())\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 287 |\u001b[39m         \u001b[33m.\u001b[39mtoThrow(\u001b[32m'useAuth must be used within an AuthProvider'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 288 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 289 |\u001b[39m\n     \u001b[90m 290 |\u001b[39m     it(\u001b[32m'should return context with all required properties'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toThrow (__tests__/auth/auth-token.test.ts:287:10)\n\n  \u25cf Auth Token Management \u203a useAuth Hook \u203a should handle loading state\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n    \u001b[0m \u001b[90m 309 |\u001b[39m       \u001b[36mconst\u001b[39m result \u001b[33m=\u001b[39m authService\u001b[33m.\u001b[39museAuth()\u001b[33m;\u001b[39m\n     \u001b[90m 310 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 311 |\u001b[39m       expect(result\u001b[33m.\u001b[39mloading)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                              \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 312 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 313 |\u001b[39m   })\u001b[33m;\u001b[39m\n     \u001b[90m 314 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.toBe (__tests__/auth/auth-token.test.ts:311:30)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/resource-utilization.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testInteractionDebouncing\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/interaction-latency.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx\n      __tests__/integration/comprehensive/performance-benchmarks/index.test.tsx\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   testVirtualScrolling\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/render-performance.test.tsx:26:20)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/index.test.tsx:11:1)\n\nFAIL __tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../test-utils' from '__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./performance-test-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-benchmarks/concurrent-performance.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/websocket-resilience.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/websocket-resilience.test.tsx'\n\n    \u001b[0m \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./components/websocket-components'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 27 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 28 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 30 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/websocket-resilience.test.tsx:27:20)\n\nFAIL __tests__/integration/critical/error-recovery-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/test-mock-helpers' from '__tests__/integration/critical/error-recovery-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m \u001b[90m// Import test utilities\u001b[39m\n     \u001b[90m 15 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mTestProviders\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'@/__tests__/setup/test-providers'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m \u001b[36mimport\u001b[39m { setupTestEnvironment\u001b[33m,\u001b[39m cleanupTestEnvironment\u001b[33m,\u001b[39m resetTestStores\u001b[33m,\u001b[39m clearTestStorage } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-setup-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m \u001b[36mimport\u001b[39m { createExpiredToken\u001b[33m,\u001b[39m setupRetryFetchMock } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-mock-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 18 |\u001b[39m \u001b[36mimport\u001b[39m { retryWithBackoff } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-async-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m \u001b[36mimport\u001b[39m { \u001b[33mConnectionRecoveryComponent\u001b[39m\u001b[33m,\u001b[39m \u001b[33mAuthStatusComponent\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-component-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/critical/error-recovery-refactored.test.tsx:16:26)\n\nFAIL __tests__/integration/comprehensive/user-journey.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m createWebSocketMessage\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   handleUserJoined\u001b[33m,\u001b[39m handleVoteCast\u001b[33m,\u001b[39m handleStepChange\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey.test.tsx:9:27)\n\nFAIL __tests__/integration/comprehensive/user-journey-workflow.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-workflow.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   validateFileType\u001b[33m,\u001b[39m validateFileSize\u001b[33m,\u001b[39m parseFileContent\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   createMockOptimizations\u001b[33m,\u001b[39m simulateAnalysisPhases\u001b[33m,\u001b[39m calculateTotalImpact\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   createResults\u001b[33m,\u001b[39m simulateOptimizationApplication\u001b[33m,\u001b[39m createWorkloadConfigFile\u001b[33m,\u001b[39m\n     \u001b[90m 12 |\u001b[39m   expectSuccessfulUpload\u001b[33m,\u001b[39m expectSuccessfulAnalysis\u001b[33m,\u001b[39m expectCompletedWorkflow\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-workflow.test.tsx:9:27)\n\nFAIL __tests__/integration/comprehensive/user-journey-errors.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './user-journey-utils' from '__tests__/integration/comprehensive/user-journey-errors.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupUserJourneyTest\u001b[33m,\u001b[39m teardownUserJourneyTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m createValidJsonFile\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./user-journey-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 11 |\u001b[39m\n     \u001b[90m 12 |\u001b[39m describe(\u001b[32m'Error Scenarios in User Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/user-journey-errors.test.tsx:9:27)\n\nFAIL __tests__/integration/comprehensive/theme-preferences.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/theme-preferences.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 25 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 29 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/theme-preferences.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/performance-memory.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/performance-memory.test.tsx'\n\n    \u001b[0m \u001b[90m 29 |\u001b[39m     back\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 30 |\u001b[39m     forward\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 31 |\u001b[39m     pathname\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 32 |\u001b[39m     query\u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m\n     \u001b[90m 33 |\u001b[39m     asPath\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 34 |\u001b[39m   })\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/performance-memory.test.tsx:31:20)\n\nFAIL __tests__/integration/comprehensive/navigation-search.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/navigation-search.test.tsx'\n\n    \u001b[0m \u001b[90m 14 |\u001b[39m   act\u001b[33m,\u001b[39m\n     \u001b[90m 15 |\u001b[39m   setupTestEnvironment\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 16 |\u001b[39m   cleanupTestEnvironment\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 17 |\u001b[39m   createMockWebSocketServer\u001b[33m,\u001b[39m\n     \u001b[90m 18 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m\n     \u001b[90m 19 |\u001b[39m   \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/navigation-search.test.tsx:16:20)\n\nFAIL __tests__/integration/comprehensive/interactive-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   waitForUserInteraction\u001b[33m,\u001b[39m getMovementDirection\u001b[33m,\u001b[39m calculateNewPosition\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectAnimationStage\u001b[33m,\u001b[39m expectAnimationStatus\u001b[33m,\u001b[39m expectGesturePosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/memory-management.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/memory-management.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m   addTimer\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   addListener\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   cleanupResources\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   generateDataChunk\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m   calculateProgress\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m   estimateMemoryUsage\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/memory-management.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-scroll.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll.test.tsx:12:1)\n\nFAIL __tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   calculateVisibleRange\u001b[33m,\u001b[39m createVirtualItems\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectScrollBehavior\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-basic.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m \u001b[33mTEST_TIMEOUTS\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateNetworkDelay\u001b[33m,\u001b[39m simulateScroll\u001b[33m,\u001b[39m createScrollContainer\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   generateScrollItems\u001b[33m,\u001b[39m saveScrollPosition\u001b[33m,\u001b[39m restoreScrollPosition\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-scroll-advanced.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx'\n\n    Require stack:\n      __tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx\n      __tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   createMockDataTransfer\u001b[33m,\u001b[39m createTestFile\u001b[33m,\u001b[39m generateImagePreview\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   simulateDragOver\u001b[33m,\u001b[39m simulateDragLeave\u001b[33m,\u001b[39m simulateDrop\u001b[33m,\u001b[39m\n     \u001b[90m 11 |\u001b[39m   expectFileCountChange\n     \u001b[90m 12 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-basic.test.tsx:9:35)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop.test.tsx:12:1)\n\nFAIL __tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './interactive-features-utils' from '__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx'\n\n    \u001b[0m \u001b[90m  7 |\u001b[39m   \u001b[33mReact\u001b[39m\u001b[33m,\u001b[39m render\u001b[33m,\u001b[39m waitFor\u001b[33m,\u001b[39m fireEvent\u001b[33m,\u001b[39m\n     \u001b[90m  8 |\u001b[39m   setupInteractiveTest\u001b[33m,\u001b[39m teardownInteractiveTest\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  9 |\u001b[39m   simulateDragStart\u001b[33m,\u001b[39m reorderItems\u001b[33m,\u001b[39m generateItems\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 10 |\u001b[39m   expectItemOrder\u001b[33m,\u001b[39m simulateDropValidation\n     \u001b[90m 11 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./interactive-features-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/interactive-features-drag-drop-advanced.test.tsx:9:35)\n\nFAIL __tests__/integration/comprehensive/index.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/index.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mas\u001b[39m testUtils \u001b[36mfrom\u001b[39m \u001b[32m'./test-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 37 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m \u001b[90m// Import all test modules - commented out temporarily to prevent import errors\u001b[39m\n     \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m \u001b[90m// These modules need fixing to work with the current test-utils structure\u001b[39m\n     \u001b[90m 40 |\u001b[39m \u001b[90m// import './theme-preferences.test';\u001b[39m\n     \u001b[90m 41 |\u001b[39m \u001b[90m// import './collaboration-features.test';\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/index.test.tsx:38:60)\n\nFAIL __tests__/integration/comprehensive/i18n-tests.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/i18n-tests.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/i18n-tests.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/error-recovery.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/error-recovery.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 28 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/error-recovery.test.tsx:26:20)\n\nFAIL __tests__/integration/comprehensive/collaboration-features.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './test-utils' from '__tests__/integration/comprehensive/collaboration-features.test.tsx'\n\n    \u001b[0m \u001b[90m 24 |\u001b[39m \u001b[90m// Apply Next.js navigation mock\u001b[39m\n     \u001b[90m 25 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 26 |\u001b[39m   useRouter\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 27 |\u001b[39m     push\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 28 |\u001b[39m     replace\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\n     \u001b[90m 29 |\u001b[39m     refresh\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive/collaboration-features.test.tsx:26:20)\n\nFAIL __tests__/integration/tool-lifecycle-integration.test.ts\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseUnifiedChatStore' before initialization\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 12 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseUnifiedChatStore (__tests__/integration/tool-lifecycle-integration.test.ts:13:24)\n      at Object.<anonymous> (__tests__/integration/tool-lifecycle-integration.test.ts:31:22)\n\nFAIL __tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module '../../helpers/optimization-workflow-helpers' from '__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 11 |\u001b[39m \u001b[36mimport\u001b[39m { assertElementText\u001b[33m,\u001b[39m waitForElementText\u001b[33m,\u001b[39m assertOptimizationResults } \u001b[36mfrom\u001b[39m \u001b[32m'../../helpers/test-assertion-helpers'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 12 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 13 |\u001b[39m describe(\u001b[32m'Advanced Frontend Integration Tests - End-to-End Journey'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m    |\u001b[39m                                      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 14 |\u001b[39m   \u001b[36mlet\u001b[39m server\u001b[33m:\u001b[39m \u001b[33mWS\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 15 |\u001b[39m   \n     \u001b[90m 16 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/advanced-integration/end-to-end-journey-refactored.test.tsx:13:38)\n\nFAIL __tests__/integration/login-complete.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/components/MainChat mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/components\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\components\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 30 |\u001b[39m \u001b[36mconst\u001b[39m \u001b[33mMockMessageInput\u001b[39m \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[33m<\u001b[39m\u001b[33minput\u001b[39m data\u001b[33m-\u001b[39mtestid\u001b[33m=\u001b[39m\u001b[32m\"message-input\"\u001b[39m placeholder\u001b[33m=\u001b[39m\u001b[32m\"Type message...\"\u001b[39m \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 31 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 32 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/components/MainChat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 33 |\u001b[39m   \u001b[33mMainChat\u001b[39m\u001b[33m:\u001b[39m \u001b[33mMockChatInterface\u001b[39m\n     \u001b[90m 34 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 35 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete.test.tsx:32:6)\n\nFAIL __tests__/integration/login-token-management.test.tsx\n  \u25cf Test suite failed to run\n\n    TypeError: (0 , _utils.createMockExpiredToken) is not a function\n\n    \u001b[0m \u001b[90m 64 |\u001b[39m\n     \u001b[90m 65 |\u001b[39m \u001b[36mconst\u001b[39m validToken \u001b[33m=\u001b[39m createMockToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m3600\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 66 |\u001b[39m \u001b[36mconst\u001b[39m expiredToken \u001b[33m=\u001b[39m createMockExpiredToken(testUser\u001b[33m.\u001b[39mid)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 67 |\u001b[39m \u001b[36mconst\u001b[39m expiringToken \u001b[33m=\u001b[39m createMockExpiringToken(testUser\u001b[33m.\u001b[39mid\u001b[33m,\u001b[39m \u001b[35m300\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 68 |\u001b[39m\n     \u001b[90m 69 |\u001b[39m \u001b[90m// ============================================================================\u001b[39m\u001b[0m\n\n      at Object.<anonymous> (__tests__/integration/login-token-management.test.tsx:66:44)\n\nFAIL __tests__/integration/integration-tasks.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-tasks.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m    |\u001b[39m                                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n     \u001b[90m 25 |\u001b[39m \u001b[90m// Declare mocks first (Jest Module Hoisting)\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-tasks.test.tsx:22:37)\n\nFAIL __tests__/integration/integration-health.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-health.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-health.test.tsx:22:37)\n\nFAIL __tests__/integration/login-complete-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    Configuration error:\n\n    Could not locate module @/services/websocket mapped as:\n    C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1.\n\n    Please check your configuration for these entries:\n    {\n      \"moduleNameMapper\": {\n        \"/^@\\/services\\/(.*)$/\": \"C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\services\\$1\"\n      },\n      \"resolver\": undefined\n    }\n\n    \u001b[0m \u001b[90m 65 |\u001b[39m \u001b[90m// Mock implementations\u001b[39m\n     \u001b[90m 66 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore }))\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 67 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/services/websocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 68 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'next/navigation'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ useRouter\u001b[33m:\u001b[39m mockUseRouter }))\u001b[33m;\u001b[39m\n     \u001b[90m 69 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/auth/service'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({ authService\u001b[33m:\u001b[39m mockAuthService }))\u001b[33m;\u001b[39m\n     \u001b[90m 70 |\u001b[39m\u001b[0m\n\n      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/index.js:1117:17)\n      at Object.mock (__tests__/integration/login-complete-flow.test.tsx:67:6)\n\nFAIL __tests__/integration/integration-data-generation.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-data-generation.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   setupLoadingMocks\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseUnifiedChatStore\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m 25 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-data-generation.test.tsx:22:37)\n\nFAIL __tests__/integration/integration-corpus.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-corpus.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 37 |\u001b[39m   useUnifiedChatStore\u001b[33m:\u001b[39m mockUseUnifiedChatStore\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m\n     \u001b[90m 40 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/hooks/useWebSocket'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n     \u001b[90m 41 |\u001b[39m   useWebSocket\u001b[33m:\u001b[39m mockUseWebSocket\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-corpus.test.tsx:38:37)\n\nFAIL __tests__/integration/integration-comprehensive-core.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-comprehensive-helpers' from '__tests__/integration/integration-comprehensive-core.test.tsx'\n\n    \u001b[0m \u001b[90m 36 |\u001b[39m   setupComprehensiveLLMCacheResponseMocks\u001b[33m,\u001b[39m\n     \u001b[90m 37 |\u001b[39m   setupComprehensiveHealthMock\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 38 |\u001b[39m   setupComprehensiveDegradedHealthMock\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                          \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 39 |\u001b[39m   createComprehensiveMockTask\u001b[33m,\u001b[39m\n     \u001b[90m 40 |\u001b[39m   queueComprehensiveTask\n     \u001b[90m 41 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-comprehensive-helpers'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-comprehensive-core.test.tsx:38:42)\n\nFAIL __tests__/integration/integration-cache.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './integration-shared-utilities' from '__tests__/integration/integration-cache.test.tsx'\n\n    \u001b[0m \u001b[90m 20 |\u001b[39m   createMockUseWebSocket\u001b[33m,\u001b[39m\n     \u001b[90m 21 |\u001b[39m   createMockUseAgent\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 22 |\u001b[39m   createMockUseAuthStore\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 23 |\u001b[39m   createMockUseLoadingState\u001b[33m,\u001b[39m\n     \u001b[90m 24 |\u001b[39m   createMockUseThreadNavigation\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./integration-shared-utilities'\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/integration-cache.test.tsx:22:37)\n\nFAIL __tests__/integration/first-load.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: setupFirstLoadMockComponents is not defined\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m \u001b[36mimport\u001b[39m \u001b[33m*\u001b[39m \u001b[36mas\u001b[39m \u001b[33mFirstLoadMockSetup\u001b[39m \u001b[36mfrom\u001b[39m \u001b[32m'@/__tests__/helpers/first-load-mock-setup'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 24 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m setupFirstLoadMockComponents()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m describe(\u001b[32m'First Load Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.setupFirstLoadMockComponents (__tests__/integration/first-load.test.tsx:25:1)\n\nFAIL __tests__/integration/collaboration-state.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockCreateWebSocketManager' before initialization\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m \u001b[90m// Mock WebSocket test manager\u001b[39m\n     \u001b[90m 42 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'../helpers/websocket-test-manager'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   createWebSocketManager\u001b[33m:\u001b[39m mockCreateWebSocketManager\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\n     \u001b[90m 45 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at mockCreateWebSocketManager (__tests__/integration/collaboration-state.test.tsx:43:27)\n      at Object.<anonymous> (__tests__/integration/collaboration-state.test.tsx:42:31)\n\nFAIL __tests__/integration/comprehensive-integration-elite.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './utils/comprehensive-test-utils' from '__tests__/integration/comprehensive-integration-elite.test.tsx'\n\n    \u001b[0m \u001b[90m 51 |\u001b[39m     pathname\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 52 |\u001b[39m     query\u001b[33m:\u001b[39m {}\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 53 |\u001b[39m     asPath\u001b[33m:\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 54 |\u001b[39m   })\u001b[33m,\u001b[39m\n     \u001b[90m 55 |\u001b[39m   usePathname\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 56 |\u001b[39m   useSearchParams\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mURLSearchParams\u001b[39m()\u001b[33m,\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration-elite.test.tsx:53:33)\n\nFAIL __tests__/integration/auth-flow.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockUseAuthStore' before initialization\n\n    \u001b[0m \u001b[90m 15 |\u001b[39m \u001b[90m// Mock hooks before imports\u001b[39m\n     \u001b[90m 16 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/authStore'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m   useAuthStore\u001b[33m:\u001b[39m mockUseAuthStore\n     \u001b[90m    |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 18 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 19 |\u001b[39m\n     \u001b[90m 20 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'@/store/unified-chat'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\u001b[0m\n\n      at mockUseAuthStore (__tests__/integration/auth-flow.test.tsx:17:17)\n      at Object.<anonymous> (__tests__/integration/auth-flow.test.tsx:52:20)\n\nFAIL __tests__/integration/comprehensive-integration.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: Cannot access 'mockCreateWebSocketManager' before initialization\n\n    \u001b[0m \u001b[90m 41 |\u001b[39m \u001b[90m// Mock WebSocket test manager\u001b[39m\n     \u001b[90m 42 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'../helpers/websocket-test-manager'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m ({\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 43 |\u001b[39m   createWebSocketManager\u001b[33m:\u001b[39m mockCreateWebSocketManager\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 44 |\u001b[39m   \u001b[33mWebSocketTestManager\u001b[39m\u001b[33m:\u001b[39m jest\u001b[33m.\u001b[39mfn()\n     \u001b[90m 45 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 46 |\u001b[39m\u001b[0m\n\n      at mockCreateWebSocketManager (__tests__/integration/collaboration-state.test.tsx:43:27)\n      at Object.<anonymous> (__tests__/integration/collaboration-state.test.tsx:42:31)\n      at Object.<anonymous> (__tests__/integration/comprehensive-integration.test.tsx:26:1)\n\nFAIL __tests__/integration/auth-flow-refactored.test.tsx\n  \u25cf Test suite failed to run\n\n    Cannot find module './utils/auth-flow-utils' from '__tests__/integration/auth-flow-refactored.test.tsx'\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m   })\u001b[33m,\u001b[39m\n     \u001b[90m 50 |\u001b[39m   usePathname\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m   useSearchParams\u001b[33m:\u001b[39m () \u001b[33m=>\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mURLSearchParams\u001b[39m()\n     \u001b[90m    |\u001b[39m                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m }))\u001b[33m;\u001b[39m\n     \u001b[90m 53 |\u001b[39m\n     \u001b[90m 54 |\u001b[39m \u001b[90m// Now imports\u001b[39m\u001b[0m\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)\n      at Object.<anonymous> (__tests__/integration/auth-flow-refactored.test.tsx:51:24)\n\nFAIL __tests__/auth/login-to-chat-advanced.test.tsx\n  \u25cf Test suite failed to run\n\n      \u001b[31mx\u001b[0m The left-hand side of an assignment expression must be a variable or a property access.\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m54\u001b[0m |     token: mockToken\n        `----\n      \u001b[31mx\u001b[0m Invalid assignment target\n        ,-[\u001b[36;1;4mC:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\frontend\\__tests__\\auth\\login-to-chat-utils.tsx\u001b[0m:51:1]\n     \u001b[2m48\u001b[0m | }\n     \u001b[2m49\u001b[0m | \n     \u001b[2m50\u001b[0m | export function setupMockAuthService() {\n     \u001b[2m51\u001b[0m |   jest.mocked(authService.handleLogin) = jest.fn().mockResolvedValue({\n        : \u001b[35;1m  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m\n     \u001b[2m52\u001b[0m |     success: true,\n     \u001b[2m53\u001b[0m |     user: mockUser,\n     \u001b[2m54\u001b[0m |     token: mockToken\n        `----\n\n\n    Caused by:\n        Syntax Error\n\n    \u001b[0m \u001b[90m 22 |\u001b[39m   performLogin\u001b[33m,\u001b[39m\n     \u001b[90m 23 |\u001b[39m   mockUser\u001b[33m,\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 24 |\u001b[39m   mockToken\n     \u001b[90m    |\u001b[39m            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 25 |\u001b[39m } \u001b[36mfrom\u001b[39m \u001b[32m'./login-to-chat-utils'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m \u001b[90m// Mock dependencies for isolated auth testing\u001b[39m\u001b[0m\n\n      at Object.transformSync (node_modules/next/src/build/swc/index.ts:1374:25)\n      at transformSync (node_modules/next/src/build/swc/index.ts:1477:19)\n      at Object.process (node_modules/next/src/build/swc/jest-transformer.ts:105:25)\n      at ScriptTransformer.transformSource (node_modules/@jest/transform/build/index.js:422:31)\n      at ScriptTransformer._transformAndBuildScript (node_modules/@jest/transform/build/index.js:519:40)\n      at ScriptTransformer.transform (node_modules/@jest/transform/build/index.js:558:19)\n      at Object.<anonymous> (__tests__/auth/login-to-chat-advanced.test.tsx:24:27)\n\nFAIL __tests__/integration/initial-state.test.tsx\n  \u25cf Test suite failed to run\n\n    ReferenceError: setupInitialStateMockComponents is not defined\n\n    \u001b[0m \u001b[90m 23 |\u001b[39m\n     \u001b[90m 24 |\u001b[39m \u001b[90m// Setup all mocks\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 |\u001b[39m setupInitialStateMockComponents()\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 26 |\u001b[39m\n     \u001b[90m 27 |\u001b[39m describe(\u001b[32m'Initial State Integration Tests'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 28 |\u001b[39m   beforeEach(() \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.setupInitialStateMockComponents (__tests__/integration/initial-state.test.tsx:25:1)\n\nFAIL __tests__/integration/connection-management-advanced.test.tsx (61.373 s)\n  \u25cf Connection Management Advanced Tests \u203a Network Condition Simulation \u203a should simulate latency delays\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 248 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 249 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 250 |\u001b[39m     it(\u001b[32m'should simulate latency delays'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 251 |\u001b[39m       networkSimulator\u001b[33m.\u001b[39msetLatency(\u001b[35m100\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 252 |\u001b[39m       \u001b[36mconst\u001b[39m start \u001b[33m=\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m;\u001b[39m\n     \u001b[90m 253 |\u001b[39m       \u001b[36mawait\u001b[39m networkSimulator\u001b[33m.\u001b[39msimulateLatency()\u001b[33m;\u001b[39m\u001b[0m\n\n      at it (__tests__/integration/connection-management-advanced.test.tsx:250:5)\n      at describe (__tests__/integration/connection-management-advanced.test.tsx:225:3)\n      at Object.describe (__tests__/integration/connection-management-advanced.test.tsx:145:1)\n\nFAIL __tests__/auth/auth-token-refresh-auto.test.tsx (121.717 s)\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token before expiry threshold\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 194 |\u001b[39m\n     \u001b[90m 195 |\u001b[39m       \u001b[90m// Since we're using a mock AuthProvider, we'll just check the setup is correct\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 196 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mgetToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 197 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 198 |\u001b[39m\n     \u001b[90m 199 |\u001b[39m     it(\u001b[32m'should update auth store with refreshed token'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:196:40)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should update auth store with refreshed token\n\n    expect(jest.fn()).toHaveBeenCalled()\n\n    Expected number of calls: >= 1\n    Received number of calls:    0\n\n    \u001b[0m \u001b[90m 224 |\u001b[39m\n     \u001b[90m 225 |\u001b[39m       \u001b[90m// Check that setToken would be called with the refreshed token\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 226 |\u001b[39m       expect(mockAuthService\u001b[33m.\u001b[39mgetToken)\u001b[33m.\u001b[39mtoHaveBeenCalled()\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 227 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 228 |\u001b[39m\n     \u001b[90m 229 |\u001b[39m     it(\u001b[32m'should refresh token on user activity near expiry'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\n      at Object.toHaveBeenCalled (__tests__/auth/auth-token-refresh-auto.test.tsx:226:40)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should refresh token on user activity near expiry\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 227 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 228 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 229 |\u001b[39m     it(\u001b[32m'should refresh token on user activity near expiry'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 230 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 231 |\u001b[39m       \u001b[36mconst\u001b[39m { mockToken } \u001b[33m=\u001b[39m createExpiringToken(\u001b[35m3\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 3 minutes until expiry\u001b[39m\n     \u001b[90m 232 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/auth/auth-token-refresh-auto.test.tsx:229:5)\n      at describe (__tests__/auth/auth-token-refresh-auto.test.tsx:165:3)\n      at Object.describe (__tests__/auth/auth-token-refresh-auto.test.tsx:53:1)\n\n  \u25cf Auth Token Refresh Automatic \u203a Automatic Token Refresh \u203a should not refresh if token has sufficient time remaining\n\n    thrown: \"Exceeded timeout of 60000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\n    \u001b[0m \u001b[90m 261 |\u001b[39m     })\u001b[33m;\u001b[39m\n     \u001b[90m 262 |\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 263 |\u001b[39m     it(\u001b[32m'should not refresh if token has sufficient time remaining'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 264 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\n     \u001b[90m 265 |\u001b[39m       \u001b[36mconst\u001b[39m { mockToken } \u001b[33m=\u001b[39m createExpiringToken(\u001b[35m10\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// 10 minutes until expiry - no refresh needed\u001b[39m\n     \u001b[90m 266 |\u001b[39m       \u001b[0m\n\n      at it (__tests__/auth/auth-token-refresh-auto.test.tsx:263:5)\n      at describe (__tests__/auth/auth-token-refresh-auto.test.tsx:165:3)\n      at Object.describe (__tests__/auth/auth-token-refresh-auto.test.tsx:53:1)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should retry API call with refreshed token\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"app-content\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 350 |\u001b[39m       \u001b[90m// Trigger API call through user interaction\u001b[39m\n     \u001b[90m 351 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 352 |\u001b[39m         \u001b[36mconst\u001b[39m appContent \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 353 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\n     \u001b[90m 354 |\u001b[39m         \u001b[36mawait\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(resolve \u001b[33m=>\u001b[39m setTimeout(resolve\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 355 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/auth/auth-token-refresh-auto.test.tsx:352:35)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:351:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should handle 401 responses by triggering token refresh\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"app-content\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 384 |\u001b[39m       \u001b[90m// Trigger API call through user interaction\u001b[39m\n     \u001b[90m 385 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 386 |\u001b[39m         \u001b[36mconst\u001b[39m appContent \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 387 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\n     \u001b[90m 388 |\u001b[39m         \u001b[36mawait\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m(resolve \u001b[33m=>\u001b[39m setTimeout(resolve\u001b[33m,\u001b[39m \u001b[35m100\u001b[39m))\u001b[33m;\u001b[39m\n     \u001b[90m 389 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/auth/auth-token-refresh-auto.test.tsx:386:35)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:385:16)\n\n  \u25cf Auth Token Refresh Automatic \u203a Token Refresh on API Calls \u203a should prevent multiple concurrent refresh attempts\n\n    TestingLibraryElementError: Unable to find an element by: [data-testid=\"app-content\"]\n\n    Ignored nodes: comments, script, style\n    \u001b[36m<body>\u001b[39m\n      \u001b[36m<div />\u001b[39m\n    \u001b[36m</body>\u001b[39m\n\n    \u001b[0m \u001b[90m 420 |\u001b[39m       \u001b[90m// Trigger multiple concurrent API calls\u001b[39m\n     \u001b[90m 421 |\u001b[39m       \u001b[36mawait\u001b[39m act(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 422 |\u001b[39m         \u001b[36mconst\u001b[39m appContent \u001b[33m=\u001b[39m screen\u001b[33m.\u001b[39mgetByTestId(\u001b[32m'app-content'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m     |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 423 |\u001b[39m         \u001b[90m// Multiple rapid clicks to simulate concurrent requests\u001b[39m\n     \u001b[90m 424 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\n     \u001b[90m 425 |\u001b[39m         \u001b[36mawait\u001b[39m userEvent\u001b[33m.\u001b[39mclick(appContent)\u001b[33m;\u001b[39m\u001b[0m\n\n      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)\n      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38\n      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17\n      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19\n      at getByTestId (__tests__/auth/auth-token-refresh-auto.test.tsx:422:35)\n      at node_modules/@testing-library/react/dist/act-compat.js:48:24\n      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:790:22)\n      at node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at Object.<anonymous> (__tests__/auth/auth-token-refresh-auto.test.tsx:421:16)\n\n\nTest Suites: 96 failed, 67 passed, 163 total\nTests:       484 failed, 3 skipped, 772 passed, 1259 total\nSnapshots:   0 total\nTime:        127.949 s\nRan all test suites.\n"
    },
    "dev_launcher": {
      "success": false,
      "duration": 150.00068616867065,
      "output": "============================= test session starts =============================\nplatform win32 -- Python 3.12.3, pytest-8.4.1, pluggy-1.6.0\nrootdir: C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\nconfigfile: pytest.ini\nplugins: anyio-4.9.0, Faker-37.5.3, langsmith-0.4.15, asyncio-1.1.0, cov-6.2.1, mock-3.14.1, xdist-3.8.0\nasyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function\ncollected 22 items\n\ntests\\e2e\\test_dev_launcher_real_startup.py FFF                          [ 13%]\ntests\\integration\\test_dev_launcher_utilities_validation.py FFF.FFF.FFFF [ 68%]\n                                                                         [ 68%]\ntests\\test_system_startup.py .......                                     [100%]\n\n================================== FAILURES ===================================\n_____ TestDevLauncherRealStartup.test_real_dev_launcher_startup_sequence ______\ntests\\e2e\\test_dev_launcher_real_startup.py:285: in test_real_dev_launcher_startup_sequence\n    assert startup_success, \"Dev launcher failed to start services\"\nE   AssertionError: Dev launcher failed to start services\nE   assert False\n---------------------------- Captured stdout setup ----------------------------\nBacked up original config to C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json.backup\nUsing test config with mock databases\nSet DATABASE_URL=postgresql://mock:mock@localhost:5432/mock\nSet REDIS_URL=redis://localhost:6379/0\nSet CLICKHOUSE_URL=clickhouse://default@localhost:8123/netra_dev\nSet DISABLE_DB_INIT=true\nSet TESTING=true\nSet JWT_SECRET_KEY=test-jwt-secret-key-for-dev-launcher-testing-a972c69e180b2932bc682ba03af254dd\nSet FERNET_KEY=4HZQlpRl52eI6oermIeM-2v1Ck_Ad9N-oMP2IrB9-o4=\nSet SKIP_DATABASE_INIT=true\n----------------------------- Captured log setup ------------------------------\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.address`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.address` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.automotive`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.automotive` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.bank`.\nDEBUG    faker.factory:factory.py:88 Specified locale `en_US` is not available for provider `faker.providers.bank`. Locale reset to `en_GB` for this provider.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.barcode`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.barcode` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.color`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.color` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.company`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.company` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.credit_card`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.credit_card` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.currency`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.currency` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.date_time`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.date_time` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.doi` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.emoji` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.file` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.geo`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.geo` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.internet`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.internet` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.isbn`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.isbn` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.job`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.job` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.lorem`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.lorem` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.misc`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.misc` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.passport`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.passport` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.person`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.person` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.phone_number`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.phone_number` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.profile` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.python` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.sbn` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    faker.factory:factory.py:78 Looking for locale `en_US` in provider `faker.providers.ssn`.\nDEBUG    faker.factory:factory.py:97 Provider `faker.providers.ssn` has been localized to `en_US`.\nDEBUG    faker.factory:factory.py:108 Provider `faker.providers.user_agent` does not feature localization. Specified locale `en_US` is not utilized for this provider.\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:351 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:516 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== STARTING REAL DEV LAUNCHER STARTUP TEST ===\\n DISCOVER | POSTGRESQL: postgresql://mock:***@localhost:5432/mock\\n DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n DISCOVER | REDIS: redis://localhost:6379/0\\n[DISCOVER] WEBSOCKET | Discovered endpoint: main_ws -> ws://localhost:8000/ws (required)\\n[DISCOVER] WEBSOCKET | Discovered endpoint: mcp_ws -> ws://localhost:8000/api/mcp/ws (optional)\\n============================================================\\n[LAUNCH] Netra AI Development Environment\\n============================================================\\n[CONFIG] Configuration:\\n[SERVICES] Service Modes:\\n  \\u2022 Redis       : Mock  \\n  \\u2022 ClickHouse  : Mock  \\n  \\u2022 PostgreSQL  : Mock  \\n  \\u2022 LLM         : Mock  \\n\\n  \\u2022 Dynamic ports: NO\\n  \\u2022 Backend hot reload: NO\\n  \\u2022 Frontend hot reload: YES (Next.js native)\\n  \\u2022 Real-time logging: YES\\n  \\u2022 Turbopack: NO\\n  \\u2022 Secret loading: NO\\n  \\u2022 Verbose output: NO\\n\\n[ENV] Checking environment...\\n[CHECK] Checking environment...\\n[OK] Environment check passed\\n[DEFAULT] Set BACKEND_PORT=8000\\n[DEFAULT] Set FRONTEND_PORT=3000\\n[DEFAULT] Set AUTH_PORT=8081\\n[DEFAULT] Set WEBSOCKET_PORT=8000\\n[DEFAULT] Set CORS_ORIGINS=*\\n[TOKEN] Using existing cross-service auth token\\n[ENV] Environment check passed\\n[SECRETS] Secret loading disabled (--no-secrets flag)\\n[STEP 1-2] Checking cache and environment...\\n[STEP 3] Loading secrets...\\n[STEP 4] Validating database connections...\\n[DATABASE] All databases in mock mode - skipping validation\\n[STEP 5] Checking and running migrations...\\n[MIGRATIONS] Skipping migrations (explicitly disabled)\\n[STEP 6-7] Starting backend and auth services...\\n[BACKEND] Starting backend server (Redis:mock, ClickHouse:mock, PostgreSQL:mock, LLM:mock)...\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33mC:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\_internal\\\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33m  warnings.warn(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33mC:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\_internal\\\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33m  warnings.warn(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:07:43.943\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 23, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m     return cls(jwt_secret_key=jwt_secret_key, fernet_key=fernet_key_bytes)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\main.py\", line 253, in __init__\\n\\x1b[36m[BACKEND]\\x1b[0m     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\\n\\x1b[36m[BACKEND]\\x1b[0m                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mpydantic_core._pydantic_core.ValidationError: 2 validation errors for KeyManager\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m jwt_secret_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/string_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m fernet_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid bytes [type=bytes_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/bytes_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mThe above exception was the direct cause of the following exception:\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\starlette\\\\routing.py\", line 694, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with self.lifespan_context(app) as maybe_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\core\\\\lifespan_manager.py\", line 16, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     start_time, logger = await run_complete_startup(app)\\n\\x1b[36m[BACKEND]\\x1b[0m                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 565, in run_complete_startup\\n\\x1b[36m[BACKEND]\\x1b[0m     await _run_startup_phase_two(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 547, in _run_startup_phase_two\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = initialize_core_services(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 282, in initialize_core_services\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = KeyManager.load_from_settings(settings)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 26, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    raise ValueError(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mValueError: JWT secret key is too short. It must be at least 32 characters long. Update it in your .env file or configuration.\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:07:43.944\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 23, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m     return cls(jwt_secret_key=jwt_secret_key, fernet_key=fernet_key_bytes)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\main.py\", line 253, in __init__\\n\\x1b[36m[BACKEND]\\x1b[0m     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\\n\\x1b[36m[BACKEND]\\x1b[0m                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mpydantic_core._pydantic_core.ValidationError: 2 validation errors for KeyManager\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m jwt_secret_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/string_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m fernet_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid bytes [type=bytes_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/bytes_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mThe above exception was the direct cause of the following exception:\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\starlette\\\\routing.py\", line 694, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with self.lifespan_context(app) as maybe_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\core\\\\lifespan_manager.py\", line 16, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     start_time, logger = await run_complete_startup(app)\\n\\x1b[36m[BACKEND]\\x1b[0m                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 565, in run_complete_startup\\n\\x1b[36m[BACKEND]\\x1b[0m     await _run_startup_phase_two(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 547, in _run_startup_phase_two\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = initialize_core_services(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 282, in initialize_core_services\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = KeyManager.load_from_settings(settings)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 26, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    raise ValueError(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mValueError: JWT secret key is too short. It must be at least 32 characters long. Update it in your .env file or configuration.\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:07:43.945\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mApplication startup failed. Exiting.\\x1b[0m\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:07:43.945\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mApplication startup failed. Exiting.\\x1b[0m\\x1b[0m\\n[ERROR] Backend not responding on port 8000\\n[ERROR] Failed to start services\\nLauncher exited with code: 1\n---------------------------- Captured stderr call -----------------------------\n2025-08-22 16:08:10.920 | ERROR    | logging:handle:1028 | Backend process started but not responding on port 8000\n2025-08-22 16:08:10.922 | CRITICAL | logging:handle:1028 | Backend failed to start - database connection or configuration error\n2025-08-22 16:08:10.922 | CRITICAL | logging:handle:1028 | Suggestion: Check DATABASE_URL and ensure PostgreSQL is running\n\nBackend failed to start - database connection or configuration error\nSuggestion: Check DATABASE_URL and ensure PostgreSQL is running\n\n2025-08-22 16:08:10.923 | ERROR    | logging:handle:1028 | Startup sequence failed: Backend failed to start - database connection or configuration error\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:82 Discovered 2 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\nDEBUG    dev_launcher.service_discovery:service_discovery.py:95 Cleared all service discovery information\nINFO     dev_launcher.backend_starter:backend_starter.py:113 Using direct uvicorn launch\nINFO     dev_launcher.backend_starter:backend_starter.py:151 Backend hot reload: DISABLED\nDEBUG    dev_launcher.backend_starter:backend_starter.py:123 Backend command: C:\\Program Files\\Python312\\python.exe -m uvicorn netra_backend.app.main:app --host 0.0.0.0 --port 8000\nINFO     dev_launcher.backend_starter:backend_starter.py:170 Backend starting in mock mode - DATABASE_URL: postgresql://mock:mock@localhost:5432/mock\nDEBUG    dev_launcher.utils:utils.py:187 Waiting for service at http://localhost:8000/health/...\nDEBUG    dev_launcher.backend_starter:backend_starter.py:223 Backend health check failed on port 8000: Connection error: [WinError 10061] No connection could be made because the target machine actively refused it after 30.4s\nERROR    dev_launcher.backend_starter:backend_starter.py:210 Backend process started but not responding on port 8000\nCRITICAL dev_launcher.critical_error_handler:critical_error_handler.py:99 Backend failed to start - database connection or configuration error\nCRITICAL dev_launcher.critical_error_handler:critical_error_handler.py:101 Suggestion: Check DATABASE_URL and ensure PostgreSQL is running\nERROR    dev_launcher.launcher:launcher.py:647 Startup sequence failed: Backend failed to start - database connection or configuration error\n-------------------------- Captured stdout teardown ---------------------------\nCleaning up launcher instance...\nRestored environment variables\nRemoved test configuration\nRestored original configuration\n______ TestDevLauncherRealStartup.test_service_startup_order_validation _______\ntests\\e2e\\test_dev_launcher_real_startup.py:554: in test_service_startup_order_validation\n    assert startup_success, \"Service startup failed\"\nE   AssertionError: Service startup failed\nE   assert False\n---------------------------- Captured stdout setup ----------------------------\nBacked up original config to C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json.backup\nUsing test config with mock databases\nSet DATABASE_URL=postgresql://mock:mock@localhost:5432/mock\nSet REDIS_URL=redis://localhost:6379/0\nSet CLICKHOUSE_URL=clickhouse://default@localhost:8123/netra_dev\nSet DISABLE_DB_INIT=true\nSet TESTING=true\nSet JWT_SECRET_KEY=test-jwt-secret-key-for-dev-launcher-testing-815f923b6ca40097d24cc4e37d04f8c0\nSet FERNET_KEY=Cn3t4Lk1fSzxxnQebfJMQkibZZg9J0yB8Xr8QPn_6Mc=\nSet SKIP_DATABASE_INIT=true\n----------------------------- Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:351 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:516 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== TESTING SERVICE STARTUP ORDER ===\\n DISCOVER | POSTGRESQL: postgresql://mock:***@localhost:5432/mock\\n DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n DISCOVER | REDIS: redis://localhost:6379/0\\n[DISCOVER] WEBSOCKET | Discovered endpoint: main_ws -> ws://localhost:8000/ws (required)\\n[DISCOVER] WEBSOCKET | Discovered endpoint: mcp_ws -> ws://localhost:8000/api/mcp/ws (optional)\\n============================================================\\n[LAUNCH] Netra AI Development Environment\\n============================================================\\n[CONFIG] Configuration:\\n[SERVICES] Service Modes:\\n  \\u2022 Redis       : Mock  \\n  \\u2022 ClickHouse  : Mock  \\n  \\u2022 PostgreSQL  : Mock  \\n  \\u2022 LLM         : Mock  \\n\\n  \\u2022 Dynamic ports: NO\\n  \\u2022 Backend hot reload: NO\\n  \\u2022 Frontend hot reload: YES (Next.js native)\\n  \\u2022 Real-time logging: YES\\n  \\u2022 Turbopack: NO\\n  \\u2022 Secret loading: NO\\n  \\u2022 Verbose output: NO\\n\\n[ENV] Checking environment...\\n[CHECK] Checking environment...\\n[OK] Environment check passed\\n[TOKEN] Using existing cross-service auth token\\n[ENV] Environment check passed\\n[SECRETS] Secret loading disabled (--no-secrets flag)\\n[STEP 1-2] Checking cache and environment...\\n[STEP 3] Loading secrets...\\n[STEP 4] Validating database connections...\\n[DATABASE] All databases in mock mode - skipping validation\\n[STEP 5] Checking and running migrations...\\n[MIGRATIONS] Skipping migrations (explicitly disabled)\\n[STEP 6-7] Starting backend and auth services...\\n[BACKEND] Starting backend server (Redis:mock, ClickHouse:mock, PostgreSQL:mock, LLM:mock)...\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33mC:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\_internal\\\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33m  warnings.warn(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33mC:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\_internal\\\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33m  warnings.warn(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:08:25.877\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 23, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m     return cls(jwt_secret_key=jwt_secret_key, fernet_key=fernet_key_bytes)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\main.py\", line 253, in __init__\\n\\x1b[36m[BACKEND]\\x1b[0m     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\\n\\x1b[36m[BACKEND]\\x1b[0m                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mpydantic_core._pydantic_core.ValidationError: 2 validation errors for KeyManager\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m jwt_secret_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/string_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m fernet_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid bytes [type=bytes_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/bytes_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mThe above exception was the direct cause of the following exception:\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\starlette\\\\routing.py\", line 694, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with self.lifespan_context(app) as maybe_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\core\\\\lifespan_manager.py\", line 16, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     start_time, logger = await run_complete_startup(app)\\n\\x1b[36m[BACKEND]\\x1b[0m                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 565, in run_complete_startup\\n\\x1b[36m[BACKEND]\\x1b[0m     await _run_startup_phase_two(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 547, in _run_startup_phase_two\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = initialize_core_services(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 282, in initialize_core_services\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = KeyManager.load_from_settings(settings)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 26, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    raise ValueError(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mValueError: JWT secret key is too short. It must be at least 32 characters long. Update it in your .env file or configuration.\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:08:25.877\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 23, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m     return cls(jwt_secret_key=jwt_secret_key, fernet_key=fernet_key_bytes)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\main.py\", line 253, in __init__\\n\\x1b[36m[BACKEND]\\x1b[0m     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\\n\\x1b[36m[BACKEND]\\x1b[0m                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mpydantic_core._pydantic_core.ValidationError: 2 validation errors for KeyManager\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m jwt_secret_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/string_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m fernet_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid bytes [type=bytes_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/bytes_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mThe above exception was the direct cause of the following exception:\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\starlette\\\\routing.py\", line 694, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with self.lifespan_context(app) as maybe_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\core\\\\lifespan_manager.py\", line 16, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     start_time, logger = await run_complete_startup(app)\\n\\x1b[36m[BACKEND]\\x1b[0m                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 565, in run_complete_startup\\n\\x1b[36m[BACKEND]\\x1b[0m     await _run_startup_phase_two(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 547, in _run_startup_phase_two\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = initialize_core_services(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 282, in initialize_core_services\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = KeyManager.load_from_settings(settings)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 26, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    raise ValueError(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mValueError: JWT secret key is too short. It must be at least 32 characters long. Update it in your .env file or configuration.\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:08:25.877\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mApplication startup failed. Exiting.\\x1b[0m\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:08:25.877\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mApplication startup failed. Exiting.\\x1b[0m\\x1b[0m\\n[ERROR] Backend not responding on port 8000\\n[ERROR] Failed to start services\\nLauncher exited with code: 1\n---------------------------- Captured stderr call -----------------------------\n2025-08-22 16:08:51.506 | ERROR    | logging:handle:1028 | Backend process started but not responding on port 8000\n2025-08-22 16:08:51.508 | CRITICAL | logging:handle:1028 | Backend failed to start - database connection or configuration error\n\nBackend failed to start - database connection or configuration error2025-08-22 16:08:51.509 | CRITICAL | logging:handle:1028 | Suggestion: Check DATABASE_URL and ensure PostgreSQL is running\n\nSuggestion: Check DATABASE_URL and ensure PostgreSQL is running\n\n2025-08-22 16:08:51.510 | ERROR    | logging:handle:1028 | Startup sequence failed: Backend failed to start - database connection or configuration error\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:82 Discovered 2 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\nDEBUG    dev_launcher.service_discovery:service_discovery.py:95 Cleared all service discovery information\nINFO     dev_launcher.backend_starter:backend_starter.py:113 Using direct uvicorn launch\nINFO     dev_launcher.backend_starter:backend_starter.py:151 Backend hot reload: DISABLED\nDEBUG    dev_launcher.backend_starter:backend_starter.py:123 Backend command: C:\\Program Files\\Python312\\python.exe -m uvicorn netra_backend.app.main:app --host 0.0.0.0 --port 8000\nINFO     dev_launcher.backend_starter:backend_starter.py:170 Backend starting in mock mode - DATABASE_URL: postgresql://mock:mock@localhost:5432/mock\nDEBUG    dev_launcher.utils:utils.py:187 Waiting for service at http://localhost:8000/health/...\nDEBUG    dev_launcher.backend_starter:backend_starter.py:223 Backend health check failed on port 8000: Connection error: [WinError 10061] No connection could be made because the target machine actively refused it after 30.4s\nERROR    dev_launcher.backend_starter:backend_starter.py:210 Backend process started but not responding on port 8000\nCRITICAL dev_launcher.critical_error_handler:critical_error_handler.py:99 Backend failed to start - database connection or configuration error\nCRITICAL dev_launcher.critical_error_handler:critical_error_handler.py:101 Suggestion: Check DATABASE_URL and ensure PostgreSQL is running\nERROR    dev_launcher.launcher:launcher.py:647 Startup sequence failed: Backend failed to start - database connection or configuration error\n-------------------------- Captured stdout teardown ---------------------------\nCleaning up launcher instance...\nRestored environment variables\nRemoved test configuration\nRestored original configuration\n_____ TestDevLauncherRealStartup.test_health_endpoint_response_validation _____\ntests\\e2e\\test_dev_launcher_real_startup.py:579: in test_health_endpoint_response_validation\n    assert startup_success, \"Failed to start services for health check test\"\nE   AssertionError: Failed to start services for health check test\nE   assert False\n---------------------------- Captured stdout setup ----------------------------\nBacked up original config to C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json.backup\nUsing test config with mock databases\nSet DATABASE_URL=postgresql://mock:mock@localhost:5432/mock\nSet REDIS_URL=redis://localhost:6379/0\nSet CLICKHOUSE_URL=clickhouse://default@localhost:8123/netra_dev\nSet DISABLE_DB_INIT=true\nSet TESTING=true\nSet JWT_SECRET_KEY=test-jwt-secret-key-for-dev-launcher-testing-281b40f7b438138e791af03797e6709a\nSet FERNET_KEY=x2a8uM7_eb0ztcYGxJhPce_qhcYDpPNobr2fHRd8UME=\nSet SKIP_DATABASE_INIT=true\n----------------------------- Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     dev_launcher.service_config:service_config.py:351 Configuration loaded from C:\\Users\\antho\\OneDrive\\Desktop\\Netra\\netra-core-generation-1\\.dev_services.json\nINFO     dev_launcher.service_config:service_config.py:516 Loaded existing service configuration\n---------------------------- Captured stdout call -----------------------------\n\\n=== TESTING HEALTH ENDPOINT RESPONSES ===\\n DISCOVER | POSTGRESQL: postgresql://mock:***@localhost:5432/mock\\n DISCOVER | CLICKHOUSE: clickhouse://default:***@localhost:8123/netra_dev\\n DISCOVER | REDIS: redis://localhost:6379/0\\n[DISCOVER] WEBSOCKET | Discovered endpoint: main_ws -> ws://localhost:8000/ws (required)\\n[DISCOVER] WEBSOCKET | Discovered endpoint: mcp_ws -> ws://localhost:8000/api/mcp/ws (optional)\\n============================================================\\n[LAUNCH] Netra AI Development Environment\\n============================================================\\n[CONFIG] Configuration:\\n[SERVICES] Service Modes:\\n  \\u2022 Redis       : Mock  \\n  \\u2022 ClickHouse  : Mock  \\n  \\u2022 PostgreSQL  : Mock  \\n  \\u2022 LLM         : Mock  \\n\\n  \\u2022 Dynamic ports: NO\\n  \\u2022 Backend hot reload: NO\\n  \\u2022 Frontend hot reload: YES (Next.js native)\\n  \\u2022 Real-time logging: YES\\n  \\u2022 Turbopack: NO\\n  \\u2022 Secret loading: NO\\n  \\u2022 Verbose output: NO\\n\\n[ENV] Checking environment...\\n[CHECK] Checking environment...\\n[OK] Environment check passed\\n[TOKEN] Using existing cross-service auth token\\n[ENV] Environment check passed\\n[SECRETS] Secret loading disabled (--no-secrets flag)\\n[STEP 1-2] Checking cache and environment...\\n[STEP 3] Loading secrets...\\n[STEP 4] Validating database connections...\\n[DATABASE] All databases in mock mode - skipping validation\\n[STEP 5] Checking and running migrations...\\n[MIGRATIONS] Skipping migrations (explicitly disabled)\\n[STEP 6-7] Starting backend and auth services...\\n[BACKEND] Starting backend server (Redis:mock, ClickHouse:mock, PostgreSQL:mock, LLM:mock)...\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33mC:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\_internal\\\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataSample\" shadows an attribute in parent \"BaseModel\"\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33m  warnings.warn(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33mC:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\_internal\\\\_fields.py:198: UserWarning: Field name \"schema\" in \"DataCatalog\" shadows an attribute in parent \"BaseModel\"\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u26a0\\ufe0f  \\x1b[33m  warnings.warn(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:09:07.499\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 23, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m     return cls(jwt_secret_key=jwt_secret_key, fernet_key=fernet_key_bytes)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\main.py\", line 253, in __init__\\n\\x1b[36m[BACKEND]\\x1b[0m     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\\n\\x1b[36m[BACKEND]\\x1b[0m                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mpydantic_core._pydantic_core.ValidationError: 2 validation errors for KeyManager\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m jwt_secret_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/string_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m fernet_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid bytes [type=bytes_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/bytes_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mThe above exception was the direct cause of the following exception:\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\starlette\\\\routing.py\", line 694, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with self.lifespan_context(app) as maybe_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\core\\\\lifespan_manager.py\", line 16, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     start_time, logger = await run_complete_startup(app)\\n\\x1b[36m[BACKEND]\\x1b[0m                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 565, in run_complete_startup\\n\\x1b[36m[BACKEND]\\x1b[0m     await _run_startup_phase_two(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 547, in _run_startup_phase_two\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = initialize_core_services(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 282, in initialize_core_services\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = KeyManager.load_from_settings(settings)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 26, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    raise ValueError(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mValueError: JWT secret key is too short. It must be at least 32 characters long. Update it in your .env file or configuration.\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:09:07.500\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 23, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m     return cls(jwt_secret_key=jwt_secret_key, fernet_key=fernet_key_bytes)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\pydantic\\\\main.py\", line 253, in __init__\\n\\x1b[36m[BACKEND]\\x1b[0m     validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\\n\\x1b[36m[BACKEND]\\x1b[0m                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mpydantic_core._pydantic_core.ValidationError: 2 validation errors for KeyManager\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m jwt_secret_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/string_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m fernet_key\\n\\x1b[36m[BACKEND]\\x1b[0m   Input should be a valid bytes [type=bytes_type, input_value=None, input_type=NoneType]\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    For further information visit https://errors.pydantic.dev/2.11/v/bytes_type\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mThe above exception was the direct cause of the following exception:\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mTraceback (most recent call last):\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\starlette\\\\routing.py\", line 694, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with self.lifespan_context(app) as maybe_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\AppData\\\\Roaming\\\\Python\\\\Python312\\\\site-packages\\\\fastapi\\\\routing.py\", line 134, in merged_lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     async with original_context(app) as maybe_original_state:\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Program Files\\\\Python312\\\\Lib\\\\contextlib.py\", line 210, in __aenter__\\n\\x1b[36m[BACKEND]\\x1b[0m     return await anext(self.gen)\\n\\x1b[36m[BACKEND]\\x1b[0m            ^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\core\\\\lifespan_manager.py\", line 16, in lifespan\\n\\x1b[36m[BACKEND]\\x1b[0m     start_time, logger = await run_complete_startup(app)\\n\\x1b[36m[BACKEND]\\x1b[0m                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 565, in run_complete_startup\\n\\x1b[36m[BACKEND]\\x1b[0m     await _run_startup_phase_two(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 547, in _run_startup_phase_two\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = initialize_core_services(app, logger)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\startup_module.py\", line 282, in initialize_core_services\\n\\x1b[36m[BACKEND]\\x1b[0m     key_manager = KeyManager.load_from_settings(settings)\\n\\x1b[36m[BACKEND]\\x1b[0m                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n\\x1b[36m[BACKEND]\\x1b[0m   File \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\Netra\\\\netra-core-generation-1\\\\netra_backend\\\\app\\\\services\\\\key_manager.py\", line 26, in load_from_settings\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m    raise ValueError(\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31mValueError: JWT secret key is too short. It must be at least 32 characters long. Update it in your .env file or configuration.\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:09:07.500\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mApplication startup failed. Exiting.\\x1b[0m\\x1b[0m\\n\\x1b[36m[BACKEND]\\x1b[0m \\u274c \\x1b[31m\\x1b[32m2025-08-22 16:09:07.500\\x1b[0m | \\x1b[31m\\x1b[1mERROR   \\x1b[0m | \\x1b[36mlogging\\x1b[0m:\\x1b[36mhandle\\x1b[0m:\\x1b[36m1028\\x1b[0m | \\x1b[31m\\x1b[1mApplication startup failed. Exiting.\\x1b[0m\\x1b[0m\\n[ERROR] Backend not responding on port 8000\\n[ERROR] Failed to start services\\nLauncher exited with code: 1\n---------------------------- Captured stderr call -----------------------------\n2025-08-22 16:09:33.937 | ERROR    | logging:handle:1028 | Backend process started but not responding on port 8000\n2025-08-22 16:09:33.937 | CRITICAL | logging:handle:1028 | Backend failed to start - database connection or configuration error\n2025-08-22 16:09:33.937 | CRITICAL | logging:handle:1028 | Suggestion: Check DATABASE_URL and ensure PostgreSQL is running\n\nBackend failed to start - database connection or configuration error\nSuggestion: Check DATABASE_URL and ensure PostgreSQL is running\n\n2025-08-22 16:09:33.939 | ERROR    | logging:handle:1028 | Startup sequence failed: Backend failed to start - database connection or configuration error\n------------------------------ Captured log call ------------------------------\nINFO     dev_launcher.health_monitor:health_monitor.py:139 HealthMonitor initialized (check_interval: 30s)\nINFO     dev_launcher.health_monitor:health_monitor.py:141 Windows process verification enabled\nINFO     dev_launcher.process_manager:process_manager.py:58 ProcessManager initialized for win32\nINFO     dev_launcher.process_manager:process_manager.py:60 Enhanced Windows process tree management enabled\nINFO     dev_launcher.database_connector:database_connector.py:130 Discovered 3 database connections\nINFO     dev_launcher.websocket_validator:websocket_validator.py:82 Discovered 2 WebSocket endpoints\nINFO     dev_launcher.launcher:launcher.py:165 Signal handlers registered for graceful shutdown\nDEBUG    dev_launcher.service_discovery:service_discovery.py:95 Cleared all service discovery information\nINFO     dev_launcher.backend_starter:backend_starter.py:113 Using direct uvicorn launch\nINFO     dev_launcher.backend_starter:backend_starter.py:151 Backend hot reload: DISABLED\nDEBUG    dev_launcher.backend_starter:backend_starter.py:123 Backend command: C:\\Program Files\\Python312\\python.exe -m uvicorn netra_backend.app.main:app --host 0.0.0.0 --port 8000\nINFO     dev_launcher.backend_starter:backend_starter.py:170 Backend starting in mock mode - DATABASE_URL: postgresql://mock:mock@localhost:5432/mock\nDEBUG    dev_launcher.utils:utils.py:187 Waiting for service at http://localhost:8000/health/...\nDEBUG    dev_launcher.backend_starter:backend_starter.py:223 Backend health check failed on port 8000: Connection error: [WinError 10061] No connection could be made because the target machine actively refused it after 30.4s\nERROR    dev_launcher.backend_starter:backend_starter.py:210 Backend process started but not responding on port 8000\nCRITICAL dev_launcher.critical_error_handler:critical_error_handler.py:99 Backend failed to start - database connection or configuration error\nCRITICAL dev_launcher.critical_error_handler:critical_error_handler.py:101 Suggestion: Check DATABASE_URL and ensure PostgreSQL is running\nERROR    dev_launcher.launcher:launcher.py:647 Startup sequence failed: Backend failed to start - database connection or configuration error\n-------------------------- Captured stdout teardown ---------------------------\nCleaning up launcher instance...\nRestored environment variables\nRemoved test configuration\nRestored original configuration\n___________ TestDevLauncherUtilities.test_launcher_config_creation ____________\ntests\\integration\\test_dev_launcher_utilities_validation.py:31: in test_launcher_config_creation\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n__________ TestDevLauncherUtilities.test_launcher_config_validation ___________\ntests\\integration\\test_dev_launcher_utilities_validation.py:56: in test_launcher_config_validation\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n_______________ TestDevLauncherUtilities.test_launcher_creation _______________\ntests\\integration\\test_dev_launcher_utilities_validation.py:72: in test_launcher_creation\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________________ TestDevLauncherUtilities.test_config_to_dict _________________\ntests\\integration\\test_dev_launcher_utilities_validation.py:112: in test_config_to_dict\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n_____________ TestDevLauncherUtilities.test_config_emoji_support ______________\ntests\\integration\\test_dev_launcher_utilities_validation.py:129: in test_config_emoji_support\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________________ TestDevLauncherUtilities.test_config_logging _________________\ntests\\integration\\test_dev_launcher_utilities_validation.py:144: in test_config_logging\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________________ TestDevLauncherUtilities.test_path_resolution ________________\ntests\\integration\\test_dev_launcher_utilities_validation.py:170: in test_path_resolution\n    resolved = resolve_path(\"dev_launcher\", root=project_root)\n                                                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n______________ TestDevLauncherUtilities.test_config_show_methods ______________\ntests\\integration\\test_dev_launcher_utilities_validation.py:177: in test_config_show_methods\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n________ TestDevLauncherIntegration.test_launcher_initialization_phase ________\ntests\\integration\\test_dev_launcher_utilities_validation.py:197: in test_launcher_initialization_phase\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n___________ TestDevLauncherIntegration.test_launcher_config_access ____________\ntests\\integration\\test_dev_launcher_utilities_validation.py:222: in test_launcher_config_access\n    project_root=project_root,\n                 ^^^^^^^^^^^^\nE   NameError: name 'project_root' is not defined\n=========================== short test summary info ===========================\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_real_dev_launcher_startup_sequence\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_service_startup_order_validation\nFAILED tests/e2e/test_dev_launcher_real_startup.py::TestDevLauncherRealStartup::test_health_endpoint_response_validation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_launcher_config_creation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_launcher_config_validation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_launcher_creation\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_to_dict\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_emoji_support\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_logging\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_path_resolution\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherUtilities::test_config_show_methods\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherIntegration::test_launcher_initialization_phase\nFAILED tests/integration/test_dev_launcher_utilities_validation.py::TestDevLauncherIntegration::test_launcher_config_access\n============ 13 failed, 9 passed, 3 warnings in 146.34s (0:02:26) =============\n",
      "errors": ""
    }
  },
  "overall_success": false,
  "total_duration": 369.23439359664917
}